/*! For license information please see 425.2ac12956.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkapp_scaffold=self.webpackChunkapp_scaffold||[]).push([[425],{"./node_modules/d3/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function ascending(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function descending(a,b){return null==a||null==b?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function bisector(f){let compare1,compare2,delta;function left(a,x,lo=0,hi=a.length){if(lo<hi){if(0!==compare1(x,x))return hi;do{const mid=lo+hi>>>1;compare2(a[mid],x)<0?lo=mid+1:hi=mid}while(lo<hi)}return lo}return 2!==f.length?(compare1=ascending,compare2=(d,x)=>ascending(f(d),x),delta=(d,x)=>f(d)-x):(compare1=f===ascending||f===descending?f:zero,compare2=f,delta=f),{left,center:function center(a,x,lo=0,hi=a.length){const i=left(a,x,lo,hi-1);return i>lo&&delta(a[i-1],x)>-delta(a[i],x)?i-1:i},right:function right(a,x,lo=0,hi=a.length){if(lo<hi){if(0!==compare1(x,x))return hi;do{const mid=lo+hi>>>1;compare2(a[mid],x)<=0?lo=mid+1:hi=mid}while(lo<hi)}return lo}}}function zero(){return 0}function number(x){return null===x?NaN:+x}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Adder:()=>Adder,Delaunay:()=>Delaunay,FormatSpecifier:()=>FormatSpecifier,InternMap:()=>InternMap,InternSet:()=>InternSet,Node:()=>Node,Path:()=>Path,Voronoi:()=>Voronoi,ZoomTransform:()=>Transform,active:()=>active,arc:()=>arc,area:()=>d3_shape_src_area,areaRadial:()=>areaRadial,ascending:()=>ascending,autoType:()=>autoType,axisBottom:()=>axisBottom,axisLeft:()=>axisLeft,axisRight:()=>axisRight,axisTop:()=>axisTop,bin:()=>bin,bisect:()=>bisect,bisectCenter:()=>bisectCenter,bisectLeft:()=>bisectLeft,bisectRight:()=>bisectRight,bisector:()=>bisector,blob:()=>blob,blur:()=>blur_blur,blur2:()=>blur2,blurImage:()=>blurImage,brush:()=>brush,brushSelection:()=>brushSelection,brushX:()=>brushX,brushY:()=>brushY,buffer:()=>buffer,chord:()=>chord,chordDirected:()=>chordDirected,chordTranspose:()=>chordTranspose,cluster:()=>cluster,color:()=>color,contourDensity:()=>density,contours:()=>src_contours,count:()=>count,create:()=>src_create,creator:()=>creator,cross:()=>cross,csv:()=>dsv_csv,csvFormat:()=>csvFormat,csvFormatBody:()=>csvFormatBody,csvFormatRow:()=>csvFormatRow,csvFormatRows:()=>csvFormatRows,csvFormatValue:()=>csvFormatValue,csvParse:()=>csvParse,csvParseRows:()=>csvParseRows,cubehelix:()=>cubehelix_cubehelix,cumsum:()=>cumsum,curveBasis:()=>curve_basis,curveBasisClosed:()=>curve_basisClosed,curveBasisOpen:()=>basisOpen,curveBumpX:()=>bumpX,curveBumpY:()=>bumpY,curveBundle:()=>bundle,curveCardinal:()=>cardinal,curveCardinalClosed:()=>cardinalClosed,curveCardinalOpen:()=>cardinalOpen,curveCatmullRom:()=>catmullRom,curveCatmullRomClosed:()=>catmullRomClosed,curveCatmullRomOpen:()=>catmullRomOpen,curveLinear:()=>curve_linear,curveLinearClosed:()=>linearClosed,curveMonotoneX:()=>monotoneX,curveMonotoneY:()=>monotoneY,curveNatural:()=>natural,curveStep:()=>step,curveStepAfter:()=>stepAfter,curveStepBefore:()=>stepBefore,descending:()=>descending,deviation:()=>deviation,difference:()=>difference,disjoint:()=>disjoint,dispatch:()=>src_dispatch,drag:()=>drag,dragDisable:()=>nodrag,dragEnable:()=>yesdrag,dsv:()=>dsv_dsv,dsvFormat:()=>dsv,easeBack:()=>backInOut,easeBackIn:()=>backIn,easeBackInOut:()=>backInOut,easeBackOut:()=>backOut,easeBounce:()=>bounceOut,easeBounceIn:()=>bounceIn,easeBounceInOut:()=>bounceInOut,easeBounceOut:()=>bounceOut,easeCircle:()=>circleInOut,easeCircleIn:()=>circleIn,easeCircleInOut:()=>circleInOut,easeCircleOut:()=>circleOut,easeCubic:()=>cubicInOut,easeCubicIn:()=>cubicIn,easeCubicInOut:()=>cubicInOut,easeCubicOut:()=>cubicOut,easeElastic:()=>elasticOut,easeElasticIn:()=>elasticIn,easeElasticInOut:()=>elasticInOut,easeElasticOut:()=>elasticOut,easeExp:()=>expInOut,easeExpIn:()=>expIn,easeExpInOut:()=>expInOut,easeExpOut:()=>expOut,easeLinear:()=>linear_linear,easePoly:()=>polyInOut,easePolyIn:()=>polyIn,easePolyInOut:()=>polyInOut,easePolyOut:()=>polyOut,easeQuad:()=>quadInOut,easeQuadIn:()=>quadIn,easeQuadInOut:()=>quadInOut,easeQuadOut:()=>quadOut,easeSin:()=>sinInOut,easeSinIn:()=>sinIn,easeSinInOut:()=>sinInOut,easeSinOut:()=>sinOut,every:()=>every,extent:()=>extent,fcumsum:()=>fcumsum,filter:()=>filter,flatGroup:()=>flatGroup,flatRollup:()=>flatRollup,forceCenter:()=>src_center,forceCollide:()=>collide,forceLink:()=>src_link,forceManyBody:()=>manyBody,forceRadial:()=>radial,forceSimulation:()=>simulation,forceX:()=>src_x,forceY:()=>src_y,format:()=>format,formatDefaultLocale:()=>defaultLocale,formatLocale:()=>locale,formatPrefix:()=>formatPrefix,formatSpecifier:()=>formatSpecifier,fsum:()=>fsum,geoAlbers:()=>albers,geoAlbersUsa:()=>albersUsa,geoArea:()=>d3_geo_src_area,geoAzimuthalEqualArea:()=>azimuthalEqualArea,geoAzimuthalEqualAreaRaw:()=>azimuthalEqualAreaRaw,geoAzimuthalEquidistant:()=>azimuthalEquidistant,geoAzimuthalEquidistantRaw:()=>azimuthalEquidistantRaw,geoBounds:()=>bounds,geoCentroid:()=>centroid,geoCircle:()=>circle,geoClipAntimeridian:()=>antimeridian,geoClipCircle:()=>clip_circle,geoClipExtent:()=>clip_extent,geoClipRectangle:()=>clipRectangle,geoConicConformal:()=>conicConformal,geoConicConformalRaw:()=>conicConformalRaw,geoConicEqualArea:()=>conicEqualArea,geoConicEqualAreaRaw:()=>conicEqualAreaRaw,geoConicEquidistant:()=>conicEquidistant,geoConicEquidistantRaw:()=>conicEquidistantRaw,geoContains:()=>src_contains,geoDistance:()=>distance,geoEqualEarth:()=>equalEarth,geoEqualEarthRaw:()=>equalEarthRaw,geoEquirectangular:()=>equirectangular,geoEquirectangularRaw:()=>equirectangularRaw,geoGnomonic:()=>gnomonic,geoGnomonicRaw:()=>gnomonicRaw,geoGraticule:()=>graticule,geoGraticule10:()=>graticule10,geoIdentity:()=>projection_identity,geoInterpolate:()=>src_interpolate,geoLength:()=>src_length,geoMercator:()=>mercator,geoMercatorRaw:()=>mercatorRaw,geoNaturalEarth1:()=>naturalEarth1,geoNaturalEarth1Raw:()=>naturalEarth1Raw,geoOrthographic:()=>orthographic,geoOrthographicRaw:()=>orthographicRaw,geoPath:()=>src_path,geoProjection:()=>projection,geoProjectionMutator:()=>projectionMutator,geoRotation:()=>rotation,geoStereographic:()=>stereographic,geoStereographicRaw:()=>stereographicRaw,geoStream:()=>stream,geoTransform:()=>transform,geoTransverseMercator:()=>transverseMercator,geoTransverseMercatorRaw:()=>transverseMercatorRaw,gray:()=>gray,greatest:()=>greatest,greatestIndex:()=>greatestIndex,group:()=>group,groupSort:()=>groupSort,groups:()=>groups,hcl:()=>hcl,hierarchy:()=>hierarchy,histogram:()=>bin,hsl:()=>hsl,html:()=>xml_html,image:()=>src_image,index:()=>index,indexes:()=>indexes,interpolate:()=>value,interpolateArray:()=>src_array,interpolateBasis:()=>src_basis,interpolateBasisClosed:()=>basisClosed,interpolateBlues:()=>Blues,interpolateBrBG:()=>BrBG,interpolateBuGn:()=>BuGn,interpolateBuPu:()=>BuPu,interpolateCividis:()=>cividis,interpolateCool:()=>cool,interpolateCubehelix:()=>src_cubehelix,interpolateCubehelixDefault:()=>sequential_multi_cubehelix,interpolateCubehelixLong:()=>cubehelixLong,interpolateDate:()=>date,interpolateDiscrete:()=>discrete,interpolateGnBu:()=>GnBu,interpolateGreens:()=>Greens,interpolateGreys:()=>Greys,interpolateHcl:()=>src_hcl,interpolateHclLong:()=>hclLong,interpolateHsl:()=>src_hsl,interpolateHslLong:()=>hslLong,interpolateHue:()=>src_hue,interpolateInferno:()=>inferno,interpolateLab:()=>lab_lab,interpolateMagma:()=>magma,interpolateNumber:()=>src_number,interpolateNumberArray:()=>numberArray,interpolateObject:()=>object,interpolateOrRd:()=>OrRd,interpolateOranges:()=>Oranges,interpolatePRGn:()=>PRGn,interpolatePiYG:()=>PiYG,interpolatePlasma:()=>plasma,interpolatePuBu:()=>PuBu,interpolatePuBuGn:()=>PuBuGn,interpolatePuOr:()=>PuOr,interpolatePuRd:()=>PuRd,interpolatePurples:()=>Purples,interpolateRainbow:()=>rainbow,interpolateRdBu:()=>RdBu,interpolateRdGy:()=>RdGy,interpolateRdPu:()=>RdPu,interpolateRdYlBu:()=>RdYlBu,interpolateRdYlGn:()=>RdYlGn,interpolateReds:()=>Reds,interpolateRgb:()=>rgb,interpolateRgbBasis:()=>rgbBasis,interpolateRgbBasisClosed:()=>rgbBasisClosed,interpolateRound:()=>round,interpolateSinebow:()=>sinebow,interpolateSpectral:()=>Spectral,interpolateString:()=>string,interpolateTransformCss:()=>interpolateTransformCss,interpolateTransformSvg:()=>interpolateTransformSvg,interpolateTurbo:()=>turbo,interpolateViridis:()=>viridis,interpolateWarm:()=>warm,interpolateYlGn:()=>YlGn,interpolateYlGnBu:()=>YlGnBu,interpolateYlOrBr:()=>YlOrBr,interpolateYlOrRd:()=>YlOrRd,interpolateZoom:()=>src_zoom,interrupt:()=>interrupt,intersection:()=>intersection,interval:()=>src_interval,isoFormat:()=>isoFormat,isoParse:()=>isoParse,json:()=>json,lab:()=>lab,lch:()=>lch,least:()=>least,leastIndex:()=>leastIndex,line:()=>src_line,lineRadial:()=>src_lineRadial,link:()=>link_link,linkHorizontal:()=>linkHorizontal,linkRadial:()=>linkRadial,linkVertical:()=>linkVertical,local:()=>local_local,map:()=>map_map,matcher:()=>matcher,max:()=>max,maxIndex:()=>maxIndex,mean:()=>mean,median:()=>median,medianIndex:()=>medianIndex,merge:()=>merge,min:()=>min,minIndex:()=>minIndex,mode:()=>mode,namespace:()=>namespace,namespaces:()=>namespaces,nice:()=>nice,now:()=>now,pack:()=>pack,packEnclose:()=>enclose,packSiblings:()=>siblings,pairs:()=>pairs,partition:()=>partition,path:()=>path,pathRound:()=>pathRound,permute:()=>permute,pie:()=>pie,piecewise:()=>piecewise,pointRadial:()=>pointRadial,pointer:()=>pointer,pointers:()=>pointers,polygonArea:()=>d3_polygon_src_area,polygonCentroid:()=>src_centroid,polygonContains:()=>d3_polygon_src_contains,polygonHull:()=>hull,polygonLength:()=>d3_polygon_src_length,precisionFixed:()=>precisionFixed,precisionPrefix:()=>precisionPrefix,precisionRound:()=>precisionRound,quadtree:()=>quadtree,quantile:()=>quantile,quantileIndex:()=>quantileIndex,quantileSorted:()=>quantileSorted,quantize:()=>quantize,quickselect:()=>quickselect,radialArea:()=>areaRadial,radialLine:()=>src_lineRadial,randomBates:()=>bates,randomBernoulli:()=>bernoulli,randomBeta:()=>beta,randomBinomial:()=>binomial,randomCauchy:()=>cauchy,randomExponential:()=>src_exponential,randomGamma:()=>src_gamma,randomGeometric:()=>geometric,randomInt:()=>src_int,randomIrwinHall:()=>irwinHall,randomLcg:()=>lcg_lcg,randomLogNormal:()=>logNormal,randomLogistic:()=>logistic,randomNormal:()=>normal,randomPareto:()=>pareto,randomPoisson:()=>poisson,randomUniform:()=>uniform,randomWeibull:()=>weibull,range:()=>range,rank:()=>rank,reduce:()=>reduce,reverse:()=>reverse,rgb:()=>color_rgb,ribbon:()=>src_ribbon,ribbonArrow:()=>ribbonArrow,rollup:()=>rollup,rollups:()=>rollups,scaleBand:()=>band,scaleDiverging:()=>diverging,scaleDivergingLog:()=>divergingLog,scaleDivergingPow:()=>divergingPow,scaleDivergingSqrt:()=>divergingSqrt,scaleDivergingSymlog:()=>divergingSymlog,scaleIdentity:()=>identity_identity,scaleImplicit:()=>implicit,scaleLinear:()=>src_linear_linear,scaleLog:()=>log_log,scaleOrdinal:()=>ordinal,scalePoint:()=>point,scalePow:()=>pow_pow,scaleQuantile:()=>quantile_quantile,scaleQuantize:()=>quantize_quantize,scaleRadial:()=>radial_radial,scaleSequential:()=>sequential,scaleSequentialLog:()=>sequentialLog,scaleSequentialPow:()=>sequentialPow,scaleSequentialQuantile:()=>sequentialQuantile,scaleSequentialSqrt:()=>sequentialSqrt,scaleSequentialSymlog:()=>sequentialSymlog,scaleSqrt:()=>pow_sqrt,scaleSymlog:()=>symlog,scaleThreshold:()=>threshold,scaleTime:()=>time,scaleUtc:()=>utcTime,scan:()=>scan,schemeAccent:()=>Accent,schemeBlues:()=>Blues_scheme,schemeBrBG:()=>scheme,schemeBuGn:()=>BuGn_scheme,schemeBuPu:()=>BuPu_scheme,schemeCategory10:()=>category10,schemeDark2:()=>Dark2,schemeGnBu:()=>GnBu_scheme,schemeGreens:()=>Greens_scheme,schemeGreys:()=>Greys_scheme,schemeObservable10:()=>observable10,schemeOrRd:()=>OrRd_scheme,schemeOranges:()=>Oranges_scheme,schemePRGn:()=>PRGn_scheme,schemePaired:()=>Paired,schemePastel1:()=>Pastel1,schemePastel2:()=>Pastel2,schemePiYG:()=>PiYG_scheme,schemePuBu:()=>PuBu_scheme,schemePuBuGn:()=>PuBuGn_scheme,schemePuOr:()=>PuOr_scheme,schemePuRd:()=>PuRd_scheme,schemePurples:()=>Purples_scheme,schemeRdBu:()=>RdBu_scheme,schemeRdGy:()=>RdGy_scheme,schemeRdPu:()=>RdPu_scheme,schemeRdYlBu:()=>RdYlBu_scheme,schemeRdYlGn:()=>RdYlGn_scheme,schemeReds:()=>Reds_scheme,schemeSet1:()=>Set1,schemeSet2:()=>Set2,schemeSet3:()=>Set3,schemeSpectral:()=>Spectral_scheme,schemeTableau10:()=>Tableau10,schemeYlGn:()=>YlGn_scheme,schemeYlGnBu:()=>YlGnBu_scheme,schemeYlOrBr:()=>YlOrBr_scheme,schemeYlOrRd:()=>YlOrRd_scheme,select:()=>src_select,selectAll:()=>src_selectAll,selection:()=>src_selection,selector:()=>selector,selectorAll:()=>selectorAll,shuffle:()=>shuffle,shuffler:()=>shuffler,some:()=>some,sort:()=>sort,stack:()=>stack,stackOffsetDiverging:()=>offset_diverging,stackOffsetExpand:()=>expand,stackOffsetNone:()=>offset_none,stackOffsetSilhouette:()=>silhouette,stackOffsetWiggle:()=>wiggle,stackOrderAppearance:()=>appearance,stackOrderAscending:()=>order_ascending,stackOrderDescending:()=>order_descending,stackOrderInsideOut:()=>insideOut,stackOrderNone:()=>order_none,stackOrderReverse:()=>order_reverse,stratify:()=>stratify,style:()=>styleValue,subset:()=>subset,sum:()=>sum_sum,superset:()=>superset,svg:()=>svg,symbol:()=>symbol_Symbol,symbolAsterisk:()=>asterisk,symbolCircle:()=>symbol_circle,symbolCross:()=>symbol_cross,symbolDiamond:()=>diamond,symbolDiamond2:()=>diamond2,symbolPlus:()=>plus,symbolSquare:()=>symbol_square,symbolSquare2:()=>square2,symbolStar:()=>star,symbolTimes:()=>times,symbolTriangle:()=>triangle,symbolTriangle2:()=>triangle2,symbolWye:()=>wye,symbolX:()=>times,symbols:()=>symbolsFill,symbolsFill:()=>symbolsFill,symbolsStroke:()=>symbolsStroke,text:()=>src_text,thresholdFreedmanDiaconis:()=>thresholdFreedmanDiaconis,thresholdScott:()=>thresholdScott,thresholdSturges:()=>thresholdSturges,tickFormat:()=>tickFormat,tickIncrement:()=>tickIncrement,tickStep:()=>tickStep,ticks:()=>ticks,timeDay:()=>timeDay,timeDays:()=>timeDays,timeFormat:()=>timeFormat,timeFormatDefaultLocale:()=>defaultLocale_defaultLocale,timeFormatLocale:()=>formatLocale,timeFriday:()=>timeFriday,timeFridays:()=>timeFridays,timeHour:()=>timeHour,timeHours:()=>timeHours,timeInterval:()=>timeInterval,timeMillisecond:()=>millisecond,timeMilliseconds:()=>milliseconds,timeMinute:()=>timeMinute,timeMinutes:()=>timeMinutes,timeMonday:()=>timeMonday,timeMondays:()=>timeMondays,timeMonth:()=>timeMonth,timeMonths:()=>timeMonths,timeParse:()=>timeParse,timeSaturday:()=>timeSaturday,timeSaturdays:()=>timeSaturdays,timeSecond:()=>second,timeSeconds:()=>seconds,timeSunday:()=>timeSunday,timeSundays:()=>timeSundays,timeThursday:()=>timeThursday,timeThursdays:()=>timeThursdays,timeTickInterval:()=>timeTickInterval,timeTicks:()=>timeTicks,timeTuesday:()=>timeTuesday,timeTuesdays:()=>timeTuesdays,timeWednesday:()=>timeWednesday,timeWednesdays:()=>timeWednesdays,timeWeek:()=>timeSunday,timeWeeks:()=>timeSundays,timeYear:()=>timeYear,timeYears:()=>timeYears,timeout:()=>src_timeout,timer:()=>timer,timerFlush:()=>timerFlush,transition:()=>transition_transition,transpose:()=>transpose,tree:()=>tree,treemap:()=>treemap,treemapBinary:()=>binary,treemapDice:()=>dice,treemapResquarify:()=>resquarify,treemapSlice:()=>treemap_slice,treemapSliceDice:()=>sliceDice,treemapSquarify:()=>squarify,tsv:()=>dsv_tsv,tsvFormat:()=>tsvFormat,tsvFormatBody:()=>tsvFormatBody,tsvFormatRow:()=>tsvFormatRow,tsvFormatRows:()=>tsvFormatRows,tsvFormatValue:()=>tsvFormatValue,tsvParse:()=>tsvParse,tsvParseRows:()=>tsvParseRows,union:()=>union,unixDay:()=>unixDay,unixDays:()=>unixDays,utcDay:()=>utcDay,utcDays:()=>utcDays,utcFormat:()=>utcFormat,utcFriday:()=>utcFriday,utcFridays:()=>utcFridays,utcHour:()=>utcHour,utcHours:()=>utcHours,utcMillisecond:()=>millisecond,utcMilliseconds:()=>milliseconds,utcMinute:()=>utcMinute,utcMinutes:()=>utcMinutes,utcMonday:()=>utcMonday,utcMondays:()=>utcMondays,utcMonth:()=>utcMonth,utcMonths:()=>utcMonths,utcParse:()=>utcParse,utcSaturday:()=>utcSaturday,utcSaturdays:()=>utcSaturdays,utcSecond:()=>second,utcSeconds:()=>seconds,utcSunday:()=>utcSunday,utcSundays:()=>utcSundays,utcThursday:()=>utcThursday,utcThursdays:()=>utcThursdays,utcTickInterval:()=>utcTickInterval,utcTicks:()=>utcTicks,utcTuesday:()=>utcTuesday,utcTuesdays:()=>utcTuesdays,utcWednesday:()=>utcWednesday,utcWednesdays:()=>utcWednesdays,utcWeek:()=>utcSunday,utcWeeks:()=>utcSundays,utcYear:()=>utcYear,utcYears:()=>utcYears,variance:()=>variance,window:()=>src_window,xml:()=>xml,zip:()=>zip,zoom:()=>zoom,zoomIdentity:()=>transform_identity,zoomTransform:()=>transform_transform});const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right,bisectLeft=ascendingBisect.left,bisectCenter=bisector(number).center,bisect=bisectRight;function blur_blur(values,r){if(!((r=+r)>=0))throw new RangeError("invalid r");let length=values.length;if(!((length=Math.floor(length))>=0))throw new RangeError("invalid length");if(!length||!r)return values;const blur=blurf(r),temp=values.slice();return blur(values,temp,0,length,1),blur(temp,values,0,length,1),blur(values,temp,0,length,1),values}const blur2=Blur2(blurf),blurImage=Blur2((function blurfImage(radius){const blur=blurf(radius);return(T,S,start,stop,step)=>{blur(T,S,(start<<=2)+0,(stop<<=2)+0,step<<=2),blur(T,S,start+1,stop+1,step),blur(T,S,start+2,stop+2,step),blur(T,S,start+3,stop+3,step)}}));function Blur2(blur){return function(data,rx,ry=rx){if(!((rx=+rx)>=0))throw new RangeError("invalid rx");if(!((ry=+ry)>=0))throw new RangeError("invalid ry");let{data:values,width,height}=data;if(!((width=Math.floor(width))>=0))throw new RangeError("invalid width");if(!((height=Math.floor(void 0!==height?height:values.length/width))>=0))throw new RangeError("invalid height");if(!width||!height||!rx&&!ry)return data;const blurx=rx&&blur(rx),blury=ry&&blur(ry),temp=values.slice();return blurx&&blury?(blurh(blurx,temp,values,width,height),blurh(blurx,values,temp,width,height),blurh(blurx,temp,values,width,height),blurv(blury,values,temp,width,height),blurv(blury,temp,values,width,height),blurv(blury,values,temp,width,height)):blurx?(blurh(blurx,values,temp,width,height),blurh(blurx,temp,values,width,height),blurh(blurx,values,temp,width,height)):blury&&(blurv(blury,values,temp,width,height),blurv(blury,temp,values,width,height),blurv(blury,values,temp,width,height)),data}}function blurh(blur,T,S,w,h){for(let y=0,n=w*h;y<n;)blur(T,S,y,y+=w,1)}function blurv(blur,T,S,w,h){for(let x=0,n=w*h;x<w;++x)blur(T,S,x,x+n,w)}function blurf(radius){const radius0=Math.floor(radius);if(radius0===radius)return function bluri(radius){const w=2*radius+1;return(T,S,start,stop,step)=>{if(!((stop-=step)>=start))return;let sum=radius*S[start];const s=step*radius;for(let i=start,j=start+s;i<j;i+=step)sum+=S[Math.min(stop,i)];for(let i=start,j=stop;i<=j;i+=step)sum+=S[Math.min(stop,i+s)],T[i]=sum/w,sum-=S[Math.max(start,i-s)]}}(radius);const t=radius-radius0,w=2*radius+1;return(T,S,start,stop,step)=>{if(!((stop-=step)>=start))return;let sum=radius0*S[start];const s0=step*radius0,s1=s0+step;for(let i=start,j=start+s0;i<j;i+=step)sum+=S[Math.min(stop,i)];for(let i=start,j=stop;i<=j;i+=step)sum+=S[Math.min(stop,i+s0)],T[i]=(sum+t*(S[Math.max(start,i-s1)]+S[Math.min(stop,i+s1)]))/w,sum-=S[Math.max(start,i-s0)]}}function count(values,valueof){let count=0;if(void 0===valueof)for(let value of values)null!=value&&(value=+value)>=value&&++count;else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(value=+value)>=value&&++count}return count}function cross_length(array){return 0|array.length}function empty(length){return!(length>0)}function arrayify(values){return"object"!=typeof values||"length"in values?values:Array.from(values)}function cross(...values){const reduce="function"==typeof values[values.length-1]&&function reducer(reduce){return values=>reduce(...values)}(values.pop()),lengths=(values=values.map(arrayify)).map(cross_length),j=values.length-1,index=new Array(j+1).fill(0),product=[];if(j<0||lengths.some(empty))return product;for(;;){product.push(index.map(((j,i)=>values[i][j])));let i=j;for(;++index[i]===lengths[i];){if(0===i)return reduce?product.map(reduce):product;index[i--]=0}}}function cumsum(values,valueof){var sum=0,index=0;return Float64Array.from(values,void 0===valueof?v=>sum+=+v||0:v=>sum+=+valueof(v,index++,values)||0)}function variance(values,valueof){let delta,count=0,mean=0,sum=0;if(void 0===valueof)for(let value of values)null!=value&&(value=+value)>=value&&(delta=value-mean,mean+=delta/++count,sum+=delta*(value-mean));else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(value=+value)>=value&&(delta=value-mean,mean+=delta/++count,sum+=delta*(value-mean))}if(count>1)return sum/(count-1)}function deviation(values,valueof){const v=variance(values,valueof);return v?Math.sqrt(v):v}function extent(values,valueof){let min,max;if(void 0===valueof)for(const value of values)null!=value&&(void 0===min?value>=value&&(min=max=value):(min>value&&(min=value),max<value&&(max=value)));else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(void 0===min?value>=value&&(min=max=value):(min>value&&(min=value),max<value&&(max=value)))}return[min,max]}class Adder{constructor(){this._partials=new Float64Array(32),this._n=0}add(x){const p=this._partials;let i=0;for(let j=0;j<this._n&&j<32;j++){const y=p[j],hi=x+y,lo=Math.abs(x)<Math.abs(y)?x-(hi-y):y-(hi-x);lo&&(p[i++]=lo),x=hi}return p[i]=x,this._n=i+1,this}valueOf(){const p=this._partials;let x,y,lo,n=this._n,hi=0;if(n>0){for(hi=p[--n];n>0&&(x=hi,y=p[--n],hi=x+y,lo=y-(hi-x),!lo););n>0&&(lo<0&&p[n-1]<0||lo>0&&p[n-1]>0)&&(y=2*lo,x=hi+y,y==x-hi&&(hi=x))}return hi}}function fsum(values,valueof){const adder=new Adder;if(void 0===valueof)for(let value of values)(value=+value)&&adder.add(value);else{let index=-1;for(let value of values)(value=+valueof(value,++index,values))&&adder.add(value)}return+adder}function fcumsum(values,valueof){const adder=new Adder;let index=-1;return Float64Array.from(values,void 0===valueof?v=>adder.add(+v||0):v=>adder.add(+valueof(v,++index,values)||0))}class InternMap extends Map{constructor(entries,key=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:key}}),null!=entries)for(const[key,value]of entries)this.set(key,value)}get(key){return super.get(intern_get(this,key))}has(key){return super.has(intern_get(this,key))}set(key,value){return super.set(intern_set(this,key),value)}delete(key){return super.delete(intern_delete(this,key))}}class InternSet extends Set{constructor(values,key=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:key}}),null!=values)for(const value of values)this.add(value)}has(value){return super.has(intern_get(this,value))}add(value){return super.add(intern_set(this,value))}delete(value){return super.delete(intern_delete(this,value))}}function intern_get({_intern,_key},value){const key=_key(value);return _intern.has(key)?_intern.get(key):value}function intern_set({_intern,_key},value){const key=_key(value);return _intern.has(key)?_intern.get(key):(_intern.set(key,value),value)}function intern_delete({_intern,_key},value){const key=_key(value);return _intern.has(key)&&(value=_intern.get(key),_intern.delete(key)),value}function keyof(value){return null!==value&&"object"==typeof value?value.valueOf():value}function identity(x){return x}function group(values,...keys){return nest(values,identity,identity,keys)}function groups(values,...keys){return nest(values,Array.from,identity,keys)}function flatten(groups,keys){for(let i=1,n=keys.length;i<n;++i)groups=groups.flatMap((g=>g.pop().map((([key,value])=>[...g,key,value]))));return groups}function flatGroup(values,...keys){return flatten(groups(values,...keys),keys)}function flatRollup(values,reduce,...keys){return flatten(rollups(values,reduce,...keys),keys)}function rollup(values,reduce,...keys){return nest(values,identity,reduce,keys)}function rollups(values,reduce,...keys){return nest(values,Array.from,reduce,keys)}function index(values,...keys){return nest(values,identity,unique,keys)}function indexes(values,...keys){return nest(values,Array.from,unique,keys)}function unique(values){if(1!==values.length)throw new Error("duplicate key");return values[0]}function nest(values,map,reduce,keys){return function regroup(values,i){if(i>=keys.length)return reduce(values);const groups=new InternMap,keyof=keys[i++];let index=-1;for(const value of values){const key=keyof(value,++index,values),group=groups.get(key);group?group.push(value):groups.set(key,[value])}for(const[key,values]of groups)groups.set(key,regroup(values,i));return map(groups)}(values,0)}function permute(source,keys){return Array.from(keys,(key=>source[key]))}function sort(values,...F){if("function"!=typeof values[Symbol.iterator])throw new TypeError("values is not iterable");values=Array.from(values);let[f]=F;if(f&&2!==f.length||F.length>1){const index=Uint32Array.from(values,((d,i)=>i));return F.length>1?(F=F.map((f=>values.map(f))),index.sort(((i,j)=>{for(const f of F){const c=ascendingDefined(f[i],f[j]);if(c)return c}}))):(f=values.map(f),index.sort(((i,j)=>ascendingDefined(f[i],f[j])))),permute(values,index)}return values.sort(compareDefined(f))}function compareDefined(compare=ascending){if(compare===ascending)return ascendingDefined;if("function"!=typeof compare)throw new TypeError("compare is not a function");return(a,b)=>{const x=compare(a,b);return x||0===x?x:(0===compare(b,b))-(0===compare(a,a))}}function ascendingDefined(a,b){return(null==a||!(a>=a))-(null==b||!(b>=b))||(a<b?-1:a>b?1:0)}function groupSort(values,reduce,key){return(2!==reduce.length?sort(rollup(values,reduce,key),(([ak,av],[bk,bv])=>ascending(av,bv)||ascending(ak,bk))):sort(group(values,key),(([ak,av],[bk,bv])=>reduce(av,bv)||ascending(ak,bk)))).map((([key])=>key))}var array=Array.prototype,slice=array.slice;array.map;function constant(x){return()=>x}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(start,stop,count){const step=(stop-start)/Math.max(0,count),power=Math.floor(Math.log10(step)),error=step/Math.pow(10,power),factor=error>=e10?10:error>=e5?5:error>=e2?2:1;let i1,i2,inc;return power<0?(inc=Math.pow(10,-power)/factor,i1=Math.round(start*inc),i2=Math.round(stop*inc),i1/inc<start&&++i1,i2/inc>stop&&--i2,inc=-inc):(inc=Math.pow(10,power)*factor,i1=Math.round(start/inc),i2=Math.round(stop/inc),i1*inc<start&&++i1,i2*inc>stop&&--i2),i2<i1&&.5<=count&&count<2?tickSpec(start,stop,2*count):[i1,i2,inc]}function ticks(start,stop,count){if(!((count=+count)>0))return[];if((start=+start)===(stop=+stop))return[start];const reverse=stop<start,[i1,i2,inc]=reverse?tickSpec(stop,start,count):tickSpec(start,stop,count);if(!(i2>=i1))return[];const n=i2-i1+1,ticks=new Array(n);if(reverse)if(inc<0)for(let i=0;i<n;++i)ticks[i]=(i2-i)/-inc;else for(let i=0;i<n;++i)ticks[i]=(i2-i)*inc;else if(inc<0)for(let i=0;i<n;++i)ticks[i]=(i1+i)/-inc;else for(let i=0;i<n;++i)ticks[i]=(i1+i)*inc;return ticks}function tickIncrement(start,stop,count){return tickSpec(start=+start,stop=+stop,count=+count)[2]}function tickStep(start,stop,count){count=+count;const reverse=(stop=+stop)<(start=+start),inc=reverse?tickIncrement(stop,start,count):tickIncrement(start,stop,count);return(reverse?-1:1)*(inc<0?1/-inc:inc)}function nice(start,stop,count){let prestep;for(;;){const step=tickIncrement(start,stop,count);if(step===prestep||0===step||!isFinite(step))return[start,stop];step>0?(start=Math.floor(start/step)*step,stop=Math.ceil(stop/step)*step):step<0&&(start=Math.ceil(start*step)/step,stop=Math.floor(stop*step)/step),prestep=step}}function thresholdSturges(values){return Math.max(1,Math.ceil(Math.log(count(values))/Math.LN2)+1)}function bin(){var value=identity,domain=extent,threshold=thresholdSturges;function histogram(data){Array.isArray(data)||(data=Array.from(data));var i,x,step,n=data.length,values=new Array(n);for(i=0;i<n;++i)values[i]=value(data[i],i,data);var xz=domain(values),x0=xz[0],x1=xz[1],tz=threshold(values,x0,x1);if(!Array.isArray(tz)){const max=x1,tn=+tz;if(domain===extent&&([x0,x1]=nice(x0,x1,tn)),(tz=ticks(x0,x1,tn))[0]<=x0&&(step=tickIncrement(x0,x1,tn)),tz[tz.length-1]>=x1)if(max>=x1&&domain===extent){const step=tickIncrement(x0,x1,tn);isFinite(step)&&(step>0?x1=(Math.floor(x1/step)+1)*step:step<0&&(x1=(Math.ceil(x1*-step)+1)/-step))}else tz.pop()}for(var m=tz.length,a=0,b=m;tz[a]<=x0;)++a;for(;tz[b-1]>x1;)--b;(a||b<m)&&(tz=tz.slice(a,b),m=b-a);var bin,bins=new Array(m+1);for(i=0;i<=m;++i)(bin=bins[i]=[]).x0=i>0?tz[i-1]:x0,bin.x1=i<m?tz[i]:x1;if(isFinite(step)){if(step>0)for(i=0;i<n;++i)null!=(x=values[i])&&x0<=x&&x<=x1&&bins[Math.min(m,Math.floor((x-x0)/step))].push(data[i]);else if(step<0)for(i=0;i<n;++i)if(null!=(x=values[i])&&x0<=x&&x<=x1){const j=Math.floor((x0-x)*step);bins[Math.min(m,j+(tz[j]<=x))].push(data[i])}}else for(i=0;i<n;++i)null!=(x=values[i])&&x0<=x&&x<=x1&&bins[bisect(tz,x,0,m)].push(data[i]);return bins}return histogram.value=function(_){return arguments.length?(value="function"==typeof _?_:constant(_),histogram):value},histogram.domain=function(_){return arguments.length?(domain="function"==typeof _?_:constant([_[0],_[1]]),histogram):domain},histogram.thresholds=function(_){return arguments.length?(threshold="function"==typeof _?_:constant(Array.isArray(_)?slice.call(_):_),histogram):threshold},histogram}function max(values,valueof){let max;if(void 0===valueof)for(const value of values)null!=value&&(max<value||void 0===max&&value>=value)&&(max=value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(max<value||void 0===max&&value>=value)&&(max=value)}return max}function maxIndex(values,valueof){let max,maxIndex=-1,index=-1;if(void 0===valueof)for(const value of values)++index,null!=value&&(max<value||void 0===max&&value>=value)&&(max=value,maxIndex=index);else for(let value of values)null!=(value=valueof(value,++index,values))&&(max<value||void 0===max&&value>=value)&&(max=value,maxIndex=index);return maxIndex}function min(values,valueof){let min;if(void 0===valueof)for(const value of values)null!=value&&(min>value||void 0===min&&value>=value)&&(min=value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(min>value||void 0===min&&value>=value)&&(min=value)}return min}function minIndex(values,valueof){let min,minIndex=-1,index=-1;if(void 0===valueof)for(const value of values)++index,null!=value&&(min>value||void 0===min&&value>=value)&&(min=value,minIndex=index);else for(let value of values)null!=(value=valueof(value,++index,values))&&(min>value||void 0===min&&value>=value)&&(min=value,minIndex=index);return minIndex}function quickselect(array,k,left=0,right=1/0,compare){if(k=Math.floor(k),left=Math.floor(Math.max(0,left)),right=Math.floor(Math.min(array.length-1,right)),!(left<=k&&k<=right))return array;for(compare=void 0===compare?ascendingDefined:compareDefined(compare);right>left;){if(right-left>600){const n=right-left+1,m=k-left+1,z=Math.log(n),s=.5*Math.exp(2*z/3),sd=.5*Math.sqrt(z*s*(n-s)/n)*(m-n/2<0?-1:1);quickselect(array,k,Math.max(left,Math.floor(k-m*s/n+sd)),Math.min(right,Math.floor(k+(n-m)*s/n+sd)),compare)}const t=array[k];let i=left,j=right;for(swap(array,left,k),compare(array[right],t)>0&&swap(array,left,right);i<j;){for(swap(array,i,j),++i,--j;compare(array[i],t)<0;)++i;for(;compare(array[j],t)>0;)--j}0===compare(array[left],t)?swap(array,left,j):(++j,swap(array,j,right)),j<=k&&(left=j+1),k<=j&&(right=j-1)}return array}function swap(array,i,j){const t=array[i];array[i]=array[j],array[j]=t}function greatest(values,compare=ascending){let max,defined=!1;if(1===compare.length){let maxValue;for(const element of values){const value=compare(element);(defined?ascending(value,maxValue)>0:0===ascending(value,value))&&(max=element,maxValue=value,defined=!0)}}else for(const value of values)(defined?compare(value,max)>0:0===compare(value,value))&&(max=value,defined=!0);return max}function quantile(values,p,valueof){if(values=Float64Array.from(function*numbers(values,valueof){if(void 0===valueof)for(let value of values)null!=value&&(value=+value)>=value&&(yield value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(value=+value)>=value&&(yield value)}}(values,valueof)),(n=values.length)&&!isNaN(p=+p)){if(p<=0||n<2)return min(values);if(p>=1)return max(values);var n,i=(n-1)*p,i0=Math.floor(i),value0=max(quickselect(values,i0).subarray(0,i0+1));return value0+(min(values.subarray(i0+1))-value0)*(i-i0)}}function quantileSorted(values,p,valueof=number){if((n=values.length)&&!isNaN(p=+p)){if(p<=0||n<2)return+valueof(values[0],0,values);if(p>=1)return+valueof(values[n-1],n-1,values);var n,i=(n-1)*p,i0=Math.floor(i),value0=+valueof(values[i0],i0,values);return value0+(+valueof(values[i0+1],i0+1,values)-value0)*(i-i0)}}function quantileIndex(values,p,valueof=number){if(!isNaN(p=+p)){if(numbers=Float64Array.from(values,((_,i)=>number(valueof(values[i],i,values)))),p<=0)return minIndex(numbers);if(p>=1)return maxIndex(numbers);var numbers,index=Uint32Array.from(values,((_,i)=>i)),j=numbers.length-1,i=Math.floor(j*p);return quickselect(index,i,0,j,((i,j)=>ascendingDefined(numbers[i],numbers[j]))),(i=greatest(index.subarray(0,i+1),(i=>numbers[i])))>=0?i:-1}}function thresholdFreedmanDiaconis(values,min,max){const c=count(values),d=quantile(values,.75)-quantile(values,.25);return c&&d?Math.ceil((max-min)/(2*d*Math.pow(c,-1/3))):1}function thresholdScott(values,min,max){const c=count(values),d=deviation(values);return c&&d?Math.ceil((max-min)*Math.cbrt(c)/(3.49*d)):1}function mean(values,valueof){let count=0,sum=0;if(void 0===valueof)for(let value of values)null!=value&&(value=+value)>=value&&(++count,sum+=value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(value=+value)>=value&&(++count,sum+=value)}if(count)return sum/count}function median(values,valueof){return quantile(values,.5,valueof)}function medianIndex(values,valueof){return quantileIndex(values,.5,valueof)}function merge(arrays){return Array.from(function*merge_flatten(arrays){for(const array of arrays)yield*array}(arrays))}function mode(values,valueof){const counts=new InternMap;if(void 0===valueof)for(let value of values)null!=value&&value>=value&&counts.set(value,(counts.get(value)||0)+1);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&value>=value&&counts.set(value,(counts.get(value)||0)+1)}let modeValue,modeCount=0;for(const[value,count]of counts)count>modeCount&&(modeCount=count,modeValue=value);return modeValue}function pairs(values,pairof=pair){const pairs=[];let previous,first=!1;for(const value of values)first&&pairs.push(pairof(previous,value)),previous=value,first=!0;return pairs}function pair(a,b){return[a,b]}function range(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;for(var i=-1,n=0|Math.max(0,Math.ceil((stop-start)/step)),range=new Array(n);++i<n;)range[i]=start+i*step;return range}function rank(values,valueof=ascending){if("function"!=typeof values[Symbol.iterator])throw new TypeError("values is not iterable");let V=Array.from(values);const R=new Float64Array(V.length);2!==valueof.length&&(V=V.map(valueof),valueof=ascending);const compareIndex=(i,j)=>valueof(V[i],V[j]);let k,r;return(values=Uint32Array.from(V,((_,i)=>i))).sort(valueof===ascending?(i,j)=>ascendingDefined(V[i],V[j]):compareDefined(compareIndex)),values.forEach(((j,i)=>{const c=compareIndex(j,void 0===k?j:k);c>=0?((void 0===k||c>0)&&(k=j,r=i),R[j]=r):R[j]=NaN})),R}function least(values,compare=ascending){let min,defined=!1;if(1===compare.length){let minValue;for(const element of values){const value=compare(element);(defined?ascending(value,minValue)<0:0===ascending(value,value))&&(min=element,minValue=value,defined=!0)}}else for(const value of values)(defined?compare(value,min)<0:0===compare(value,value))&&(min=value,defined=!0);return min}function leastIndex(values,compare=ascending){if(1===compare.length)return minIndex(values,compare);let minValue,min=-1,index=-1;for(const value of values)++index,(min<0?0===compare(value,value):compare(value,minValue)<0)&&(minValue=value,min=index);return min}function greatestIndex(values,compare=ascending){if(1===compare.length)return maxIndex(values,compare);let maxValue,max=-1,index=-1;for(const value of values)++index,(max<0?0===compare(value,value):compare(value,maxValue)>0)&&(maxValue=value,max=index);return max}function scan(values,compare){const index=leastIndex(values,compare);return index<0?void 0:index}const shuffle=shuffler(Math.random);function shuffler(random){return function shuffle(array,i0=0,i1=array.length){let m=i1-(i0=+i0);for(;m;){const i=random()*m--|0,t=array[m+i0];array[m+i0]=array[i+i0],array[i+i0]=t}return array}}function sum_sum(values,valueof){let sum=0;if(void 0===valueof)for(let value of values)(value=+value)&&(sum+=value);else{let index=-1;for(let value of values)(value=+valueof(value,++index,values))&&(sum+=value)}return sum}function transpose(matrix){if(!(n=matrix.length))return[];for(var i=-1,m=min(matrix,transpose_length),transpose=new Array(m);++i<m;)for(var n,j=-1,row=transpose[i]=new Array(n);++j<n;)row[j]=matrix[j][i];return transpose}function transpose_length(d){return d.length}function zip(){return transpose(arguments)}function every(values,test){if("function"!=typeof test)throw new TypeError("test is not a function");let index=-1;for(const value of values)if(!test(value,++index,values))return!1;return!0}function some(values,test){if("function"!=typeof test)throw new TypeError("test is not a function");let index=-1;for(const value of values)if(test(value,++index,values))return!0;return!1}function filter(values,test){if("function"!=typeof test)throw new TypeError("test is not a function");const array=[];let index=-1;for(const value of values)test(value,++index,values)&&array.push(value);return array}function map_map(values,mapper){if("function"!=typeof values[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof mapper)throw new TypeError("mapper is not a function");return Array.from(values,((value,index)=>mapper(value,index,values)))}function reduce(values,reducer,value){if("function"!=typeof reducer)throw new TypeError("reducer is not a function");const iterator=values[Symbol.iterator]();let done,next,index=-1;if(arguments.length<3){if(({done,value}=iterator.next()),done)return;++index}for(;({done,value:next}=iterator.next()),!done;)value=reducer(value,next,++index,values);return value}function reverse(values){if("function"!=typeof values[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(values).reverse()}function difference(values,...others){values=new InternSet(values);for(const other of others)for(const value of other)values.delete(value);return values}function disjoint(values,other){const iterator=other[Symbol.iterator](),set=new InternSet;for(const v of values){if(set.has(v))return!1;let value,done;for(;({value,done}=iterator.next())&&!done;){if(Object.is(v,value))return!1;set.add(value)}}return!0}function intersection(values,...others){values=new InternSet(values),others=others.map(set);out:for(const value of values)for(const other of others)if(!other.has(value)){values.delete(value);continue out}return values}function set(values){return values instanceof InternSet?values:new InternSet(values)}function superset(values,other){const iterator=values[Symbol.iterator](),set=new Set;for(const o of other){const io=intern(o);if(set.has(io))continue;let value,done;for(;({value,done}=iterator.next());){if(done)return!1;const ivalue=intern(value);if(set.add(ivalue),Object.is(io,ivalue))break}}return!0}function intern(value){return null!==value&&"object"==typeof value?value.valueOf():value}function subset(values,other){return superset(other,values)}function union(...others){const set=new InternSet;for(const other of others)for(const o of other)set.add(o);return set}function src_identity(x){return x}var axis_top=1,right=2,bottom=3,left=4,epsilon=1e-6;function translateX(x){return"translate("+x+",0)"}function translateY(y){return"translate(0,"+y+")"}function axis_number(scale){return d=>+scale(d)}function center(scale,offset){return offset=Math.max(0,scale.bandwidth()-2*offset)/2,scale.round()&&(offset=Math.round(offset)),d=>+scale(d)+offset}function entering(){return!this.__axis}function axis(orient,scale){var tickArguments=[],tickValues=null,tickFormat=null,tickSizeInner=6,tickSizeOuter=6,tickPadding=3,offset="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,k=orient===axis_top||orient===left?-1:1,x=orient===left||orient===right?"x":"y",transform=orient===axis_top||orient===bottom?translateX:translateY;function axis(context){var values=null==tickValues?scale.ticks?scale.ticks.apply(scale,tickArguments):scale.domain():tickValues,format=null==tickFormat?scale.tickFormat?scale.tickFormat.apply(scale,tickArguments):src_identity:tickFormat,spacing=Math.max(tickSizeInner,0)+tickPadding,range=scale.range(),range0=+range[0]+offset,range1=+range[range.length-1]+offset,position=(scale.bandwidth?center:axis_number)(scale.copy(),offset),selection=context.selection?context.selection():context,path=selection.selectAll(".domain").data([null]),tick=selection.selectAll(".tick").data(values,scale).order(),tickExit=tick.exit(),tickEnter=tick.enter().append("g").attr("class","tick"),line=tick.select("line"),text=tick.select("text");path=path.merge(path.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),tick=tick.merge(tickEnter),line=line.merge(tickEnter.append("line").attr("stroke","currentColor").attr(x+"2",k*tickSizeInner)),text=text.merge(tickEnter.append("text").attr("fill","currentColor").attr(x,k*spacing).attr("dy",orient===axis_top?"0em":orient===bottom?"0.71em":"0.32em")),context!==selection&&(path=path.transition(context),tick=tick.transition(context),line=line.transition(context),text=text.transition(context),tickExit=tickExit.transition(context).attr("opacity",epsilon).attr("transform",(function(d){return isFinite(d=position(d))?transform(d+offset):this.getAttribute("transform")})),tickEnter.attr("opacity",epsilon).attr("transform",(function(d){var p=this.parentNode.__axis;return transform((p&&isFinite(p=p(d))?p:position(d))+offset)}))),tickExit.remove(),path.attr("d",orient===left||orient===right?tickSizeOuter?"M"+k*tickSizeOuter+","+range0+"H"+offset+"V"+range1+"H"+k*tickSizeOuter:"M"+offset+","+range0+"V"+range1:tickSizeOuter?"M"+range0+","+k*tickSizeOuter+"V"+offset+"H"+range1+"V"+k*tickSizeOuter:"M"+range0+","+offset+"H"+range1),tick.attr("opacity",1).attr("transform",(function(d){return transform(position(d)+offset)})),line.attr(x+"2",k*tickSizeInner),text.attr(x,k*spacing).text(format),selection.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",orient===right?"start":orient===left?"end":"middle"),selection.each((function(){this.__axis=position}))}return axis.scale=function(_){return arguments.length?(scale=_,axis):scale},axis.ticks=function(){return tickArguments=Array.from(arguments),axis},axis.tickArguments=function(_){return arguments.length?(tickArguments=null==_?[]:Array.from(_),axis):tickArguments.slice()},axis.tickValues=function(_){return arguments.length?(tickValues=null==_?null:Array.from(_),axis):tickValues&&tickValues.slice()},axis.tickFormat=function(_){return arguments.length?(tickFormat=_,axis):tickFormat},axis.tickSize=function(_){return arguments.length?(tickSizeInner=tickSizeOuter=+_,axis):tickSizeInner},axis.tickSizeInner=function(_){return arguments.length?(tickSizeInner=+_,axis):tickSizeInner},axis.tickSizeOuter=function(_){return arguments.length?(tickSizeOuter=+_,axis):tickSizeOuter},axis.tickPadding=function(_){return arguments.length?(tickPadding=+_,axis):tickPadding},axis.offset=function(_){return arguments.length?(offset=+_,axis):offset},axis}function axisTop(scale){return axis(axis_top,scale)}function axisRight(scale){return axis(right,scale)}function axisBottom(scale){return axis(bottom,scale)}function axisLeft(scale){return axis(left,scale)}var noop={value:()=>{}};function dispatch(){for(var t,i=0,n=arguments.length,_={};i<n;++i){if(!(t=arguments[i]+"")||t in _||/[\s.]/.test(t))throw new Error("illegal type: "+t);_[t]=[]}return new Dispatch(_)}function Dispatch(_){this._=_}function get(type,name){for(var c,i=0,n=type.length;i<n;++i)if((c=type[i]).name===name)return c.value}function dispatch_set(type,name,callback){for(var i=0,n=type.length;i<n;++i)if(type[i].name===name){type[i]=noop,type=type.slice(0,i).concat(type.slice(i+1));break}return null!=callback&&type.push({name,value:callback}),type}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(typename,callback){var t,_=this._,T=function parseTypenames(typenames,types){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");if(i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),t&&!types.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name}}))}(typename+"",_),i=-1,n=T.length;if(!(arguments.length<2)){if(null!=callback&&"function"!=typeof callback)throw new Error("invalid callback: "+callback);for(;++i<n;)if(t=(typename=T[i]).type)_[t]=dispatch_set(_[t],typename.name,callback);else if(null==callback)for(t in _)_[t]=dispatch_set(_[t],typename.name,null);return this}for(;++i<n;)if((t=(typename=T[i]).type)&&(t=get(_[t],typename.name)))return t},copy:function(){var copy={},_=this._;for(var t in _)copy[t]=_[t].slice();return new Dispatch(copy)},call:function(type,that){if((n=arguments.length-2)>0)for(var n,t,args=new Array(n),i=0;i<n;++i)args[i]=arguments[i+2];if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(i=0,n=(t=this._[type]).length;i<n;++i)t[i].value.apply(that,args)},apply:function(type,that,args){if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(var t=this._[type],i=0,n=t.length;i<n;++i)t[i].value.apply(that,args)}};const src_dispatch=dispatch;function none(){}function selector(selector){return null==selector?none:function(){return this.querySelector(selector)}}function array_array(x){return null==x?[]:Array.isArray(x)?x:Array.from(x)}function selectorAll_empty(){return[]}function selectorAll(selector){return null==selector?selectorAll_empty:function(){return this.querySelectorAll(selector)}}function matcher(selector){return function(){return this.matches(selector)}}function childMatcher(selector){return function(node){return node.matches(selector)}}var find=Array.prototype.find;function childFirst(){return this.firstElementChild}var selectChildren_filter=Array.prototype.filter;function children(){return Array.from(this.children)}function sparse(update){return new Array(update.length)}function EnterNode(parent,datum){this.ownerDocument=parent.ownerDocument,this.namespaceURI=parent.namespaceURI,this._next=null,this._parent=parent,this.__data__=datum}function bindIndex(parent,group,enter,update,exit,data){for(var node,i=0,groupLength=group.length,dataLength=data.length;i<dataLength;++i)(node=group[i])?(node.__data__=data[i],update[i]=node):enter[i]=new EnterNode(parent,data[i]);for(;i<groupLength;++i)(node=group[i])&&(exit[i]=node)}function bindKey(parent,group,enter,update,exit,data,key){var i,node,keyValue,nodeByKeyValue=new Map,groupLength=group.length,dataLength=data.length,keyValues=new Array(groupLength);for(i=0;i<groupLength;++i)(node=group[i])&&(keyValues[i]=keyValue=key.call(node,node.__data__,i,group)+"",nodeByKeyValue.has(keyValue)?exit[i]=node:nodeByKeyValue.set(keyValue,node));for(i=0;i<dataLength;++i)keyValue=key.call(parent,data[i],i,data)+"",(node=nodeByKeyValue.get(keyValue))?(update[i]=node,node.__data__=data[i],nodeByKeyValue.delete(keyValue)):enter[i]=new EnterNode(parent,data[i]);for(i=0;i<groupLength;++i)(node=group[i])&&nodeByKeyValue.get(keyValues[i])===node&&(exit[i]=node)}function datum(node){return node.__data__}function arraylike(data){return"object"==typeof data&&"length"in data?data:Array.from(data)}function sort_ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}EnterNode.prototype={constructor:EnterNode,appendChild:function(child){return this._parent.insertBefore(child,this._next)},insertBefore:function(child,next){return this._parent.insertBefore(child,next)},querySelector:function(selector){return this._parent.querySelector(selector)},querySelectorAll:function(selector){return this._parent.querySelectorAll(selector)}};var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(name){var prefix=name+="",i=prefix.indexOf(":");return i>=0&&"xmlns"!==(prefix=name.slice(0,i))&&(name=name.slice(i+1)),namespaces.hasOwnProperty(prefix)?{space:namespaces[prefix],local:name}:name}function attrRemove(name){return function(){this.removeAttribute(name)}}function attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant(name,value){return function(){this.setAttribute(name,value)}}function attrConstantNS(fullname,value){return function(){this.setAttributeNS(fullname.space,fullname.local,value)}}function attrFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttribute(name):this.setAttribute(name,v)}}function attrFunctionNS(fullname,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttributeNS(fullname.space,fullname.local):this.setAttributeNS(fullname.space,fullname.local,v)}}function src_window(node){return node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView}function styleRemove(name){return function(){this.style.removeProperty(name)}}function styleConstant(name,value,priority){return function(){this.style.setProperty(name,value,priority)}}function styleFunction(name,value,priority){return function(){var v=value.apply(this,arguments);null==v?this.style.removeProperty(name):this.style.setProperty(name,v,priority)}}function styleValue(node,name){return node.style.getPropertyValue(name)||src_window(node).getComputedStyle(node,null).getPropertyValue(name)}function propertyRemove(name){return function(){delete this[name]}}function propertyConstant(name,value){return function(){this[name]=value}}function propertyFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?delete this[name]:this[name]=v}}function classArray(string){return string.trim().split(/^|\s+/)}function classList(node){return node.classList||new ClassList(node)}function ClassList(node){this._node=node,this._names=classArray(node.getAttribute("class")||"")}function classedAdd(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.add(names[i])}function classedRemove(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.remove(names[i])}function classedTrue(names){return function(){classedAdd(this,names)}}function classedFalse(names){return function(){classedRemove(this,names)}}function classedFunction(names,value){return function(){(value.apply(this,arguments)?classedAdd:classedRemove)(this,names)}}function textRemove(){this.textContent=""}function textConstant(value){return function(){this.textContent=value}}function textFunction(value){return function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}}function htmlRemove(){this.innerHTML=""}function htmlConstant(value){return function(){this.innerHTML=value}}function htmlFunction(value){return function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function creatorInherit(name){return function(){var document=this.ownerDocument,uri=this.namespaceURI;return uri===xhtml&&document.documentElement.namespaceURI===xhtml?document.createElement(name):document.createElementNS(uri,name)}}function creatorFixed(fullname){return function(){return this.ownerDocument.createElementNS(fullname.space,fullname.local)}}function creator(name){var fullname=namespace(name);return(fullname.local?creatorFixed:creatorInherit)(fullname)}function constantNull(){return null}function remove(){var parent=this.parentNode;parent&&parent.removeChild(this)}function selection_cloneShallow(){var clone=this.cloneNode(!1),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function selection_cloneDeep(){var clone=this.cloneNode(!0),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function onRemove(typename){return function(){var on=this.__on;if(on){for(var o,j=0,i=-1,m=on.length;j<m;++j)o=on[j],typename.type&&o.type!==typename.type||o.name!==typename.name?on[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?on.length=i:delete this.__on}}}function onAdd(typename,value,options){return function(){var o,on=this.__on,listener=function contextListener(listener){return function(event){listener.call(this,event,this.__data__)}}(value);if(on)for(var j=0,m=on.length;j<m;++j)if((o=on[j]).type===typename.type&&o.name===typename.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=listener,o.options=options),void(o.value=value);this.addEventListener(typename.type,listener,options),o={type:typename.type,name:typename.name,value,listener,options},on?on.push(o):this.__on=[o]}}function dispatchEvent(node,type,params){var window=src_window(node),event=window.CustomEvent;"function"==typeof event?event=new event(type,params):(event=window.document.createEvent("Event"),params?(event.initEvent(type,params.bubbles,params.cancelable),event.detail=params.detail):event.initEvent(type,!1,!1)),node.dispatchEvent(event)}function dispatchConstant(type,params){return function(){return dispatchEvent(this,type,params)}}function dispatchFunction(type,params){return function(){return dispatchEvent(this,type,params.apply(this,arguments))}}ClassList.prototype={add:function(name){this._names.indexOf(name)<0&&(this._names.push(name),this._node.setAttribute("class",this._names.join(" ")))},remove:function(name){var i=this._names.indexOf(name);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(name){return this._names.indexOf(name)>=0}};var root=[null];function Selection(groups,parents){this._groups=groups,this._parents=parents}function selection(){return new Selection([[document.documentElement]],root)}Selection.prototype=selection.prototype={constructor:Selection,select:function selection_select(select){"function"!=typeof select&&(select=selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode);return new Selection(subgroups,this._parents)},selectAll:function selectAll(select){select="function"==typeof select?function arrayAll(select){return function(){return array_array(select.apply(this,arguments))}}(select):selectorAll(select);for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&(subgroups.push(select.call(node,node.__data__,i,group)),parents.push(node));return new Selection(subgroups,parents)},selectChild:function selectChild(match){return this.select(null==match?childFirst:function childFind(match){return function(){return find.call(this.children,match)}}("function"==typeof match?match:childMatcher(match)))},selectChildren:function selectChildren(match){return this.selectAll(null==match?children:function childrenFilter(match){return function(){return selectChildren_filter.call(this.children,match)}}("function"==typeof match?match:childMatcher(match)))},filter:function selection_filter(match){"function"!=typeof match&&(match=matcher(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Selection(subgroups,this._parents)},data:function data(value,key){if(!arguments.length)return Array.from(this,datum);var bind=key?bindKey:bindIndex,parents=this._parents,groups=this._groups;"function"!=typeof value&&(value=function src_constant(x){return function(){return x}}(value));for(var m=groups.length,update=new Array(m),enter=new Array(m),exit=new Array(m),j=0;j<m;++j){var parent=parents[j],group=groups[j],groupLength=group.length,data=arraylike(value.call(parent,parent&&parent.__data__,j,parents)),dataLength=data.length,enterGroup=enter[j]=new Array(dataLength),updateGroup=update[j]=new Array(dataLength);bind(parent,group,enterGroup,updateGroup,exit[j]=new Array(groupLength),data,key);for(var previous,next,i0=0,i1=0;i0<dataLength;++i0)if(previous=enterGroup[i0]){for(i0>=i1&&(i1=i0+1);!(next=updateGroup[i1])&&++i1<dataLength;);previous._next=next||null}}return(update=new Selection(update,parents))._enter=enter,update._exit=exit,update},enter:function enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)},exit:function exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)},join:function join(onenter,onupdate,onexit){var enter=this.enter(),update=this,exit=this.exit();return"function"==typeof onenter?(enter=onenter(enter))&&(enter=enter.selection()):enter=enter.append(onenter+""),null!=onupdate&&(update=onupdate(update))&&(update=update.selection()),null==onexit?exit.remove():onexit(exit),enter&&update?enter.merge(update).order():update},merge:function selection_merge(context){for(var selection=context.selection?context.selection():context,groups0=this._groups,groups1=selection._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Selection(merges,this._parents)},selection:function selection_selection(){return this},order:function order(){for(var groups=this._groups,j=-1,m=groups.length;++j<m;)for(var node,group=groups[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&4^node.compareDocumentPosition(next)&&next.parentNode.insertBefore(node,next),next=node);return this},sort:function selection_sort(compare){function compareNode(a,b){return a&&b?compare(a.__data__,b.__data__):!a-!b}compare||(compare=sort_ascending);for(var groups=this._groups,m=groups.length,sortgroups=new Array(m),j=0;j<m;++j){for(var node,group=groups[j],n=group.length,sortgroup=sortgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(sortgroup[i]=node);sortgroup.sort(compareNode)}return new Selection(sortgroups,this._parents).order()},call:function call(){var callback=arguments[0];return arguments[0]=this,callback.apply(null,arguments),this},nodes:function nodes(){return Array.from(this)},node:function node(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var group=groups[j],i=0,n=group.length;i<n;++i){var node=group[i];if(node)return node}return null},size:function size(){let size=0;for(const node of this)++size;return size},empty:function selection_empty(){return!this.node()},each:function each(callback){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&callback.call(node,node.__data__,i,group);return this},attr:function attr(name,value){var fullname=namespace(name);if(arguments.length<2){var node=this.node();return fullname.local?node.getAttributeNS(fullname.space,fullname.local):node.getAttribute(fullname)}return this.each((null==value?fullname.local?attrRemoveNS:attrRemove:"function"==typeof value?fullname.local?attrFunctionNS:attrFunction:fullname.local?attrConstantNS:attrConstant)(fullname,value))},style:function style(name,value,priority){return arguments.length>1?this.each((null==value?styleRemove:"function"==typeof value?styleFunction:styleConstant)(name,value,null==priority?"":priority)):styleValue(this.node(),name)},property:function property(name,value){return arguments.length>1?this.each((null==value?propertyRemove:"function"==typeof value?propertyFunction:propertyConstant)(name,value)):this.node()[name]},classed:function classed(name,value){var names=classArray(name+"");if(arguments.length<2){for(var list=classList(this.node()),i=-1,n=names.length;++i<n;)if(!list.contains(names[i]))return!1;return!0}return this.each(("function"==typeof value?classedFunction:value?classedTrue:classedFalse)(names,value))},text:function selection_text(value){return arguments.length?this.each(null==value?textRemove:("function"==typeof value?textFunction:textConstant)(value)):this.node().textContent},html:function html(value){return arguments.length?this.each(null==value?htmlRemove:("function"==typeof value?htmlFunction:htmlConstant)(value)):this.node().innerHTML},raise:function selection_raise(){return this.each(raise)},lower:function selection_lower(){return this.each(lower)},append:function append(name){var create="function"==typeof name?name:creator(name);return this.select((function(){return this.appendChild(create.apply(this,arguments))}))},insert:function insert(name,before){var create="function"==typeof name?name:creator(name),select=null==before?constantNull:"function"==typeof before?before:selector(before);return this.select((function(){return this.insertBefore(create.apply(this,arguments),select.apply(this,arguments)||null)}))},remove:function selection_remove(){return this.each(remove)},clone:function clone(deep){return this.select(deep?selection_cloneDeep:selection_cloneShallow)},datum:function selection_datum(value){return arguments.length?this.property("__data__",value):this.node().__data__},on:function on(typename,value,options){var i,t,typenames=function on_parseTypenames(typenames){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");return i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),{type:t,name}}))}(typename+""),n=typenames.length;if(!(arguments.length<2)){for(on=value?onAdd:onRemove,i=0;i<n;++i)this.each(on(typenames[i],value,options));return this}var on=this.node().__on;if(on)for(var o,j=0,m=on.length;j<m;++j)for(i=0,o=on[j];i<n;++i)if((t=typenames[i]).type===o.type&&t.name===o.name)return o.value},dispatch:function selection_dispatch(type,params){return this.each(("function"==typeof params?dispatchFunction:dispatchConstant)(type,params))},[Symbol.iterator]:function*iterator(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&(yield node)}};const src_selection=selection;function src_select(selector){return"string"==typeof selector?new Selection([[document.querySelector(selector)]],[document.documentElement]):new Selection([[selector]],root)}const nonpassive={passive:!1},nonpassivecapture={capture:!0,passive:!1};function nopropagation(event){event.stopImmediatePropagation()}function noevent(event){event.preventDefault(),event.stopImmediatePropagation()}function nodrag(view){var root=view.document.documentElement,selection=src_select(view).on("dragstart.drag",noevent,nonpassivecapture);"onselectstart"in root?selection.on("selectstart.drag",noevent,nonpassivecapture):(root.__noselect=root.style.MozUserSelect,root.style.MozUserSelect="none")}function yesdrag(view,noclick){var root=view.document.documentElement,selection=src_select(view).on("dragstart.drag",null);noclick&&(selection.on("click.drag",noevent,nonpassivecapture),setTimeout((function(){selection.on("click.drag",null)}),0)),"onselectstart"in root?selection.on("selectstart.drag",null):(root.style.MozUserSelect=root.__noselect,delete root.__noselect)}function src_define(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color(){}var brighter=1/.7,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(format){var m,l;return format=(format+"").trim().toLowerCase(),(m=reHex.exec(format))?(l=m[1].length,m=parseInt(m[1],16),6===l?rgbn(m):3===l?new Rgb(m>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):8===l?rgba(m>>24&255,m>>16&255,m>>8&255,(255&m)/255):4===l?rgba(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|240&m,((15&m)<<4|15&m)/255):null):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function rgbConvert(o){return o instanceof Color||(o=color(o)),o?new Rgb((o=o.rgb()).r,o.g,o.b,o.opacity):new Rgb}function color_rgb(r,g,b,opacity){return 1===arguments.length?rgbConvert(r):new Rgb(r,g,b,null==opacity?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatRgb(){const a=clampa(this.opacity);return`${1===a?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${1===a?")":`, ${a})`}`}function clampa(opacity){return isNaN(opacity)?1:Math.max(0,Math.min(1,opacity))}function clampi(value){return Math.max(0,Math.min(255,Math.round(value)||0))}function hex(value){return((value=clampi(value))<16?"0":"")+value.toString(16)}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;var r=(o=o.rgb()).r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}function hsl(h,s,l,opacity){return 1===arguments.length?hslConvert(h):new Hsl(h,s,l,null==opacity?1:opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function clamph(value){return(value=(value||0)%360)<0?value+360:value}function clampt(value){return Math.max(0,Math.min(1,value||0))}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}function basis(t1,v0,v1,v2,v3){var t2=t1*t1,t3=t2*t1;return((1-3*t1+3*t2-t3)*v0+(4-6*t2+3*t3)*v1+(1+3*t1+3*t2-3*t3)*v2+t3*v3)/6}function src_basis(values){var n=values.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),v1=values[i],v2=values[i+1],v0=i>0?values[i-1]:2*v1-v2,v3=i<n-1?values[i+2]:2*v2-v1;return basis((t-i/n)*n,v0,v1,v2,v3)}}function basisClosed(values){var n=values.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n),v0=values[(i+n-1)%n],v1=values[i%n],v2=values[(i+1)%n],v3=values[(i+2)%n];return basis((t-i/n)*n,v0,v1,v2,v3)}}src_define(Color,color,{copy(channels){return Object.assign(new this.constructor,this,channels)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:function color_formatHex8(){return this.rgb().formatHex8()},formatHsl:function color_formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),src_define(Rgb,color_rgb,extend(Color,{brighter(k){return k=null==k?brighter:Math.pow(brighter,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker(k){return k=null==k?.7:Math.pow(.7,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),src_define(Hsl,hsl,extend(Color,{brighter(k){return k=null==k?brighter:Math.pow(brighter,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker(k){return k=null==k?.7:Math.pow(.7,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=clampa(this.opacity);return`${1===a?"hsl(":"hsla("}${clamph(this.h)}, ${100*clampt(this.s)}%, ${100*clampt(this.l)}%${1===a?")":`, ${a})`}`}}));const d3_interpolate_src_constant=x=>()=>x;function linear(a,d){return function(t){return a+t*d}}function hue(a,b){var d=b-a;return d?linear(a,d>180||d<-180?d-360*Math.round(d/360):d):d3_interpolate_src_constant(isNaN(a)?b:a)}function gamma(y){return 1===(y=+y)?nogamma:function(a,b){return b-a?function exponential(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}(a,b,y):d3_interpolate_src_constant(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?linear(a,d):d3_interpolate_src_constant(isNaN(a)?b:a)}const rgb=function rgbGamma(y){var color=gamma(y);function rgb(start,end){var r=color((start=color_rgb(start)).r,(end=color_rgb(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(spline){return function(colors){var i,color,n=colors.length,r=new Array(n),g=new Array(n),b=new Array(n);for(i=0;i<n;++i)color=color_rgb(colors[i]),r[i]=color.r||0,g[i]=color.g||0,b[i]=color.b||0;return r=spline(r),g=spline(g),b=spline(b),color.opacity=1,function(t){return color.r=r(t),color.g=g(t),color.b=b(t),color+""}}}var rgbBasis=rgbSpline(src_basis),rgbBasisClosed=rgbSpline(basisClosed);function numberArray(a,b){b||(b=[]);var i,n=a?Math.min(b.length,a.length):0,c=b.slice();return function(t){for(i=0;i<n;++i)c[i]=a[i]*(1-t)+b[i]*t;return c}}function isNumberArray(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}function src_array(a,b){return(isNumberArray(b)?numberArray:genericArray)(a,b)}function genericArray(a,b){var i,nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=new Array(na),c=new Array(nb);for(i=0;i<na;++i)x[i]=value(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}}function date(a,b){var d=new Date;return a=+a,b=+b,function(t){return d.setTime(a*(1-t)+b*t),d}}function src_number(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function object(a,b){var k,i={},c={};for(k in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)k in a?i[k]=value(a[k],b[k]):c[k]=b[k];return function(t){for(k in i)c[k]=i[k](t);return c}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function string(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i,x:src_number(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?function one(b){return function(t){return b(t)+""}}(q[0].x):function string_zero(b){return function(){return b}}(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function value(a,b){var c,t=typeof b;return null==b||"boolean"===t?d3_interpolate_src_constant(b):("number"===t?src_number:"string"===t?(c=color(b))?(b=c,rgb):string:b instanceof color?rgb:b instanceof Date?date:isNumberArray(b)?numberArray:Array.isArray(b)?genericArray:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?object:src_number)(a,b)}function sourceEvent(event){let sourceEvent;for(;sourceEvent=event.sourceEvent;)event=sourceEvent;return event}function pointer(event,node){if(event=sourceEvent(event),void 0===node&&(node=event.currentTarget),node){var svg=node.ownerSVGElement||node;if(svg.createSVGPoint){var point=svg.createSVGPoint();return point.x=event.clientX,point.y=event.clientY,[(point=point.matrixTransform(node.getScreenCTM().inverse())).x,point.y]}if(node.getBoundingClientRect){var rect=node.getBoundingClientRect();return[event.clientX-rect.left-node.clientLeft,event.clientY-rect.top-node.clientTop]}}return[event.pageX,event.pageY]}var taskHead,taskTail,timer_frame=0,timeout=0,interval=0,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(f){setTimeout(f,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(callback,delay,time){var t=new Timer;return t.restart(callback,delay,time),t}function timerFlush(){now(),++timer_frame;for(var e,t=taskHead;t;)(e=clockNow-t._time)>=0&&t._call.call(void 0,e),t=t._next;--timer_frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,timer_frame=timeout=0;try{timerFlush()}finally{timer_frame=0,function nap(){var t0,t2,t1=taskHead,time=1/0;for(;t1;)t1._call?(time>t1._time&&(time=t1._time),t0=t1,t1=t1._next):(t2=t1._next,t1._next=null,t1=t0?t0._next=t2:taskHead=t2);taskTail=t0,sleep(time)}(),clockNow=0}}function poke(){var now=clock.now(),delay=now-clockLast;delay>1e3&&(clockSkew-=delay,clockLast=now)}function sleep(time){timer_frame||(timeout&&(timeout=clearTimeout(timeout)),time-clockNow>24?(time<1/0&&(timeout=setTimeout(wake,time-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,1e3)),timer_frame=1,setFrame(wake)))}function src_timeout(callback,delay,time){var t=new Timer;return delay=null==delay?0:+delay,t.restart((elapsed=>{t.stop(),callback(elapsed+delay)}),delay,time),t}Timer.prototype=timer.prototype={constructor:Timer,restart:function(callback,delay,time){if("function"!=typeof callback)throw new TypeError("callback is not a function");time=(null==time?now():+time)+(null==delay?0:+delay),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=callback,this._time=time,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=src_dispatch("start","end","cancel","interrupt"),emptyTween=[],SCHEDULED=1,STARTING=2,ENDING=5,ENDED=6;function schedule(node,name,id,index,group,timing){var schedules=node.__transition;if(schedules){if(id in schedules)return}else node.__transition={};!function create(node,id,self){var tween,schedules=node.__transition;function schedule(elapsed){self.state=SCHEDULED,self.timer.restart(start,self.delay,self.time),self.delay<=elapsed&&start(elapsed-self.delay)}function start(elapsed){var i,j,n,o;if(self.state!==SCHEDULED)return stop();for(i in schedules)if((o=schedules[i]).name===self.name){if(3===o.state)return src_timeout(start);4===o.state?(o.state=ENDED,o.timer.stop(),o.on.call("interrupt",node,node.__data__,o.index,o.group),delete schedules[i]):+i<id&&(o.state=ENDED,o.timer.stop(),o.on.call("cancel",node,node.__data__,o.index,o.group),delete schedules[i])}if(src_timeout((function(){3===self.state&&(self.state=4,self.timer.restart(tick,self.delay,self.time),tick(elapsed))})),self.state=STARTING,self.on.call("start",node,node.__data__,self.index,self.group),self.state===STARTING){for(self.state=3,tween=new Array(n=self.tween.length),i=0,j=-1;i<n;++i)(o=self.tween[i].value.call(node,node.__data__,self.index,self.group))&&(tween[++j]=o);tween.length=j+1}}function tick(elapsed){for(var t=elapsed<self.duration?self.ease.call(null,elapsed/self.duration):(self.timer.restart(stop),self.state=ENDING,1),i=-1,n=tween.length;++i<n;)tween[i].call(node,t);self.state===ENDING&&(self.on.call("end",node,node.__data__,self.index,self.group),stop())}function stop(){for(var i in self.state=ENDED,self.timer.stop(),delete schedules[id],schedules)return;delete node.__transition}schedules[id]=self,self.timer=timer(schedule,0,self.time)}(node,id,{name,index,group,on:emptyOn,tween:emptyTween,time:timing.time,delay:timing.delay,duration:timing.duration,ease:timing.ease,timer:null,state:0})}function init(node,id){var schedule=schedule_get(node,id);if(schedule.state>0)throw new Error("too late; already scheduled");return schedule}function schedule_set(node,id){var schedule=schedule_get(node,id);if(schedule.state>3)throw new Error("too late; already running");return schedule}function schedule_get(node,id){var schedule=node.__transition;if(!schedule||!(schedule=schedule[id]))throw new Error("transition not found");return schedule}function interrupt(node,name){var schedule,active,i,schedules=node.__transition,empty=!0;if(schedules){for(i in name=null==name?null:name+"",schedules)(schedule=schedules[i]).name===name?(active=schedule.state>STARTING&&schedule.state<ENDING,schedule.state=ENDED,schedule.timer.stop(),schedule.on.call(active?"interrupt":"cancel",node,node.__data__,schedule.index,schedule.group),delete schedules[i]):empty=!1;empty&&delete node.__transition}}var svgNode,degrees=180/Math.PI,decompose_identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(a,b,c,d,e,f){var scaleX,scaleY,skewX;return(scaleX=Math.sqrt(a*a+b*b))&&(a/=scaleX,b/=scaleX),(skewX=a*c+b*d)&&(c-=a*skewX,d-=b*skewX),(scaleY=Math.sqrt(c*c+d*d))&&(c/=scaleY,d/=scaleY,skewX/=scaleY),a*d<b*c&&(a=-a,b=-b,skewX=-skewX,scaleX=-scaleX),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,skewX:Math.atan(skewX)*degrees,scaleX,scaleY}}function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=parse(a),b=parse(b),function translate(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push("translate(",null,pxComma,null,pxParen);q.push({i:i-4,x:src_number(xa,xb)},{i:i-2,x:src_number(ya,yb)})}else(xb||yb)&&s.push("translate("+xb+pxComma+yb+pxParen)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function rotate(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:src_number(a,b)})):b&&s.push(pop(s)+"rotate("+b+degParen)}(a.rotate,b.rotate,s,q),function skewX(a,b,s,q){a!==b?q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:src_number(a,b)}):b&&s.push(pop(s)+"skewX("+b+degParen)}(a.skewX,b.skewX,s,q),function scale(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push(pop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:src_number(xa,xb)},{i:i-2,x:src_number(ya,yb)})}else 1===xb&&1===yb||s.push(pop(s)+"scale("+xb+","+yb+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var o,i=-1,n=q.length;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}}var interpolateTransformCss=interpolateTransform((function parseCss(value){const m=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(value+"");return m.isIdentity?decompose_identity:decompose(m.a,m.b,m.c,m.d,m.e,m.f)}),"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform((function parseSvg(value){return null==value?decompose_identity:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",value),(value=svgNode.transform.baseVal.consolidate())?decompose((value=value.matrix).a,value.b,value.c,value.d,value.e,value.f):decompose_identity)}),", ",")",")");function tweenRemove(id,name){var tween0,tween1;return function(){var schedule=schedule_set(this,id),tween=schedule.tween;if(tween!==tween0)for(var i=0,n=(tween1=tween0=tween).length;i<n;++i)if(tween1[i].name===name){(tween1=tween1.slice()).splice(i,1);break}schedule.tween=tween1}}function tweenFunction(id,name,value){var tween0,tween1;if("function"!=typeof value)throw new Error;return function(){var schedule=schedule_set(this,id),tween=schedule.tween;if(tween!==tween0){tween1=(tween0=tween).slice();for(var t={name,value},i=0,n=tween1.length;i<n;++i)if(tween1[i].name===name){tween1[i]=t;break}i===n&&tween1.push(t)}schedule.tween=tween1}}function tweenValue(transition,name,value){var id=transition._id;return transition.each((function(){var schedule=schedule_set(this,id);(schedule.value||(schedule.value={}))[name]=value.apply(this,arguments)})),function(node){return schedule_get(node,id).value[name]}}function interpolate(a,b){var c;return("number"==typeof b?src_number:b instanceof color?rgb:(c=color(b))?(b=c,rgb):string)(a,b)}function attr_attrRemove(name){return function(){this.removeAttribute(name)}}function attr_attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attr_attrConstant(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttribute(name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attr_attrConstantNS(fullname,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttributeNS(fullname.space,fullname.local);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attr_attrFunction(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttribute(name))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttribute(name)}}function attr_attrFunctionNS(fullname,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttributeNS(fullname.space,fullname.local))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttributeNS(fullname.space,fullname.local)}}function attrTweenNS(fullname,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function attrInterpolateNS(fullname,i){return function(t){this.setAttributeNS(fullname.space,fullname.local,i.call(this,t))}}(fullname,i)),t0}return tween._value=value,tween}function attrTween(name,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function attrInterpolate(name,i){return function(t){this.setAttribute(name,i.call(this,t))}}(name,i)),t0}return tween._value=value,tween}function delayFunction(id,value){return function(){init(this,id).delay=+value.apply(this,arguments)}}function delayConstant(id,value){return value=+value,function(){init(this,id).delay=value}}function durationFunction(id,value){return function(){schedule_set(this,id).duration=+value.apply(this,arguments)}}function durationConstant(id,value){return value=+value,function(){schedule_set(this,id).duration=value}}var selection_Selection=src_selection.prototype.constructor;function style_styleRemove(name){return function(){this.style.removeProperty(name)}}var id=0;function Transition(groups,parents,name,id){this._groups=groups,this._parents=parents,this._name=name,this._id=id}function transition_transition(name){return src_selection().transition(name)}function newId(){return++id}var selection_prototype=src_selection.prototype;function cubicIn(t){return t*t*t}function cubicOut(t){return--t*t*t+1}function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Transition.prototype=transition_transition.prototype={constructor:Transition,select:function transition_select(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode,schedule(subgroup[i],name,id,i,subgroup,schedule_get(node,id)));return new Transition(subgroups,this._parents,name,id)},selectAll:function transition_selectAll(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=selectorAll(select));for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){for(var child,children=select.call(node,node.__data__,i,group),inherit=schedule_get(node,id),k=0,l=children.length;k<l;++k)(child=children[k])&&schedule(child,name,id,k,children,inherit);subgroups.push(children),parents.push(node)}return new Transition(subgroups,parents,name,id)},selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:function transition_filter(match){"function"!=typeof match&&(match=matcher(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Transition(subgroups,this._parents,this._name,this._id)},merge:function transition_merge(transition){if(transition._id!==this._id)throw new Error;for(var groups0=this._groups,groups1=transition._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Transition(merges,this._parents,this._name,this._id)},selection:function transition_selection(){return new selection_Selection(this._groups,this._parents)},transition:function transition(){for(var name=this._name,id0=this._id,id1=newId(),groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){var inherit=schedule_get(node,id0);schedule(node,name,id1,i,group,{time:inherit.time+inherit.delay+inherit.duration,delay:0,duration:inherit.duration,ease:inherit.ease})}return new Transition(groups,this._parents,name,id1)},call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:function transition_on(name,listener){var id=this._id;return arguments.length<2?schedule_get(this.node(),id).on.on(name):this.each(function onFunction(id,name,listener){var on0,on1,sit=function start(name){return(name+"").trim().split(/^|\s+/).every((function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||"start"===t}))}(name)?init:schedule_set;return function(){var schedule=sit(this,id),on=schedule.on;on!==on0&&(on1=(on0=on).copy()).on(name,listener),schedule.on=on1}}(id,name,listener))},attr:function transition_attr(name,value){var fullname=namespace(name),i="transform"===fullname?interpolateTransformSvg:interpolate;return this.attrTween(name,"function"==typeof value?(fullname.local?attr_attrFunctionNS:attr_attrFunction)(fullname,i,tweenValue(this,"attr."+name,value)):null==value?(fullname.local?attr_attrRemoveNS:attr_attrRemove)(fullname):(fullname.local?attr_attrConstantNS:attr_attrConstant)(fullname,i,value))},attrTween:function transition_attrTween(name,value){var key="attr."+name;if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;var fullname=namespace(name);return this.tween(key,(fullname.local?attrTweenNS:attrTween)(fullname,value))},style:function transition_style(name,value,priority){var i="transform"==(name+="")?interpolateTransformCss:interpolate;return null==value?this.styleTween(name,function styleNull(name,interpolate){var string00,string10,interpolate0;return function(){var string0=styleValue(this,name),string1=(this.style.removeProperty(name),styleValue(this,name));return string0===string1?null:string0===string00&&string1===string10?interpolate0:interpolate0=interpolate(string00=string0,string10=string1)}}(name,i)).on("end.style."+name,style_styleRemove(name)):"function"==typeof value?this.styleTween(name,function style_styleFunction(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0=styleValue(this,name),value1=value(this),string1=value1+"";return null==value1&&(this.style.removeProperty(name),string1=value1=styleValue(this,name)),string0===string1?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1))}}(name,i,tweenValue(this,"style."+name,value))).each(function styleMaybeRemove(id,name){var on0,on1,listener0,remove,key="style."+name,event="end."+key;return function(){var schedule=schedule_set(this,id),on=schedule.on,listener=null==schedule.value[key]?remove||(remove=style_styleRemove(name)):void 0;on===on0&&listener0===listener||(on1=(on0=on).copy()).on(event,listener0=listener),schedule.on=on1}}(this._id,name)):this.styleTween(name,function style_styleConstant(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=styleValue(this,name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}(name,i,value),priority).on("end.style."+name,null)},styleTween:function transition_styleTween(name,value,priority){var key="style."+(name+="");if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,function styleTween(name,value,priority){var t,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t=(i0=i)&&function styleInterpolate(name,i,priority){return function(t){this.style.setProperty(name,i.call(this,t),priority)}}(name,i,priority)),t}return tween._value=value,tween}(name,value,null==priority?"":priority))},text:function transition_text(value){return this.tween("text","function"==typeof value?function text_textFunction(value){return function(){var value1=value(this);this.textContent=null==value1?"":value1}}(tweenValue(this,"text",value)):function text_textConstant(value){return function(){this.textContent=value}}(null==value?"":value+""))},textTween:function transition_textTween(value){var key="text";if(arguments.length<1)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,function textTween(value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function textInterpolate(i){return function(t){this.textContent=i.call(this,t)}}(i)),t0}return tween._value=value,tween}(value))},remove:function transition_remove(){return this.on("end.remove",function removeFunction(id){return function(){var parent=this.parentNode;for(var i in this.__transition)if(+i!==id)return;parent&&parent.removeChild(this)}}(this._id))},tween:function tween(name,value){var id=this._id;if(name+="",arguments.length<2){for(var t,tween=schedule_get(this.node(),id).tween,i=0,n=tween.length;i<n;++i)if((t=tween[i]).name===name)return t.value;return null}return this.each((null==value?tweenRemove:tweenFunction)(id,name,value))},delay:function delay(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?delayFunction:delayConstant)(id,value)):schedule_get(this.node(),id).delay},duration:function duration(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?durationFunction:durationConstant)(id,value)):schedule_get(this.node(),id).duration},ease:function ease(value){var id=this._id;return arguments.length?this.each(function easeConstant(id,value){if("function"!=typeof value)throw new Error;return function(){schedule_set(this,id).ease=value}}(id,value)):schedule_get(this.node(),id).ease},easeVarying:function transition_easeVarying(value){if("function"!=typeof value)throw new Error;return this.each(function easeVarying(id,value){return function(){var v=value.apply(this,arguments);if("function"!=typeof v)throw new Error;schedule_set(this,id).ease=v}}(this._id,value))},end:function end(){var on0,on1,that=this,id=that._id,size=that.size();return new Promise((function(resolve,reject){var cancel={value:reject},end={value:function(){0===--size&&resolve()}};that.each((function(){var schedule=schedule_set(this,id),on=schedule.on;on!==on0&&((on1=(on0=on).copy())._.cancel.push(cancel),on1._.interrupt.push(cancel),on1._.end.push(end)),schedule.on=on1})),0===size&&resolve()}))},[Symbol.iterator]:selection_prototype[Symbol.iterator]};var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(node,id){for(var timing;!(timing=node.__transition)||!(timing=timing[id]);)if(!(node=node.parentNode))throw new Error(`transition ${id} not found`);return timing}src_selection.prototype.interrupt=function selection_interrupt(name){return this.each((function(){interrupt(this,name)}))},src_selection.prototype.transition=function selection_transition(name){var id,timing;name instanceof Transition?(id=name._id,name=name._name):(id=newId(),(timing=defaultTiming).time=now(),name=null==name?null:name+"");for(var groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&schedule(node,name,id,i,group,timing||inherit(node,id));return new Transition(groups,this._parents,name,id)};var active_root=[null];function active(node,name){var schedule,i,schedules=node.__transition;if(schedules)for(i in name=null==name?null:name+"",schedules)if((schedule=schedules[i]).state>SCHEDULED&&schedule.name===name)return new Transition([[node]],active_root,name,+i);return null}const d3_brush_src_constant=x=>()=>x;function BrushEvent(type,{sourceEvent,target,selection,mode,dispatch}){Object.defineProperties(this,{type:{value:type,enumerable:!0,configurable:!0},sourceEvent:{value:sourceEvent,enumerable:!0,configurable:!0},target:{value:target,enumerable:!0,configurable:!0},selection:{value:selection,enumerable:!0,configurable:!0},mode:{value:mode,enumerable:!0,configurable:!0},_:{value:dispatch}})}function src_noevent(event){event.preventDefault(),event.stopImmediatePropagation()}var MODE_DRAG={name:"drag"},MODE_SPACE={name:"space"},MODE_HANDLE={name:"handle"},MODE_CENTER={name:"center"};const{abs,max:brush_max,min:brush_min}=Math;function number1(e){return[+e[0],+e[1]]}function number2(e){return[number1(e[0]),number1(e[1])]}var X={name:"x",handles:["w","e"].map(type),input:function(x,e){return null==x?null:[[+x[0],e[0][1]],[+x[1],e[1][1]]]},output:function(xy){return xy&&[xy[0][0],xy[1][0]]}},Y={name:"y",handles:["n","s"].map(type),input:function(y,e){return null==y?null:[[e[0][0],+y[0]],[e[1][0],+y[1]]]},output:function(xy){return xy&&[xy[0][1],xy[1][1]]}},XY={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(type),input:function(xy){return null==xy?null:number2(xy)},output:function(xy){return xy}},cursors={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},flipX={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},flipY={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},signsX={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},signsY={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function type(t){return{type:t}}function defaultFilter(event){return!event.ctrlKey&&!event.button}function defaultExtent(){var svg=this.ownerSVGElement||this;return svg.hasAttribute("viewBox")?[[(svg=svg.viewBox.baseVal).x,svg.y],[svg.x+svg.width,svg.y+svg.height]]:[[0,0],[svg.width.baseVal.value,svg.height.baseVal.value]]}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function local(node){for(;!node.__brush;)if(!(node=node.parentNode))return;return node.__brush}function brushSelection(node){var state=node.__brush;return state?state.dim.output(state.selection):null}function brushX(){return brush_brush(X)}function brushY(){return brush_brush(Y)}function brush(){return brush_brush(XY)}function brush_brush(dim){var touchending,extent=defaultExtent,filter=defaultFilter,touchable=defaultTouchable,keys=!0,listeners=src_dispatch("start","brush","end"),handleSize=6;function brush(group){var overlay=group.property("__brush",initialize).selectAll(".overlay").data([type("overlay")]);overlay.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",cursors.overlay).merge(overlay).each((function(){var extent=local(this).extent;src_select(this).attr("x",extent[0][0]).attr("y",extent[0][1]).attr("width",extent[1][0]-extent[0][0]).attr("height",extent[1][1]-extent[0][1])})),group.selectAll(".selection").data([type("selection")]).enter().append("rect").attr("class","selection").attr("cursor",cursors.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var handle=group.selectAll(".handle").data(dim.handles,(function(d){return d.type}));handle.exit().remove(),handle.enter().append("rect").attr("class",(function(d){return"handle handle--"+d.type})).attr("cursor",(function(d){return cursors[d.type]})),group.each(redraw).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",started).filter(touchable).on("touchstart.brush",started).on("touchmove.brush",touchmoved).on("touchend.brush touchcancel.brush",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function redraw(){var group=src_select(this),selection=local(this).selection;selection?(group.selectAll(".selection").style("display",null).attr("x",selection[0][0]).attr("y",selection[0][1]).attr("width",selection[1][0]-selection[0][0]).attr("height",selection[1][1]-selection[0][1]),group.selectAll(".handle").style("display",null).attr("x",(function(d){return"e"===d.type[d.type.length-1]?selection[1][0]-handleSize/2:selection[0][0]-handleSize/2})).attr("y",(function(d){return"s"===d.type[0]?selection[1][1]-handleSize/2:selection[0][1]-handleSize/2})).attr("width",(function(d){return"n"===d.type||"s"===d.type?selection[1][0]-selection[0][0]+handleSize:handleSize})).attr("height",(function(d){return"e"===d.type||"w"===d.type?selection[1][1]-selection[0][1]+handleSize:handleSize}))):group.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function emitter(that,args,clean){var emit=that.__brush.emitter;return!emit||clean&&emit.clean?new Emitter(that,args,clean):emit}function Emitter(that,args,clean){this.that=that,this.args=args,this.state=that.__brush,this.active=0,this.clean=clean}function started(event){if((!touchending||event.touches)&&filter.apply(this,arguments)){var w0,w1,n0,n1,e0,e1,s0,s1,moving,lockX,lockY,that=this,type=event.target.__data__.type,mode="selection"===(keys&&event.metaKey?type="overlay":type)?MODE_DRAG:keys&&event.altKey?MODE_CENTER:MODE_HANDLE,signX=dim===Y?null:signsX[type],signY=dim===X?null:signsY[type],state=local(that),extent=state.extent,selection=state.selection,W=extent[0][0],N=extent[0][1],E=extent[1][0],S=extent[1][1],dx=0,dy=0,shifting=signX&&signY&&keys&&event.shiftKey,points=Array.from(event.touches||[event],(t=>{const i=t.identifier;return(t=pointer(t,that)).point0=t.slice(),t.identifier=i,t}));interrupt(that);var emit=emitter(that,arguments,!0).beforestart();if("overlay"===type){selection&&(moving=!0);const pts=[points[0],points[1]||points[0]];state.selection=selection=[[w0=dim===Y?W:brush_min(pts[0][0],pts[1][0]),n0=dim===X?N:brush_min(pts[0][1],pts[1][1])],[e0=dim===Y?E:brush_max(pts[0][0],pts[1][0]),s0=dim===X?S:brush_max(pts[0][1],pts[1][1])]],points.length>1&&move(event)}else w0=selection[0][0],n0=selection[0][1],e0=selection[1][0],s0=selection[1][1];w1=w0,n1=n0,e1=e0,s1=s0;var group=src_select(that).attr("pointer-events","none"),overlay=group.selectAll(".overlay").attr("cursor",cursors[type]);if(event.touches)emit.moved=moved,emit.ended=ended;else{var view=src_select(event.view).on("mousemove.brush",moved,!0).on("mouseup.brush",ended,!0);keys&&view.on("keydown.brush",(function keydowned(event){switch(event.keyCode){case 16:shifting=signX&&signY;break;case 18:mode===MODE_HANDLE&&(signX&&(e0=e1-dx*signX,w0=w1+dx*signX),signY&&(s0=s1-dy*signY,n0=n1+dy*signY),mode=MODE_CENTER,move(event));break;case 32:mode!==MODE_HANDLE&&mode!==MODE_CENTER||(signX<0?e0=e1-dx:signX>0&&(w0=w1-dx),signY<0?s0=s1-dy:signY>0&&(n0=n1-dy),mode=MODE_SPACE,overlay.attr("cursor",cursors.selection),move(event));break;default:return}src_noevent(event)}),!0).on("keyup.brush",(function keyupped(event){switch(event.keyCode){case 16:shifting&&(lockX=lockY=shifting=!1,move(event));break;case 18:mode===MODE_CENTER&&(signX<0?e0=e1:signX>0&&(w0=w1),signY<0?s0=s1:signY>0&&(n0=n1),mode=MODE_HANDLE,move(event));break;case 32:mode===MODE_SPACE&&(event.altKey?(signX&&(e0=e1-dx*signX,w0=w1+dx*signX),signY&&(s0=s1-dy*signY,n0=n1+dy*signY),mode=MODE_CENTER):(signX<0?e0=e1:signX>0&&(w0=w1),signY<0?s0=s1:signY>0&&(n0=n1),mode=MODE_HANDLE),overlay.attr("cursor",cursors[type]),move(event));break;default:return}src_noevent(event)}),!0),nodrag(event.view)}redraw.call(that),emit.start(event,mode.name)}function moved(event){for(const p of event.changedTouches||[event])for(const d of points)d.identifier===p.identifier&&(d.cur=pointer(p,that));if(shifting&&!lockX&&!lockY&&1===points.length){const point=points[0];abs(point.cur[0]-point[0])>abs(point.cur[1]-point[1])?lockY=!0:lockX=!0}for(const point of points)point.cur&&(point[0]=point.cur[0],point[1]=point.cur[1]);moving=!0,src_noevent(event),move(event)}function move(event){const point=points[0],point0=point.point0;var t;switch(dx=point[0]-point0[0],dy=point[1]-point0[1],mode){case MODE_SPACE:case MODE_DRAG:signX&&(dx=brush_max(W-w0,brush_min(E-e0,dx)),w1=w0+dx,e1=e0+dx),signY&&(dy=brush_max(N-n0,brush_min(S-s0,dy)),n1=n0+dy,s1=s0+dy);break;case MODE_HANDLE:points[1]?(signX&&(w1=brush_max(W,brush_min(E,points[0][0])),e1=brush_max(W,brush_min(E,points[1][0])),signX=1),signY&&(n1=brush_max(N,brush_min(S,points[0][1])),s1=brush_max(N,brush_min(S,points[1][1])),signY=1)):(signX<0?(dx=brush_max(W-w0,brush_min(E-w0,dx)),w1=w0+dx,e1=e0):signX>0&&(dx=brush_max(W-e0,brush_min(E-e0,dx)),w1=w0,e1=e0+dx),signY<0?(dy=brush_max(N-n0,brush_min(S-n0,dy)),n1=n0+dy,s1=s0):signY>0&&(dy=brush_max(N-s0,brush_min(S-s0,dy)),n1=n0,s1=s0+dy));break;case MODE_CENTER:signX&&(w1=brush_max(W,brush_min(E,w0-dx*signX)),e1=brush_max(W,brush_min(E,e0+dx*signX))),signY&&(n1=brush_max(N,brush_min(S,n0-dy*signY)),s1=brush_max(N,brush_min(S,s0+dy*signY)))}e1<w1&&(signX*=-1,t=w0,w0=e0,e0=t,t=w1,w1=e1,e1=t,type in flipX&&overlay.attr("cursor",cursors[type=flipX[type]])),s1<n1&&(signY*=-1,t=n0,n0=s0,s0=t,t=n1,n1=s1,s1=t,type in flipY&&overlay.attr("cursor",cursors[type=flipY[type]])),state.selection&&(selection=state.selection),lockX&&(w1=selection[0][0],e1=selection[1][0]),lockY&&(n1=selection[0][1],s1=selection[1][1]),selection[0][0]===w1&&selection[0][1]===n1&&selection[1][0]===e1&&selection[1][1]===s1||(state.selection=[[w1,n1],[e1,s1]],redraw.call(that),emit.brush(event,mode.name))}function ended(event){if(function noevent_nopropagation(event){event.stopImmediatePropagation()}(event),event.touches){if(event.touches.length)return;touchending&&clearTimeout(touchending),touchending=setTimeout((function(){touchending=null}),500)}else yesdrag(event.view,moving),view.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);group.attr("pointer-events","all"),overlay.attr("cursor",cursors.overlay),state.selection&&(selection=state.selection),function brush_empty(extent){return extent[0][0]===extent[1][0]||extent[0][1]===extent[1][1]}(selection)&&(state.selection=null,redraw.call(that)),emit.end(event,mode.name)}}function touchmoved(event){emitter(this,arguments).moved(event)}function touchended(event){emitter(this,arguments).ended(event)}function initialize(){var state=this.__brush||{selection:null};return state.extent=number2(extent.apply(this,arguments)),state.dim=dim,state}return brush.move=function(group,selection,event){group.tween?group.on("start.brush",(function(event){emitter(this,arguments).beforestart().start(event)})).on("interrupt.brush end.brush",(function(event){emitter(this,arguments).end(event)})).tween("brush",(function(){var that=this,state=that.__brush,emit=emitter(that,arguments),selection0=state.selection,selection1=dim.input("function"==typeof selection?selection.apply(this,arguments):selection,state.extent),i=value(selection0,selection1);function tween(t){state.selection=1===t&&null===selection1?null:i(t),redraw.call(that),emit.brush()}return null!==selection0&&null!==selection1?tween:tween(1)})):group.each((function(){var args=arguments,state=this.__brush,selection1=dim.input("function"==typeof selection?selection.apply(this,args):selection,state.extent),emit=emitter(this,args).beforestart();interrupt(this),state.selection=null===selection1?null:selection1,redraw.call(this),emit.start(event).brush(event).end(event)}))},brush.clear=function(group,event){brush.move(group,null,event)},Emitter.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(event,mode){return this.starting?(this.starting=!1,this.emit("start",event,mode)):this.emit("brush",event),this},brush:function(event,mode){return this.emit("brush",event,mode),this},end:function(event,mode){return 0===--this.active&&(delete this.state.emitter,this.emit("end",event,mode)),this},emit:function(type,event,mode){var d=src_select(this.that).datum();listeners.call(type,this.that,new BrushEvent(type,{sourceEvent:event,target:brush,selection:dim.output(this.state.selection),mode,dispatch:listeners}),d)}},brush.extent=function(_){return arguments.length?(extent="function"==typeof _?_:d3_brush_src_constant(number2(_)),brush):extent},brush.filter=function(_){return arguments.length?(filter="function"==typeof _?_:d3_brush_src_constant(!!_),brush):filter},brush.touchable=function(_){return arguments.length?(touchable="function"==typeof _?_:d3_brush_src_constant(!!_),brush):touchable},brush.handleSize=function(_){return arguments.length?(handleSize=+_,brush):handleSize},brush.keyModifiers=function(_){return arguments.length?(keys=!!_,brush):keys},brush.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?brush:value},brush}var math_abs=Math.abs,cos=Math.cos,sin=Math.sin,pi=Math.PI,halfPi=pi/2,tau=2*pi,math_max=Math.max,math_epsilon=1e-12;function chord_range(i,j){return Array.from({length:j-i},((_,k)=>i+k))}function chord(){return chord_chord(!1,!1)}function chordTranspose(){return chord_chord(!1,!0)}function chordDirected(){return chord_chord(!0,!1)}function chord_chord(directed,transpose){var padAngle=0,sortGroups=null,sortSubgroups=null,sortChords=null;function chord(matrix){var dx,n=matrix.length,groupSums=new Array(n),groupIndex=chord_range(0,n),chords=new Array(n*n),groups=new Array(n),k=0;matrix=Float64Array.from({length:n*n},transpose?(_,i)=>matrix[i%n][i/n|0]:(_,i)=>matrix[i/n|0][i%n]);for(let i=0;i<n;++i){let x=0;for(let j=0;j<n;++j)x+=matrix[i*n+j]+directed*matrix[j*n+i];k+=groupSums[i]=x}dx=(k=math_max(0,tau-padAngle*n)/k)?padAngle:tau/n;{let x=0;sortGroups&&groupIndex.sort(((a,b)=>sortGroups(groupSums[a],groupSums[b])));for(const i of groupIndex){const x0=x;if(directed){const subgroupIndex=chord_range(1+~n,n).filter((j=>j<0?matrix[~j*n+i]:matrix[i*n+j]));sortSubgroups&&subgroupIndex.sort(((a,b)=>sortSubgroups(a<0?-matrix[~a*n+i]:matrix[i*n+a],b<0?-matrix[~b*n+i]:matrix[i*n+b])));for(const j of subgroupIndex)if(j<0){(chords[~j*n+i]||(chords[~j*n+i]={source:null,target:null})).target={index:i,startAngle:x,endAngle:x+=matrix[~j*n+i]*k,value:matrix[~j*n+i]}}else{(chords[i*n+j]||(chords[i*n+j]={source:null,target:null})).source={index:i,startAngle:x,endAngle:x+=matrix[i*n+j]*k,value:matrix[i*n+j]}}groups[i]={index:i,startAngle:x0,endAngle:x,value:groupSums[i]}}else{const subgroupIndex=chord_range(0,n).filter((j=>matrix[i*n+j]||matrix[j*n+i]));sortSubgroups&&subgroupIndex.sort(((a,b)=>sortSubgroups(matrix[i*n+a],matrix[i*n+b])));for(const j of subgroupIndex){let chord;if(i<j?(chord=chords[i*n+j]||(chords[i*n+j]={source:null,target:null}),chord.source={index:i,startAngle:x,endAngle:x+=matrix[i*n+j]*k,value:matrix[i*n+j]}):(chord=chords[j*n+i]||(chords[j*n+i]={source:null,target:null}),chord.target={index:i,startAngle:x,endAngle:x+=matrix[i*n+j]*k,value:matrix[i*n+j]},i===j&&(chord.source=chord.target)),chord.source&&chord.target&&chord.source.value<chord.target.value){const source=chord.source;chord.source=chord.target,chord.target=source}}groups[i]={index:i,startAngle:x0,endAngle:x,value:groupSums[i]}}x+=dx}}return(chords=Object.values(chords)).groups=groups,sortChords?chords.sort(sortChords):chords}return chord.padAngle=function(_){return arguments.length?(padAngle=math_max(0,_),chord):padAngle},chord.sortGroups=function(_){return arguments.length?(sortGroups=_,chord):sortGroups},chord.sortSubgroups=function(_){return arguments.length?(sortSubgroups=_,chord):sortSubgroups},chord.sortChords=function(_){return arguments.length?(null==_?sortChords=null:(sortChords=function compareValue(compare){return function(a,b){return compare(a.source.value+a.target.value,b.source.value+b.target.value)}}(_))._=_,chord):sortChords&&sortChords._},chord}const path_pi=Math.PI,path_tau=2*path_pi,tauEpsilon=path_tau-1e-6;function path_append(strings){this._+=strings[0];for(let i=1,n=strings.length;i<n;++i)this._+=arguments[i]+strings[i]}class Path{constructor(digits){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==digits?path_append:function appendRound(digits){let d=Math.floor(digits);if(!(d>=0))throw new Error(`invalid digits: ${digits}`);if(d>15)return path_append;const k=10**d;return function(strings){this._+=strings[0];for(let i=1,n=strings.length;i<n;++i)this._+=Math.round(arguments[i]*k)/k+strings[i]}}(digits)}moveTo(x,y){this._append`M${this._x0=this._x1=+x},${this._y0=this._y1=+y}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(x,y){this._append`L${this._x1=+x},${this._y1=+y}`}quadraticCurveTo(x1,y1,x,y){this._append`Q${+x1},${+y1},${this._x1=+x},${this._y1=+y}`}bezierCurveTo(x1,y1,x2,y2,x,y){this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1=+x},${this._y1=+y}`}arcTo(x1,y1,x2,y2,r){if(x1=+x1,y1=+y1,x2=+x2,y2=+y2,(r=+r)<0)throw new Error(`negative radius: ${r}`);let x0=this._x1,y0=this._y1,x21=x2-x1,y21=y2-y1,x01=x0-x1,y01=y0-y1,l01_2=x01*x01+y01*y01;if(null===this._x1)this._append`M${this._x1=x1},${this._y1=y1}`;else if(l01_2>1e-6)if(Math.abs(y01*x21-y21*x01)>1e-6&&r){let x20=x2-x0,y20=y2-y0,l21_2=x21*x21+y21*y21,l20_2=x20*x20+y20*y20,l21=Math.sqrt(l21_2),l01=Math.sqrt(l01_2),l=r*Math.tan((path_pi-Math.acos((l21_2+l01_2-l20_2)/(2*l21*l01)))/2),t01=l/l01,t21=l/l21;Math.abs(t01-1)>1e-6&&this._append`L${x1+t01*x01},${y1+t01*y01}`,this._append`A${r},${r},0,0,${+(y01*x20>x01*y20)},${this._x1=x1+t21*x21},${this._y1=y1+t21*y21}`}else this._append`L${this._x1=x1},${this._y1=y1}`;else;}arc(x,y,r,a0,a1,ccw){if(x=+x,y=+y,ccw=!!ccw,(r=+r)<0)throw new Error(`negative radius: ${r}`);let dx=r*Math.cos(a0),dy=r*Math.sin(a0),x0=x+dx,y0=y+dy,cw=1^ccw,da=ccw?a0-a1:a1-a0;null===this._x1?this._append`M${x0},${y0}`:(Math.abs(this._x1-x0)>1e-6||Math.abs(this._y1-y0)>1e-6)&&this._append`L${x0},${y0}`,r&&(da<0&&(da=da%path_tau+path_tau),da>tauEpsilon?this._append`A${r},${r},0,1,${cw},${x-dx},${y-dy}A${r},${r},0,1,${cw},${this._x1=x0},${this._y1=y0}`:da>1e-6&&this._append`A${r},${r},0,${+(da>=path_pi)},${cw},${this._x1=x+r*Math.cos(a1)},${this._y1=y+r*Math.sin(a1)}`)}rect(x,y,w,h){this._append`M${this._x0=this._x1=+x},${this._y0=this._y1=+y}h${w=+w}v${+h}h${-w}Z`}toString(){return this._}}function path(){return new Path}function pathRound(digits=3){return new Path(+digits)}path.prototype=Path.prototype;var array_slice=Array.prototype.slice;function d3_chord_src_constant(x){return function(){return x}}function defaultSource(d){return d.source}function defaultTarget(d){return d.target}function defaultRadius(d){return d.radius}function defaultStartAngle(d){return d.startAngle}function defaultEndAngle(d){return d.endAngle}function defaultPadAngle(){return 0}function defaultArrowheadRadius(){return 10}function ribbon(headRadius){var source=defaultSource,target=defaultTarget,sourceRadius=defaultRadius,targetRadius=defaultRadius,startAngle=defaultStartAngle,endAngle=defaultEndAngle,padAngle=defaultPadAngle,context=null;function ribbon(){var buffer,s=source.apply(this,arguments),t=target.apply(this,arguments),ap=padAngle.apply(this,arguments)/2,argv=array_slice.call(arguments),sr=+sourceRadius.apply(this,(argv[0]=s,argv)),sa0=startAngle.apply(this,argv)-halfPi,sa1=endAngle.apply(this,argv)-halfPi,tr=+targetRadius.apply(this,(argv[0]=t,argv)),ta0=startAngle.apply(this,argv)-halfPi,ta1=endAngle.apply(this,argv)-halfPi;if(context||(context=buffer=path()),ap>math_epsilon&&(math_abs(sa1-sa0)>2*ap+math_epsilon?sa1>sa0?(sa0+=ap,sa1-=ap):(sa0-=ap,sa1+=ap):sa0=sa1=(sa0+sa1)/2,math_abs(ta1-ta0)>2*ap+math_epsilon?ta1>ta0?(ta0+=ap,ta1-=ap):(ta0-=ap,ta1+=ap):ta0=ta1=(ta0+ta1)/2),context.moveTo(sr*cos(sa0),sr*sin(sa0)),context.arc(0,0,sr,sa0,sa1),sa0!==ta0||sa1!==ta1)if(headRadius){var tr2=tr-+headRadius.apply(this,arguments),ta2=(ta0+ta1)/2;context.quadraticCurveTo(0,0,tr2*cos(ta0),tr2*sin(ta0)),context.lineTo(tr*cos(ta2),tr*sin(ta2)),context.lineTo(tr2*cos(ta1),tr2*sin(ta1))}else context.quadraticCurveTo(0,0,tr*cos(ta0),tr*sin(ta0)),context.arc(0,0,tr,ta0,ta1);if(context.quadraticCurveTo(0,0,sr*cos(sa0),sr*sin(sa0)),context.closePath(),buffer)return context=null,buffer+""||null}return headRadius&&(ribbon.headRadius=function(_){return arguments.length?(headRadius="function"==typeof _?_:d3_chord_src_constant(+_),ribbon):headRadius}),ribbon.radius=function(_){return arguments.length?(sourceRadius=targetRadius="function"==typeof _?_:d3_chord_src_constant(+_),ribbon):sourceRadius},ribbon.sourceRadius=function(_){return arguments.length?(sourceRadius="function"==typeof _?_:d3_chord_src_constant(+_),ribbon):sourceRadius},ribbon.targetRadius=function(_){return arguments.length?(targetRadius="function"==typeof _?_:d3_chord_src_constant(+_),ribbon):targetRadius},ribbon.startAngle=function(_){return arguments.length?(startAngle="function"==typeof _?_:d3_chord_src_constant(+_),ribbon):startAngle},ribbon.endAngle=function(_){return arguments.length?(endAngle="function"==typeof _?_:d3_chord_src_constant(+_),ribbon):endAngle},ribbon.padAngle=function(_){return arguments.length?(padAngle="function"==typeof _?_:d3_chord_src_constant(+_),ribbon):padAngle},ribbon.source=function(_){return arguments.length?(source=_,ribbon):source},ribbon.target=function(_){return arguments.length?(target=_,ribbon):target},ribbon.context=function(_){return arguments.length?(context=null==_?null:_,ribbon):context},ribbon}function src_ribbon(){return ribbon()}function ribbonArrow(){return ribbon(defaultArrowheadRadius)}const radians=Math.PI/180,math_degrees=180/Math.PI,Xn=.96422,Yn=1,Zn=.82521,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl)return hcl2lab(o);o instanceof Rgb||(o=rgbConvert(o));var x,z,r=rgb2lrgb(o.r),g=rgb2lrgb(o.g),b=rgb2lrgb(o.b),y=xyz2lab((.2225045*r+.7168786*g+.0606169*b)/Yn);return r===g&&g===b?x=z=y:(x=xyz2lab((.4360747*r+.3850649*g+.1430804*b)/Xn),z=xyz2lab((.0139322*r+.0971045*g+.7141733*b)/Zn)),new Lab(116*y-16,500*(x-y),200*(y-z),o.opacity)}function gray(l,opacity){return new Lab(l,0,0,null==opacity?1:opacity)}function lab(l,a,b,opacity){return 1===arguments.length?labConvert(l):new Lab(l,a,b,null==opacity?1:opacity)}function Lab(l,a,b,opacity){this.l=+l,this.a=+a,this.b=+b,this.opacity=+opacity}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t>t1?t*t*t:t2*(t-t0)}function lrgb2rgb(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function rgb2lrgb(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function hclConvert(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);if(o instanceof Lab||(o=labConvert(o)),0===o.a&&0===o.b)return new Hcl(NaN,0<o.l&&o.l<100?0:NaN,o.l,o.opacity);var h=Math.atan2(o.b,o.a)*math_degrees;return new Hcl(h<0?h+360:h,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}function lch(l,c,h,opacity){return 1===arguments.length?hclConvert(l):new Hcl(h,c,l,null==opacity?1:opacity)}function hcl(h,c,l,opacity){return 1===arguments.length?hclConvert(h):new Hcl(h,c,l,null==opacity?1:opacity)}function Hcl(h,c,l,opacity){this.h=+h,this.c=+c,this.l=+l,this.opacity=+opacity}function hcl2lab(o){if(isNaN(o.h))return new Lab(o.l,0,0,o.opacity);var h=o.h*radians;return new Lab(o.l,Math.cos(h)*o.c,Math.sin(h)*o.c,o.opacity)}src_define(Lab,lab,extend(Color,{brighter(k){return new Lab(this.l+18*(null==k?1:k),this.a,this.b,this.opacity)},darker(k){return new Lab(this.l-18*(null==k?1:k),this.a,this.b,this.opacity)},rgb(){var y=(this.l+16)/116,x=isNaN(this.a)?y:y+this.a/500,z=isNaN(this.b)?y:y-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(x=Xn*lab2xyz(x))-1.6168667*(y=Yn*lab2xyz(y))-.4906146*(z=Zn*lab2xyz(z))),lrgb2rgb(-.9787684*x+1.9161415*y+.033454*z),lrgb2rgb(.0719453*x-.2289914*y+1.4052427*z),this.opacity)}})),src_define(Hcl,hcl,extend(Color,{brighter(k){return new Hcl(this.h,this.c,this.l+18*(null==k?1:k),this.opacity)},darker(k){return new Hcl(this.h,this.c,this.l-18*(null==k?1:k),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));var A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;function cubehelix_cubehelix(h,s,l,opacity){return 1===arguments.length?function cubehelixConvert(o){if(o instanceof Cubehelix)return new Cubehelix(o.h,o.s,o.l,o.opacity);o instanceof Rgb||(o=rgbConvert(o));var r=o.r/255,g=o.g/255,b=o.b/255,l=(BC_DA*b+ED*r-EB*g)/(BC_DA+ED-EB),bl=b-l,k=(E*(g-l)-C*bl)/D,s=Math.sqrt(k*k+bl*bl)/(E*l*(1-l)),h=s?Math.atan2(k,bl)*math_degrees-120:NaN;return new Cubehelix(h<0?h+360:h,s,l,o.opacity)}(h):new Cubehelix(h,s,l,null==opacity?1:opacity)}function Cubehelix(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}src_define(Cubehelix,cubehelix_cubehelix,extend(Color,{brighter(k){return k=null==k?brighter:Math.pow(brighter,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},darker(k){return k=null==k?.7:Math.pow(.7,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},rgb(){var h=isNaN(this.h)?0:(this.h+120)*radians,l=+this.l,a=isNaN(this.s)?0:this.s*l*(1-l),cosh=Math.cos(h),sinh=Math.sin(h);return new Rgb(255*(l+a*(A*cosh+B*sinh)),255*(l+a*(C*cosh+D*sinh)),255*(l+a*(E*cosh)),this.opacity)}}));var src_array_slice=Array.prototype.slice;function src_ascending(a,b){return a-b}const d3_contour_src_constant=x=>()=>x;function contains(ring,hole){for(var c,i=-1,n=hole.length;++i<n;)if(c=ringContains(ring,hole[i]))return c;return 0}function ringContains(ring,point){for(var x=point[0],y=point[1],contains=-1,i=0,n=ring.length,j=n-1;i<n;j=i++){var pi=ring[i],xi=pi[0],yi=pi[1],pj=ring[j],xj=pj[0],yj=pj[1];if(segmentContains(pi,pj,point))return 0;yi>y!=yj>y&&x<(xj-xi)*(y-yi)/(yj-yi)+xi&&(contains=-contains)}return contains}function segmentContains(a,b,c){var i;return function collinear(a,b,c){return(b[0]-a[0])*(c[1]-a[1])===(c[0]-a[0])*(b[1]-a[1])}(a,b,c)&&function within(p,q,r){return p<=q&&q<=r||r<=q&&q<=p}(a[i=+(a[0]===b[0])],c[i],b[i])}function src_noop(){}var cases=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function src_contours(){var dx=1,dy=1,threshold=thresholdSturges,smooth=smoothLinear;function contours(values){var tz=threshold(values);if(Array.isArray(tz))tz=tz.slice().sort(src_ascending);else{const e=extent(values,finite);for(tz=ticks(...nice(e[0],e[1],tz),tz);tz[tz.length-1]>=e[1];)tz.pop();for(;tz[1]<e[0];)tz.shift()}return tz.map((value=>contour(values,value)))}function contour(values,value){const v=null==value?NaN:+value;if(isNaN(v))throw new Error(`invalid value: ${value}`);var polygons=[],holes=[];return function isorings(values,value,callback){var x,y,t0,t1,t2,t3,fragmentByStart=new Array,fragmentByEnd=new Array;x=y=-1,t1=above(values[0],value),cases[t1<<1].forEach(stitch);for(;++x<dx-1;)t0=t1,t1=above(values[x+1],value),cases[t0|t1<<1].forEach(stitch);cases[t1|0].forEach(stitch);for(;++y<dy-1;){for(x=-1,t1=above(values[y*dx+dx],value),t2=above(values[y*dx],value),cases[t1<<1|t2<<2].forEach(stitch);++x<dx-1;)t0=t1,t1=above(values[y*dx+dx+x+1],value),t3=t2,t2=above(values[y*dx+x+1],value),cases[t0|t1<<1|t2<<2|t3<<3].forEach(stitch);cases[t1|t2<<3].forEach(stitch)}x=-1,t2=values[y*dx]>=value,cases[t2<<2].forEach(stitch);for(;++x<dx-1;)t3=t2,t2=above(values[y*dx+x+1],value),cases[t2<<2|t3<<3].forEach(stitch);function stitch(line){var f,g,start=[line[0][0]+x,line[0][1]+y],end=[line[1][0]+x,line[1][1]+y],startIndex=index(start),endIndex=index(end);(f=fragmentByEnd[startIndex])?(g=fragmentByStart[endIndex])?(delete fragmentByEnd[f.end],delete fragmentByStart[g.start],f===g?(f.ring.push(end),callback(f.ring)):fragmentByStart[f.start]=fragmentByEnd[g.end]={start:f.start,end:g.end,ring:f.ring.concat(g.ring)}):(delete fragmentByEnd[f.end],f.ring.push(end),fragmentByEnd[f.end=endIndex]=f):(f=fragmentByStart[endIndex])?(g=fragmentByEnd[startIndex])?(delete fragmentByStart[f.start],delete fragmentByEnd[g.end],f===g?(f.ring.push(end),callback(f.ring)):fragmentByStart[g.start]=fragmentByEnd[f.end]={start:g.start,end:f.end,ring:g.ring.concat(f.ring)}):(delete fragmentByStart[f.start],f.ring.unshift(start),fragmentByStart[f.start=startIndex]=f):fragmentByStart[startIndex]=fragmentByEnd[endIndex]={start:startIndex,end:endIndex,ring:[start,end]}}cases[t2<<3].forEach(stitch)}(values,v,(function(ring){smooth(ring,values,v),function src_area(ring){for(var i=0,n=ring.length,area=ring[n-1][1]*ring[0][0]-ring[n-1][0]*ring[0][1];++i<n;)area+=ring[i-1][1]*ring[i][0]-ring[i-1][0]*ring[i][1];return area}(ring)>0?polygons.push([ring]):holes.push(ring)})),holes.forEach((function(hole){for(var polygon,i=0,n=polygons.length;i<n;++i)if(-1!==contains((polygon=polygons[i])[0],hole))return void polygon.push(hole)})),{type:"MultiPolygon",value,coordinates:polygons}}function index(point){return 2*point[0]+point[1]*(dx+1)*4}function smoothLinear(ring,values,value){ring.forEach((function(point){var x=point[0],y=point[1],xt=0|x,yt=0|y,v1=valid(values[yt*dx+xt]);x>0&&x<dx&&xt===x&&(point[0]=smooth1(x,valid(values[yt*dx+xt-1]),v1,value)),y>0&&y<dy&&yt===y&&(point[1]=smooth1(y,valid(values[(yt-1)*dx+xt]),v1,value))}))}return contours.contour=contour,contours.size=function(_){if(!arguments.length)return[dx,dy];var _0=Math.floor(_[0]),_1=Math.floor(_[1]);if(!(_0>=0&&_1>=0))throw new Error("invalid size");return dx=_0,dy=_1,contours},contours.thresholds=function(_){return arguments.length?(threshold="function"==typeof _?_:Array.isArray(_)?d3_contour_src_constant(src_array_slice.call(_)):d3_contour_src_constant(_),contours):threshold},contours.smooth=function(_){return arguments.length?(smooth=_?smoothLinear:src_noop,contours):smooth===smoothLinear},contours}function finite(x){return isFinite(x)?x:NaN}function above(x,value){return null!=x&&+x>=value}function valid(v){return null==v||isNaN(v=+v)?-1/0:v}function smooth1(x,v0,v1,value){const a=value-v0,b=v1-v0,d=isFinite(a)||isFinite(b)?a/b:Math.sign(a)/Math.sign(b);return isNaN(d)?x:x+d-.5}function defaultX(d){return d[0]}function defaultY(d){return d[1]}function defaultWeight(){return 1}function density(){var x=defaultX,y=defaultY,weight=defaultWeight,dx=960,dy=500,r=20,k=2,o=3*r,n=dx+2*o>>k,m=dy+2*o>>k,threshold=d3_contour_src_constant(20);function grid(data){var values=new Float32Array(n*m),pow2k=Math.pow(2,-k),i=-1;for(const d of data){var xi=(x(d,++i,data)+o)*pow2k,yi=(y(d,i,data)+o)*pow2k,wi=+weight(d,i,data);if(wi&&xi>=0&&xi<n&&yi>=0&&yi<m){var x0=Math.floor(xi),y0=Math.floor(yi),xt=xi-x0-.5,yt=yi-y0-.5;values[x0+y0*n]+=(1-xt)*(1-yt)*wi,values[x0+1+y0*n]+=xt*(1-yt)*wi,values[x0+1+(y0+1)*n]+=xt*yt*wi,values[x0+(y0+1)*n]+=(1-xt)*yt*wi}}return blur2({data:values,width:n,height:m},r*pow2k),values}function density(data){var values=grid(data),tz=threshold(values),pow4k=Math.pow(2,2*k);return Array.isArray(tz)||(tz=ticks(Number.MIN_VALUE,max(values)/pow4k,tz)),src_contours().size([n,m]).thresholds(tz.map((d=>d*pow4k)))(values).map(((c,i)=>(c.value=+tz[i],transform(c))))}function transform(geometry){return geometry.coordinates.forEach(transformPolygon),geometry}function transformPolygon(coordinates){coordinates.forEach(transformRing)}function transformRing(coordinates){coordinates.forEach(transformPoint)}function transformPoint(coordinates){coordinates[0]=coordinates[0]*Math.pow(2,k)-o,coordinates[1]=coordinates[1]*Math.pow(2,k)-o}function resize(){return n=dx+2*(o=3*r)>>k,m=dy+2*o>>k,density}return density.contours=function(data){var values=grid(data),contours=src_contours().size([n,m]),pow4k=Math.pow(2,2*k),contour=value=>{value=+value;var c=transform(contours.contour(values,value*pow4k));return c.value=value,c};return Object.defineProperty(contour,"max",{get:()=>max(values)/pow4k}),contour},density.x=function(_){return arguments.length?(x="function"==typeof _?_:d3_contour_src_constant(+_),density):x},density.y=function(_){return arguments.length?(y="function"==typeof _?_:d3_contour_src_constant(+_),density):y},density.weight=function(_){return arguments.length?(weight="function"==typeof _?_:d3_contour_src_constant(+_),density):weight},density.size=function(_){if(!arguments.length)return[dx,dy];var _0=+_[0],_1=+_[1];if(!(_0>=0&&_1>=0))throw new Error("invalid size");return dx=_0,dy=_1,resize()},density.cellSize=function(_){if(!arguments.length)return 1<<k;if(!((_=+_)>=1))throw new Error("invalid cell size");return k=Math.floor(Math.log(_)/Math.LN2),resize()},density.thresholds=function(_){return arguments.length?(threshold="function"==typeof _?_:Array.isArray(_)?d3_contour_src_constant(src_array_slice.call(_)):d3_contour_src_constant(_),density):threshold},density.bandwidth=function(_){if(!arguments.length)return Math.sqrt(r*(r+1));if(!((_=+_)>=0))throw new Error("invalid bandwidth");return r=(Math.sqrt(4*_*_+1)-1)/2,resize()},density}function util_sum(elen,e,flen,f,h){let Q,Qnew,hh,bvirt,enow=e[0],fnow=f[0],eindex=0,findex=0;fnow>enow==fnow>-enow?(Q=enow,enow=e[++eindex]):(Q=fnow,fnow=f[++findex]);let hindex=0;if(eindex<elen&&findex<flen)for(fnow>enow==fnow>-enow?(Qnew=enow+Q,hh=Q-(Qnew-enow),enow=e[++eindex]):(Qnew=fnow+Q,hh=Q-(Qnew-fnow),fnow=f[++findex]),Q=Qnew,0!==hh&&(h[hindex++]=hh);eindex<elen&&findex<flen;)fnow>enow==fnow>-enow?(Qnew=Q+enow,bvirt=Qnew-Q,hh=Q-(Qnew-bvirt)+(enow-bvirt),enow=e[++eindex]):(Qnew=Q+fnow,bvirt=Qnew-Q,hh=Q-(Qnew-bvirt)+(fnow-bvirt),fnow=f[++findex]),Q=Qnew,0!==hh&&(h[hindex++]=hh);for(;eindex<elen;)Qnew=Q+enow,bvirt=Qnew-Q,hh=Q-(Qnew-bvirt)+(enow-bvirt),enow=e[++eindex],Q=Qnew,0!==hh&&(h[hindex++]=hh);for(;findex<flen;)Qnew=Q+fnow,bvirt=Qnew-Q,hh=Q-(Qnew-bvirt)+(fnow-bvirt),fnow=f[++findex],Q=Qnew,0!==hh&&(h[hindex++]=hh);return 0===Q&&0!==hindex||(h[hindex++]=Q),hindex}function vec(n){return new Float64Array(n)}const orient2d_B=vec(4),C1=vec(8),C2=vec(12),orient2d_D=vec(16),u=vec(4);function orient2d(ax,ay,bx,by,cx,cy){const detleft=(ay-cy)*(bx-cx),detright=(ax-cx)*(by-cy),det=detleft-detright,detsum=Math.abs(detleft+detright);return Math.abs(det)>=33306690738754716e-32*detsum?det:-function orient2dadapt(ax,ay,bx,by,cx,cy,detsum){let acxtail,acytail,bcxtail,bcytail,bvirt,c,ahi,alo,bhi,blo,_i,_j,_0,s1,s0,t1,t0,u3;const acx=ax-cx,bcx=bx-cx,acy=ay-cy,bcy=by-cy;s1=acx*bcy,c=134217729*acx,ahi=c-(c-acx),alo=acx-ahi,c=134217729*bcy,bhi=c-(c-bcy),blo=bcy-bhi,s0=alo*blo-(s1-ahi*bhi-alo*bhi-ahi*blo),t1=acy*bcx,c=134217729*acy,ahi=c-(c-acy),alo=acy-ahi,c=134217729*bcx,bhi=c-(c-bcx),blo=bcx-bhi,t0=alo*blo-(t1-ahi*bhi-alo*bhi-ahi*blo),_i=s0-t0,bvirt=s0-_i,orient2d_B[0]=s0-(_i+bvirt)+(bvirt-t0),_j=s1+_i,bvirt=_j-s1,_0=s1-(_j-bvirt)+(_i-bvirt),_i=_0-t1,bvirt=_0-_i,orient2d_B[1]=_0-(_i+bvirt)+(bvirt-t1),u3=_j+_i,bvirt=u3-_j,orient2d_B[2]=_j-(u3-bvirt)+(_i-bvirt),orient2d_B[3]=u3;let det=function util_estimate(elen,e){let Q=e[0];for(let i=1;i<elen;i++)Q+=e[i];return Q}(4,orient2d_B),errbound=22204460492503146e-32*detsum;if(det>=errbound||-det>=errbound)return det;if(bvirt=ax-acx,acxtail=ax-(acx+bvirt)+(bvirt-cx),bvirt=bx-bcx,bcxtail=bx-(bcx+bvirt)+(bvirt-cx),bvirt=ay-acy,acytail=ay-(acy+bvirt)+(bvirt-cy),bvirt=by-bcy,bcytail=by-(bcy+bvirt)+(bvirt-cy),0===acxtail&&0===acytail&&0===bcxtail&&0===bcytail)return det;if(errbound=11093356479670487e-47*detsum+33306690738754706e-32*Math.abs(det),det+=acx*bcytail+bcy*acxtail-(acy*bcxtail+bcx*acytail),det>=errbound||-det>=errbound)return det;s1=acxtail*bcy,c=134217729*acxtail,ahi=c-(c-acxtail),alo=acxtail-ahi,c=134217729*bcy,bhi=c-(c-bcy),blo=bcy-bhi,s0=alo*blo-(s1-ahi*bhi-alo*bhi-ahi*blo),t1=acytail*bcx,c=134217729*acytail,ahi=c-(c-acytail),alo=acytail-ahi,c=134217729*bcx,bhi=c-(c-bcx),blo=bcx-bhi,t0=alo*blo-(t1-ahi*bhi-alo*bhi-ahi*blo),_i=s0-t0,bvirt=s0-_i,u[0]=s0-(_i+bvirt)+(bvirt-t0),_j=s1+_i,bvirt=_j-s1,_0=s1-(_j-bvirt)+(_i-bvirt),_i=_0-t1,bvirt=_0-_i,u[1]=_0-(_i+bvirt)+(bvirt-t1),u3=_j+_i,bvirt=u3-_j,u[2]=_j-(u3-bvirt)+(_i-bvirt),u[3]=u3;const C1len=util_sum(4,orient2d_B,4,u,C1);s1=acx*bcytail,c=134217729*acx,ahi=c-(c-acx),alo=acx-ahi,c=134217729*bcytail,bhi=c-(c-bcytail),blo=bcytail-bhi,s0=alo*blo-(s1-ahi*bhi-alo*bhi-ahi*blo),t1=acy*bcxtail,c=134217729*acy,ahi=c-(c-acy),alo=acy-ahi,c=134217729*bcxtail,bhi=c-(c-bcxtail),blo=bcxtail-bhi,t0=alo*blo-(t1-ahi*bhi-alo*bhi-ahi*blo),_i=s0-t0,bvirt=s0-_i,u[0]=s0-(_i+bvirt)+(bvirt-t0),_j=s1+_i,bvirt=_j-s1,_0=s1-(_j-bvirt)+(_i-bvirt),_i=_0-t1,bvirt=_0-_i,u[1]=_0-(_i+bvirt)+(bvirt-t1),u3=_j+_i,bvirt=u3-_j,u[2]=_j-(u3-bvirt)+(_i-bvirt),u[3]=u3;const C2len=util_sum(C1len,C1,4,u,C2);s1=acxtail*bcytail,c=134217729*acxtail,ahi=c-(c-acxtail),alo=acxtail-ahi,c=134217729*bcytail,bhi=c-(c-bcytail),blo=bcytail-bhi,s0=alo*blo-(s1-ahi*bhi-alo*bhi-ahi*blo),t1=acytail*bcxtail,c=134217729*acytail,ahi=c-(c-acytail),alo=acytail-ahi,c=134217729*bcxtail,bhi=c-(c-bcxtail),blo=bcxtail-bhi,t0=alo*blo-(t1-ahi*bhi-alo*bhi-ahi*blo),_i=s0-t0,bvirt=s0-_i,u[0]=s0-(_i+bvirt)+(bvirt-t0),_j=s1+_i,bvirt=_j-s1,_0=s1-(_j-bvirt)+(_i-bvirt),_i=_0-t1,bvirt=_0-_i,u[1]=_0-(_i+bvirt)+(bvirt-t1),u3=_j+_i,bvirt=u3-_j,u[2]=_j-(u3-bvirt)+(_i-bvirt),u[3]=u3;const Dlen=util_sum(C2len,C2,4,u,orient2d_D);return orient2d_D[Dlen-1]}(ax,ay,bx,by,cx,cy,detsum)}vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(8),vec(8),vec(8),vec(4),vec(8),vec(8),vec(8),vec(12);vec(192),vec(192);vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(8),vec(8),vec(8),vec(8),vec(8),vec(8),vec(8),vec(8),vec(8),vec(4),vec(4),vec(4),vec(8),vec(16),vec(16),vec(16),vec(32),vec(32),vec(48),vec(64);vec(1152),vec(1152);vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(4),vec(24),vec(24),vec(24),vec(24),vec(24),vec(24),vec(24),vec(24),vec(24),vec(24),vec(1152),vec(1152),vec(1152),vec(1152),vec(1152),vec(2304),vec(2304),vec(3456),vec(5760),vec(8),vec(8),vec(8),vec(16),vec(24),vec(48),vec(48),vec(96),vec(192),vec(384),vec(384),vec(384),vec(768);vec(96),vec(96),vec(96),vec(1152);const EPSILON=Math.pow(2,-52),EDGE_STACK=new Uint32Array(512);class Delaunator{static from(points,getX=defaultGetX,getY=defaultGetY){const n=points.length,coords=new Float64Array(2*n);for(let i=0;i<n;i++){const p=points[i];coords[2*i]=getX(p),coords[2*i+1]=getY(p)}return new Delaunator(coords)}constructor(coords){const n=coords.length>>1;if(n>0&&"number"!=typeof coords[0])throw new Error("Expected coords to contain numbers.");this.coords=coords;const maxTriangles=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*maxTriangles),this._halfedges=new Int32Array(3*maxTriangles),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords,_hullPrev:hullPrev,_hullNext:hullNext,_hullTri:hullTri,_hullHash:hullHash}=this,n=coords.length>>1;let minX=1/0,minY=1/0,maxX=-1/0,maxY=-1/0;for(let i=0;i<n;i++){const x=coords[2*i],y=coords[2*i+1];x<minX&&(minX=x),y<minY&&(minY=y),x>maxX&&(maxX=x),y>maxY&&(maxY=y),this._ids[i]=i}const cx=(minX+maxX)/2,cy=(minY+maxY)/2;let i0,i1,i2;for(let i=0,minDist=1/0;i<n;i++){const d=dist(cx,cy,coords[2*i],coords[2*i+1]);d<minDist&&(i0=i,minDist=d)}const i0x=coords[2*i0],i0y=coords[2*i0+1];for(let i=0,minDist=1/0;i<n;i++){if(i===i0)continue;const d=dist(i0x,i0y,coords[2*i],coords[2*i+1]);d<minDist&&d>0&&(i1=i,minDist=d)}let i1x=coords[2*i1],i1y=coords[2*i1+1],minRadius=1/0;for(let i=0;i<n;i++){if(i===i0||i===i1)continue;const r=circumradius(i0x,i0y,i1x,i1y,coords[2*i],coords[2*i+1]);r<minRadius&&(i2=i,minRadius=r)}let i2x=coords[2*i2],i2y=coords[2*i2+1];if(minRadius===1/0){for(let i=0;i<n;i++)this._dists[i]=coords[2*i]-coords[0]||coords[2*i+1]-coords[1];quicksort(this._ids,this._dists,0,n-1);const hull=new Uint32Array(n);let j=0;for(let i=0,d0=-1/0;i<n;i++){const id=this._ids[i],d=this._dists[id];d>d0&&(hull[j++]=id,d0=d)}return this.hull=hull.subarray(0,j),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(orient2d(i0x,i0y,i1x,i1y,i2x,i2y)<0){const i=i1,x=i1x,y=i1y;i1=i2,i1x=i2x,i1y=i2y,i2=i,i2x=x,i2y=y}const center=function circumcenter(ax,ay,bx,by,cx,cy){const dx=bx-ax,dy=by-ay,ex=cx-ax,ey=cy-ay,bl=dx*dx+dy*dy,cl=ex*ex+ey*ey,d=.5/(dx*ey-dy*ex),x=ax+(ey*bl-dy*cl)*d,y=ay+(dx*cl-ex*bl)*d;return{x,y}}(i0x,i0y,i1x,i1y,i2x,i2y);this._cx=center.x,this._cy=center.y;for(let i=0;i<n;i++)this._dists[i]=dist(coords[2*i],coords[2*i+1],center.x,center.y);quicksort(this._ids,this._dists,0,n-1),this._hullStart=i0;let hullSize=3;hullNext[i0]=hullPrev[i2]=i1,hullNext[i1]=hullPrev[i0]=i2,hullNext[i2]=hullPrev[i1]=i0,hullTri[i0]=0,hullTri[i1]=1,hullTri[i2]=2,hullHash.fill(-1),hullHash[this._hashKey(i0x,i0y)]=i0,hullHash[this._hashKey(i1x,i1y)]=i1,hullHash[this._hashKey(i2x,i2y)]=i2,this.trianglesLen=0,this._addTriangle(i0,i1,i2,-1,-1,-1);for(let xp,yp,k=0;k<this._ids.length;k++){const i=this._ids[k],x=coords[2*i],y=coords[2*i+1];if(k>0&&Math.abs(x-xp)<=EPSILON&&Math.abs(y-yp)<=EPSILON)continue;if(xp=x,yp=y,i===i0||i===i1||i===i2)continue;let start=0;for(let j=0,key=this._hashKey(x,y);j<this._hashSize&&(start=hullHash[(key+j)%this._hashSize],-1===start||start===hullNext[start]);j++);start=hullPrev[start];let q,e=start;for(;q=hullNext[e],orient2d(x,y,coords[2*e],coords[2*e+1],coords[2*q],coords[2*q+1])>=0;)if(e=q,e===start){e=-1;break}if(-1===e)continue;let t=this._addTriangle(e,i,hullNext[e],-1,-1,hullTri[e]);hullTri[i]=this._legalize(t+2),hullTri[e]=t,hullSize++;let n=hullNext[e];for(;q=hullNext[n],orient2d(x,y,coords[2*n],coords[2*n+1],coords[2*q],coords[2*q+1])<0;)t=this._addTriangle(n,i,q,hullTri[i],-1,hullTri[n]),hullTri[i]=this._legalize(t+2),hullNext[n]=n,hullSize--,n=q;if(e===start)for(;q=hullPrev[e],orient2d(x,y,coords[2*q],coords[2*q+1],coords[2*e],coords[2*e+1])<0;)t=this._addTriangle(q,i,e,-1,hullTri[e],hullTri[q]),this._legalize(t+2),hullTri[q]=t,hullNext[e]=e,hullSize--,e=q;this._hullStart=hullPrev[i]=e,hullNext[e]=hullPrev[n]=i,hullNext[i]=n,hullHash[this._hashKey(x,y)]=i,hullHash[this._hashKey(coords[2*e],coords[2*e+1])]=e}this.hull=new Uint32Array(hullSize);for(let i=0,e=this._hullStart;i<hullSize;i++)this.hull[i]=e,e=hullNext[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(x,y){return Math.floor(function pseudoAngle(dx,dy){const p=dx/(Math.abs(dx)+Math.abs(dy));return(dy>0?3-p:1+p)/4}(x-this._cx,y-this._cy)*this._hashSize)%this._hashSize}_legalize(a){const{_triangles:triangles,_halfedges:halfedges,coords}=this;let i=0,ar=0;for(;;){const b=halfedges[a],a0=a-a%3;if(ar=a0+(a+2)%3,-1===b){if(0===i)break;a=EDGE_STACK[--i];continue}const b0=b-b%3,al=a0+(a+1)%3,bl=b0+(b+2)%3,p0=triangles[ar],pr=triangles[a],pl=triangles[al],p1=triangles[bl];if(inCircle(coords[2*p0],coords[2*p0+1],coords[2*pr],coords[2*pr+1],coords[2*pl],coords[2*pl+1],coords[2*p1],coords[2*p1+1])){triangles[a]=p1,triangles[b]=p0;const hbl=halfedges[bl];if(-1===hbl){let e=this._hullStart;do{if(this._hullTri[e]===bl){this._hullTri[e]=a;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(a,hbl),this._link(b,halfedges[ar]),this._link(ar,bl);const br=b0+(b+1)%3;i<EDGE_STACK.length&&(EDGE_STACK[i++]=br)}else{if(0===i)break;a=EDGE_STACK[--i]}}return ar}_link(a,b){this._halfedges[a]=b,-1!==b&&(this._halfedges[b]=a)}_addTriangle(i0,i1,i2,a,b,c){const t=this.trianglesLen;return this._triangles[t]=i0,this._triangles[t+1]=i1,this._triangles[t+2]=i2,this._link(t,a),this._link(t+1,b),this._link(t+2,c),this.trianglesLen+=3,t}}function dist(ax,ay,bx,by){const dx=ax-bx,dy=ay-by;return dx*dx+dy*dy}function inCircle(ax,ay,bx,by,cx,cy,px,py){const dx=ax-px,dy=ay-py,ex=bx-px,ey=by-py,fx=cx-px,fy=cy-py,bp=ex*ex+ey*ey,cp=fx*fx+fy*fy;return dx*(ey*cp-bp*fy)-dy*(ex*cp-bp*fx)+(dx*dx+dy*dy)*(ex*fy-ey*fx)<0}function circumradius(ax,ay,bx,by,cx,cy){const dx=bx-ax,dy=by-ay,ex=cx-ax,ey=cy-ay,bl=dx*dx+dy*dy,cl=ex*ex+ey*ey,d=.5/(dx*ey-dy*ex),x=(ey*bl-dy*cl)*d,y=(dx*cl-ex*bl)*d;return x*x+y*y}function quicksort(ids,dists,left,right){if(right-left<=20)for(let i=left+1;i<=right;i++){const temp=ids[i],tempDist=dists[temp];let j=i-1;for(;j>=left&&dists[ids[j]]>tempDist;)ids[j+1]=ids[j--];ids[j+1]=temp}else{let i=left+1,j=right;delaunator_swap(ids,left+right>>1,i),dists[ids[left]]>dists[ids[right]]&&delaunator_swap(ids,left,right),dists[ids[i]]>dists[ids[right]]&&delaunator_swap(ids,i,right),dists[ids[left]]>dists[ids[i]]&&delaunator_swap(ids,left,i);const temp=ids[i],tempDist=dists[temp];for(;;){do{i++}while(dists[ids[i]]<tempDist);do{j--}while(dists[ids[j]]>tempDist);if(j<i)break;delaunator_swap(ids,i,j)}ids[left+1]=ids[j],ids[j]=temp,right-i+1>=j-left?(quicksort(ids,dists,i,right),quicksort(ids,dists,left,j-1)):(quicksort(ids,dists,left,j-1),quicksort(ids,dists,i,right))}}function delaunator_swap(arr,i,j){const tmp=arr[i];arr[i]=arr[j],arr[j]=tmp}function defaultGetX(p){return p[0]}function defaultGetY(p){return p[1]}class path_Path{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(x,y){this._+=`M${this._x0=this._x1=+x},${this._y0=this._y1=+y}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(x,y){this._+=`L${this._x1=+x},${this._y1=+y}`}arc(x,y,r){const x0=(x=+x)+(r=+r),y0=y=+y;if(r<0)throw new Error("negative radius");null===this._x1?this._+=`M${x0},${y0}`:(Math.abs(this._x1-x0)>1e-6||Math.abs(this._y1-y0)>1e-6)&&(this._+="L"+x0+","+y0),r&&(this._+=`A${r},${r},0,1,1,${x-r},${y}A${r},${r},0,1,1,${this._x1=x0},${this._y1=y0}`)}rect(x,y,w,h){this._+=`M${this._x0=this._x1=+x},${this._y0=this._y1=+y}h${+w}v${+h}h${-w}Z`}value(){return this._||null}}class Polygon{constructor(){this._=[]}moveTo(x,y){this._.push([x,y])}closePath(){this._.push(this._[0].slice())}lineTo(x,y){this._.push([x,y])}value(){return this._.length?this._:null}}class Voronoi{constructor(delaunay,[xmin,ymin,xmax,ymax]=[0,0,960,500]){if(!((xmax=+xmax)>=(xmin=+xmin)&&(ymax=+ymax)>=(ymin=+ymin)))throw new Error("invalid bounds");this.delaunay=delaunay,this._circumcenters=new Float64Array(2*delaunay.points.length),this.vectors=new Float64Array(2*delaunay.points.length),this.xmax=xmax,this.xmin=xmin,this.ymax=ymax,this.ymin=ymin,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points,hull,triangles},vectors}=this;let bx,by;const circumcenters=this.circumcenters=this._circumcenters.subarray(0,triangles.length/3*2);for(let x,y,i=0,j=0,n=triangles.length;i<n;i+=3,j+=2){const t1=2*triangles[i],t2=2*triangles[i+1],t3=2*triangles[i+2],x1=points[t1],y1=points[t1+1],x2=points[t2],y2=points[t2+1],x3=points[t3],y3=points[t3+1],dx=x2-x1,dy=y2-y1,ex=x3-x1,ey=y3-y1,ab=2*(dx*ey-dy*ex);if(Math.abs(ab)<1e-9){if(void 0===bx){bx=by=0;for(const i of hull)bx+=points[2*i],by+=points[2*i+1];bx/=hull.length,by/=hull.length}const a=1e9*Math.sign((bx-x1)*ey-(by-y1)*ex);x=(x1+x3)/2-a*ey,y=(y1+y3)/2+a*ex}else{const d=1/ab,bl=dx*dx+dy*dy,cl=ex*ex+ey*ey;x=x1+(ey*bl-dy*cl)*d,y=y1+(dx*cl-ex*bl)*d}circumcenters[j]=x,circumcenters[j+1]=y}let p0,x0,y0,h=hull[hull.length-1],p1=4*h,x1=points[2*h],y1=points[2*h+1];vectors.fill(0);for(let i=0;i<hull.length;++i)h=hull[i],p0=p1,x0=x1,y0=y1,p1=4*h,x1=points[2*h],y1=points[2*h+1],vectors[p0+2]=vectors[p1]=y0-y1,vectors[p0+3]=vectors[p1+1]=x1-x0}render(context){const buffer=null==context?context=new path_Path:void 0,{delaunay:{halfedges,inedges,hull},circumcenters,vectors}=this;if(hull.length<=1)return null;for(let i=0,n=halfedges.length;i<n;++i){const j=halfedges[i];if(j<i)continue;const ti=2*Math.floor(i/3),tj=2*Math.floor(j/3),xi=circumcenters[ti],yi=circumcenters[ti+1],xj=circumcenters[tj],yj=circumcenters[tj+1];this._renderSegment(xi,yi,xj,yj,context)}let h0,h1=hull[hull.length-1];for(let i=0;i<hull.length;++i){h0=h1,h1=hull[i];const t=2*Math.floor(inedges[h1]/3),x=circumcenters[t],y=circumcenters[t+1],v=4*h0,p=this._project(x,y,vectors[v+2],vectors[v+3]);p&&this._renderSegment(x,y,p[0],p[1],context)}return buffer&&buffer.value()}renderBounds(context){const buffer=null==context?context=new path_Path:void 0;return context.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),buffer&&buffer.value()}renderCell(i,context){const buffer=null==context?context=new path_Path:void 0,points=this._clip(i);if(null===points||!points.length)return;context.moveTo(points[0],points[1]);let n=points.length;for(;points[0]===points[n-2]&&points[1]===points[n-1]&&n>1;)n-=2;for(let i=2;i<n;i+=2)points[i]===points[i-2]&&points[i+1]===points[i-1]||context.lineTo(points[i],points[i+1]);return context.closePath(),buffer&&buffer.value()}*cellPolygons(){const{delaunay:{points}}=this;for(let i=0,n=points.length/2;i<n;++i){const cell=this.cellPolygon(i);cell&&(cell.index=i,yield cell)}}cellPolygon(i){const polygon=new Polygon;return this.renderCell(i,polygon),polygon.value()}_renderSegment(x0,y0,x1,y1,context){let S;const c0=this._regioncode(x0,y0),c1=this._regioncode(x1,y1);0===c0&&0===c1?(context.moveTo(x0,y0),context.lineTo(x1,y1)):(S=this._clipSegment(x0,y0,x1,y1,c0,c1))&&(context.moveTo(S[0],S[1]),context.lineTo(S[2],S[3]))}contains(i,x,y){return(x=+x)==x&&(y=+y)==y&&this.delaunay._step(i,x,y)===i}*neighbors(i){const ci=this._clip(i);if(ci)for(const j of this.delaunay.neighbors(i)){const cj=this._clip(j);if(cj)loop:for(let ai=0,li=ci.length;ai<li;ai+=2)for(let aj=0,lj=cj.length;aj<lj;aj+=2)if(ci[ai]===cj[aj]&&ci[ai+1]===cj[aj+1]&&ci[(ai+2)%li]===cj[(aj+lj-2)%lj]&&ci[(ai+3)%li]===cj[(aj+lj-1)%lj]){yield j;break loop}}}_cell(i){const{circumcenters,delaunay:{inedges,halfedges,triangles}}=this,e0=inedges[i];if(-1===e0)return null;const points=[];let e=e0;do{const t=Math.floor(e/3);if(points.push(circumcenters[2*t],circumcenters[2*t+1]),e=e%3==2?e-2:e+1,triangles[e]!==i)break;e=halfedges[e]}while(e!==e0&&-1!==e);return points}_clip(i){if(0===i&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const points=this._cell(i);if(null===points)return null;const{vectors:V}=this,v=4*i;return this._simplify(V[v]||V[v+1]?this._clipInfinite(i,points,V[v],V[v+1],V[v+2],V[v+3]):this._clipFinite(i,points))}_clipFinite(i,points){const n=points.length;let x0,y0,c0,e0,P=null,x1=points[n-2],y1=points[n-1],c1=this._regioncode(x1,y1),e1=0;for(let j=0;j<n;j+=2)if(x0=x1,y0=y1,x1=points[j],y1=points[j+1],c0=c1,c1=this._regioncode(x1,y1),0===c0&&0===c1)e0=e1,e1=0,P?P.push(x1,y1):P=[x1,y1];else{let S,sx0,sy0,sx1,sy1;if(0===c0){if(null===(S=this._clipSegment(x0,y0,x1,y1,c0,c1)))continue;[sx0,sy0,sx1,sy1]=S}else{if(null===(S=this._clipSegment(x1,y1,x0,y0,c1,c0)))continue;[sx1,sy1,sx0,sy0]=S,e0=e1,e1=this._edgecode(sx0,sy0),e0&&e1&&this._edge(i,e0,e1,P,P.length),P?P.push(sx0,sy0):P=[sx0,sy0]}e0=e1,e1=this._edgecode(sx1,sy1),e0&&e1&&this._edge(i,e0,e1,P,P.length),P?P.push(sx1,sy1):P=[sx1,sy1]}if(P)e0=e1,e1=this._edgecode(P[0],P[1]),e0&&e1&&this._edge(i,e0,e1,P,P.length);else if(this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return P}_clipSegment(x0,y0,x1,y1,c0,c1){const flip=c0<c1;for(flip&&([x0,y0,x1,y1,c0,c1]=[x1,y1,x0,y0,c1,c0]);;){if(0===c0&&0===c1)return flip?[x1,y1,x0,y0]:[x0,y0,x1,y1];if(c0&c1)return null;let x,y,c=c0||c1;8&c?(x=x0+(x1-x0)*(this.ymax-y0)/(y1-y0),y=this.ymax):4&c?(x=x0+(x1-x0)*(this.ymin-y0)/(y1-y0),y=this.ymin):2&c?(y=y0+(y1-y0)*(this.xmax-x0)/(x1-x0),x=this.xmax):(y=y0+(y1-y0)*(this.xmin-x0)/(x1-x0),x=this.xmin),c0?(x0=x,y0=y,c0=this._regioncode(x0,y0)):(x1=x,y1=y,c1=this._regioncode(x1,y1))}}_clipInfinite(i,points,vx0,vy0,vxn,vyn){let p,P=Array.from(points);if((p=this._project(P[0],P[1],vx0,vy0))&&P.unshift(p[0],p[1]),(p=this._project(P[P.length-2],P[P.length-1],vxn,vyn))&&P.push(p[0],p[1]),P=this._clipFinite(i,P))for(let c0,j=0,n=P.length,c1=this._edgecode(P[n-2],P[n-1]);j<n;j+=2)c0=c1,c1=this._edgecode(P[j],P[j+1]),c0&&c1&&(j=this._edge(i,c0,c1,P,j),n=P.length);else this.contains(i,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(P=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return P}_edge(i,e0,e1,P,j){for(;e0!==e1;){let x,y;switch(e0){case 5:e0=4;continue;case 4:e0=6,x=this.xmax,y=this.ymin;break;case 6:e0=2;continue;case 2:e0=10,x=this.xmax,y=this.ymax;break;case 10:e0=8;continue;case 8:e0=9,x=this.xmin,y=this.ymax;break;case 9:e0=1;continue;case 1:e0=5,x=this.xmin,y=this.ymin}P[j]===x&&P[j+1]===y||!this.contains(i,x,y)||(P.splice(j,0,x,y),j+=2)}return j}_project(x0,y0,vx,vy){let c,x,y,t=1/0;if(vy<0){if(y0<=this.ymin)return null;(c=(this.ymin-y0)/vy)<t&&(y=this.ymin,x=x0+(t=c)*vx)}else if(vy>0){if(y0>=this.ymax)return null;(c=(this.ymax-y0)/vy)<t&&(y=this.ymax,x=x0+(t=c)*vx)}if(vx>0){if(x0>=this.xmax)return null;(c=(this.xmax-x0)/vx)<t&&(x=this.xmax,y=y0+(t=c)*vy)}else if(vx<0){if(x0<=this.xmin)return null;(c=(this.xmin-x0)/vx)<t&&(x=this.xmin,y=y0+(t=c)*vy)}return[x,y]}_edgecode(x,y){return(x===this.xmin?1:x===this.xmax?2:0)|(y===this.ymin?4:y===this.ymax?8:0)}_regioncode(x,y){return(x<this.xmin?1:x>this.xmax?2:0)|(y<this.ymin?4:y>this.ymax?8:0)}_simplify(P){if(P&&P.length>4){for(let i=0;i<P.length;i+=2){const j=(i+2)%P.length,k=(i+4)%P.length;(P[i]===P[j]&&P[j]===P[k]||P[i+1]===P[j+1]&&P[j+1]===P[k+1])&&(P.splice(j,2),i-=2)}P.length||(P=null)}return P}}const delaunay_tau=2*Math.PI,pow=Math.pow;function pointX(p){return p[0]}function pointY(p){return p[1]}function jitter(x,y,r){return[x+Math.sin(x+y)*r,y+Math.cos(x-y)*r]}class Delaunay{static from(points,fx=pointX,fy=pointY,that){return new Delaunay("length"in points?function flatArray(points,fx,fy,that){const n=points.length,array=new Float64Array(2*n);for(let i=0;i<n;++i){const p=points[i];array[2*i]=fx.call(that,p,i,points),array[2*i+1]=fy.call(that,p,i,points)}return array}(points,fx,fy,that):Float64Array.from(function*flatIterable(points,fx,fy,that){let i=0;for(const p of points)yield fx.call(that,p,i,points),yield fy.call(that,p,i,points),++i}(points,fx,fy,that)))}constructor(points){this._delaunator=new Delaunator(points),this.inedges=new Int32Array(points.length/2),this._hullIndex=new Int32Array(points.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const d=this._delaunator,points=this.points;if(d.hull&&d.hull.length>2&&function delaunay_collinear(d){const{triangles,coords}=d;for(let i=0;i<triangles.length;i+=3){const a=2*triangles[i],b=2*triangles[i+1],c=2*triangles[i+2];if((coords[c]-coords[a])*(coords[b+1]-coords[a+1])-(coords[b]-coords[a])*(coords[c+1]-coords[a+1])>1e-10)return!1}return!0}(d)){this.collinear=Int32Array.from({length:points.length/2},((_,i)=>i)).sort(((i,j)=>points[2*i]-points[2*j]||points[2*i+1]-points[2*j+1]));const e=this.collinear[0],f=this.collinear[this.collinear.length-1],bounds=[points[2*e],points[2*e+1],points[2*f],points[2*f+1]],r=1e-8*Math.hypot(bounds[3]-bounds[1],bounds[2]-bounds[0]);for(let i=0,n=points.length/2;i<n;++i){const p=jitter(points[2*i],points[2*i+1],r);points[2*i]=p[0],points[2*i+1]=p[1]}this._delaunator=new Delaunator(points)}else delete this.collinear;const halfedges=this.halfedges=this._delaunator.halfedges,hull=this.hull=this._delaunator.hull,triangles=this.triangles=this._delaunator.triangles,inedges=this.inedges.fill(-1),hullIndex=this._hullIndex.fill(-1);for(let e=0,n=halfedges.length;e<n;++e){const p=triangles[e%3==2?e-2:e+1];-1!==halfedges[e]&&-1!==inedges[p]||(inedges[p]=e)}for(let i=0,n=hull.length;i<n;++i)hullIndex[hull[i]]=i;hull.length<=2&&hull.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=hull[0],inedges[hull[0]]=1,2===hull.length&&(inedges[hull[1]]=0,this.triangles[1]=hull[1],this.triangles[2]=hull[1]))}voronoi(bounds){return new Voronoi(this,bounds)}*neighbors(i){const{inedges,hull,_hullIndex,halfedges,triangles,collinear}=this;if(collinear){const l=collinear.indexOf(i);return l>0&&(yield collinear[l-1]),void(l<collinear.length-1&&(yield collinear[l+1]))}const e0=inedges[i];if(-1===e0)return;let e=e0,p0=-1;do{if(yield p0=triangles[e],e=e%3==2?e-2:e+1,triangles[e]!==i)return;if(e=halfedges[e],-1===e){const p=hull[(_hullIndex[i]+1)%hull.length];return void(p!==p0&&(yield p))}}while(e!==e0)}find(x,y,i=0){if((x=+x)!=x||(y=+y)!=y)return-1;const i0=i;let c;for(;(c=this._step(i,x,y))>=0&&c!==i&&c!==i0;)i=c;return c}_step(i,x,y){const{inedges,hull,_hullIndex,halfedges,triangles,points}=this;if(-1===inedges[i]||!points.length)return(i+1)%(points.length>>1);let c=i,dc=pow(x-points[2*i],2)+pow(y-points[2*i+1],2);const e0=inedges[i];let e=e0;do{let t=triangles[e];const dt=pow(x-points[2*t],2)+pow(y-points[2*t+1],2);if(dt<dc&&(dc=dt,c=t),e=e%3==2?e-2:e+1,triangles[e]!==i)break;if(e=halfedges[e],-1===e){if(e=hull[(_hullIndex[i]+1)%hull.length],e!==t&&pow(x-points[2*e],2)+pow(y-points[2*e+1],2)<dc)return e;break}}while(e!==e0);return c}render(context){const buffer=null==context?context=new path_Path:void 0,{points,halfedges,triangles}=this;for(let i=0,n=halfedges.length;i<n;++i){const j=halfedges[i];if(j<i)continue;const ti=2*triangles[i],tj=2*triangles[j];context.moveTo(points[ti],points[ti+1]),context.lineTo(points[tj],points[tj+1])}return this.renderHull(context),buffer&&buffer.value()}renderPoints(context,r){void 0!==r||context&&"function"==typeof context.moveTo||(r=context,context=null),r=null==r?2:+r;const buffer=null==context?context=new path_Path:void 0,{points}=this;for(let i=0,n=points.length;i<n;i+=2){const x=points[i],y=points[i+1];context.moveTo(x+r,y),context.arc(x,y,r,0,delaunay_tau)}return buffer&&buffer.value()}renderHull(context){const buffer=null==context?context=new path_Path:void 0,{hull,points}=this,h=2*hull[0],n=hull.length;context.moveTo(points[h],points[h+1]);for(let i=1;i<n;++i){const h=2*hull[i];context.lineTo(points[h],points[h+1])}return context.closePath(),buffer&&buffer.value()}hullPolygon(){const polygon=new Polygon;return this.renderHull(polygon),polygon.value()}renderTriangle(i,context){const buffer=null==context?context=new path_Path:void 0,{points,triangles}=this,t0=2*triangles[i*=3],t1=2*triangles[i+1],t2=2*triangles[i+2];return context.moveTo(points[t0],points[t0+1]),context.lineTo(points[t1],points[t1+1]),context.lineTo(points[t2],points[t2+1]),context.closePath(),buffer&&buffer.value()}*trianglePolygons(){const{triangles}=this;for(let i=0,n=triangles.length/3;i<n;++i)yield this.trianglePolygon(i)}trianglePolygon(i){const polygon=new Polygon;return this.renderTriangle(i,polygon),polygon.value()}}const d3_drag_src_constant=x=>()=>x;function DragEvent(type,{sourceEvent,subject,target,identifier,active,x,y,dx,dy,dispatch}){Object.defineProperties(this,{type:{value:type,enumerable:!0,configurable:!0},sourceEvent:{value:sourceEvent,enumerable:!0,configurable:!0},subject:{value:subject,enumerable:!0,configurable:!0},target:{value:target,enumerable:!0,configurable:!0},identifier:{value:identifier,enumerable:!0,configurable:!0},active:{value:active,enumerable:!0,configurable:!0},x:{value:x,enumerable:!0,configurable:!0},y:{value:y,enumerable:!0,configurable:!0},dx:{value:dx,enumerable:!0,configurable:!0},dy:{value:dy,enumerable:!0,configurable:!0},_:{value:dispatch}})}function drag_defaultFilter(event){return!event.ctrlKey&&!event.button}function defaultContainer(){return this.parentNode}function defaultSubject(event,d){return null==d?{x:event.x,y:event.y}:d}function drag_defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var mousedownx,mousedowny,mousemoving,touchending,filter=drag_defaultFilter,container=defaultContainer,subject=defaultSubject,touchable=drag_defaultTouchable,gestures={},listeners=src_dispatch("start","drag","end"),active=0,clickDistance2=0;function drag(selection){selection.on("mousedown.drag",mousedowned).filter(touchable).on("touchstart.drag",touchstarted).on("touchmove.drag",touchmoved,nonpassive).on("touchend.drag touchcancel.drag",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mousedowned(event,d){if(!touchending&&filter.call(this,event,d)){var gesture=beforestart(this,container.call(this,event,d),event,d,"mouse");gesture&&(src_select(event.view).on("mousemove.drag",mousemoved,nonpassivecapture).on("mouseup.drag",mouseupped,nonpassivecapture),nodrag(event.view),nopropagation(event),mousemoving=!1,mousedownx=event.clientX,mousedowny=event.clientY,gesture("start",event))}}function mousemoved(event){if(noevent(event),!mousemoving){var dx=event.clientX-mousedownx,dy=event.clientY-mousedowny;mousemoving=dx*dx+dy*dy>clickDistance2}gestures.mouse("drag",event)}function mouseupped(event){src_select(event.view).on("mousemove.drag mouseup.drag",null),yesdrag(event.view,mousemoving),noevent(event),gestures.mouse("end",event)}function touchstarted(event,d){if(filter.call(this,event,d)){var i,gesture,touches=event.changedTouches,c=container.call(this,event,d),n=touches.length;for(i=0;i<n;++i)(gesture=beforestart(this,c,event,d,touches[i].identifier,touches[i]))&&(nopropagation(event),gesture("start",event,touches[i]))}}function touchmoved(event){var i,gesture,touches=event.changedTouches,n=touches.length;for(i=0;i<n;++i)(gesture=gestures[touches[i].identifier])&&(noevent(event),gesture("drag",event,touches[i]))}function touchended(event){var i,gesture,touches=event.changedTouches,n=touches.length;for(touchending&&clearTimeout(touchending),touchending=setTimeout((function(){touchending=null}),500),i=0;i<n;++i)(gesture=gestures[touches[i].identifier])&&(nopropagation(event),gesture("end",event,touches[i]))}function beforestart(that,container,event,d,identifier,touch){var dx,dy,s,dispatch=listeners.copy(),p=pointer(touch||event,container);if(null!=(s=subject.call(that,new DragEvent("beforestart",{sourceEvent:event,target:drag,identifier,active,x:p[0],y:p[1],dx:0,dy:0,dispatch}),d)))return dx=s.x-p[0]||0,dy=s.y-p[1]||0,function gesture(type,event,touch){var n,p0=p;switch(type){case"start":gestures[identifier]=gesture,n=active++;break;case"end":delete gestures[identifier],--active;case"drag":p=pointer(touch||event,container),n=active}dispatch.call(type,that,new DragEvent(type,{sourceEvent:event,subject:s,target:drag,identifier,active:n,x:p[0]+dx,y:p[1]+dy,dx:p[0]-p0[0],dy:p[1]-p0[1],dispatch}),d)}}return drag.filter=function(_){return arguments.length?(filter="function"==typeof _?_:d3_drag_src_constant(!!_),drag):filter},drag.container=function(_){return arguments.length?(container="function"==typeof _?_:d3_drag_src_constant(_),drag):container},drag.subject=function(_){return arguments.length?(subject="function"==typeof _?_:d3_drag_src_constant(_),drag):subject},drag.touchable=function(_){return arguments.length?(touchable="function"==typeof _?_:d3_drag_src_constant(!!_),drag):touchable},drag.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?drag:value},drag.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,drag):Math.sqrt(clickDistance2)},drag}DragEvent.prototype.on=function(){var value=this._.on.apply(this._,arguments);return value===this._?this:value};var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13;function objectConverter(columns){return new Function("d","return {"+columns.map((function(name,i){return JSON.stringify(name)+": d["+i+'] || ""'})).join(",")+"}")}function inferColumns(rows){var columnSet=Object.create(null),columns=[];return rows.forEach((function(row){for(var column in row)column in columnSet||columns.push(columnSet[column]=column)})),columns}function pad(value,width){var s=value+"",length=s.length;return length<width?new Array(width-length+1).join(0)+s:s}function formatDate(date){var hours=date.getUTCHours(),minutes=date.getUTCMinutes(),seconds=date.getUTCSeconds(),milliseconds=date.getUTCMilliseconds();return isNaN(date)?"Invalid Date":function formatYear(year){return year<0?"-"+pad(-year,6):year>9999?"+"+pad(year,6):pad(year,4)}(date.getUTCFullYear())+"-"+pad(date.getUTCMonth()+1,2)+"-"+pad(date.getUTCDate(),2)+(milliseconds?"T"+pad(hours,2)+":"+pad(minutes,2)+":"+pad(seconds,2)+"."+pad(milliseconds,3)+"Z":seconds?"T"+pad(hours,2)+":"+pad(minutes,2)+":"+pad(seconds,2)+"Z":minutes||hours?"T"+pad(hours,2)+":"+pad(minutes,2)+"Z":"")}function dsv(delimiter){var reFormat=new RegExp('["'+delimiter+"\n\r]"),DELIMITER=delimiter.charCodeAt(0);function parseRows(text,f){var t,rows=[],N=text.length,I=0,n=0,eof=N<=0,eol=!1;function token(){if(eof)return EOF;if(eol)return eol=!1,EOL;var i,c,j=I;if(text.charCodeAt(j)===QUOTE){for(;I++<N&&text.charCodeAt(I)!==QUOTE||text.charCodeAt(++I)===QUOTE;);return(i=I)>=N?eof=!0:(c=text.charCodeAt(I++))===NEWLINE?eol=!0:c===RETURN&&(eol=!0,text.charCodeAt(I)===NEWLINE&&++I),text.slice(j+1,i-1).replace(/""/g,'"')}for(;I<N;){if((c=text.charCodeAt(i=I++))===NEWLINE)eol=!0;else if(c===RETURN)eol=!0,text.charCodeAt(I)===NEWLINE&&++I;else if(c!==DELIMITER)continue;return text.slice(j,i)}return eof=!0,text.slice(j,N)}for(text.charCodeAt(N-1)===NEWLINE&&--N,text.charCodeAt(N-1)===RETURN&&--N;(t=token())!==EOF;){for(var row=[];t!==EOL&&t!==EOF;)row.push(t),t=token();f&&null==(row=f(row,n++))||rows.push(row)}return rows}function preformatBody(rows,columns){return rows.map((function(row){return columns.map((function(column){return formatValue(row[column])})).join(delimiter)}))}function formatRow(row){return row.map(formatValue).join(delimiter)}function formatValue(value){return null==value?"":value instanceof Date?formatDate(value):reFormat.test(value+="")?'"'+value.replace(/"/g,'""')+'"':value}return{parse:function parse(text,f){var convert,columns,rows=parseRows(text,(function(row,i){if(convert)return convert(row,i-1);columns=row,convert=f?function customConverter(columns,f){var object=objectConverter(columns);return function(row,i){return f(object(row),i,columns)}}(row,f):objectConverter(row)}));return rows.columns=columns||[],rows},parseRows,format:function format(rows,columns){return null==columns&&(columns=inferColumns(rows)),[columns.map(formatValue).join(delimiter)].concat(preformatBody(rows,columns)).join("\n")},formatBody:function formatBody(rows,columns){return null==columns&&(columns=inferColumns(rows)),preformatBody(rows,columns).join("\n")},formatRows:function formatRows(rows){return rows.map(formatRow).join("\n")},formatRow,formatValue}}var csv=dsv(","),csvParse=csv.parse,csvParseRows=csv.parseRows,csvFormat=csv.format,csvFormatBody=csv.formatBody,csvFormatRows=csv.formatRows,csvFormatRow=csv.formatRow,csvFormatValue=csv.formatValue,tsv=dsv("\t"),tsvParse=tsv.parse,tsvParseRows=tsv.parseRows,tsvFormat=tsv.format,tsvFormatBody=tsv.formatBody,tsvFormatRows=tsv.formatRows,tsvFormatRow=tsv.formatRow,tsvFormatValue=tsv.formatValue;function autoType(object){for(var key in object){var number,m,value=object[key].trim();if(value)if("true"===value)value=!0;else if("false"===value)value=!1;else if("NaN"===value)value=NaN;else if(isNaN(number=+value)){if(!(m=value.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;fixtz&&m[4]&&!m[7]&&(value=value.replace(/-/g,"/").replace(/T/," ")),value=new Date(value)}else value=number;else value=null;object[key]=value}return object}const fixtz=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),linear_linear=t=>+t;function quadIn(t){return t*t}function quadOut(t){return t*(2-t)}function quadInOut(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var polyIn=function custom(e){function polyIn(t){return Math.pow(t,e)}return e=+e,polyIn.exponent=custom,polyIn}(3),polyOut=function custom(e){function polyOut(t){return 1-Math.pow(1-t,e)}return e=+e,polyOut.exponent=custom,polyOut}(3),polyInOut=function custom(e){function polyInOut(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,polyInOut.exponent=custom,polyInOut}(3),sin_pi=Math.PI,sin_halfPi=sin_pi/2;function sinIn(t){return 1===+t?1:1-Math.cos(t*sin_halfPi)}function sinOut(t){return Math.sin(t*sin_halfPi)}function sinInOut(t){return(1-Math.cos(sin_pi*t))/2}function tpmt(x){return 1.0009775171065494*(Math.pow(2,-10*x)-.0009765625)}function expIn(t){return tpmt(1-+t)}function expOut(t){return 1-tpmt(t)}function expInOut(t){return((t*=2)<=1?tpmt(1-t):2-tpmt(t-1))/2}function circleIn(t){return 1-Math.sqrt(1-t*t)}function circleOut(t){return Math.sqrt(1- --t*t)}function circleInOut(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var b1=4/11,b2=6/11,b3=8/11,b4=3/4,b5=9/11,b6=10/11,b7=15/16,b8=21/22,b9=63/64,b0=1/b1/b1;function bounceIn(t){return 1-bounceOut(1-t)}function bounceOut(t){return(t=+t)<b1?b0*t*t:t<b3?b0*(t-=b2)*t+b4:t<b6?b0*(t-=b5)*t+b7:b0*(t-=b8)*t+b9}function bounceInOut(t){return((t*=2)<=1?1-bounceOut(1-t):bounceOut(t-1)+1)/2}var backIn=function custom(s){function backIn(t){return(t=+t)*t*(s*(t-1)+t)}return s=+s,backIn.overshoot=custom,backIn}(1.70158),backOut=function custom(s){function backOut(t){return--t*t*((t+1)*s+t)+1}return s=+s,backOut.overshoot=custom,backOut}(1.70158),backInOut=function custom(s){function backInOut(t){return((t*=2)<1?t*t*((s+1)*t-s):(t-=2)*t*((s+1)*t+s)+2)/2}return s=+s,backInOut.overshoot=custom,backInOut}(1.70158),elastic_tau=2*Math.PI,elasticIn=function custom(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=elastic_tau);function elasticIn(t){return a*tpmt(- --t)*Math.sin((s-t)/p)}return elasticIn.amplitude=function(a){return custom(a,p*elastic_tau)},elasticIn.period=function(p){return custom(a,p)},elasticIn}(1,.3),elasticOut=function custom(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=elastic_tau);function elasticOut(t){return 1-a*tpmt(t=+t)*Math.sin((t+s)/p)}return elasticOut.amplitude=function(a){return custom(a,p*elastic_tau)},elasticOut.period=function(p){return custom(a,p)},elasticOut}(1,.3),elasticInOut=function custom(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=elastic_tau);function elasticInOut(t){return((t=2*t-1)<0?a*tpmt(-t)*Math.sin((s-t)/p):2-a*tpmt(t)*Math.sin((s+t)/p))/2}return elasticInOut.amplitude=function(a){return custom(a,p*elastic_tau)},elasticInOut.period=function(p){return custom(a,p)},elasticInOut}(1,.3);function responseBlob(response){if(!response.ok)throw new Error(response.status+" "+response.statusText);return response.blob()}function blob(input,init){return fetch(input,init).then(responseBlob)}function responseArrayBuffer(response){if(!response.ok)throw new Error(response.status+" "+response.statusText);return response.arrayBuffer()}function buffer(input,init){return fetch(input,init).then(responseArrayBuffer)}function responseText(response){if(!response.ok)throw new Error(response.status+" "+response.statusText);return response.text()}function src_text(input,init){return fetch(input,init).then(responseText)}function dsvParse(parse){return function(input,init,row){return 2===arguments.length&&"function"==typeof init&&(row=init,init=void 0),src_text(input,init).then((function(response){return parse(response,row)}))}}function dsv_dsv(delimiter,input,init,row){3===arguments.length&&"function"==typeof init&&(row=init,init=void 0);var format=dsv(delimiter);return src_text(input,init).then((function(response){return format.parse(response,row)}))}var dsv_csv=dsvParse(csvParse),dsv_tsv=dsvParse(tsvParse);function src_image(input,init){return new Promise((function(resolve,reject){var image=new Image;for(var key in init)image[key]=init[key];image.onerror=reject,image.onload=function(){resolve(image)},image.src=input}))}function responseJson(response){if(!response.ok)throw new Error(response.status+" "+response.statusText);if(204!==response.status&&205!==response.status)return response.json()}function json(input,init){return fetch(input,init).then(responseJson)}function parser(type){return(input,init)=>src_text(input,init).then((text=>(new DOMParser).parseFromString(text,type)))}const xml=parser("application/xml");var xml_html=parser("text/html"),svg=parser("image/svg+xml");function src_center(x,y){var nodes,strength=1;function force(){var i,node,n=nodes.length,sx=0,sy=0;for(i=0;i<n;++i)sx+=(node=nodes[i]).x,sy+=node.y;for(sx=(sx/n-x)*strength,sy=(sy/n-y)*strength,i=0;i<n;++i)(node=nodes[i]).x-=sx,node.y-=sy}return null==x&&(x=0),null==y&&(y=0),force.initialize=function(_){nodes=_},force.x=function(_){return arguments.length?(x=+_,force):x},force.y=function(_){return arguments.length?(y=+_,force):y},force.strength=function(_){return arguments.length?(strength=+_,force):strength},force}function add_add(tree,x,y,d){if(isNaN(x)||isNaN(y))return tree;var parent,xm,ym,xp,yp,right,bottom,i,j,node=tree._root,leaf={data:d},x0=tree._x0,y0=tree._y0,x1=tree._x1,y1=tree._y1;if(!node)return tree._root=leaf,tree;for(;node.length;)if((right=x>=(xm=(x0+x1)/2))?x0=xm:x1=xm,(bottom=y>=(ym=(y0+y1)/2))?y0=ym:y1=ym,parent=node,!(node=node[i=bottom<<1|right]))return parent[i]=leaf,tree;if(xp=+tree._x.call(null,node.data),yp=+tree._y.call(null,node.data),x===xp&&y===yp)return leaf.next=node,parent?parent[i]=leaf:tree._root=leaf,tree;do{parent=parent?parent[i]=new Array(4):tree._root=new Array(4),(right=x>=(xm=(x0+x1)/2))?x0=xm:x1=xm,(bottom=y>=(ym=(y0+y1)/2))?y0=ym:y1=ym}while((i=bottom<<1|right)==(j=(yp>=ym)<<1|xp>=xm));return parent[j]=node,parent[i]=leaf,tree}function quad(node,x0,y0,x1,y1){this.node=node,this.x0=x0,this.y0=y0,this.x1=x1,this.y1=y1}function x_defaultX(d){return d[0]}function y_defaultY(d){return d[1]}function quadtree(nodes,x,y){var tree=new Quadtree(null==x?x_defaultX:x,null==y?y_defaultY:y,NaN,NaN,NaN,NaN);return null==nodes?tree:tree.addAll(nodes)}function Quadtree(x,y,x0,y0,x1,y1){this._x=x,this._y=y,this._x0=x0,this._y0=y0,this._x1=x1,this._y1=y1,this._root=void 0}function leaf_copy(leaf){for(var copy={data:leaf.data},next=copy;leaf=leaf.next;)next=next.next={data:leaf.data};return copy}var treeProto=quadtree.prototype=Quadtree.prototype;function d3_force_src_constant(x){return function(){return x}}function jiggle(random){return 1e-6*(random()-.5)}function collide_x(d){return d.x+d.vx}function collide_y(d){return d.y+d.vy}function collide(radius){var nodes,radii,random,strength=1,iterations=1;function force(){for(var i,tree,node,xi,yi,ri,ri2,n=nodes.length,k=0;k<iterations;++k)for(tree=quadtree(nodes,collide_x,collide_y).visitAfter(prepare),i=0;i<n;++i)node=nodes[i],ri=radii[node.index],ri2=ri*ri,xi=node.x+node.vx,yi=node.y+node.vy,tree.visit(apply);function apply(quad,x0,y0,x1,y1){var data=quad.data,rj=quad.r,r=ri+rj;if(!data)return x0>xi+r||x1<xi-r||y0>yi+r||y1<yi-r;if(data.index>node.index){var x=xi-data.x-data.vx,y=yi-data.y-data.vy,l=x*x+y*y;l<r*r&&(0===x&&(l+=(x=jiggle(random))*x),0===y&&(l+=(y=jiggle(random))*y),l=(r-(l=Math.sqrt(l)))/l*strength,node.vx+=(x*=l)*(r=(rj*=rj)/(ri2+rj)),node.vy+=(y*=l)*r,data.vx-=x*(r=1-r),data.vy-=y*r)}}}function prepare(quad){if(quad.data)return quad.r=radii[quad.data.index];for(var i=quad.r=0;i<4;++i)quad[i]&&quad[i].r>quad.r&&(quad.r=quad[i].r)}function initialize(){if(nodes){var i,node,n=nodes.length;for(radii=new Array(n),i=0;i<n;++i)node=nodes[i],radii[node.index]=+radius(node,i,nodes)}}return"function"!=typeof radius&&(radius=d3_force_src_constant(null==radius?1:+radius)),force.initialize=function(_nodes,_random){nodes=_nodes,random=_random,initialize()},force.iterations=function(_){return arguments.length?(iterations=+_,force):iterations},force.strength=function(_){return arguments.length?(strength=+_,force):strength},force.radius=function(_){return arguments.length?(radius="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):radius},force}function link_index(d){return d.index}function link_find(nodeById,nodeId){var node=nodeById.get(nodeId);if(!node)throw new Error("node not found: "+nodeId);return node}function src_link(links){var strengths,distances,nodes,count,bias,random,id=link_index,strength=function defaultStrength(link){return 1/Math.min(count[link.source.index],count[link.target.index])},distance=d3_force_src_constant(30),iterations=1;function force(alpha){for(var k=0,n=links.length;k<iterations;++k)for(var link,source,target,x,y,l,b,i=0;i<n;++i)source=(link=links[i]).source,x=(target=link.target).x+target.vx-source.x-source.vx||jiggle(random),y=target.y+target.vy-source.y-source.vy||jiggle(random),x*=l=((l=Math.sqrt(x*x+y*y))-distances[i])/l*alpha*strengths[i],y*=l,target.vx-=x*(b=bias[i]),target.vy-=y*b,source.vx+=x*(b=1-b),source.vy+=y*b}function initialize(){if(nodes){var i,link,n=nodes.length,m=links.length,nodeById=new Map(nodes.map(((d,i)=>[id(d,i,nodes),d])));for(i=0,count=new Array(n);i<m;++i)(link=links[i]).index=i,"object"!=typeof link.source&&(link.source=link_find(nodeById,link.source)),"object"!=typeof link.target&&(link.target=link_find(nodeById,link.target)),count[link.source.index]=(count[link.source.index]||0)+1,count[link.target.index]=(count[link.target.index]||0)+1;for(i=0,bias=new Array(m);i<m;++i)link=links[i],bias[i]=count[link.source.index]/(count[link.source.index]+count[link.target.index]);strengths=new Array(m),initializeStrength(),distances=new Array(m),initializeDistance()}}function initializeStrength(){if(nodes)for(var i=0,n=links.length;i<n;++i)strengths[i]=+strength(links[i],i,links)}function initializeDistance(){if(nodes)for(var i=0,n=links.length;i<n;++i)distances[i]=+distance(links[i],i,links)}return null==links&&(links=[]),force.initialize=function(_nodes,_random){nodes=_nodes,random=_random,initialize()},force.links=function(_){return arguments.length?(links=_,initialize(),force):links},force.id=function(_){return arguments.length?(id=_,force):id},force.iterations=function(_){return arguments.length?(iterations=+_,force):iterations},force.strength=function(_){return arguments.length?(strength="function"==typeof _?_:d3_force_src_constant(+_),initializeStrength(),force):strength},force.distance=function(_){return arguments.length?(distance="function"==typeof _?_:d3_force_src_constant(+_),initializeDistance(),force):distance},force}treeProto.copy=function(){var nodes,child,copy=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),node=this._root;if(!node)return copy;if(!node.length)return copy._root=leaf_copy(node),copy;for(nodes=[{source:node,target:copy._root=new Array(4)}];node=nodes.pop();)for(var i=0;i<4;++i)(child=node.source[i])&&(child.length?nodes.push({source:child,target:node.target[i]=new Array(4)}):node.target[i]=leaf_copy(child));return copy},treeProto.add=function add(d){const x=+this._x.call(null,d),y=+this._y.call(null,d);return add_add(this.cover(x,y),x,y,d)},treeProto.addAll=function addAll(data){var d,i,x,y,n=data.length,xz=new Array(n),yz=new Array(n),x0=1/0,y0=1/0,x1=-1/0,y1=-1/0;for(i=0;i<n;++i)isNaN(x=+this._x.call(null,d=data[i]))||isNaN(y=+this._y.call(null,d))||(xz[i]=x,yz[i]=y,x<x0&&(x0=x),x>x1&&(x1=x),y<y0&&(y0=y),y>y1&&(y1=y));if(x0>x1||y0>y1)return this;for(this.cover(x0,y0).cover(x1,y1),i=0;i<n;++i)add_add(this,xz[i],yz[i],data[i]);return this},treeProto.cover=function cover(x,y){if(isNaN(x=+x)||isNaN(y=+y))return this;var x0=this._x0,y0=this._y0,x1=this._x1,y1=this._y1;if(isNaN(x0))x1=(x0=Math.floor(x))+1,y1=(y0=Math.floor(y))+1;else{for(var parent,i,z=x1-x0||1,node=this._root;x0>x||x>=x1||y0>y||y>=y1;)switch(i=(y<y0)<<1|x<x0,(parent=new Array(4))[i]=node,node=parent,z*=2,i){case 0:x1=x0+z,y1=y0+z;break;case 1:x0=x1-z,y1=y0+z;break;case 2:x1=x0+z,y0=y1-z;break;case 3:x0=x1-z,y0=y1-z}this._root&&this._root.length&&(this._root=node)}return this._x0=x0,this._y0=y0,this._x1=x1,this._y1=y1,this},treeProto.data=function src_data(){var data=[];return this.visit((function(node){if(!node.length)do{data.push(node.data)}while(node=node.next)})),data},treeProto.extent=function src_extent(_){return arguments.length?this.cover(+_[0][0],+_[0][1]).cover(+_[1][0],+_[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},treeProto.find=function src_find(x,y,radius){var data,x1,y1,x2,y2,q,i,x0=this._x0,y0=this._y0,x3=this._x1,y3=this._y1,quads=[],node=this._root;for(node&&quads.push(new quad(node,x0,y0,x3,y3)),null==radius?radius=1/0:(x0=x-radius,y0=y-radius,x3=x+radius,y3=y+radius,radius*=radius);q=quads.pop();)if(!(!(node=q.node)||(x1=q.x0)>x3||(y1=q.y0)>y3||(x2=q.x1)<x0||(y2=q.y1)<y0))if(node.length){var xm=(x1+x2)/2,ym=(y1+y2)/2;quads.push(new quad(node[3],xm,ym,x2,y2),new quad(node[2],x1,ym,xm,y2),new quad(node[1],xm,y1,x2,ym),new quad(node[0],x1,y1,xm,ym)),(i=(y>=ym)<<1|x>=xm)&&(q=quads[quads.length-1],quads[quads.length-1]=quads[quads.length-1-i],quads[quads.length-1-i]=q)}else{var dx=x-+this._x.call(null,node.data),dy=y-+this._y.call(null,node.data),d2=dx*dx+dy*dy;if(d2<radius){var d=Math.sqrt(radius=d2);x0=x-d,y0=y-d,x3=x+d,y3=y+d,data=node.data}}return data},treeProto.remove=function src_remove(d){if(isNaN(x=+this._x.call(null,d))||isNaN(y=+this._y.call(null,d)))return this;var parent,retainer,previous,next,x,y,xm,ym,right,bottom,i,j,node=this._root,x0=this._x0,y0=this._y0,x1=this._x1,y1=this._y1;if(!node)return this;if(node.length)for(;;){if((right=x>=(xm=(x0+x1)/2))?x0=xm:x1=xm,(bottom=y>=(ym=(y0+y1)/2))?y0=ym:y1=ym,parent=node,!(node=node[i=bottom<<1|right]))return this;if(!node.length)break;(parent[i+1&3]||parent[i+2&3]||parent[i+3&3])&&(retainer=parent,j=i)}for(;node.data!==d;)if(previous=node,!(node=node.next))return this;return(next=node.next)&&delete node.next,previous?(next?previous.next=next:delete previous.next,this):parent?(next?parent[i]=next:delete parent[i],(node=parent[0]||parent[1]||parent[2]||parent[3])&&node===(parent[3]||parent[2]||parent[1]||parent[0])&&!node.length&&(retainer?retainer[j]=node:this._root=node),this):(this._root=next,this)},treeProto.removeAll=function removeAll(data){for(var i=0,n=data.length;i<n;++i)this.remove(data[i]);return this},treeProto.root=function src_root(){return this._root},treeProto.size=function src_size(){var size=0;return this.visit((function(node){if(!node.length)do{++size}while(node=node.next)})),size},treeProto.visit=function visit(callback){var q,child,x0,y0,x1,y1,quads=[],node=this._root;for(node&&quads.push(new quad(node,this._x0,this._y0,this._x1,this._y1));q=quads.pop();)if(!callback(node=q.node,x0=q.x0,y0=q.y0,x1=q.x1,y1=q.y1)&&node.length){var xm=(x0+x1)/2,ym=(y0+y1)/2;(child=node[3])&&quads.push(new quad(child,xm,ym,x1,y1)),(child=node[2])&&quads.push(new quad(child,x0,ym,xm,y1)),(child=node[1])&&quads.push(new quad(child,xm,y0,x1,ym)),(child=node[0])&&quads.push(new quad(child,x0,y0,xm,ym))}return this},treeProto.visitAfter=function visitAfter(callback){var q,quads=[],next=[];for(this._root&&quads.push(new quad(this._root,this._x0,this._y0,this._x1,this._y1));q=quads.pop();){var node=q.node;if(node.length){var child,x0=q.x0,y0=q.y0,x1=q.x1,y1=q.y1,xm=(x0+x1)/2,ym=(y0+y1)/2;(child=node[0])&&quads.push(new quad(child,x0,y0,xm,ym)),(child=node[1])&&quads.push(new quad(child,xm,y0,x1,ym)),(child=node[2])&&quads.push(new quad(child,x0,ym,xm,y1)),(child=node[3])&&quads.push(new quad(child,xm,ym,x1,y1))}next.push(q)}for(;q=next.pop();)callback(q.node,q.x0,q.y0,q.x1,q.y1);return this},treeProto.x=function x(_){return arguments.length?(this._x=_,this):this._x},treeProto.y=function y(_){return arguments.length?(this._y=_,this):this._y};const a=1664525,c=1013904223,m=4294967296;function simulation_x(d){return d.x}function simulation_y(d){return d.y}var initialRadius=10,initialAngle=Math.PI*(3-Math.sqrt(5));function simulation(nodes){var simulation,alpha=1,alphaMin=.001,alphaDecay=1-Math.pow(alphaMin,1/300),alphaTarget=0,velocityDecay=.6,forces=new Map,stepper=timer(step),event=src_dispatch("tick","end"),random=function lcg(){let s=1;return()=>(s=(a*s+c)%m)/m}();function step(){tick(),event.call("tick",simulation),alpha<alphaMin&&(stepper.stop(),event.call("end",simulation))}function tick(iterations){var i,node,n=nodes.length;void 0===iterations&&(iterations=1);for(var k=0;k<iterations;++k)for(alpha+=(alphaTarget-alpha)*alphaDecay,forces.forEach((function(force){force(alpha)})),i=0;i<n;++i)null==(node=nodes[i]).fx?node.x+=node.vx*=velocityDecay:(node.x=node.fx,node.vx=0),null==node.fy?node.y+=node.vy*=velocityDecay:(node.y=node.fy,node.vy=0);return simulation}function initializeNodes(){for(var node,i=0,n=nodes.length;i<n;++i){if((node=nodes[i]).index=i,null!=node.fx&&(node.x=node.fx),null!=node.fy&&(node.y=node.fy),isNaN(node.x)||isNaN(node.y)){var radius=initialRadius*Math.sqrt(.5+i),angle=i*initialAngle;node.x=radius*Math.cos(angle),node.y=radius*Math.sin(angle)}(isNaN(node.vx)||isNaN(node.vy))&&(node.vx=node.vy=0)}}function initializeForce(force){return force.initialize&&force.initialize(nodes,random),force}return null==nodes&&(nodes=[]),initializeNodes(),simulation={tick,restart:function(){return stepper.restart(step),simulation},stop:function(){return stepper.stop(),simulation},nodes:function(_){return arguments.length?(nodes=_,initializeNodes(),forces.forEach(initializeForce),simulation):nodes},alpha:function(_){return arguments.length?(alpha=+_,simulation):alpha},alphaMin:function(_){return arguments.length?(alphaMin=+_,simulation):alphaMin},alphaDecay:function(_){return arguments.length?(alphaDecay=+_,simulation):+alphaDecay},alphaTarget:function(_){return arguments.length?(alphaTarget=+_,simulation):alphaTarget},velocityDecay:function(_){return arguments.length?(velocityDecay=1-_,simulation):1-velocityDecay},randomSource:function(_){return arguments.length?(random=_,forces.forEach(initializeForce),simulation):random},force:function(name,_){return arguments.length>1?(null==_?forces.delete(name):forces.set(name,initializeForce(_)),simulation):forces.get(name)},find:function(x,y,radius){var dx,dy,d2,node,closest,i=0,n=nodes.length;for(null==radius?radius=1/0:radius*=radius,i=0;i<n;++i)(d2=(dx=x-(node=nodes[i]).x)*dx+(dy=y-node.y)*dy)<radius&&(closest=node,radius=d2);return closest},on:function(name,_){return arguments.length>1?(event.on(name,_),simulation):event.on(name)}}}function manyBody(){var nodes,node,random,alpha,strengths,strength=d3_force_src_constant(-30),distanceMin2=1,distanceMax2=1/0,theta2=.81;function force(_){var i,n=nodes.length,tree=quadtree(nodes,simulation_x,simulation_y).visitAfter(accumulate);for(alpha=_,i=0;i<n;++i)node=nodes[i],tree.visit(apply)}function initialize(){if(nodes){var i,node,n=nodes.length;for(strengths=new Array(n),i=0;i<n;++i)node=nodes[i],strengths[node.index]=+strength(node,i,nodes)}}function accumulate(quad){var q,c,x,y,i,strength=0,weight=0;if(quad.length){for(x=y=i=0;i<4;++i)(q=quad[i])&&(c=Math.abs(q.value))&&(strength+=q.value,weight+=c,x+=c*q.x,y+=c*q.y);quad.x=x/weight,quad.y=y/weight}else{(q=quad).x=q.data.x,q.y=q.data.y;do{strength+=strengths[q.data.index]}while(q=q.next)}quad.value=strength}function apply(quad,x1,_,x2){if(!quad.value)return!0;var x=quad.x-node.x,y=quad.y-node.y,w=x2-x1,l=x*x+y*y;if(w*w/theta2<l)return l<distanceMax2&&(0===x&&(l+=(x=jiggle(random))*x),0===y&&(l+=(y=jiggle(random))*y),l<distanceMin2&&(l=Math.sqrt(distanceMin2*l)),node.vx+=x*quad.value*alpha/l,node.vy+=y*quad.value*alpha/l),!0;if(!(quad.length||l>=distanceMax2)){(quad.data!==node||quad.next)&&(0===x&&(l+=(x=jiggle(random))*x),0===y&&(l+=(y=jiggle(random))*y),l<distanceMin2&&(l=Math.sqrt(distanceMin2*l)));do{quad.data!==node&&(w=strengths[quad.data.index]*alpha/l,node.vx+=x*w,node.vy+=y*w)}while(quad=quad.next)}}return force.initialize=function(_nodes,_random){nodes=_nodes,random=_random,initialize()},force.strength=function(_){return arguments.length?(strength="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):strength},force.distanceMin=function(_){return arguments.length?(distanceMin2=_*_,force):Math.sqrt(distanceMin2)},force.distanceMax=function(_){return arguments.length?(distanceMax2=_*_,force):Math.sqrt(distanceMax2)},force.theta=function(_){return arguments.length?(theta2=_*_,force):Math.sqrt(theta2)},force}function radial(radius,x,y){var nodes,strengths,radiuses,strength=d3_force_src_constant(.1);function force(alpha){for(var i=0,n=nodes.length;i<n;++i){var node=nodes[i],dx=node.x-x||1e-6,dy=node.y-y||1e-6,r=Math.sqrt(dx*dx+dy*dy),k=(radiuses[i]-r)*strengths[i]*alpha/r;node.vx+=dx*k,node.vy+=dy*k}}function initialize(){if(nodes){var i,n=nodes.length;for(strengths=new Array(n),radiuses=new Array(n),i=0;i<n;++i)radiuses[i]=+radius(nodes[i],i,nodes),strengths[i]=isNaN(radiuses[i])?0:+strength(nodes[i],i,nodes)}}return"function"!=typeof radius&&(radius=d3_force_src_constant(+radius)),null==x&&(x=0),null==y&&(y=0),force.initialize=function(_){nodes=_,initialize()},force.strength=function(_){return arguments.length?(strength="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):strength},force.radius=function(_){return arguments.length?(radius="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):radius},force.x=function(_){return arguments.length?(x=+_,force):x},force.y=function(_){return arguments.length?(y=+_,force):y},force}function src_x(x){var nodes,strengths,xz,strength=d3_force_src_constant(.1);function force(alpha){for(var node,i=0,n=nodes.length;i<n;++i)(node=nodes[i]).vx+=(xz[i]-node.x)*strengths[i]*alpha}function initialize(){if(nodes){var i,n=nodes.length;for(strengths=new Array(n),xz=new Array(n),i=0;i<n;++i)strengths[i]=isNaN(xz[i]=+x(nodes[i],i,nodes))?0:+strength(nodes[i],i,nodes)}}return"function"!=typeof x&&(x=d3_force_src_constant(null==x?0:+x)),force.initialize=function(_){nodes=_,initialize()},force.strength=function(_){return arguments.length?(strength="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):strength},force.x=function(_){return arguments.length?(x="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):x},force}function src_y(y){var nodes,strengths,yz,strength=d3_force_src_constant(.1);function force(alpha){for(var node,i=0,n=nodes.length;i<n;++i)(node=nodes[i]).vy+=(yz[i]-node.y)*strengths[i]*alpha}function initialize(){if(nodes){var i,n=nodes.length;for(strengths=new Array(n),yz=new Array(n),i=0;i<n;++i)strengths[i]=isNaN(yz[i]=+y(nodes[i],i,nodes))?0:+strength(nodes[i],i,nodes)}}return"function"!=typeof y&&(y=d3_force_src_constant(null==y?0:+y)),force.initialize=function(_){nodes=_,initialize()},force.strength=function(_){return arguments.length?(strength="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):strength},force.y=function(_){return arguments.length?(y="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):y},force}function formatDecimalParts(x,p){if((i=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e"))<0)return null;var i,coefficient=x.slice(0,i);return[coefficient.length>1?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(i+1)]}function src_exponent(x){return(x=formatDecimalParts(Math.abs(x)))?x[1]:NaN}var prefixExponent,re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(specifier){if(!(match=re.exec(specifier)))throw new Error("invalid format: "+specifier);var match;return new FormatSpecifier({fill:match[1],align:match[2],sign:match[3],symbol:match[4],zero:match[5],width:match[6],comma:match[7],precision:match[8]&&match[8].slice(1),trim:match[9],type:match[10]})}function FormatSpecifier(specifier){this.fill=void 0===specifier.fill?" ":specifier.fill+"",this.align=void 0===specifier.align?">":specifier.align+"",this.sign=void 0===specifier.sign?"-":specifier.sign+"",this.symbol=void 0===specifier.symbol?"":specifier.symbol+"",this.zero=!!specifier.zero,this.width=void 0===specifier.width?void 0:+specifier.width,this.comma=!!specifier.comma,this.precision=void 0===specifier.precision?void 0:+specifier.precision,this.trim=!!specifier.trim,this.type=void 0===specifier.type?"":specifier.type+""}function formatRounded(x,p){var d=formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1];return exponent<0?"0."+new Array(-exponent).join("0")+coefficient:coefficient.length>exponent+1?coefficient.slice(0,exponent+1)+"."+coefficient.slice(exponent+1):coefficient+new Array(exponent-coefficient.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const formatTypes={"%":(x,p)=>(100*x).toFixed(p),b:x=>Math.round(x).toString(2),c:x=>x+"",d:function formatDecimal(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)},e:(x,p)=>x.toExponential(p),f:(x,p)=>x.toFixed(p),g:(x,p)=>x.toPrecision(p),o:x=>Math.round(x).toString(8),p:(x,p)=>formatRounded(100*x,p),r:formatRounded,s:function formatPrefixAuto(x,p){var d=formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1],i=exponent-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(exponent/3))))+1,n=coefficient.length;return i===n?coefficient:i>n?coefficient+new Array(i-n+1).join("0"):i>0?coefficient.slice(0,i)+"."+coefficient.slice(i):"0."+new Array(1-i).join("0")+formatDecimalParts(x,Math.max(0,p+i-1))[0]},X:x=>Math.round(x).toString(16).toUpperCase(),x:x=>Math.round(x).toString(16)};function d3_format_src_identity(x){return x}var defaultLocale_locale,format,formatPrefix,locale_map=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function locale(locale){var group=void 0===locale.grouping||void 0===locale.thousands?d3_format_src_identity:function formatGroup(grouping,thousands){return function(value,width){for(var i=value.length,t=[],j=0,g=grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=grouping[j=(j+1)%grouping.length];return t.reverse().join(thousands)}}(locale_map.call(locale.grouping,Number),locale.thousands+""),currencyPrefix=void 0===locale.currency?"":locale.currency[0]+"",currencySuffix=void 0===locale.currency?"":locale.currency[1]+"",decimal=void 0===locale.decimal?".":locale.decimal+"",numerals=void 0===locale.numerals?d3_format_src_identity:function formatNumerals(numerals){return function(value){return value.replace(/[0-9]/g,(function(i){return numerals[+i]}))}}(locale_map.call(locale.numerals,String)),percent=void 0===locale.percent?"%":locale.percent+"",minus=void 0===locale.minus?"":locale.minus+"",nan=void 0===locale.nan?"NaN":locale.nan+"";function newFormat(specifier){var fill=(specifier=formatSpecifier(specifier)).fill,align=specifier.align,sign=specifier.sign,symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,trim=specifier.trim,type=specifier.type;"n"===type?(comma=!0,type="g"):formatTypes[type]||(void 0===precision&&(precision=12),trim=!0,type="g"),(zero||"0"===fill&&"="===align)&&(zero=!0,fill="0",align="=");var prefix="$"===symbol?currencyPrefix:"#"===symbol&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix="$"===symbol?currencySuffix:/[%p]/.test(type)?percent:"",formatType=formatTypes[type],maybeSuffix=/[defgprs%]/.test(type);function format(value){var i,n,c,valuePrefix=prefix,valueSuffix=suffix;if("c"===type)valueSuffix=formatType(value)+valueSuffix,value="";else{var valueNegative=(value=+value)<0||1/value<0;if(value=isNaN(value)?nan:formatType(Math.abs(value),precision),trim&&(value=function formatTrim(s){out:for(var i1,n=s.length,i=1,i0=-1;i<n;++i)switch(s[i]){case".":i0=i1=i;break;case"0":0===i0&&(i0=i),i1=i;break;default:if(!+s[i])break out;i0>0&&(i0=0)}return i0>0?s.slice(0,i0)+s.slice(i1+1):s}(value)),valueNegative&&0===+value&&"+"!==sign&&(valueNegative=!1),valuePrefix=(valueNegative?"("===sign?sign:minus:"-"===sign||"("===sign?"":sign)+valuePrefix,valueSuffix=("s"===type?prefixes[8+prefixExponent/3]:"")+valueSuffix+(valueNegative&&"("===sign?")":""),maybeSuffix)for(i=-1,n=value.length;++i<n;)if(48>(c=value.charCodeAt(i))||c>57){valueSuffix=(46===c?decimal+value.slice(i+1):value.slice(i))+valueSuffix,value=value.slice(0,i);break}}comma&&!zero&&(value=group(value,1/0));var length=valuePrefix.length+value.length+valueSuffix.length,padding=length<width?new Array(width-length+1).join(fill):"";switch(comma&&zero&&(value=group(padding+value,padding.length?width-valueSuffix.length:1/0),padding=""),align){case"<":value=valuePrefix+value+valueSuffix+padding;break;case"=":value=valuePrefix+padding+value+valueSuffix;break;case"^":value=padding.slice(0,length=padding.length>>1)+valuePrefix+value+valueSuffix+padding.slice(length);break;default:value=padding+valuePrefix+value+valueSuffix}return numerals(value)}return precision=void 0===precision?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision)),format.toString=function(){return specifier+""},format}return{format:newFormat,formatPrefix:function formatPrefix(specifier,value){var f=newFormat(((specifier=formatSpecifier(specifier)).type="f",specifier)),e=3*Math.max(-8,Math.min(8,Math.floor(src_exponent(value)/3))),k=Math.pow(10,-e),prefix=prefixes[8+e/3];return function(value){return f(k*value)+prefix}}}}function defaultLocale(definition){return defaultLocale_locale=locale(definition),format=defaultLocale_locale.format,formatPrefix=defaultLocale_locale.formatPrefix,defaultLocale_locale}function precisionFixed(step){return Math.max(0,-src_exponent(Math.abs(step)))}function precisionPrefix(step,value){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(src_exponent(value)/3)))-src_exponent(Math.abs(step)))}function precisionRound(step,max){return step=Math.abs(step),max=Math.abs(max)-step,Math.max(0,src_exponent(max)-src_exponent(step))+1}defaultLocale({thousands:",",grouping:[3],currency:["$",""]});var src_math_epsilon=1e-6,epsilon2=1e-12,math_pi=Math.PI,math_halfPi=math_pi/2,quarterPi=math_pi/4,math_tau=2*math_pi,src_math_degrees=180/math_pi,math_radians=math_pi/180,src_math_abs=Math.abs,atan=Math.atan,atan2=Math.atan2,math_cos=Math.cos,ceil=Math.ceil,exp=Math.exp,hypot=(Math.floor,Math.hypot),log=Math.log,math_pow=Math.pow,math_sin=Math.sin,sign=Math.sign||function(x){return x>0?1:x<0?-1:0},sqrt=Math.sqrt,tan=Math.tan;function acos(x){return x>1?0:x<-1?math_pi:Math.acos(x)}function asin(x){return x>1?math_halfPi:x<-1?-math_halfPi:Math.asin(x)}function haversin(x){return(x=math_sin(x/2))*x}function noop_noop(){}function streamGeometry(geometry,stream){geometry&&streamGeometryType.hasOwnProperty(geometry.type)&&streamGeometryType[geometry.type](geometry,stream)}var streamObjectType={Feature:function(object,stream){streamGeometry(object.geometry,stream)},FeatureCollection:function(object,stream){for(var features=object.features,i=-1,n=features.length;++i<n;)streamGeometry(features[i].geometry,stream)}},streamGeometryType={Sphere:function(object,stream){stream.sphere()},Point:function(object,stream){object=object.coordinates,stream.point(object[0],object[1],object[2])},MultiPoint:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)object=coordinates[i],stream.point(object[0],object[1],object[2])},LineString:function(object,stream){streamLine(object.coordinates,stream,0)},MultiLineString:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)streamLine(coordinates[i],stream,0)},Polygon:function(object,stream){streamPolygon(object.coordinates,stream)},MultiPolygon:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)streamPolygon(coordinates[i],stream)},GeometryCollection:function(object,stream){for(var geometries=object.geometries,i=-1,n=geometries.length;++i<n;)streamGeometry(geometries[i],stream)}};function streamLine(coordinates,stream,closed){var coordinate,i=-1,n=coordinates.length-closed;for(stream.lineStart();++i<n;)coordinate=coordinates[i],stream.point(coordinate[0],coordinate[1],coordinate[2]);stream.lineEnd()}function streamPolygon(coordinates,stream){var i=-1,n=coordinates.length;for(stream.polygonStart();++i<n;)streamLine(coordinates[i],stream,1);stream.polygonEnd()}function stream(object,stream){object&&streamObjectType.hasOwnProperty(object.type)?streamObjectType[object.type](object,stream):streamGeometry(object,stream)}var lambda00,phi00,lambda0,cosPhi0,sinPhi0,bounds_lambda0,phi0,lambda1,phi1,lambda2,bounds_lambda00,bounds_phi00,p0,deltaSum,ranges,bounds_range,areaRingSum=new Adder,areaSum=new Adder,areaStream={point:noop_noop,lineStart:noop_noop,lineEnd:noop_noop,polygonStart:function(){areaRingSum=new Adder,areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){var areaRing=+areaRingSum;areaSum.add(areaRing<0?math_tau+areaRing:areaRing),this.lineStart=this.lineEnd=this.point=noop_noop},sphere:function(){areaSum.add(math_tau)}};function areaRingStart(){areaStream.point=areaPointFirst}function areaRingEnd(){areaPoint(lambda00,phi00)}function areaPointFirst(lambda,phi){areaStream.point=areaPoint,lambda00=lambda,phi00=phi,lambda0=lambda*=math_radians,cosPhi0=math_cos(phi=(phi*=math_radians)/2+quarterPi),sinPhi0=math_sin(phi)}function areaPoint(lambda,phi){var dLambda=(lambda*=math_radians)-lambda0,sdLambda=dLambda>=0?1:-1,adLambda=sdLambda*dLambda,cosPhi=math_cos(phi=(phi*=math_radians)/2+quarterPi),sinPhi=math_sin(phi),k=sinPhi0*sinPhi,u=cosPhi0*cosPhi+k*math_cos(adLambda),v=k*sdLambda*math_sin(adLambda);areaRingSum.add(atan2(v,u)),lambda0=lambda,cosPhi0=cosPhi,sinPhi0=sinPhi}function d3_geo_src_area(object){return areaSum=new Adder,stream(object,areaStream),2*areaSum}function spherical(cartesian){return[atan2(cartesian[1],cartesian[0]),asin(cartesian[2])]}function cartesian(spherical){var lambda=spherical[0],phi=spherical[1],cosPhi=math_cos(phi);return[cosPhi*math_cos(lambda),cosPhi*math_sin(lambda),math_sin(phi)]}function cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function cartesianAddInPlace(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]}function cartesianNormalizeInPlace(d){var l=sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l,d[1]/=l,d[2]/=l}var W0,W1,X0,Y0,Z0,X1,Y1,Z1,X2,Y2,Z2,centroid_lambda00,centroid_phi00,x0,y0,z0,boundsStream={point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream.point=boundsRingPoint,boundsStream.lineStart=boundsRingStart,boundsStream.lineEnd=boundsRingEnd,deltaSum=new Adder,areaStream.polygonStart()},polygonEnd:function(){areaStream.polygonEnd(),boundsStream.point=boundsPoint,boundsStream.lineStart=boundsLineStart,boundsStream.lineEnd=boundsLineEnd,areaRingSum<0?(bounds_lambda0=-(lambda1=180),phi0=-(phi1=90)):deltaSum>src_math_epsilon?phi1=90:deltaSum<-src_math_epsilon&&(phi0=-90),bounds_range[0]=bounds_lambda0,bounds_range[1]=lambda1},sphere:function(){bounds_lambda0=-(lambda1=180),phi0=-(phi1=90)}};function boundsPoint(lambda,phi){ranges.push(bounds_range=[bounds_lambda0=lambda,lambda1=lambda]),phi<phi0&&(phi0=phi),phi>phi1&&(phi1=phi)}function linePoint(lambda,phi){var p=cartesian([lambda*math_radians,phi*math_radians]);if(p0){var normal=cartesianCross(p0,p),inflection=cartesianCross([normal[1],-normal[0],0],normal);cartesianNormalizeInPlace(inflection),inflection=spherical(inflection);var phii,delta=lambda-lambda2,sign=delta>0?1:-1,lambdai=inflection[0]*src_math_degrees*sign,antimeridian=src_math_abs(delta)>180;antimeridian^(sign*lambda2<lambdai&&lambdai<sign*lambda)?(phii=inflection[1]*src_math_degrees)>phi1&&(phi1=phii):antimeridian^(sign*lambda2<(lambdai=(lambdai+360)%360-180)&&lambdai<sign*lambda)?(phii=-inflection[1]*src_math_degrees)<phi0&&(phi0=phii):(phi<phi0&&(phi0=phi),phi>phi1&&(phi1=phi)),antimeridian?lambda<lambda2?angle(bounds_lambda0,lambda)>angle(bounds_lambda0,lambda1)&&(lambda1=lambda):angle(lambda,lambda1)>angle(bounds_lambda0,lambda1)&&(bounds_lambda0=lambda):lambda1>=bounds_lambda0?(lambda<bounds_lambda0&&(bounds_lambda0=lambda),lambda>lambda1&&(lambda1=lambda)):lambda>lambda2?angle(bounds_lambda0,lambda)>angle(bounds_lambda0,lambda1)&&(lambda1=lambda):angle(lambda,lambda1)>angle(bounds_lambda0,lambda1)&&(bounds_lambda0=lambda)}else ranges.push(bounds_range=[bounds_lambda0=lambda,lambda1=lambda]);phi<phi0&&(phi0=phi),phi>phi1&&(phi1=phi),p0=p,lambda2=lambda}function boundsLineStart(){boundsStream.point=linePoint}function boundsLineEnd(){bounds_range[0]=bounds_lambda0,bounds_range[1]=lambda1,boundsStream.point=boundsPoint,p0=null}function boundsRingPoint(lambda,phi){if(p0){var delta=lambda-lambda2;deltaSum.add(src_math_abs(delta)>180?delta+(delta>0?360:-360):delta)}else bounds_lambda00=lambda,bounds_phi00=phi;areaStream.point(lambda,phi),linePoint(lambda,phi)}function boundsRingStart(){areaStream.lineStart()}function boundsRingEnd(){boundsRingPoint(bounds_lambda00,bounds_phi00),areaStream.lineEnd(),src_math_abs(deltaSum)>src_math_epsilon&&(bounds_lambda0=-(lambda1=180)),bounds_range[0]=bounds_lambda0,bounds_range[1]=lambda1,p0=null}function angle(lambda0,lambda1){return(lambda1-=lambda0)<0?lambda1+360:lambda1}function rangeCompare(a,b){return a[0]-b[0]}function rangeContains(range,x){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:x<range[0]||range[1]<x}function bounds(feature){var i,n,a,b,merged,deltaMax,delta;if(phi1=lambda1=-(bounds_lambda0=phi0=1/0),ranges=[],stream(feature,boundsStream),n=ranges.length){for(ranges.sort(rangeCompare),i=1,merged=[a=ranges[0]];i<n;++i)rangeContains(a,(b=ranges[i])[0])||rangeContains(a,b[1])?(angle(a[0],b[1])>angle(a[0],a[1])&&(a[1]=b[1]),angle(b[0],a[1])>angle(a[0],a[1])&&(a[0]=b[0])):merged.push(a=b);for(deltaMax=-1/0,i=0,a=merged[n=merged.length-1];i<=n;a=b,++i)b=merged[i],(delta=angle(a[1],b[0]))>deltaMax&&(deltaMax=delta,bounds_lambda0=b[0],lambda1=a[1])}return ranges=bounds_range=null,bounds_lambda0===1/0||phi0===1/0?[[NaN,NaN],[NaN,NaN]]:[[bounds_lambda0,phi0],[lambda1,phi1]]}var centroidStream={sphere:noop_noop,point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd}};function centroidPoint(lambda,phi){lambda*=math_radians;var cosPhi=math_cos(phi*=math_radians);centroidPointCartesian(cosPhi*math_cos(lambda),cosPhi*math_sin(lambda),math_sin(phi))}function centroidPointCartesian(x,y,z){++W0,X0+=(x-X0)/W0,Y0+=(y-Y0)/W0,Z0+=(z-Z0)/W0}function centroidLineStart(){centroidStream.point=centroidLinePointFirst}function centroidLinePointFirst(lambda,phi){lambda*=math_radians;var cosPhi=math_cos(phi*=math_radians);x0=cosPhi*math_cos(lambda),y0=cosPhi*math_sin(lambda),z0=math_sin(phi),centroidStream.point=centroidLinePoint,centroidPointCartesian(x0,y0,z0)}function centroidLinePoint(lambda,phi){lambda*=math_radians;var cosPhi=math_cos(phi*=math_radians),x=cosPhi*math_cos(lambda),y=cosPhi*math_sin(lambda),z=math_sin(phi),w=atan2(sqrt((w=y0*z-z0*y)*w+(w=z0*x-x0*z)*w+(w=x0*y-y0*x)*w),x0*x+y0*y+z0*z);W1+=w,X1+=w*(x0+(x0=x)),Y1+=w*(y0+(y0=y)),Z1+=w*(z0+(z0=z)),centroidPointCartesian(x0,y0,z0)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(centroid_lambda00,centroid_phi00),centroidStream.point=centroidPoint}function centroidRingPointFirst(lambda,phi){centroid_lambda00=lambda,centroid_phi00=phi,lambda*=math_radians,phi*=math_radians,centroidStream.point=centroidRingPoint;var cosPhi=math_cos(phi);x0=cosPhi*math_cos(lambda),y0=cosPhi*math_sin(lambda),z0=math_sin(phi),centroidPointCartesian(x0,y0,z0)}function centroidRingPoint(lambda,phi){lambda*=math_radians;var cosPhi=math_cos(phi*=math_radians),x=cosPhi*math_cos(lambda),y=cosPhi*math_sin(lambda),z=math_sin(phi),cx=y0*z-z0*y,cy=z0*x-x0*z,cz=x0*y-y0*x,m=hypot(cx,cy,cz),w=asin(m),v=m&&-w/m;X2.add(v*cx),Y2.add(v*cy),Z2.add(v*cz),W1+=w,X1+=w*(x0+(x0=x)),Y1+=w*(y0+(y0=y)),Z1+=w*(z0+(z0=z)),centroidPointCartesian(x0,y0,z0)}function centroid(object){W0=W1=X0=Y0=Z0=X1=Y1=Z1=0,X2=new Adder,Y2=new Adder,Z2=new Adder,stream(object,centroidStream);var x=+X2,y=+Y2,z=+Z2,m=hypot(x,y,z);return m<epsilon2&&(x=X1,y=Y1,z=Z1,W1<src_math_epsilon&&(x=X0,y=Y0,z=Z0),(m=hypot(x,y,z))<epsilon2)?[NaN,NaN]:[atan2(y,x)*src_math_degrees,asin(z/m)*src_math_degrees]}function d3_geo_src_constant(x){return function(){return x}}function compose(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}return a.invert&&b.invert&&(compose.invert=function(x,y){return(x=b.invert(x,y))&&a.invert(x[0],x[1])}),compose}function rotationIdentity(lambda,phi){return src_math_abs(lambda)>math_pi&&(lambda-=Math.round(lambda/math_tau)*math_tau),[lambda,phi]}function rotateRadians(deltaLambda,deltaPhi,deltaGamma){return(deltaLambda%=math_tau)?deltaPhi||deltaGamma?compose(rotationLambda(deltaLambda),rotationPhiGamma(deltaPhi,deltaGamma)):rotationLambda(deltaLambda):deltaPhi||deltaGamma?rotationPhiGamma(deltaPhi,deltaGamma):rotationIdentity}function forwardRotationLambda(deltaLambda){return function(lambda,phi){return src_math_abs(lambda+=deltaLambda)>math_pi&&(lambda-=Math.round(lambda/math_tau)*math_tau),[lambda,phi]}}function rotationLambda(deltaLambda){var rotation=forwardRotationLambda(deltaLambda);return rotation.invert=forwardRotationLambda(-deltaLambda),rotation}function rotationPhiGamma(deltaPhi,deltaGamma){var cosDeltaPhi=math_cos(deltaPhi),sinDeltaPhi=math_sin(deltaPhi),cosDeltaGamma=math_cos(deltaGamma),sinDeltaGamma=math_sin(deltaGamma);function rotation(lambda,phi){var cosPhi=math_cos(phi),x=math_cos(lambda)*cosPhi,y=math_sin(lambda)*cosPhi,z=math_sin(phi),k=z*cosDeltaPhi+x*sinDeltaPhi;return[atan2(y*cosDeltaGamma-k*sinDeltaGamma,x*cosDeltaPhi-z*sinDeltaPhi),asin(k*cosDeltaGamma+y*sinDeltaGamma)]}return rotation.invert=function(lambda,phi){var cosPhi=math_cos(phi),x=math_cos(lambda)*cosPhi,y=math_sin(lambda)*cosPhi,z=math_sin(phi),k=z*cosDeltaGamma-y*sinDeltaGamma;return[atan2(y*cosDeltaGamma+z*sinDeltaGamma,x*cosDeltaPhi+k*sinDeltaPhi),asin(k*cosDeltaPhi-x*sinDeltaPhi)]},rotation}function rotation(rotate){function forward(coordinates){return(coordinates=rotate(coordinates[0]*math_radians,coordinates[1]*math_radians))[0]*=src_math_degrees,coordinates[1]*=src_math_degrees,coordinates}return rotate=rotateRadians(rotate[0]*math_radians,rotate[1]*math_radians,rotate.length>2?rotate[2]*math_radians:0),forward.invert=function(coordinates){return(coordinates=rotate.invert(coordinates[0]*math_radians,coordinates[1]*math_radians))[0]*=src_math_degrees,coordinates[1]*=src_math_degrees,coordinates},forward}function circleStream(stream,radius,delta,direction,t0,t1){if(delta){var cosRadius=math_cos(radius),sinRadius=math_sin(radius),step=direction*delta;null==t0?(t0=radius+direction*math_tau,t1=radius-step/2):(t0=circleRadius(cosRadius,t0),t1=circleRadius(cosRadius,t1),(direction>0?t0<t1:t0>t1)&&(t0+=direction*math_tau));for(var point,t=t0;direction>0?t>t1:t<t1;t-=step)point=spherical([cosRadius,-sinRadius*math_cos(t),-sinRadius*math_sin(t)]),stream.point(point[0],point[1])}}function circleRadius(cosRadius,point){(point=cartesian(point))[0]-=cosRadius,cartesianNormalizeInPlace(point);var radius=acos(-point[1]);return((-point[2]<0?-radius:radius)+math_tau-src_math_epsilon)%math_tau}function circle(){var ring,rotate,center=d3_geo_src_constant([0,0]),radius=d3_geo_src_constant(90),precision=d3_geo_src_constant(2),stream={point:function point(x,y){ring.push(x=rotate(x,y)),x[0]*=src_math_degrees,x[1]*=src_math_degrees}};function circle(){var c=center.apply(this,arguments),r=radius.apply(this,arguments)*math_radians,p=precision.apply(this,arguments)*math_radians;return ring=[],rotate=rotateRadians(-c[0]*math_radians,-c[1]*math_radians,0).invert,circleStream(stream,r,p,1),c={type:"Polygon",coordinates:[ring]},ring=rotate=null,c}return circle.center=function(_){return arguments.length?(center="function"==typeof _?_:d3_geo_src_constant([+_[0],+_[1]]),circle):center},circle.radius=function(_){return arguments.length?(radius="function"==typeof _?_:d3_geo_src_constant(+_),circle):radius},circle.precision=function(_){return arguments.length?(precision="function"==typeof _?_:d3_geo_src_constant(+_),circle):precision},circle}function clip_buffer(){var line,lines=[];return{point:function(x,y,m){line.push([x,y,m])},lineStart:function(){lines.push(line=[])},lineEnd:noop_noop,rejoin:function(){lines.length>1&&lines.push(lines.pop().concat(lines.shift()))},result:function(){var result=lines;return lines=[],line=null,result}}}function pointEqual(a,b){return src_math_abs(a[0]-b[0])<src_math_epsilon&&src_math_abs(a[1]-b[1])<src_math_epsilon}function Intersection(point,points,other,entry){this.x=point,this.z=points,this.o=other,this.e=entry,this.v=!1,this.n=this.p=null}function rejoin(segments,compareIntersection,startInside,interpolate,stream){var i,n,subject=[],clip=[];if(segments.forEach((function(segment){if(!((n=segment.length-1)<=0)){var n,x,p0=segment[0],p1=segment[n];if(pointEqual(p0,p1)){if(!p0[2]&&!p1[2]){for(stream.lineStart(),i=0;i<n;++i)stream.point((p0=segment[i])[0],p0[1]);return void stream.lineEnd()}p1[0]+=2*src_math_epsilon}subject.push(x=new Intersection(p0,segment,null,!0)),clip.push(x.o=new Intersection(p0,null,x,!1)),subject.push(x=new Intersection(p1,segment,null,!1)),clip.push(x.o=new Intersection(p1,null,x,!0))}})),subject.length){for(clip.sort(compareIntersection),rejoin_link(subject),rejoin_link(clip),i=0,n=clip.length;i<n;++i)clip[i].e=startInside=!startInside;for(var points,point,start=subject[0];;){for(var current=start,isSubject=!0;current.v;)if((current=current.n)===start)return;points=current.z,stream.lineStart();do{if(current.v=current.o.v=!0,current.e){if(isSubject)for(i=0,n=points.length;i<n;++i)stream.point((point=points[i])[0],point[1]);else interpolate(current.x,current.n.x,1,stream);current=current.n}else{if(isSubject)for(points=current.p.z,i=points.length-1;i>=0;--i)stream.point((point=points[i])[0],point[1]);else interpolate(current.x,current.p.x,-1,stream);current=current.p}points=(current=current.o).z,isSubject=!isSubject}while(!current.v);stream.lineEnd()}}}function rejoin_link(array){if(n=array.length){for(var n,b,i=0,a=array[0];++i<n;)a.n=b=array[i],b.p=a,a=b;a.n=b=array[0],b.p=a}}function longitude(point){return src_math_abs(point[0])<=math_pi?point[0]:sign(point[0])*((src_math_abs(point[0])+math_pi)%math_tau-math_pi)}function polygonContains(polygon,point){var lambda=longitude(point),phi=point[1],sinPhi=math_sin(phi),normal=[math_sin(lambda),-math_cos(lambda),0],angle=0,winding=0,sum=new Adder;1===sinPhi?phi=math_halfPi+src_math_epsilon:-1===sinPhi&&(phi=-math_halfPi-src_math_epsilon);for(var i=0,n=polygon.length;i<n;++i)if(m=(ring=polygon[i]).length)for(var ring,m,point0=ring[m-1],lambda0=longitude(point0),phi0=point0[1]/2+quarterPi,sinPhi0=math_sin(phi0),cosPhi0=math_cos(phi0),j=0;j<m;++j,lambda0=lambda1,sinPhi0=sinPhi1,cosPhi0=cosPhi1,point0=point1){var point1=ring[j],lambda1=longitude(point1),phi1=point1[1]/2+quarterPi,sinPhi1=math_sin(phi1),cosPhi1=math_cos(phi1),delta=lambda1-lambda0,sign=delta>=0?1:-1,absDelta=sign*delta,antimeridian=absDelta>math_pi,k=sinPhi0*sinPhi1;if(sum.add(atan2(k*sign*math_sin(absDelta),cosPhi0*cosPhi1+k*math_cos(absDelta))),angle+=antimeridian?delta+sign*math_tau:delta,antimeridian^lambda0>=lambda^lambda1>=lambda){var arc=cartesianCross(cartesian(point0),cartesian(point1));cartesianNormalizeInPlace(arc);var intersection=cartesianCross(normal,arc);cartesianNormalizeInPlace(intersection);var phiArc=(antimeridian^delta>=0?-1:1)*asin(intersection[2]);(phi>phiArc||phi===phiArc&&(arc[0]||arc[1]))&&(winding+=antimeridian^delta>=0?1:-1)}}return(angle<-src_math_epsilon||angle<src_math_epsilon&&sum<-epsilon2)^1&winding}function clip(pointVisible,clipLine,interpolate,start){return function(sink){var polygon,segments,ring,line=clipLine(sink),ringBuffer=clip_buffer(),ringSink=clipLine(ringBuffer),polygonStarted=!1,clip={point,lineStart,lineEnd,polygonStart:function(){clip.point=pointRing,clip.lineStart=ringStart,clip.lineEnd=ringEnd,segments=[],polygon=[]},polygonEnd:function(){clip.point=point,clip.lineStart=lineStart,clip.lineEnd=lineEnd,segments=merge(segments);var startInside=polygonContains(polygon,start);segments.length?(polygonStarted||(sink.polygonStart(),polygonStarted=!0),rejoin(segments,compareIntersection,startInside,interpolate,sink)):startInside&&(polygonStarted||(sink.polygonStart(),polygonStarted=!0),sink.lineStart(),interpolate(null,null,1,sink),sink.lineEnd()),polygonStarted&&(sink.polygonEnd(),polygonStarted=!1),segments=polygon=null},sphere:function(){sink.polygonStart(),sink.lineStart(),interpolate(null,null,1,sink),sink.lineEnd(),sink.polygonEnd()}};function point(lambda,phi){pointVisible(lambda,phi)&&sink.point(lambda,phi)}function pointLine(lambda,phi){line.point(lambda,phi)}function lineStart(){clip.point=pointLine,line.lineStart()}function lineEnd(){clip.point=point,line.lineEnd()}function pointRing(lambda,phi){ring.push([lambda,phi]),ringSink.point(lambda,phi)}function ringStart(){ringSink.lineStart(),ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]),ringSink.lineEnd();var i,m,segment,point,clean=ringSink.clean(),ringSegments=ringBuffer.result(),n=ringSegments.length;if(ring.pop(),polygon.push(ring),ring=null,n)if(1&clean){if((m=(segment=ringSegments[0]).length-1)>0){for(polygonStarted||(sink.polygonStart(),polygonStarted=!0),sink.lineStart(),i=0;i<m;++i)sink.point((point=segment[i])[0],point[1]);sink.lineEnd()}}else n>1&&2&clean&&ringSegments.push(ringSegments.pop().concat(ringSegments.shift())),segments.push(ringSegments.filter(validSegment))}return clip}}function validSegment(segment){return segment.length>1}function compareIntersection(a,b){return((a=a.x)[0]<0?a[1]-math_halfPi-src_math_epsilon:math_halfPi-a[1])-((b=b.x)[0]<0?b[1]-math_halfPi-src_math_epsilon:math_halfPi-b[1])}rotationIdentity.invert=rotationIdentity;const antimeridian=clip((function(){return!0}),(function clipAntimeridianLine(stream){var clean,lambda0=NaN,phi0=NaN,sign0=NaN;return{lineStart:function(){stream.lineStart(),clean=1},point:function(lambda1,phi1){var sign1=lambda1>0?math_pi:-math_pi,delta=src_math_abs(lambda1-lambda0);src_math_abs(delta-math_pi)<src_math_epsilon?(stream.point(lambda0,phi0=(phi0+phi1)/2>0?math_halfPi:-math_halfPi),stream.point(sign0,phi0),stream.lineEnd(),stream.lineStart(),stream.point(sign1,phi0),stream.point(lambda1,phi0),clean=0):sign0!==sign1&&delta>=math_pi&&(src_math_abs(lambda0-sign0)<src_math_epsilon&&(lambda0-=sign0*src_math_epsilon),src_math_abs(lambda1-sign1)<src_math_epsilon&&(lambda1-=sign1*src_math_epsilon),phi0=function clipAntimeridianIntersect(lambda0,phi0,lambda1,phi1){var cosPhi0,cosPhi1,sinLambda0Lambda1=math_sin(lambda0-lambda1);return src_math_abs(sinLambda0Lambda1)>src_math_epsilon?atan((math_sin(phi0)*(cosPhi1=math_cos(phi1))*math_sin(lambda1)-math_sin(phi1)*(cosPhi0=math_cos(phi0))*math_sin(lambda0))/(cosPhi0*cosPhi1*sinLambda0Lambda1)):(phi0+phi1)/2}(lambda0,phi0,lambda1,phi1),stream.point(sign0,phi0),stream.lineEnd(),stream.lineStart(),stream.point(sign1,phi0),clean=0),stream.point(lambda0=lambda1,phi0=phi1),sign0=sign1},lineEnd:function(){stream.lineEnd(),lambda0=phi0=NaN},clean:function(){return 2-clean}}}),(function clipAntimeridianInterpolate(from,to,direction,stream){var phi;if(null==from)phi=direction*math_halfPi,stream.point(-math_pi,phi),stream.point(0,phi),stream.point(math_pi,phi),stream.point(math_pi,0),stream.point(math_pi,-phi),stream.point(0,-phi),stream.point(-math_pi,-phi),stream.point(-math_pi,0),stream.point(-math_pi,phi);else if(src_math_abs(from[0]-to[0])>src_math_epsilon){var lambda=from[0]<to[0]?math_pi:-math_pi;phi=direction*lambda/2,stream.point(-lambda,phi),stream.point(0,phi),stream.point(lambda,phi)}else stream.point(to[0],to[1])}),[-math_pi,-math_halfPi]);function clip_circle(radius){var cr=math_cos(radius),delta=2*math_radians,smallRadius=cr>0,notHemisphere=src_math_abs(cr)>src_math_epsilon;function visible(lambda,phi){return math_cos(lambda)*math_cos(phi)>cr}function intersect(a,b,two){var n1=[1,0,0],n2=cartesianCross(cartesian(a),cartesian(b)),n2n2=cartesianDot(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=cartesianCross(n1,n2),A=cartesianScale(n1,c1);cartesianAddInPlace(A,cartesianScale(n2,c2));var u=n1xn2,w=cartesianDot(A,u),uu=cartesianDot(u,u),t2=w*w-uu*(cartesianDot(A,A)-1);if(!(t2<0)){var t=sqrt(t2),q=cartesianScale(u,(-w-t)/uu);if(cartesianAddInPlace(q,A),q=spherical(q),!two)return q;var z,lambda0=a[0],lambda1=b[0],phi0=a[1],phi1=b[1];lambda1<lambda0&&(z=lambda0,lambda0=lambda1,lambda1=z);var delta=lambda1-lambda0,polar=src_math_abs(delta-math_pi)<src_math_epsilon;if(!polar&&phi1<phi0&&(z=phi0,phi0=phi1,phi1=z),polar||delta<src_math_epsilon?polar?phi0+phi1>0^q[1]<(src_math_abs(q[0]-lambda0)<src_math_epsilon?phi0:phi1):phi0<=q[1]&&q[1]<=phi1:delta>math_pi^(lambda0<=q[0]&&q[0]<=lambda1)){var q1=cartesianScale(u,(-w+t)/uu);return cartesianAddInPlace(q1,A),[q,spherical(q1)]}}}function code(lambda,phi){var r=smallRadius?radius:math_pi-radius,code=0;return lambda<-r?code|=1:lambda>r&&(code|=2),phi<-r?code|=4:phi>r&&(code|=8),code}return clip(visible,(function clipLine(stream){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=!1,clean=1},point:function(lambda,phi){var point2,point1=[lambda,phi],v=visible(lambda,phi),c=smallRadius?v?0:code(lambda,phi):v?code(lambda+(lambda<0?math_pi:-math_pi),phi):0;if(!point0&&(v00=v0=v)&&stream.lineStart(),v!==v0&&(!(point2=intersect(point0,point1))||pointEqual(point0,point2)||pointEqual(point1,point2))&&(point1[2]=1),v!==v0)clean=0,v?(stream.lineStart(),point2=intersect(point1,point0),stream.point(point2[0],point2[1])):(point2=intersect(point0,point1),stream.point(point2[0],point2[1],2),stream.lineEnd()),point0=point2;else if(notHemisphere&&point0&&smallRadius^v){var t;c&c0||!(t=intersect(point1,point0,!0))||(clean=0,smallRadius?(stream.lineStart(),stream.point(t[0][0],t[0][1]),stream.point(t[1][0],t[1][1]),stream.lineEnd()):(stream.point(t[1][0],t[1][1]),stream.lineEnd(),stream.lineStart(),stream.point(t[0][0],t[0][1],3)))}!v||point0&&pointEqual(point0,point1)||stream.point(point1[0],point1[1]),point0=point1,v0=v,c0=c},lineEnd:function(){v0&&stream.lineEnd(),point0=null},clean:function(){return clean|(v00&&v0)<<1}}}),(function interpolate(from,to,direction,stream){circleStream(stream,radius,delta,direction,from,to)}),smallRadius?[0,-radius]:[-math_pi,radius-math_pi])}var lengthSum,length_lambda0,length_sinPhi0,length_cosPhi0,clipMax=1e9,clipMin=-clipMax;function clipRectangle(x0,y0,x1,y1){function visible(x,y){return x0<=x&&x<=x1&&y0<=y&&y<=y1}function interpolate(from,to,direction,stream){var a=0,a1=0;if(null==from||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoint(from,to)<0^direction>0)do{stream.point(0===a||3===a?x0:x1,a>1?y1:y0)}while((a=(a+direction+4)%4)!==a1);else stream.point(to[0],to[1])}function corner(p,direction){return src_math_abs(p[0]-x0)<src_math_epsilon?direction>0?0:3:src_math_abs(p[0]-x1)<src_math_epsilon?direction>0?2:1:src_math_abs(p[1]-y0)<src_math_epsilon?direction>0?1:0:direction>0?3:2}function compareIntersection(a,b){return comparePoint(a.x,b.x)}function comparePoint(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:0===ca?b[1]-a[1]:1===ca?a[0]-b[0]:2===ca?a[1]-b[1]:b[0]-a[0]}return function(stream){var segments,polygon,ring,x__,y__,v__,x_,y_,v_,first,clean,activeStream=stream,bufferStream=clip_buffer(),clipStream={point,lineStart:function lineStart(){clipStream.point=linePoint,polygon&&polygon.push(ring=[]);first=!0,v_=!1,x_=y_=NaN},lineEnd:function lineEnd(){segments&&(linePoint(x__,y__),v__&&v_&&bufferStream.rejoin(),segments.push(bufferStream.result()));clipStream.point=point,v_&&activeStream.lineEnd()},polygonStart:function polygonStart(){activeStream=bufferStream,segments=[],polygon=[],clean=!0},polygonEnd:function polygonEnd(){var startInside=function polygonInside(){for(var winding=0,i=0,n=polygon.length;i<n;++i)for(var a0,a1,ring=polygon[i],j=1,m=ring.length,point=ring[0],b0=point[0],b1=point[1];j<m;++j)a0=b0,a1=b1,b0=(point=ring[j])[0],b1=point[1],a1<=y1?b1>y1&&(b0-a0)*(y1-a1)>(b1-a1)*(x0-a0)&&++winding:b1<=y1&&(b0-a0)*(y1-a1)<(b1-a1)*(x0-a0)&&--winding;return winding}(),cleanInside=clean&&startInside,visible=(segments=merge(segments)).length;(cleanInside||visible)&&(stream.polygonStart(),cleanInside&&(stream.lineStart(),interpolate(null,null,1,stream),stream.lineEnd()),visible&&rejoin(segments,compareIntersection,startInside,interpolate,stream),stream.polygonEnd());activeStream=stream,segments=polygon=ring=null}};function point(x,y){visible(x,y)&&activeStream.point(x,y)}function linePoint(x,y){var v=visible(x,y);if(polygon&&ring.push([x,y]),first)x__=x,y__=y,v__=v,first=!1,v&&(activeStream.lineStart(),activeStream.point(x,y));else if(v&&v_)activeStream.point(x,y);else{var a=[x_=Math.max(clipMin,Math.min(clipMax,x_)),y_=Math.max(clipMin,Math.min(clipMax,y_))],b=[x=Math.max(clipMin,Math.min(clipMax,x)),y=Math.max(clipMin,Math.min(clipMax,y))];!function line(a,b,x0,y0,x1,y1){var r,ax=a[0],ay=a[1],t0=0,t1=1,dx=b[0]-ax,dy=b[1]-ay;if(r=x0-ax,dx||!(r>0)){if(r/=dx,dx<0){if(r<t0)return;r<t1&&(t1=r)}else if(dx>0){if(r>t1)return;r>t0&&(t0=r)}if(r=x1-ax,dx||!(r<0)){if(r/=dx,dx<0){if(r>t1)return;r>t0&&(t0=r)}else if(dx>0){if(r<t0)return;r<t1&&(t1=r)}if(r=y0-ay,dy||!(r>0)){if(r/=dy,dy<0){if(r<t0)return;r<t1&&(t1=r)}else if(dy>0){if(r>t1)return;r>t0&&(t0=r)}if(r=y1-ay,dy||!(r<0)){if(r/=dy,dy<0){if(r>t1)return;r>t0&&(t0=r)}else if(dy>0){if(r<t0)return;r<t1&&(t1=r)}return t0>0&&(a[0]=ax+t0*dx,a[1]=ay+t0*dy),t1<1&&(b[0]=ax+t1*dx,b[1]=ay+t1*dy),!0}}}}}(a,b,x0,y0,x1,y1)?v&&(activeStream.lineStart(),activeStream.point(x,y),clean=!1):(v_||(activeStream.lineStart(),activeStream.point(a[0],a[1])),activeStream.point(b[0],b[1]),v||activeStream.lineEnd(),clean=!1)}x_=x,y_=y,v_=v}return clipStream}}function clip_extent(){var cache,cacheStream,clip,x0=0,y0=0,x1=960,y1=500;return clip={stream:function(stream){return cache&&cacheStream===stream?cache:cache=clipRectangle(x0,y0,x1,y1)(cacheStream=stream)},extent:function(_){return arguments.length?(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1],cache=cacheStream=null,clip):[[x0,y0],[x1,y1]]}}}var lengthStream={sphere:noop_noop,point:noop_noop,lineStart:function lengthLineStart(){lengthStream.point=lengthPointFirst,lengthStream.lineEnd=lengthLineEnd},lineEnd:noop_noop,polygonStart:noop_noop,polygonEnd:noop_noop};function lengthLineEnd(){lengthStream.point=lengthStream.lineEnd=noop_noop}function lengthPointFirst(lambda,phi){length_lambda0=lambda*=math_radians,length_sinPhi0=math_sin(phi*=math_radians),length_cosPhi0=math_cos(phi),lengthStream.point=lengthPoint}function lengthPoint(lambda,phi){lambda*=math_radians;var sinPhi=math_sin(phi*=math_radians),cosPhi=math_cos(phi),delta=src_math_abs(lambda-length_lambda0),cosDelta=math_cos(delta),x=cosPhi*math_sin(delta),y=length_cosPhi0*sinPhi-length_sinPhi0*cosPhi*cosDelta,z=length_sinPhi0*sinPhi+length_cosPhi0*cosPhi*cosDelta;lengthSum.add(atan2(sqrt(x*x+y*y),z)),length_lambda0=lambda,length_sinPhi0=sinPhi,length_cosPhi0=cosPhi}function src_length(object){return lengthSum=new Adder,stream(object,lengthStream),+lengthSum}var coordinates=[null,null],distance_object={type:"LineString",coordinates};function distance(a,b){return coordinates[0]=a,coordinates[1]=b,src_length(distance_object)}var containsObjectType={Feature:function(object,point){return containsGeometry(object.geometry,point)},FeatureCollection:function(object,point){for(var features=object.features,i=-1,n=features.length;++i<n;)if(containsGeometry(features[i].geometry,point))return!0;return!1}},containsGeometryType={Sphere:function(){return!0},Point:function(object,point){return containsPoint(object.coordinates,point)},MultiPoint:function(object,point){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)if(containsPoint(coordinates[i],point))return!0;return!1},LineString:function(object,point){return containsLine(object.coordinates,point)},MultiLineString:function(object,point){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)if(containsLine(coordinates[i],point))return!0;return!1},Polygon:function(object,point){return containsPolygon(object.coordinates,point)},MultiPolygon:function(object,point){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)if(containsPolygon(coordinates[i],point))return!0;return!1},GeometryCollection:function(object,point){for(var geometries=object.geometries,i=-1,n=geometries.length;++i<n;)if(containsGeometry(geometries[i],point))return!0;return!1}};function containsGeometry(geometry,point){return!(!geometry||!containsGeometryType.hasOwnProperty(geometry.type))&&containsGeometryType[geometry.type](geometry,point)}function containsPoint(coordinates,point){return 0===distance(coordinates,point)}function containsLine(coordinates,point){for(var ao,bo,ab,i=0,n=coordinates.length;i<n;i++){if(0===(bo=distance(coordinates[i],point)))return!0;if(i>0&&(ab=distance(coordinates[i],coordinates[i-1]))>0&&ao<=ab&&bo<=ab&&(ao+bo-ab)*(1-Math.pow((ao-bo)/ab,2))<epsilon2*ab)return!0;ao=bo}return!1}function containsPolygon(coordinates,point){return!!polygonContains(coordinates.map(ringRadians),pointRadians(point))}function ringRadians(ring){return(ring=ring.map(pointRadians)).pop(),ring}function pointRadians(point){return[point[0]*math_radians,point[1]*math_radians]}function src_contains(object,point){return(object&&containsObjectType.hasOwnProperty(object.type)?containsObjectType[object.type]:containsGeometry)(object,point)}function graticuleX(y0,y1,dy){var y=range(y0,y1-src_math_epsilon,dy).concat(y1);return function(x){return y.map((function(y){return[x,y]}))}}function graticuleY(x0,x1,dx){var x=range(x0,x1-src_math_epsilon,dx).concat(x1);return function(y){return x.map((function(x){return[x,y]}))}}function graticule(){var x1,x0,X1,X0,y1,y0,Y1,Y0,x,y,X,Y,dx=10,dy=dx,DX=90,DY=360,precision=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return range(ceil(X0/DX)*DX,X1,DX).map(X).concat(range(ceil(Y0/DY)*DY,Y1,DY).map(Y)).concat(range(ceil(x0/dx)*dx,x1,dx).filter((function(x){return src_math_abs(x%DX)>src_math_epsilon})).map(x)).concat(range(ceil(y0/dy)*dy,y1,dy).filter((function(y){return src_math_abs(y%DY)>src_math_epsilon})).map(y))}return graticule.lines=function(){return lines().map((function(coordinates){return{type:"LineString",coordinates}}))},graticule.outline=function(){return{type:"Polygon",coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),Y(Y0).reverse().slice(1))]}},graticule.extent=function(_){return arguments.length?graticule.extentMajor(_).extentMinor(_):graticule.extentMinor()},graticule.extentMajor=function(_){return arguments.length?(X0=+_[0][0],X1=+_[1][0],Y0=+_[0][1],Y1=+_[1][1],X0>X1&&(_=X0,X0=X1,X1=_),Y0>Y1&&(_=Y0,Y0=Y1,Y1=_),graticule.precision(precision)):[[X0,Y0],[X1,Y1]]},graticule.extentMinor=function(_){return arguments.length?(x0=+_[0][0],x1=+_[1][0],y0=+_[0][1],y1=+_[1][1],x0>x1&&(_=x0,x0=x1,x1=_),y0>y1&&(_=y0,y0=y1,y1=_),graticule.precision(precision)):[[x0,y0],[x1,y1]]},graticule.step=function(_){return arguments.length?graticule.stepMajor(_).stepMinor(_):graticule.stepMinor()},graticule.stepMajor=function(_){return arguments.length?(DX=+_[0],DY=+_[1],graticule):[DX,DY]},graticule.stepMinor=function(_){return arguments.length?(dx=+_[0],dy=+_[1],graticule):[dx,dy]},graticule.precision=function(_){return arguments.length?(precision=+_,x=graticuleX(y0,y1,90),y=graticuleY(x0,x1,precision),X=graticuleX(Y0,Y1,90),Y=graticuleY(X0,X1,precision),graticule):precision},graticule.extentMajor([[-180,-90+src_math_epsilon],[180,90-src_math_epsilon]]).extentMinor([[-180,-80-src_math_epsilon],[180,80+src_math_epsilon]])}function graticule10(){return graticule()()}function src_interpolate(a,b){var x0=a[0]*math_radians,y0=a[1]*math_radians,x1=b[0]*math_radians,y1=b[1]*math_radians,cy0=math_cos(y0),sy0=math_sin(y0),cy1=math_cos(y1),sy1=math_sin(y1),kx0=cy0*math_cos(x0),ky0=cy0*math_sin(x0),kx1=cy1*math_cos(x1),ky1=cy1*math_sin(x1),d=2*asin(sqrt(haversin(y1-y0)+cy0*cy1*haversin(x1-x0))),k=math_sin(d),interpolate=d?function(t){var B=math_sin(t*=d)/k,A=math_sin(d-t)/k,x=A*kx0+B*kx1,y=A*ky0+B*ky1,z=A*sy0+B*sy1;return[atan2(y,x)*src_math_degrees,atan2(z,sqrt(x*x+y*y))*src_math_degrees]}:function(){return[x0*src_math_degrees,y0*src_math_degrees]};return interpolate.distance=d,interpolate}const d3_geo_src_identity=x=>x;var x00,y00,area_x0,area_y0,area_areaSum=new Adder,area_areaRingSum=new Adder,area_areaStream={point:noop_noop,lineStart:noop_noop,lineEnd:noop_noop,polygonStart:function(){area_areaStream.lineStart=area_areaRingStart,area_areaStream.lineEnd=area_areaRingEnd},polygonEnd:function(){area_areaStream.lineStart=area_areaStream.lineEnd=area_areaStream.point=noop_noop,area_areaSum.add(src_math_abs(area_areaRingSum)),area_areaRingSum=new Adder},result:function(){var area=area_areaSum/2;return area_areaSum=new Adder,area}};function area_areaRingStart(){area_areaStream.point=area_areaPointFirst}function area_areaPointFirst(x,y){area_areaStream.point=area_areaPoint,x00=area_x0=x,y00=area_y0=y}function area_areaPoint(x,y){area_areaRingSum.add(area_y0*x-area_x0*y),area_x0=x,area_y0=y}function area_areaRingEnd(){area_areaPoint(x00,y00)}const path_area=area_areaStream;var bounds_x0=1/0,bounds_y0=bounds_x0,x1=-bounds_x0,y1=x1,bounds_boundsStream={point:function bounds_boundsPoint(x,y){x<bounds_x0&&(bounds_x0=x);x>x1&&(x1=x);y<bounds_y0&&(bounds_y0=y);y>y1&&(y1=y)},lineStart:noop_noop,lineEnd:noop_noop,polygonStart:noop_noop,polygonEnd:noop_noop,result:function(){var bounds=[[bounds_x0,bounds_y0],[x1,y1]];return x1=y1=-(bounds_y0=bounds_x0=1/0),bounds}};const path_bounds=bounds_boundsStream;var centroid_x00,centroid_y00,centroid_x0,centroid_y0,centroid_X0=0,centroid_Y0=0,centroid_Z0=0,centroid_X1=0,centroid_Y1=0,centroid_Z1=0,centroid_X2=0,centroid_Y2=0,centroid_Z2=0,centroid_centroidStream={point:centroid_centroidPoint,lineStart:centroid_centroidLineStart,lineEnd:centroid_centroidLineEnd,polygonStart:function(){centroid_centroidStream.lineStart=centroid_centroidRingStart,centroid_centroidStream.lineEnd=centroid_centroidRingEnd},polygonEnd:function(){centroid_centroidStream.point=centroid_centroidPoint,centroid_centroidStream.lineStart=centroid_centroidLineStart,centroid_centroidStream.lineEnd=centroid_centroidLineEnd},result:function(){var centroid=centroid_Z2?[centroid_X2/centroid_Z2,centroid_Y2/centroid_Z2]:centroid_Z1?[centroid_X1/centroid_Z1,centroid_Y1/centroid_Z1]:centroid_Z0?[centroid_X0/centroid_Z0,centroid_Y0/centroid_Z0]:[NaN,NaN];return centroid_X0=centroid_Y0=centroid_Z0=centroid_X1=centroid_Y1=centroid_Z1=centroid_X2=centroid_Y2=centroid_Z2=0,centroid}};function centroid_centroidPoint(x,y){centroid_X0+=x,centroid_Y0+=y,++centroid_Z0}function centroid_centroidLineStart(){centroid_centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(x,y){centroid_centroidStream.point=centroidPointLine,centroid_centroidPoint(centroid_x0=x,centroid_y0=y)}function centroidPointLine(x,y){var dx=x-centroid_x0,dy=y-centroid_y0,z=sqrt(dx*dx+dy*dy);centroid_X1+=z*(centroid_x0+x)/2,centroid_Y1+=z*(centroid_y0+y)/2,centroid_Z1+=z,centroid_centroidPoint(centroid_x0=x,centroid_y0=y)}function centroid_centroidLineEnd(){centroid_centroidStream.point=centroid_centroidPoint}function centroid_centroidRingStart(){centroid_centroidStream.point=centroidPointFirstRing}function centroid_centroidRingEnd(){centroidPointRing(centroid_x00,centroid_y00)}function centroidPointFirstRing(x,y){centroid_centroidStream.point=centroidPointRing,centroid_centroidPoint(centroid_x00=centroid_x0=x,centroid_y00=centroid_y0=y)}function centroidPointRing(x,y){var dx=x-centroid_x0,dy=y-centroid_y0,z=sqrt(dx*dx+dy*dy);centroid_X1+=z*(centroid_x0+x)/2,centroid_Y1+=z*(centroid_y0+y)/2,centroid_Z1+=z,centroid_X2+=(z=centroid_y0*x-centroid_x0*y)*(centroid_x0+x),centroid_Y2+=z*(centroid_y0+y),centroid_Z2+=3*z,centroid_centroidPoint(centroid_x0=x,centroid_y0=y)}const path_centroid=centroid_centroidStream;function PathContext(context){this._context=context}PathContext.prototype={_radius:4.5,pointRadius:function(_){return this._radius=_,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(x,y){switch(this._point){case 0:this._context.moveTo(x,y),this._point=1;break;case 1:this._context.lineTo(x,y);break;default:this._context.moveTo(x+this._radius,y),this._context.arc(x,y,this._radius,0,math_tau)}},result:noop_noop};var lengthRing,measure_x00,measure_y00,measure_x0,measure_y0,measure_lengthSum=new Adder,measure_lengthStream={point:noop_noop,lineStart:function(){measure_lengthStream.point=measure_lengthPointFirst},lineEnd:function(){lengthRing&&measure_lengthPoint(measure_x00,measure_y00),measure_lengthStream.point=noop_noop},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var length=+measure_lengthSum;return measure_lengthSum=new Adder,length}};function measure_lengthPointFirst(x,y){measure_lengthStream.point=measure_lengthPoint,measure_x00=measure_x0=x,measure_y00=measure_y0=y}function measure_lengthPoint(x,y){measure_x0-=x,measure_y0-=y,measure_lengthSum.add(sqrt(measure_x0*measure_x0+measure_y0*measure_y0)),measure_x0=x,measure_y0=y}const measure=measure_lengthStream;let cacheDigits,cacheAppend,cacheRadius,cacheCircle;class PathString{constructor(digits){this._append=null==digits?string_append:function string_appendRound(digits){const d=Math.floor(digits);if(!(d>=0))throw new RangeError(`invalid digits: ${digits}`);if(d>15)return string_append;if(d!==cacheDigits){const k=10**d;cacheDigits=d,cacheAppend=function append(strings){let i=1;this._+=strings[0];for(const j=strings.length;i<j;++i)this._+=Math.round(arguments[i]*k)/k+strings[i]}}return cacheAppend}(digits),this._radius=4.5,this._=""}pointRadius(_){return this._radius=+_,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(x,y){switch(this._point){case 0:this._append`M${x},${y}`,this._point=1;break;case 1:this._append`L${x},${y}`;break;default:if(this._append`M${x},${y}`,this._radius!==cacheRadius||this._append!==cacheAppend){const r=this._radius,s=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,cacheRadius=r,cacheAppend=this._append,cacheCircle=this._,this._=s}this._+=cacheCircle}}result(){const result=this._;return this._="",result.length?result:null}}function string_append(strings){let i=1;this._+=strings[0];for(const j=strings.length;i<j;++i)this._+=arguments[i]+strings[i]}function src_path(projection,context){let projectionStream,contextStream,digits=3,pointRadius=4.5;function path(object){return object&&("function"==typeof pointRadius&&contextStream.pointRadius(+pointRadius.apply(this,arguments)),stream(object,projectionStream(contextStream))),contextStream.result()}return path.area=function(object){return stream(object,projectionStream(path_area)),path_area.result()},path.measure=function(object){return stream(object,projectionStream(measure)),measure.result()},path.bounds=function(object){return stream(object,projectionStream(path_bounds)),path_bounds.result()},path.centroid=function(object){return stream(object,projectionStream(path_centroid)),path_centroid.result()},path.projection=function(_){return arguments.length?(projectionStream=null==_?(projection=null,d3_geo_src_identity):(projection=_).stream,path):projection},path.context=function(_){return arguments.length?(contextStream=null==_?(context=null,new PathString(digits)):new PathContext(context=_),"function"!=typeof pointRadius&&contextStream.pointRadius(pointRadius),path):context},path.pointRadius=function(_){return arguments.length?(pointRadius="function"==typeof _?_:(contextStream.pointRadius(+_),+_),path):pointRadius},path.digits=function(_){if(!arguments.length)return digits;if(null==_)digits=null;else{const d=Math.floor(_);if(!(d>=0))throw new RangeError(`invalid digits: ${_}`);digits=d}return null===context&&(contextStream=new PathString(digits)),path},path.projection(projection).digits(digits).context(context)}function transform(methods){return{stream:transformer(methods)}}function transformer(methods){return function(stream){var s=new TransformStream;for(var key in methods)s[key]=methods[key];return s.stream=stream,s}}function TransformStream(){}function fit(projection,fitBounds,object){var clip=projection.clipExtent&&projection.clipExtent();return projection.scale(150).translate([0,0]),null!=clip&&projection.clipExtent(null),stream(object,projection.stream(path_bounds)),fitBounds(path_bounds.result()),null!=clip&&projection.clipExtent(clip),projection}function fitExtent(projection,extent,object){return fit(projection,(function(b){var w=extent[1][0]-extent[0][0],h=extent[1][1]-extent[0][1],k=Math.min(w/(b[1][0]-b[0][0]),h/(b[1][1]-b[0][1])),x=+extent[0][0]+(w-k*(b[1][0]+b[0][0]))/2,y=+extent[0][1]+(h-k*(b[1][1]+b[0][1]))/2;projection.scale(150*k).translate([x,y])}),object)}function fitSize(projection,size,object){return fitExtent(projection,[[0,0],size],object)}function fitWidth(projection,width,object){return fit(projection,(function(b){var w=+width,k=w/(b[1][0]-b[0][0]),x=(w-k*(b[1][0]+b[0][0]))/2,y=-k*b[0][1];projection.scale(150*k).translate([x,y])}),object)}function fitHeight(projection,height,object){return fit(projection,(function(b){var h=+height,k=h/(b[1][1]-b[0][1]),x=-k*b[0][0],y=(h-k*(b[1][1]+b[0][1]))/2;projection.scale(150*k).translate([x,y])}),object)}TransformStream.prototype={constructor:TransformStream,point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var maxDepth=16,cosMinDistance=math_cos(30*math_radians);function resample(project,delta2){return+delta2?function resample_resample(project,delta2){function resampleLineTo(x0,y0,lambda0,a0,b0,c0,x1,y1,lambda1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*delta2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=sqrt(a*a+b*b+c*c),phi2=asin(c/=m),lambda2=src_math_abs(src_math_abs(c)-1)<src_math_epsilon||src_math_abs(lambda0-lambda1)<src_math_epsilon?(lambda0+lambda1)/2:atan2(b,a),p=project(lambda2,phi2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;(dz*dz/d2>delta2||src_math_abs((dx*dx2+dy*dy2)/d2-.5)>.3||a0*a1+b0*b1+c0*c1<cosMinDistance)&&(resampleLineTo(x0,y0,lambda0,a0,b0,c0,x2,y2,lambda2,a/=m,b/=m,c,depth,stream),stream.point(x2,y2),resampleLineTo(x2,y2,lambda2,a,b,c,x1,y1,lambda1,a1,b1,c1,depth,stream))}}return function(stream){var lambda00,x00,y00,a00,b00,c00,lambda0,x0,y0,a0,b0,c0,resampleStream={point,lineStart,lineEnd,polygonStart:function(){stream.polygonStart(),resampleStream.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd(),resampleStream.lineStart=lineStart}};function point(x,y){x=project(x,y),stream.point(x[0],x[1])}function lineStart(){x0=NaN,resampleStream.point=linePoint,stream.lineStart()}function linePoint(lambda,phi){var c=cartesian([lambda,phi]),p=project(lambda,phi);resampleLineTo(x0,y0,lambda0,a0,b0,c0,x0=p[0],y0=p[1],lambda0=lambda,a0=c[0],b0=c[1],c0=c[2],maxDepth,stream),stream.point(x0,y0)}function lineEnd(){resampleStream.point=point,stream.lineEnd()}function ringStart(){lineStart(),resampleStream.point=ringPoint,resampleStream.lineEnd=ringEnd}function ringPoint(lambda,phi){linePoint(lambda00=lambda,phi),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0,resampleStream.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,lambda0,a0,b0,c0,x00,y00,lambda00,a00,b00,c00,maxDepth,stream),resampleStream.lineEnd=lineEnd,lineEnd()}return resampleStream}}(project,delta2):function resampleNone(project){return transformer({point:function(x,y){x=project(x,y),this.stream.point(x[0],x[1])}})}(project)}var transformRadians=transformer({point:function(x,y){this.stream.point(x*math_radians,y*math_radians)}});function scaleTranslateRotate(k,dx,dy,sx,sy,alpha){if(!alpha)return function scaleTranslate(k,dx,dy,sx,sy){function transform(x,y){return[dx+k*(x*=sx),dy-k*(y*=sy)]}return transform.invert=function(x,y){return[(x-dx)/k*sx,(dy-y)/k*sy]},transform}(k,dx,dy,sx,sy);var cosAlpha=math_cos(alpha),sinAlpha=math_sin(alpha),a=cosAlpha*k,b=sinAlpha*k,ai=cosAlpha/k,bi=sinAlpha/k,ci=(sinAlpha*dy-cosAlpha*dx)/k,fi=(sinAlpha*dx+cosAlpha*dy)/k;function transform(x,y){return[a*(x*=sx)-b*(y*=sy)+dx,dy-b*x-a*y]}return transform.invert=function(x,y){return[sx*(ai*x-bi*y+ci),sy*(fi-bi*x-ai*y)]},transform}function projection(project){return projectionMutator((function(){return project}))()}function projectionMutator(projectAt){var project,rotate,y0,x1,y1,projectResample,projectTransform,projectRotateTransform,cache,cacheStream,k=150,x=480,y=250,lambda=0,phi=0,deltaLambda=0,deltaPhi=0,deltaGamma=0,alpha=0,sx=1,sy=1,theta=null,preclip=antimeridian,x0=null,postclip=d3_geo_src_identity,delta2=.5;function projection(point){return projectRotateTransform(point[0]*math_radians,point[1]*math_radians)}function invert(point){return(point=projectRotateTransform.invert(point[0],point[1]))&&[point[0]*src_math_degrees,point[1]*src_math_degrees]}function recenter(){var center=scaleTranslateRotate(k,0,0,sx,sy,alpha).apply(null,project(lambda,phi)),transform=scaleTranslateRotate(k,x-center[0],y-center[1],sx,sy,alpha);return rotate=rotateRadians(deltaLambda,deltaPhi,deltaGamma),projectTransform=compose(project,transform),projectRotateTransform=compose(rotate,projectTransform),projectResample=resample(projectTransform,delta2),reset()}function reset(){return cache=cacheStream=null,projection}return projection.stream=function(stream){return cache&&cacheStream===stream?cache:cache=transformRadians(function transformRotate(rotate){return transformer({point:function(x,y){var r=rotate(x,y);return this.stream.point(r[0],r[1])}})}(rotate)(preclip(projectResample(postclip(cacheStream=stream)))))},projection.preclip=function(_){return arguments.length?(preclip=_,theta=void 0,reset()):preclip},projection.postclip=function(_){return arguments.length?(postclip=_,x0=y0=x1=y1=null,reset()):postclip},projection.clipAngle=function(_){return arguments.length?(preclip=+_?clip_circle(theta=_*math_radians):(theta=null,antimeridian),reset()):theta*src_math_degrees},projection.clipExtent=function(_){return arguments.length?(postclip=null==_?(x0=y0=x1=y1=null,d3_geo_src_identity):clipRectangle(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):null==x0?null:[[x0,y0],[x1,y1]]},projection.scale=function(_){return arguments.length?(k=+_,recenter()):k},projection.translate=function(_){return arguments.length?(x=+_[0],y=+_[1],recenter()):[x,y]},projection.center=function(_){return arguments.length?(lambda=_[0]%360*math_radians,phi=_[1]%360*math_radians,recenter()):[lambda*src_math_degrees,phi*src_math_degrees]},projection.rotate=function(_){return arguments.length?(deltaLambda=_[0]%360*math_radians,deltaPhi=_[1]%360*math_radians,deltaGamma=_.length>2?_[2]%360*math_radians:0,recenter()):[deltaLambda*src_math_degrees,deltaPhi*src_math_degrees,deltaGamma*src_math_degrees]},projection.angle=function(_){return arguments.length?(alpha=_%360*math_radians,recenter()):alpha*src_math_degrees},projection.reflectX=function(_){return arguments.length?(sx=_?-1:1,recenter()):sx<0},projection.reflectY=function(_){return arguments.length?(sy=_?-1:1,recenter()):sy<0},projection.precision=function(_){return arguments.length?(projectResample=resample(projectTransform,delta2=_*_),reset()):sqrt(delta2)},projection.fitExtent=function(extent,object){return fitExtent(projection,extent,object)},projection.fitSize=function(size,object){return fitSize(projection,size,object)},projection.fitWidth=function(width,object){return fitWidth(projection,width,object)},projection.fitHeight=function(height,object){return fitHeight(projection,height,object)},function(){return project=projectAt.apply(this,arguments),projection.invert=project.invert&&invert,recenter()}}function conicProjection(projectAt){var phi0=0,phi1=math_pi/3,m=projectionMutator(projectAt),p=m(phi0,phi1);return p.parallels=function(_){return arguments.length?m(phi0=_[0]*math_radians,phi1=_[1]*math_radians):[phi0*src_math_degrees,phi1*src_math_degrees]},p}function conicEqualAreaRaw(y0,y1){var sy0=math_sin(y0),n=(sy0+math_sin(y1))/2;if(src_math_abs(n)<src_math_epsilon)return function cylindricalEqualAreaRaw(phi0){var cosPhi0=math_cos(phi0);function forward(lambda,phi){return[lambda*cosPhi0,math_sin(phi)/cosPhi0]}return forward.invert=function(x,y){return[x/cosPhi0,asin(y*cosPhi0)]},forward}(y0);var c=1+sy0*(2*n-sy0),r0=sqrt(c)/n;function project(x,y){var r=sqrt(c-2*n*math_sin(y))/n;return[r*math_sin(x*=n),r0-r*math_cos(x)]}return project.invert=function(x,y){var r0y=r0-y,l=atan2(x,src_math_abs(r0y))*sign(r0y);return r0y*n<0&&(l-=math_pi*sign(x)*sign(r0y)),[l/n,asin((c-(x*x+r0y*r0y)*n*n)/(2*n))]},project}function conicEqualArea(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function albers(){return conicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function albersUsa(){var cache,cacheStream,lower48Point,alaskaPoint,hawaiiPoint,point,lower48=albers(),alaska=conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),hawaii=conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),pointStream={point:function(x,y){point=[x,y]}};function albersUsa(coordinates){var x=coordinates[0],y=coordinates[1];return point=null,lower48Point.point(x,y),point||(alaskaPoint.point(x,y),point)||(hawaiiPoint.point(x,y),point)}function reset(){return cache=cacheStream=null,albersUsa}return albersUsa.invert=function(coordinates){var k=lower48.scale(),t=lower48.translate(),x=(coordinates[0]-t[0])/k,y=(coordinates[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?alaska:y>=.166&&y<.234&&x>=-.214&&x<-.115?hawaii:lower48).invert(coordinates)},albersUsa.stream=function(stream){return cache&&cacheStream===stream?cache:cache=function multiplex(streams){var n=streams.length;return{point:function(x,y){for(var i=-1;++i<n;)streams[i].point(x,y)},sphere:function(){for(var i=-1;++i<n;)streams[i].sphere()},lineStart:function(){for(var i=-1;++i<n;)streams[i].lineStart()},lineEnd:function(){for(var i=-1;++i<n;)streams[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<n;)streams[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<n;)streams[i].polygonEnd()}}}([lower48.stream(cacheStream=stream),alaska.stream(stream),hawaii.stream(stream)])},albersUsa.precision=function(_){return arguments.length?(lower48.precision(_),alaska.precision(_),hawaii.precision(_),reset()):lower48.precision()},albersUsa.scale=function(_){return arguments.length?(lower48.scale(_),alaska.scale(.35*_),hawaii.scale(_),albersUsa.translate(lower48.translate())):lower48.scale()},albersUsa.translate=function(_){if(!arguments.length)return lower48.translate();var k=lower48.scale(),x=+_[0],y=+_[1];return lower48Point=lower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(pointStream),alaskaPoint=alaska.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+src_math_epsilon,y+.12*k+src_math_epsilon],[x-.214*k-src_math_epsilon,y+.234*k-src_math_epsilon]]).stream(pointStream),hawaiiPoint=hawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+src_math_epsilon,y+.166*k+src_math_epsilon],[x-.115*k-src_math_epsilon,y+.234*k-src_math_epsilon]]).stream(pointStream),reset()},albersUsa.fitExtent=function(extent,object){return fitExtent(albersUsa,extent,object)},albersUsa.fitSize=function(size,object){return fitSize(albersUsa,size,object)},albersUsa.fitWidth=function(width,object){return fitWidth(albersUsa,width,object)},albersUsa.fitHeight=function(height,object){return fitHeight(albersUsa,height,object)},albersUsa.scale(1070)}function azimuthalRaw(scale){return function(x,y){var cx=math_cos(x),cy=math_cos(y),k=scale(cx*cy);return k===1/0?[2,0]:[k*cy*math_sin(x),k*math_sin(y)]}}function azimuthalInvert(angle){return function(x,y){var z=sqrt(x*x+y*y),c=angle(z),sc=math_sin(c),cc=math_cos(c);return[atan2(x*sc,z*cc),asin(z&&y*sc/z)]}}var azimuthalEqualAreaRaw=azimuthalRaw((function(cxcy){return sqrt(2/(1+cxcy))}));function azimuthalEqualArea(){return projection(azimuthalEqualAreaRaw).scale(124.75).clipAngle(179.999)}azimuthalEqualAreaRaw.invert=azimuthalInvert((function(z){return 2*asin(z/2)}));var azimuthalEquidistantRaw=azimuthalRaw((function(c){return(c=acos(c))&&c/math_sin(c)}));function azimuthalEquidistant(){return projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(179.999)}function mercatorRaw(lambda,phi){return[lambda,log(tan((math_halfPi+phi)/2))]}function mercator(){return mercatorProjection(mercatorRaw).scale(961/math_tau)}function mercatorProjection(project){var y0,x1,y1,m=projection(project),center=m.center,scale=m.scale,translate=m.translate,clipExtent=m.clipExtent,x0=null;function reclip(){var k=math_pi*scale(),t=m(rotation(m.rotate()).invert([0,0]));return clipExtent(null==x0?[[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]]:project===mercatorRaw?[[Math.max(t[0]-k,x0),y0],[Math.min(t[0]+k,x1),y1]]:[[x0,Math.max(t[1]-k,y0)],[x1,Math.min(t[1]+k,y1)]])}return m.scale=function(_){return arguments.length?(scale(_),reclip()):scale()},m.translate=function(_){return arguments.length?(translate(_),reclip()):translate()},m.center=function(_){return arguments.length?(center(_),reclip()):center()},m.clipExtent=function(_){return arguments.length?(null==_?x0=y0=x1=y1=null:(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reclip()):null==x0?null:[[x0,y0],[x1,y1]]},reclip()}function tany(y){return tan((math_halfPi+y)/2)}function conicConformalRaw(y0,y1){var cy0=math_cos(y0),n=y0===y1?math_sin(y0):log(cy0/math_cos(y1))/log(tany(y1)/tany(y0)),f=cy0*math_pow(tany(y0),n)/n;if(!n)return mercatorRaw;function project(x,y){f>0?y<-math_halfPi+src_math_epsilon&&(y=-math_halfPi+src_math_epsilon):y>math_halfPi-src_math_epsilon&&(y=math_halfPi-src_math_epsilon);var r=f/math_pow(tany(y),n);return[r*math_sin(n*x),f-r*math_cos(n*x)]}return project.invert=function(x,y){var fy=f-y,r=sign(n)*sqrt(x*x+fy*fy),l=atan2(x,src_math_abs(fy))*sign(fy);return fy*n<0&&(l-=math_pi*sign(x)*sign(fy)),[l/n,2*atan(math_pow(f/r,1/n))-math_halfPi]},project}function conicConformal(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(lambda,phi){return[lambda,phi]}function equirectangular(){return projection(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(y0,y1){var cy0=math_cos(y0),n=y0===y1?math_sin(y0):(cy0-math_cos(y1))/(y1-y0),g=cy0/n+y0;if(src_math_abs(n)<src_math_epsilon)return equirectangularRaw;function project(x,y){var gy=g-y,nx=n*x;return[gy*math_sin(nx),g-gy*math_cos(nx)]}return project.invert=function(x,y){var gy=g-y,l=atan2(x,src_math_abs(gy))*sign(gy);return gy*n<0&&(l-=math_pi*sign(x)*sign(gy)),[l/n,g-sign(n)*sqrt(x*x+gy*gy)]},project}function conicEquidistant(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])}azimuthalEquidistantRaw.invert=azimuthalInvert((function(z){return z})),mercatorRaw.invert=function(x,y){return[x,2*atan(exp(y))-math_halfPi]},equirectangularRaw.invert=equirectangularRaw;var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=sqrt(3)/2;function equalEarthRaw(lambda,phi){var l=asin(M*math_sin(phi)),l2=l*l,l6=l2*l2*l2;return[lambda*math_cos(l)/(M*(A1+3*A2*l2+l6*(7*A3+9*A4*l2))),l*(A1+A2*l2+l6*(A3+A4*l2))]}function equalEarth(){return projection(equalEarthRaw).scale(177.158)}function gnomonicRaw(x,y){var cy=math_cos(y),k=math_cos(x)*cy;return[cy*math_sin(x)/k,math_sin(y)/k]}function gnomonic(){return projection(gnomonicRaw).scale(144.049).clipAngle(60)}function projection_identity(){var ca,sa,y0,x1,y1,cache,cacheStream,k=1,tx=0,ty=0,sx=1,sy=1,alpha=0,x0=null,kx=1,ky=1,transform=transformer({point:function(x,y){var p=projection([x,y]);this.stream.point(p[0],p[1])}}),postclip=d3_geo_src_identity;function reset(){return kx=k*sx,ky=k*sy,cache=cacheStream=null,projection}function projection(p){var x=p[0]*kx,y=p[1]*ky;if(alpha){var t=y*ca-x*sa;x=x*ca+y*sa,y=t}return[x+tx,y+ty]}return projection.invert=function(p){var x=p[0]-tx,y=p[1]-ty;if(alpha){var t=y*ca+x*sa;x=x*ca-y*sa,y=t}return[x/kx,y/ky]},projection.stream=function(stream){return cache&&cacheStream===stream?cache:cache=transform(postclip(cacheStream=stream))},projection.postclip=function(_){return arguments.length?(postclip=_,x0=y0=x1=y1=null,reset()):postclip},projection.clipExtent=function(_){return arguments.length?(postclip=null==_?(x0=y0=x1=y1=null,d3_geo_src_identity):clipRectangle(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):null==x0?null:[[x0,y0],[x1,y1]]},projection.scale=function(_){return arguments.length?(k=+_,reset()):k},projection.translate=function(_){return arguments.length?(tx=+_[0],ty=+_[1],reset()):[tx,ty]},projection.angle=function(_){return arguments.length?(sa=math_sin(alpha=_%360*math_radians),ca=math_cos(alpha),reset()):alpha*src_math_degrees},projection.reflectX=function(_){return arguments.length?(sx=_?-1:1,reset()):sx<0},projection.reflectY=function(_){return arguments.length?(sy=_?-1:1,reset()):sy<0},projection.fitExtent=function(extent,object){return fitExtent(projection,extent,object)},projection.fitSize=function(size,object){return fitSize(projection,size,object)},projection.fitWidth=function(width,object){return fitWidth(projection,width,object)},projection.fitHeight=function(height,object){return fitHeight(projection,height,object)},projection}function naturalEarth1Raw(lambda,phi){var phi2=phi*phi,phi4=phi2*phi2;return[lambda*(.8707-.131979*phi2+phi4*(phi4*(.003971*phi2-.001529*phi4)-.013791)),phi*(1.007226+phi2*(.015085+phi4*(.028874*phi2-.044475-.005916*phi4)))]}function naturalEarth1(){return projection(naturalEarth1Raw).scale(175.295)}function orthographicRaw(x,y){return[math_cos(y)*math_sin(x),math_sin(y)]}function orthographic(){return projection(orthographicRaw).scale(249.5).clipAngle(90+src_math_epsilon)}function stereographicRaw(x,y){var cy=math_cos(y),k=1+math_cos(x)*cy;return[cy*math_sin(x)/k,math_sin(y)/k]}function stereographic(){return projection(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(lambda,phi){return[log(tan((math_halfPi+phi)/2)),-lambda]}function transverseMercator(){var m=mercatorProjection(transverseMercatorRaw),center=m.center,rotate=m.rotate;return m.center=function(_){return arguments.length?center([-_[1],_[0]]):[(_=center())[1],-_[0]]},m.rotate=function(_){return arguments.length?rotate([_[0],_[1],_.length>2?_[2]+90:90]):[(_=rotate())[0],_[1],_[2]-90]},rotate([0,0,90]).scale(159.155)}function defaultSeparation(a,b){return a.parent===b.parent?1:2}function meanXReduce(x,c){return x+c.x}function maxYReduce(y,c){return Math.max(y,c.y)}function cluster(){var separation=defaultSeparation,dx=1,dy=1,nodeSize=!1;function cluster(root){var previousNode,x=0;root.eachAfter((function(node){var children=node.children;children?(node.x=function meanX(children){return children.reduce(meanXReduce,0)/children.length}(children),node.y=function maxY(children){return 1+children.reduce(maxYReduce,0)}(children)):(node.x=previousNode?x+=separation(node,previousNode):0,node.y=0,previousNode=node)}));var left=function leafLeft(node){for(var children;children=node.children;)node=children[0];return node}(root),right=function leafRight(node){for(var children;children=node.children;)node=children[children.length-1];return node}(root),x0=left.x-separation(left,right)/2,x1=right.x+separation(right,left)/2;return root.eachAfter(nodeSize?function(node){node.x=(node.x-root.x)*dx,node.y=(root.y-node.y)*dy}:function(node){node.x=(node.x-x0)/(x1-x0)*dx,node.y=(1-(root.y?node.y/root.y:1))*dy})}return cluster.separation=function(x){return arguments.length?(separation=x,cluster):separation},cluster.size=function(x){return arguments.length?(nodeSize=!1,dx=+x[0],dy=+x[1],cluster):nodeSize?null:[dx,dy]},cluster.nodeSize=function(x){return arguments.length?(nodeSize=!0,dx=+x[0],dy=+x[1],cluster):nodeSize?[dx,dy]:null},cluster}function count_count(node){var sum=0,children=node.children,i=children&&children.length;if(i)for(;--i>=0;)sum+=children[i].value;else sum=1;node.value=sum}function hierarchy(data,children){data instanceof Map?(data=[void 0,data],void 0===children&&(children=mapChildren)):void 0===children&&(children=objectChildren);for(var node,child,childs,i,n,root=new Node(data),nodes=[root];node=nodes.pop();)if((childs=children(node.data))&&(n=(childs=Array.from(childs)).length))for(node.children=childs,i=n-1;i>=0;--i)nodes.push(child=childs[i]=new Node(childs[i])),child.parent=node,child.depth=node.depth+1;return root.eachBefore(computeHeight)}function objectChildren(d){return d.children}function mapChildren(d){return Array.isArray(d)?d[1]:null}function copyData(node){void 0!==node.data.value&&(node.value=node.data.value),node.data=node.data.data}function computeHeight(node){var height=0;do{node.height=height}while((node=node.parent)&&node.height<++height)}function Node(data){this.data=data,this.depth=this.height=0,this.parent=null}function optional(f){return null==f?null:required(f)}function required(f){if("function"!=typeof f)throw new Error;return f}function constantZero(){return 0}function d3_hierarchy_src_constant(x){return function(){return x}}equalEarthRaw.invert=function(x,y){for(var delta,l=y,l2=l*l,l6=l2*l2*l2,i=0;i<12&&(l6=(l2=(l-=delta=(l*(A1+A2*l2+l6*(A3+A4*l2))-y)/(A1+3*A2*l2+l6*(7*A3+9*A4*l2)))*l)*l2*l2,!(src_math_abs(delta)<epsilon2));++i);return[M*x*(A1+3*A2*l2+l6*(7*A3+9*A4*l2))/math_cos(l),asin(math_sin(l)/M)]},gnomonicRaw.invert=azimuthalInvert(atan),naturalEarth1Raw.invert=function(x,y){var delta,phi=y,i=25;do{var phi2=phi*phi,phi4=phi2*phi2;phi-=delta=(phi*(1.007226+phi2*(.015085+phi4*(.028874*phi2-.044475-.005916*phi4)))-y)/(1.007226+phi2*(.045255+phi4*(.259866*phi2-.311325-.005916*11*phi4)))}while(src_math_abs(delta)>src_math_epsilon&&--i>0);return[x/(.8707+(phi2=phi*phi)*(phi2*(phi2*phi2*phi2*(.003971-.001529*phi2)-.013791)-.131979)),phi]},orthographicRaw.invert=azimuthalInvert(asin),stereographicRaw.invert=azimuthalInvert((function(z){return 2*atan(z)})),transverseMercatorRaw.invert=function(x,y){return[-y,2*atan(exp(x))-math_halfPi]},Node.prototype=hierarchy.prototype={constructor:Node,count:function hierarchy_count(){return this.eachAfter(count_count)},each:function hierarchy_each(callback,that){let index=-1;for(const node of this)callback.call(that,node,++index,this);return this},eachAfter:function eachAfter(callback,that){for(var children,i,n,node=this,nodes=[node],next=[],index=-1;node=nodes.pop();)if(next.push(node),children=node.children)for(i=0,n=children.length;i<n;++i)nodes.push(children[i]);for(;node=next.pop();)callback.call(that,node,++index,this);return this},eachBefore:function eachBefore(callback,that){for(var children,i,node=this,nodes=[node],index=-1;node=nodes.pop();)if(callback.call(that,node,++index,this),children=node.children)for(i=children.length-1;i>=0;--i)nodes.push(children[i]);return this},find:function hierarchy_find(callback,that){let index=-1;for(const node of this)if(callback.call(that,node,++index,this))return node},sum:function hierarchy_sum(value){return this.eachAfter((function(node){for(var sum=+value(node.data)||0,children=node.children,i=children&&children.length;--i>=0;)sum+=children[i].value;node.value=sum}))},sort:function hierarchy_sort(compare){return this.eachBefore((function(node){node.children&&node.children.sort(compare)}))},path:function hierarchy_path(end){for(var start=this,ancestor=function leastCommonAncestor(a,b){if(a===b)return a;var aNodes=a.ancestors(),bNodes=b.ancestors(),c=null;a=aNodes.pop(),b=bNodes.pop();for(;a===b;)c=a,a=aNodes.pop(),b=bNodes.pop();return c}(start,end),nodes=[start];start!==ancestor;)start=start.parent,nodes.push(start);for(var k=nodes.length;end!==ancestor;)nodes.splice(k,0,end),end=end.parent;return nodes},ancestors:function ancestors(){for(var node=this,nodes=[node];node=node.parent;)nodes.push(node);return nodes},descendants:function descendants(){return Array.from(this)},leaves:function leaves(){var leaves=[];return this.eachBefore((function(node){node.children||leaves.push(node)})),leaves},links:function links(){var root=this,links=[];return root.each((function(node){node!==root&&links.push({source:node.parent,target:node})})),links},copy:function node_copy(){return hierarchy(this).eachBefore(copyData)},[Symbol.iterator]:function*hierarchy_iterator(){var current,children,i,n,node=this,next=[node];do{for(current=next.reverse(),next=[];node=current.pop();)if(yield node,children=node.children)for(i=0,n=children.length;i<n;++i)next.push(children[i])}while(next.length)}};const lcg_a=1664525,lcg_c=1013904223,lcg_m=4294967296;function src_lcg(){let s=1;return()=>(s=(lcg_a*s+lcg_c)%lcg_m)/lcg_m}function enclose(circles){return packEncloseRandom(circles,src_lcg())}function packEncloseRandom(circles,random){for(var p,e,i=0,n=(circles=function array_shuffle(array,random){let t,i,m=array.length;for(;m;)i=random()*m--|0,t=array[m],array[m]=array[i],array[i]=t;return array}(Array.from(circles),random)).length,B=[];i<n;)p=circles[i],e&&enclosesWeak(e,p)?++i:(e=encloseBasis(B=extendBasis(B,p)),i=0);return e}function extendBasis(B,p){var i,j;if(enclosesWeakAll(p,B))return[p];for(i=0;i<B.length;++i)if(enclosesNot(p,B[i])&&enclosesWeakAll(encloseBasis2(B[i],p),B))return[B[i],p];for(i=0;i<B.length-1;++i)for(j=i+1;j<B.length;++j)if(enclosesNot(encloseBasis2(B[i],B[j]),p)&&enclosesNot(encloseBasis2(B[i],p),B[j])&&enclosesNot(encloseBasis2(B[j],p),B[i])&&enclosesWeakAll(encloseBasis3(B[i],B[j],p),B))return[B[i],B[j],p];throw new Error}function enclosesNot(a,b){var dr=a.r-b.r,dx=b.x-a.x,dy=b.y-a.y;return dr<0||dr*dr<dx*dx+dy*dy}function enclosesWeak(a,b){var dr=a.r-b.r+1e-9*Math.max(a.r,b.r,1),dx=b.x-a.x,dy=b.y-a.y;return dr>0&&dr*dr>dx*dx+dy*dy}function enclosesWeakAll(a,B){for(var i=0;i<B.length;++i)if(!enclosesWeak(a,B[i]))return!1;return!0}function encloseBasis(B){switch(B.length){case 1:return function encloseBasis1(a){return{x:a.x,y:a.y,r:a.r}}(B[0]);case 2:return encloseBasis2(B[0],B[1]);case 3:return encloseBasis3(B[0],B[1],B[2])}}function encloseBasis2(a,b){var x1=a.x,y1=a.y,r1=a.r,x2=b.x,y2=b.y,r2=b.r,x21=x2-x1,y21=y2-y1,r21=r2-r1,l=Math.sqrt(x21*x21+y21*y21);return{x:(x1+x2+x21/l*r21)/2,y:(y1+y2+y21/l*r21)/2,r:(l+r1+r2)/2}}function encloseBasis3(a,b,c){var x1=a.x,y1=a.y,r1=a.r,x2=b.x,y2=b.y,r2=b.r,x3=c.x,y3=c.y,r3=c.r,a2=x1-x2,a3=x1-x3,b2=y1-y2,b3=y1-y3,c2=r2-r1,c3=r3-r1,d1=x1*x1+y1*y1-r1*r1,d2=d1-x2*x2-y2*y2+r2*r2,d3=d1-x3*x3-y3*y3+r3*r3,ab=a3*b2-a2*b3,xa=(b2*d3-b3*d2)/(2*ab)-x1,xb=(b3*c2-b2*c3)/ab,ya=(a3*d2-a2*d3)/(2*ab)-y1,yb=(a2*c3-a3*c2)/ab,A=xb*xb+yb*yb-1,B=2*(r1+xa*xb+ya*yb),C=xa*xa+ya*ya-r1*r1,r=-(Math.abs(A)>1e-6?(B+Math.sqrt(B*B-4*A*C))/(2*A):C/B);return{x:x1+xa+xb*r,y:y1+ya+yb*r,r}}function place(b,a,c){var x,a2,y,b2,dx=b.x-a.x,dy=b.y-a.y,d2=dx*dx+dy*dy;d2?(a2=a.r+c.r,a2*=a2,b2=b.r+c.r,a2>(b2*=b2)?(x=(d2+b2-a2)/(2*d2),y=Math.sqrt(Math.max(0,b2/d2-x*x)),c.x=b.x-x*dx-y*dy,c.y=b.y-x*dy+y*dx):(x=(d2+a2-b2)/(2*d2),y=Math.sqrt(Math.max(0,a2/d2-x*x)),c.x=a.x+x*dx-y*dy,c.y=a.y+x*dy+y*dx)):(c.x=a.x+c.r,c.y=a.y)}function intersects(a,b){var dr=a.r+b.r-1e-6,dx=b.x-a.x,dy=b.y-a.y;return dr>0&&dr*dr>dx*dx+dy*dy}function score(node){var a=node._,b=node.next._,ab=a.r+b.r,dx=(a.x*b.r+b.x*a.r)/ab,dy=(a.y*b.r+b.y*a.r)/ab;return dx*dx+dy*dy}function siblings_Node(circle){this._=circle,this.next=null,this.previous=null}function packSiblingsRandom(circles,random){if(!(n=(circles=function d3_hierarchy_src_array(x){return"object"==typeof x&&"length"in x?x:Array.from(x)}(circles)).length))return 0;var a,b,c,n,aa,ca,i,j,k,sj,sk;if((a=circles[0]).x=0,a.y=0,!(n>1))return a.r;if(b=circles[1],a.x=-b.r,b.x=a.r,b.y=0,!(n>2))return a.r+b.r;place(b,a,c=circles[2]),a=new siblings_Node(a),b=new siblings_Node(b),c=new siblings_Node(c),a.next=c.previous=b,b.next=a.previous=c,c.next=b.previous=a;pack:for(i=3;i<n;++i){place(a._,b._,c=circles[i]),c=new siblings_Node(c),j=b.next,k=a.previous,sj=b._.r,sk=a._.r;do{if(sj<=sk){if(intersects(j._,c._)){b=j,a.next=b,b.previous=a,--i;continue pack}sj+=j._.r,j=j.next}else{if(intersects(k._,c._)){(a=k).next=b,b.previous=a,--i;continue pack}sk+=k._.r,k=k.previous}}while(j!==k.next);for(c.previous=a,c.next=b,a.next=b.previous=b=c,aa=score(a);(c=c.next)!==b;)(ca=score(c))<aa&&(a=c,aa=ca);b=a.next}for(a=[b._],c=b;(c=c.next)!==b;)a.push(c._);for(c=packEncloseRandom(a,random),i=0;i<n;++i)(a=circles[i]).x-=c.x,a.y-=c.y;return c.r}function siblings(circles){return packSiblingsRandom(circles,src_lcg()),circles}function pack_defaultRadius(d){return Math.sqrt(d.value)}function pack(){var radius=null,dx=1,dy=1,padding=constantZero;function pack(root){const random=src_lcg();return root.x=dx/2,root.y=dy/2,radius?root.eachBefore(radiusLeaf(radius)).eachAfter(packChildrenRandom(padding,.5,random)).eachBefore(translateChild(1)):root.eachBefore(radiusLeaf(pack_defaultRadius)).eachAfter(packChildrenRandom(constantZero,1,random)).eachAfter(packChildrenRandom(padding,root.r/Math.min(dx,dy),random)).eachBefore(translateChild(Math.min(dx,dy)/(2*root.r))),root}return pack.radius=function(x){return arguments.length?(radius=optional(x),pack):radius},pack.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],pack):[dx,dy]},pack.padding=function(x){return arguments.length?(padding="function"==typeof x?x:d3_hierarchy_src_constant(+x),pack):padding},pack}function radiusLeaf(radius){return function(node){node.children||(node.r=Math.max(0,+radius(node)||0))}}function packChildrenRandom(padding,k,random){return function(node){if(children=node.children){var children,i,e,n=children.length,r=padding(node)*k||0;if(r)for(i=0;i<n;++i)children[i].r+=r;if(e=packSiblingsRandom(children,random),r)for(i=0;i<n;++i)children[i].r-=r;node.r=e+r}}}function translateChild(k){return function(node){var parent=node.parent;node.r*=k,parent&&(node.x=parent.x+k*node.x,node.y=parent.y+k*node.y)}}function treemap_round(node){node.x0=Math.round(node.x0),node.y0=Math.round(node.y0),node.x1=Math.round(node.x1),node.y1=Math.round(node.y1)}function dice(parent,x0,y0,x1,y1){for(var node,nodes=parent.children,i=-1,n=nodes.length,k=parent.value&&(x1-x0)/parent.value;++i<n;)(node=nodes[i]).y0=y0,node.y1=y1,node.x0=x0,node.x1=x0+=node.value*k}function partition(){var dx=1,dy=1,padding=0,round=!1;function partition(root){var n=root.height+1;return root.x0=root.y0=padding,root.x1=dx,root.y1=dy/n,root.eachBefore(function positionNode(dy,n){return function(node){node.children&&dice(node,node.x0,dy*(node.depth+1)/n,node.x1,dy*(node.depth+2)/n);var x0=node.x0,y0=node.y0,x1=node.x1-padding,y1=node.y1-padding;x1<x0&&(x0=x1=(x0+x1)/2),y1<y0&&(y0=y1=(y0+y1)/2),node.x0=x0,node.y0=y0,node.x1=x1,node.y1=y1}}(dy,n)),round&&root.eachBefore(treemap_round),root}return partition.round=function(x){return arguments.length?(round=!!x,partition):round},partition.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],partition):[dx,dy]},partition.padding=function(x){return arguments.length?(padding=+x,partition):padding},partition}var preroot={depth:-1},ambiguous={},imputed={};function defaultId(d){return d.id}function defaultParentId(d){return d.parentId}function stratify(){var path,id=defaultId,parentId=defaultParentId;function stratify(data){var n,d,i,root,parent,node,nodeId,nodeKey,nodes=Array.from(data),currentId=id,currentParentId=parentId,nodeByKey=new Map;if(null!=path){const I=nodes.map(((d,i)=>function normalize(path){path=`${path}`;let i=path.length;slash(path,i-1)&&!slash(path,i-2)&&(path=path.slice(0,-1));return"/"===path[0]?path:`/${path}`}(path(d,i,data)))),P=I.map(parentof),S=new Set(I).add("");for(const i of P)S.has(i)||(S.add(i),I.push(i),P.push(parentof(i)),nodes.push(imputed));currentId=(_,i)=>I[i],currentParentId=(_,i)=>P[i]}for(i=0,n=nodes.length;i<n;++i)d=nodes[i],node=nodes[i]=new Node(d),null!=(nodeId=currentId(d,i,data))&&(nodeId+="")&&(nodeKey=node.id=nodeId,nodeByKey.set(nodeKey,nodeByKey.has(nodeKey)?ambiguous:node)),null!=(nodeId=currentParentId(d,i,data))&&(nodeId+="")&&(node.parent=nodeId);for(i=0;i<n;++i)if(nodeId=(node=nodes[i]).parent){if(!(parent=nodeByKey.get(nodeId)))throw new Error("missing: "+nodeId);if(parent===ambiguous)throw new Error("ambiguous: "+nodeId);parent.children?parent.children.push(node):parent.children=[node],node.parent=parent}else{if(root)throw new Error("multiple roots");root=node}if(!root)throw new Error("no root");if(null!=path){for(;root.data===imputed&&1===root.children.length;)root=root.children[0],--n;for(let i=nodes.length-1;i>=0&&(node=nodes[i]).data===imputed;--i)node.data=null}if(root.parent=preroot,root.eachBefore((function(node){node.depth=node.parent.depth+1,--n})).eachBefore(computeHeight),root.parent=null,n>0)throw new Error("cycle");return root}return stratify.id=function(x){return arguments.length?(id=optional(x),stratify):id},stratify.parentId=function(x){return arguments.length?(parentId=optional(x),stratify):parentId},stratify.path=function(x){return arguments.length?(path=optional(x),stratify):path},stratify}function parentof(path){let i=path.length;if(i<2)return"";for(;--i>1&&!slash(path,i););return path.slice(0,i)}function slash(path,i){if("/"===path[i]){let k=0;for(;i>0&&"\\"===path[--i];)++k;if(!(1&k))return!0}return!1}function tree_defaultSeparation(a,b){return a.parent===b.parent?1:2}function nextLeft(v){var children=v.children;return children?children[0]:v.t}function nextRight(v){var children=v.children;return children?children[children.length-1]:v.t}function moveSubtree(wm,wp,shift){var change=shift/(wp.i-wm.i);wp.c-=change,wp.s+=shift,wm.c+=change,wp.z+=shift,wp.m+=shift}function nextAncestor(vim,v,ancestor){return vim.a.parent===v.parent?vim.a:ancestor}function TreeNode(node,i){this._=node,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=i}function tree(){var separation=tree_defaultSeparation,dx=1,dy=1,nodeSize=null;function tree(root){var t=function treeRoot(root){for(var node,child,children,i,n,tree=new TreeNode(root,0),nodes=[tree];node=nodes.pop();)if(children=node._.children)for(node.children=new Array(n=children.length),i=n-1;i>=0;--i)nodes.push(child=node.children[i]=new TreeNode(children[i],i)),child.parent=node;return(tree.parent=new TreeNode(null,0)).children=[tree],tree}(root);if(t.eachAfter(firstWalk),t.parent.m=-t.z,t.eachBefore(secondWalk),nodeSize)root.eachBefore(sizeNode);else{var left=root,right=root,bottom=root;root.eachBefore((function(node){node.x<left.x&&(left=node),node.x>right.x&&(right=node),node.depth>bottom.depth&&(bottom=node)}));var s=left===right?1:separation(left,right)/2,tx=s-left.x,kx=dx/(right.x+s+tx),ky=dy/(bottom.depth||1);root.eachBefore((function(node){node.x=(node.x+tx)*kx,node.y=node.depth*ky}))}return root}function firstWalk(v){var children=v.children,siblings=v.parent.children,w=v.i?siblings[v.i-1]:null;if(children){!function executeShifts(v){for(var w,shift=0,change=0,children=v.children,i=children.length;--i>=0;)(w=children[i]).z+=shift,w.m+=shift,shift+=w.s+(change+=w.c)}(v);var midpoint=(children[0].z+children[children.length-1].z)/2;w?(v.z=w.z+separation(v._,w._),v.m=v.z-midpoint):v.z=midpoint}else w&&(v.z=w.z+separation(v._,w._));v.parent.A=function apportion(v,w,ancestor){if(w){for(var shift,vip=v,vop=v,vim=w,vom=vip.parent.children[0],sip=vip.m,sop=vop.m,sim=vim.m,som=vom.m;vim=nextRight(vim),vip=nextLeft(vip),vim&&vip;)vom=nextLeft(vom),(vop=nextRight(vop)).a=v,(shift=vim.z+sim-vip.z-sip+separation(vim._,vip._))>0&&(moveSubtree(nextAncestor(vim,v,ancestor),v,shift),sip+=shift,sop+=shift),sim+=vim.m,sip+=vip.m,som+=vom.m,sop+=vop.m;vim&&!nextRight(vop)&&(vop.t=vim,vop.m+=sim-sop),vip&&!nextLeft(vom)&&(vom.t=vip,vom.m+=sip-som,ancestor=v)}return ancestor}(v,w,v.parent.A||siblings[0])}function secondWalk(v){v._.x=v.z+v.parent.m,v.m+=v.parent.m}function sizeNode(node){node.x*=dx,node.y=node.depth*dy}return tree.separation=function(x){return arguments.length?(separation=x,tree):separation},tree.size=function(x){return arguments.length?(nodeSize=!1,dx=+x[0],dy=+x[1],tree):nodeSize?null:[dx,dy]},tree.nodeSize=function(x){return arguments.length?(nodeSize=!0,dx=+x[0],dy=+x[1],tree):nodeSize?[dx,dy]:null},tree}function treemap_slice(parent,x0,y0,x1,y1){for(var node,nodes=parent.children,i=-1,n=nodes.length,k=parent.value&&(y1-y0)/parent.value;++i<n;)(node=nodes[i]).x0=x0,node.x1=x1,node.y0=y0,node.y1=y0+=node.value*k}TreeNode.prototype=Object.create(Node.prototype);var phi=(1+Math.sqrt(5))/2;function squarifyRatio(ratio,parent,x0,y0,x1,y1){for(var row,nodeValue,dx,dy,sumValue,minValue,maxValue,newRatio,minRatio,alpha,beta,rows=[],nodes=parent.children,i0=0,i1=0,n=nodes.length,value=parent.value;i0<n;){dx=x1-x0,dy=y1-y0;do{sumValue=nodes[i1++].value}while(!sumValue&&i1<n);for(minValue=maxValue=sumValue,beta=sumValue*sumValue*(alpha=Math.max(dy/dx,dx/dy)/(value*ratio)),minRatio=Math.max(maxValue/beta,beta/minValue);i1<n;++i1){if(sumValue+=nodeValue=nodes[i1].value,nodeValue<minValue&&(minValue=nodeValue),nodeValue>maxValue&&(maxValue=nodeValue),beta=sumValue*sumValue*alpha,(newRatio=Math.max(maxValue/beta,beta/minValue))>minRatio){sumValue-=nodeValue;break}minRatio=newRatio}rows.push(row={value:sumValue,dice:dx<dy,children:nodes.slice(i0,i1)}),row.dice?dice(row,x0,y0,x1,value?y0+=dy*sumValue/value:y1):treemap_slice(row,x0,y0,value?x0+=dx*sumValue/value:x1,y1),value-=sumValue,i0=i1}return rows}const squarify=function custom(ratio){function squarify(parent,x0,y0,x1,y1){squarifyRatio(ratio,parent,x0,y0,x1,y1)}return squarify.ratio=function(x){return custom((x=+x)>1?x:1)},squarify}(phi);function treemap(){var tile=squarify,round=!1,dx=1,dy=1,paddingStack=[0],paddingInner=constantZero,paddingTop=constantZero,paddingRight=constantZero,paddingBottom=constantZero,paddingLeft=constantZero;function treemap(root){return root.x0=root.y0=0,root.x1=dx,root.y1=dy,root.eachBefore(positionNode),paddingStack=[0],round&&root.eachBefore(treemap_round),root}function positionNode(node){var p=paddingStack[node.depth],x0=node.x0+p,y0=node.y0+p,x1=node.x1-p,y1=node.y1-p;x1<x0&&(x0=x1=(x0+x1)/2),y1<y0&&(y0=y1=(y0+y1)/2),node.x0=x0,node.y0=y0,node.x1=x1,node.y1=y1,node.children&&(p=paddingStack[node.depth+1]=paddingInner(node)/2,x0+=paddingLeft(node)-p,y0+=paddingTop(node)-p,(x1-=paddingRight(node)-p)<x0&&(x0=x1=(x0+x1)/2),(y1-=paddingBottom(node)-p)<y0&&(y0=y1=(y0+y1)/2),tile(node,x0,y0,x1,y1))}return treemap.round=function(x){return arguments.length?(round=!!x,treemap):round},treemap.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],treemap):[dx,dy]},treemap.tile=function(x){return arguments.length?(tile=required(x),treemap):tile},treemap.padding=function(x){return arguments.length?treemap.paddingInner(x).paddingOuter(x):treemap.paddingInner()},treemap.paddingInner=function(x){return arguments.length?(paddingInner="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingInner},treemap.paddingOuter=function(x){return arguments.length?treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x):treemap.paddingTop()},treemap.paddingTop=function(x){return arguments.length?(paddingTop="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingTop},treemap.paddingRight=function(x){return arguments.length?(paddingRight="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingRight},treemap.paddingBottom=function(x){return arguments.length?(paddingBottom="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingBottom},treemap.paddingLeft=function(x){return arguments.length?(paddingLeft="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingLeft},treemap}function binary(parent,x0,y0,x1,y1){var i,sum,nodes=parent.children,n=nodes.length,sums=new Array(n+1);for(sums[0]=sum=i=0;i<n;++i)sums[i+1]=sum+=nodes[i].value;!function partition(i,j,value,x0,y0,x1,y1){if(i>=j-1){var node=nodes[i];return node.x0=x0,node.y0=y0,node.x1=x1,void(node.y1=y1)}var valueOffset=sums[i],valueTarget=value/2+valueOffset,k=i+1,hi=j-1;for(;k<hi;){var mid=k+hi>>>1;sums[mid]<valueTarget?k=mid+1:hi=mid}valueTarget-sums[k-1]<sums[k]-valueTarget&&i+1<k&&--k;var valueLeft=sums[k]-valueOffset,valueRight=value-valueLeft;if(x1-x0>y1-y0){var xk=value?(x0*valueRight+x1*valueLeft)/value:x1;partition(i,k,valueLeft,x0,y0,xk,y1),partition(k,j,valueRight,xk,y0,x1,y1)}else{var yk=value?(y0*valueRight+y1*valueLeft)/value:y1;partition(i,k,valueLeft,x0,y0,x1,yk),partition(k,j,valueRight,x0,yk,x1,y1)}}(0,n,parent.value,x0,y0,x1,y1)}function sliceDice(parent,x0,y0,x1,y1){(1&parent.depth?treemap_slice:dice)(parent,x0,y0,x1,y1)}const resquarify=function custom(ratio){function resquarify(parent,x0,y0,x1,y1){if((rows=parent._squarify)&&rows.ratio===ratio)for(var rows,row,nodes,i,n,j=-1,m=rows.length,value=parent.value;++j<m;){for(nodes=(row=rows[j]).children,i=row.value=0,n=nodes.length;i<n;++i)row.value+=nodes[i].value;row.dice?dice(row,x0,y0,x1,value?y0+=(y1-y0)*row.value/value:y1):treemap_slice(row,x0,y0,value?x0+=(x1-x0)*row.value/value:x1,y1),value-=row.value}else parent._squarify=rows=squarifyRatio(ratio,parent,x0,y0,x1,y1),rows.ratio=ratio}return resquarify.ratio=function(x){return custom((x=+x)>1?x:1)},resquarify}(phi);function discrete(range){var n=range.length;return function(t){return range[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}function src_hue(a,b){var i=hue(+a,+b);return function(t){var x=i(t);return x-360*Math.floor(x/360)}}function round(a,b){return a=+a,b=+b,function(t){return Math.round(a*(1-t)+b*t)}}function cosh(x){return((x=Math.exp(x))+1/x)/2}const src_zoom=function zoomRho(rho,rho2,rho4){function zoom(p0,p1){var i,S,ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy;if(d2<1e-12)S=Math.log(w1/w0)/rho,i=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(rho*t*S)]};else{var d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+rho4*d2)/(2*w0*rho2*d1),b1=(w1*w1-w0*w0-rho4*d2)/(2*w1*rho2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1);S=(r1-r0)/rho,i=function(t){var s=t*S,coshr0=cosh(r0),u=w0/(rho2*d1)*(coshr0*function tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}(rho*s+r0)-function sinh(x){return((x=Math.exp(x))-1/x)/2}(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/cosh(rho*s+r0)]}}return i.duration=1e3*S*rho/Math.SQRT2,i}return zoom.rho=function(_){var _1=Math.max(.001,+_),_2=_1*_1;return zoomRho(_1,_2,_2*_2)},zoom}(Math.SQRT2,2,4);function hsl_hsl(hue){return function(start,end){var h=hue((start=hsl(start)).h,(end=hsl(end)).h),s=nogamma(start.s,end.s),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(t),start.opacity=opacity(t),start+""}}}const src_hsl=hsl_hsl(hue);var hslLong=hsl_hsl(nogamma);function lab_lab(start,end){var l=nogamma((start=lab(start)).l,(end=lab(end)).l),a=nogamma(start.a,end.a),b=nogamma(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.l=l(t),start.a=a(t),start.b=b(t),start.opacity=opacity(t),start+""}}function hcl_hcl(hue){return function(start,end){var h=hue((start=hcl(start)).h,(end=hcl(end)).h),c=nogamma(start.c,end.c),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.h=h(t),start.c=c(t),start.l=l(t),start.opacity=opacity(t),start+""}}}const src_hcl=hcl_hcl(hue);var hclLong=hcl_hcl(nogamma);function cubehelix(hue){return function cubehelixGamma(y){function cubehelix(start,end){var h=hue((start=cubehelix_cubehelix(start)).h,(end=cubehelix_cubehelix(end)).h),s=nogamma(start.s,end.s),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(Math.pow(t,y)),start.opacity=opacity(t),start+""}}return y=+y,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}const src_cubehelix=cubehelix(hue);var cubehelixLong=cubehelix(nogamma);function piecewise(interpolate,values){void 0===values&&(values=interpolate,interpolate=value);for(var i=0,n=values.length-1,v=values[0],I=new Array(n<0?0:n);i<n;)I[i]=interpolate(v,v=values[++i]);return function(t){var i=Math.max(0,Math.min(n-1,Math.floor(t*=n)));return I[i](t-i)}}function quantize(interpolator,n){for(var samples=new Array(n),i=0;i<n;++i)samples[i]=interpolator(i/(n-1));return samples}function d3_polygon_src_area(polygon){for(var a,i=-1,n=polygon.length,b=polygon[n-1],area=0;++i<n;)a=b,b=polygon[i],area+=a[1]*b[0]-a[0]*b[1];return area/2}function src_centroid(polygon){for(var a,c,i=-1,n=polygon.length,x=0,y=0,b=polygon[n-1],k=0;++i<n;)a=b,b=polygon[i],k+=c=a[0]*b[1]-b[0]*a[1],x+=(a[0]+b[0])*c,y+=(a[1]+b[1])*c;return[x/(k*=3),y/k]}function src_cross(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function lexicographicOrder(a,b){return a[0]-b[0]||a[1]-b[1]}function computeUpperHullIndexes(points){const n=points.length,indexes=[0,1];let i,size=2;for(i=2;i<n;++i){for(;size>1&&src_cross(points[indexes[size-2]],points[indexes[size-1]],points[i])<=0;)--size;indexes[size++]=i}return indexes.slice(0,size)}function hull(points){if((n=points.length)<3)return null;var i,n,sortedPoints=new Array(n),flippedPoints=new Array(n);for(i=0;i<n;++i)sortedPoints[i]=[+points[i][0],+points[i][1],i];for(sortedPoints.sort(lexicographicOrder),i=0;i<n;++i)flippedPoints[i]=[sortedPoints[i][0],-sortedPoints[i][1]];var upperIndexes=computeUpperHullIndexes(sortedPoints),lowerIndexes=computeUpperHullIndexes(flippedPoints),skipLeft=lowerIndexes[0]===upperIndexes[0],skipRight=lowerIndexes[lowerIndexes.length-1]===upperIndexes[upperIndexes.length-1],hull=[];for(i=upperIndexes.length-1;i>=0;--i)hull.push(points[sortedPoints[upperIndexes[i]][2]]);for(i=+skipLeft;i<lowerIndexes.length-skipRight;++i)hull.push(points[sortedPoints[lowerIndexes[i]][2]]);return hull}function d3_polygon_src_contains(polygon,point){for(var x1,y1,n=polygon.length,p=polygon[n-1],x=point[0],y=point[1],x0=p[0],y0=p[1],inside=!1,i=0;i<n;++i)x1=(p=polygon[i])[0],(y1=p[1])>y!=y0>y&&x<(x0-x1)*(y-y1)/(y0-y1)+x1&&(inside=!inside),x0=x1,y0=y1;return inside}function d3_polygon_src_length(polygon){for(var xa,ya,i=-1,n=polygon.length,b=polygon[n-1],xb=b[0],yb=b[1],perimeter=0;++i<n;)xa=xb,ya=yb,xa-=xb=(b=polygon[i])[0],ya-=yb=b[1],perimeter+=Math.hypot(xa,ya);return perimeter}const src_defaultSource=Math.random,uniform=function sourceRandomUniform(source){function randomUniform(min,max){return min=null==min?0:+min,max=null==max?1:+max,1===arguments.length?(max=min,min=0):max-=min,function(){return source()*max+min}}return randomUniform.source=sourceRandomUniform,randomUniform}(src_defaultSource),src_int=function sourceRandomInt(source){function randomInt(min,max){return arguments.length<2&&(max=min,min=0),min=Math.floor(min),max=Math.floor(max)-min,function(){return Math.floor(source()*max+min)}}return randomInt.source=sourceRandomInt,randomInt}(src_defaultSource),normal=function sourceRandomNormal(source){function randomNormal(mu,sigma){var x,r;return mu=null==mu?0:+mu,sigma=null==sigma?1:+sigma,function(){var y;if(null!=x)y=x,x=null;else do{x=2*source()-1,y=2*source()-1,r=x*x+y*y}while(!r||r>1);return mu+sigma*y*Math.sqrt(-2*Math.log(r)/r)}}return randomNormal.source=sourceRandomNormal,randomNormal}(src_defaultSource),logNormal=function sourceRandomLogNormal(source){var N=normal.source(source);function randomLogNormal(){var randomNormal=N.apply(this,arguments);return function(){return Math.exp(randomNormal())}}return randomLogNormal.source=sourceRandomLogNormal,randomLogNormal}(src_defaultSource),irwinHall=function sourceRandomIrwinHall(source){function randomIrwinHall(n){return(n=+n)<=0?()=>0:function(){for(var sum=0,i=n;i>1;--i)sum+=source();return sum+i*source()}}return randomIrwinHall.source=sourceRandomIrwinHall,randomIrwinHall}(src_defaultSource),bates=function sourceRandomBates(source){var I=irwinHall.source(source);function randomBates(n){if(0===(n=+n))return source;var randomIrwinHall=I(n);return function(){return randomIrwinHall()/n}}return randomBates.source=sourceRandomBates,randomBates}(src_defaultSource),src_exponential=function sourceRandomExponential(source){function randomExponential(lambda){return function(){return-Math.log1p(-source())/lambda}}return randomExponential.source=sourceRandomExponential,randomExponential}(src_defaultSource),pareto=function sourceRandomPareto(source){function randomPareto(alpha){if((alpha=+alpha)<0)throw new RangeError("invalid alpha");return alpha=1/-alpha,function(){return Math.pow(1-source(),alpha)}}return randomPareto.source=sourceRandomPareto,randomPareto}(src_defaultSource),bernoulli=function sourceRandomBernoulli(source){function randomBernoulli(p){if((p=+p)<0||p>1)throw new RangeError("invalid p");return function(){return Math.floor(source()+p)}}return randomBernoulli.source=sourceRandomBernoulli,randomBernoulli}(src_defaultSource),geometric=function sourceRandomGeometric(source){function randomGeometric(p){if((p=+p)<0||p>1)throw new RangeError("invalid p");return 0===p?()=>1/0:1===p?()=>1:(p=Math.log1p(-p),function(){return 1+Math.floor(Math.log1p(-source())/p)})}return randomGeometric.source=sourceRandomGeometric,randomGeometric}(src_defaultSource),src_gamma=function sourceRandomGamma(source){var randomNormal=normal.source(source)();function randomGamma(k,theta){if((k=+k)<0)throw new RangeError("invalid k");if(0===k)return()=>0;if(theta=null==theta?1:+theta,1===k)return()=>-Math.log1p(-source())*theta;var d=(k<1?k+1:k)-1/3,c=1/(3*Math.sqrt(d)),multiplier=k<1?()=>Math.pow(source(),1/k):()=>1;return function(){do{do{var x=randomNormal(),v=1+c*x}while(v<=0);v*=v*v;var u=1-source()}while(u>=1-.0331*x*x*x*x&&Math.log(u)>=.5*x*x+d*(1-v+Math.log(v)));return d*v*multiplier()*theta}}return randomGamma.source=sourceRandomGamma,randomGamma}(src_defaultSource),beta=function sourceRandomBeta(source){var G=src_gamma.source(source);function randomBeta(alpha,beta){var X=G(alpha),Y=G(beta);return function(){var x=X();return 0===x?0:x/(x+Y())}}return randomBeta.source=sourceRandomBeta,randomBeta}(src_defaultSource),binomial=function sourceRandomBinomial(source){var G=geometric.source(source),B=beta.source(source);function randomBinomial(n,p){return n=+n,(p=+p)>=1?()=>n:p<=0?()=>0:function(){for(var acc=0,nn=n,pp=p;nn*pp>16&&nn*(1-pp)>16;){var i=Math.floor((nn+1)*pp),y=B(i,nn-i+1)();y<=pp?(acc+=i,nn-=i,pp=(pp-y)/(1-y)):(nn=i-1,pp/=y)}for(var sign=pp<.5,g=G(sign?pp:1-pp),s=g(),k=0;s<=nn;++k)s+=g();return acc+(sign?k:nn-k)}}return randomBinomial.source=sourceRandomBinomial,randomBinomial}(src_defaultSource),weibull=function sourceRandomWeibull(source){function randomWeibull(k,a,b){var outerFunc;return 0===(k=+k)?outerFunc=x=>-Math.log(x):(k=1/k,outerFunc=x=>Math.pow(x,k)),a=null==a?0:+a,b=null==b?1:+b,function(){return a+b*outerFunc(-Math.log1p(-source()))}}return randomWeibull.source=sourceRandomWeibull,randomWeibull}(src_defaultSource),cauchy=function sourceRandomCauchy(source){function randomCauchy(a,b){return a=null==a?0:+a,b=null==b?1:+b,function(){return a+b*Math.tan(Math.PI*source())}}return randomCauchy.source=sourceRandomCauchy,randomCauchy}(src_defaultSource),logistic=function sourceRandomLogistic(source){function randomLogistic(a,b){return a=null==a?0:+a,b=null==b?1:+b,function(){var u=source();return a+b*Math.log(u/(1-u))}}return randomLogistic.source=sourceRandomLogistic,randomLogistic}(src_defaultSource),poisson=function sourceRandomPoisson(source){var G=src_gamma.source(source),B=binomial.source(source);function randomPoisson(lambda){return function(){for(var acc=0,l=lambda;l>16;){var n=Math.floor(.875*l),t=G(n)();if(t>l)return acc+B(n-1,l/t)();acc+=n,l-=t}for(var s=-Math.log1p(-source()),k=0;s<=l;++k)s-=Math.log1p(-source());return acc+k}}return randomPoisson.source=sourceRandomPoisson,randomPoisson}(src_defaultSource),mul=1664525,inc=1013904223,eps=1/4294967296;function lcg_lcg(seed=Math.random()){let state=0|(0<=seed&&seed<1?seed/eps:Math.abs(seed));return()=>(state=mul*state+inc|0,eps*(state>>>0))}function initRange(domain,range){switch(arguments.length){case 0:break;case 1:this.range(domain);break;default:this.range(range).domain(domain)}return this}function initInterpolator(domain,interpolator){switch(arguments.length){case 0:break;case 1:"function"==typeof domain?this.interpolator(domain):this.range(domain);break;default:this.domain(domain),"function"==typeof interpolator?this.interpolator(interpolator):this.range(interpolator)}return this}const implicit=Symbol("implicit");function ordinal(){var index=new InternMap,domain=[],range=[],unknown=implicit;function scale(d){let i=index.get(d);if(void 0===i){if(unknown!==implicit)return unknown;index.set(d,i=domain.push(d)-1)}return range[i%range.length]}return scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[],index=new InternMap;for(const value of _)index.has(value)||index.set(value,domain.push(value)-1);return scale},scale.range=function(_){return arguments.length?(range=Array.from(_),scale):range.slice()},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.copy=function(){return ordinal(domain,range).unknown(unknown)},initRange.apply(scale,arguments),scale}function band(){var step,bandwidth,scale=ordinal().unknown(void 0),domain=scale.domain,ordinalRange=scale.range,r0=0,r1=1,round=!1,paddingInner=0,paddingOuter=0,align=.5;function rescale(){var n=domain().length,reverse=r1<r0,start=reverse?r1:r0,stop=reverse?r0:r1;step=(stop-start)/Math.max(1,n-paddingInner+2*paddingOuter),round&&(step=Math.floor(step)),start+=(stop-start-step*(n-paddingInner))*align,bandwidth=step*(1-paddingInner),round&&(start=Math.round(start),bandwidth=Math.round(bandwidth));var values=range(n).map((function(i){return start+step*i}));return ordinalRange(reverse?values.reverse():values)}return delete scale.unknown,scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()},scale.range=function(_){return arguments.length?([r0,r1]=_,r0=+r0,r1=+r1,rescale()):[r0,r1]},scale.rangeRound=function(_){return[r0,r1]=_,r0=+r0,r1=+r1,round=!0,rescale()},scale.bandwidth=function(){return bandwidth},scale.step=function(){return step},scale.round=function(_){return arguments.length?(round=!!_,rescale()):round},scale.padding=function(_){return arguments.length?(paddingInner=Math.min(1,paddingOuter=+_),rescale()):paddingInner},scale.paddingInner=function(_){return arguments.length?(paddingInner=Math.min(1,_),rescale()):paddingInner},scale.paddingOuter=function(_){return arguments.length?(paddingOuter=+_,rescale()):paddingOuter},scale.align=function(_){return arguments.length?(align=Math.max(0,Math.min(1,_)),rescale()):align},scale.copy=function(){return band(domain(),[r0,r1]).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align)},initRange.apply(rescale(),arguments)}function pointish(scale){var copy=scale.copy;return scale.padding=scale.paddingOuter,delete scale.paddingInner,delete scale.paddingOuter,scale.copy=function(){return pointish(copy())},scale}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function number_number(x){return+x}var unit=[0,1];function continuous_identity(x){return x}function continuous_normalize(a,b){return(b-=a=+a)?function(x){return(x-a)/b}:function constants(x){return function(){return x}}(isNaN(b)?NaN:.5)}function bimap(domain,range,interpolate){var d0=domain[0],d1=domain[1],r0=range[0],r1=range[1];return d1<d0?(d0=continuous_normalize(d1,d0),r0=interpolate(r1,r0)):(d0=continuous_normalize(d0,d1),r0=interpolate(r0,r1)),function(x){return r0(d0(x))}}function polymap(domain,range,interpolate){var j=Math.min(domain.length,range.length)-1,d=new Array(j),r=new Array(j),i=-1;for(domain[j]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());++i<j;)d[i]=continuous_normalize(domain[i],domain[i+1]),r[i]=interpolate(range[i],range[i+1]);return function(x){var i=bisect(domain,x,1,j)-1;return r[i](d[i](x))}}function copy(source,target){return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}function continuous_transformer(){var transform,untransform,unknown,piecewise,output,input,domain=unit,range=unit,interpolate=value,clamp=continuous_identity;function rescale(){var n=Math.min(domain.length,range.length);return clamp!==continuous_identity&&(clamp=function clamper(a,b){var t;return a>b&&(t=a,a=b,b=t),function(x){return Math.max(a,Math.min(b,x))}}(domain[0],domain[n-1])),piecewise=n>2?polymap:bimap,output=input=null,scale}function scale(x){return null==x||isNaN(x=+x)?unknown:(output||(output=piecewise(domain.map(transform),range,interpolate)))(transform(clamp(x)))}return scale.invert=function(y){return clamp(untransform((input||(input=piecewise(range,domain.map(transform),src_number)))(y)))},scale.domain=function(_){return arguments.length?(domain=Array.from(_,number_number),rescale()):domain.slice()},scale.range=function(_){return arguments.length?(range=Array.from(_),rescale()):range.slice()},scale.rangeRound=function(_){return range=Array.from(_),interpolate=round,rescale()},scale.clamp=function(_){return arguments.length?(clamp=!!_||continuous_identity,rescale()):clamp!==continuous_identity},scale.interpolate=function(_){return arguments.length?(interpolate=_,rescale()):interpolate},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},function(t,u){return transform=t,untransform=u,rescale()}}function continuous(){return continuous_transformer()(continuous_identity,continuous_identity)}function tickFormat(start,stop,count,specifier){var precision,step=tickStep(start,stop,count);switch((specifier=formatSpecifier(null==specifier?",f":specifier)).type){case"s":var value=Math.max(Math.abs(start),Math.abs(stop));return null!=specifier.precision||isNaN(precision=precisionPrefix(step,value))||(specifier.precision=precision),formatPrefix(specifier,value);case"":case"e":case"g":case"p":case"r":null!=specifier.precision||isNaN(precision=precisionRound(step,Math.max(Math.abs(start),Math.abs(stop))))||(specifier.precision=precision-("e"===specifier.type));break;case"f":case"%":null!=specifier.precision||isNaN(precision=precisionFixed(step))||(specifier.precision=precision-2*("%"===specifier.type))}return format(specifier)}function linearish(scale){var domain=scale.domain;return scale.ticks=function(count){var d=domain();return ticks(d[0],d[d.length-1],null==count?10:count)},scale.tickFormat=function(count,specifier){var d=domain();return tickFormat(d[0],d[d.length-1],null==count?10:count,specifier)},scale.nice=function(count){null==count&&(count=10);var prestep,step,d=domain(),i0=0,i1=d.length-1,start=d[i0],stop=d[i1],maxIter=10;for(stop<start&&(step=start,start=stop,stop=step,step=i0,i0=i1,i1=step);maxIter-- >0;){if((step=tickIncrement(start,stop,count))===prestep)return d[i0]=start,d[i1]=stop,domain(d);if(step>0)start=Math.floor(start/step)*step,stop=Math.ceil(stop/step)*step;else{if(!(step<0))break;start=Math.ceil(start*step)/step,stop=Math.floor(stop*step)/step}prestep=step}return scale},scale}function src_linear_linear(){var scale=continuous();return scale.copy=function(){return copy(scale,src_linear_linear())},initRange.apply(scale,arguments),linearish(scale)}function identity_identity(domain){var unknown;function scale(x){return null==x||isNaN(x=+x)?unknown:x}return scale.invert=scale,scale.domain=scale.range=function(_){return arguments.length?(domain=Array.from(_,number_number),scale):domain.slice()},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.copy=function(){return identity_identity(domain).unknown(unknown)},domain=arguments.length?Array.from(domain,number_number):[0,1],linearish(scale)}function nice_nice(domain,interval){var t,i0=0,i1=(domain=domain.slice()).length-1,x0=domain[i0],x1=domain[i1];return x1<x0&&(t=i0,i0=i1,i1=t,t=x0,x0=x1,x1=t),domain[i0]=interval.floor(x0),domain[i1]=interval.ceil(x1),domain}function transformLog(x){return Math.log(x)}function transformExp(x){return Math.exp(x)}function transformLogn(x){return-Math.log(-x)}function transformExpn(x){return-Math.exp(-x)}function pow10(x){return isFinite(x)?+("1e"+x):x<0?0:x}function reflect(f){return(x,k)=>-f(-x,k)}function loggish(transform){const scale=transform(transformLog,transformExp),domain=scale.domain;let logs,pows,base=10;function rescale(){return logs=function logp(base){return base===Math.E?Math.log:10===base&&Math.log10||2===base&&Math.log2||(base=Math.log(base),x=>Math.log(x)/base)}(base),pows=function powp(base){return 10===base?pow10:base===Math.E?Math.exp:x=>Math.pow(base,x)}(base),domain()[0]<0?(logs=reflect(logs),pows=reflect(pows),transform(transformLogn,transformExpn)):transform(transformLog,transformExp),scale}return scale.base=function(_){return arguments.length?(base=+_,rescale()):base},scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()},scale.ticks=count=>{const d=domain();let u=d[0],v=d[d.length-1];const r=v<u;r&&([u,v]=[v,u]);let k,t,i=logs(u),j=logs(v);const n=null==count?10:+count;let z=[];if(!(base%1)&&j-i<n){if(i=Math.floor(i),j=Math.ceil(j),u>0){for(;i<=j;++i)for(k=1;k<base;++k)if(t=i<0?k/pows(-i):k*pows(i),!(t<u)){if(t>v)break;z.push(t)}}else for(;i<=j;++i)for(k=base-1;k>=1;--k)if(t=i>0?k/pows(-i):k*pows(i),!(t<u)){if(t>v)break;z.push(t)}2*z.length<n&&(z=ticks(u,v,n))}else z=ticks(i,j,Math.min(j-i,n)).map(pows);return r?z.reverse():z},scale.tickFormat=(count,specifier)=>{if(null==count&&(count=10),null==specifier&&(specifier=10===base?"s":","),"function"!=typeof specifier&&(base%1||null!=(specifier=formatSpecifier(specifier)).precision||(specifier.trim=!0),specifier=format(specifier)),count===1/0)return specifier;const k=Math.max(1,base*count/scale.ticks().length);return d=>{let i=d/pows(Math.round(logs(d)));return i*base<base-.5&&(i*=base),i<=k?specifier(d):""}},scale.nice=()=>domain(nice_nice(domain(),{floor:x=>pows(Math.floor(logs(x))),ceil:x=>pows(Math.ceil(logs(x)))})),scale}function log_log(){const scale=loggish(continuous_transformer()).domain([1,10]);return scale.copy=()=>copy(scale,log_log()).base(scale.base()),initRange.apply(scale,arguments),scale}function transformSymlog(c){return function(x){return Math.sign(x)*Math.log1p(Math.abs(x/c))}}function transformSymexp(c){return function(x){return Math.sign(x)*Math.expm1(Math.abs(x))*c}}function symlogish(transform){var c=1,scale=transform(transformSymlog(c),transformSymexp(c));return scale.constant=function(_){return arguments.length?transform(transformSymlog(c=+_),transformSymexp(c)):c},linearish(scale)}function symlog(){var scale=symlogish(continuous_transformer());return scale.copy=function(){return copy(scale,symlog()).constant(scale.constant())},initRange.apply(scale,arguments)}function transformPow(exponent){return function(x){return x<0?-Math.pow(-x,exponent):Math.pow(x,exponent)}}function transformSqrt(x){return x<0?-Math.sqrt(-x):Math.sqrt(x)}function transformSquare(x){return x<0?-x*x:x*x}function powish(transform){var scale=transform(continuous_identity,continuous_identity),exponent=1;return scale.exponent=function(_){return arguments.length?(exponent=+_,function rescale(){return 1===exponent?transform(continuous_identity,continuous_identity):.5===exponent?transform(transformSqrt,transformSquare):transform(transformPow(exponent),transformPow(1/exponent))}()):exponent},linearish(scale)}function pow_pow(){var scale=powish(continuous_transformer());return scale.copy=function(){return copy(scale,pow_pow()).exponent(scale.exponent())},initRange.apply(scale,arguments),scale}function pow_sqrt(){return pow_pow.apply(null,arguments).exponent(.5)}function square(x){return Math.sign(x)*x*x}function radial_radial(){var unknown,squared=continuous(),range=[0,1],round=!1;function scale(x){var y=function unsquare(x){return Math.sign(x)*Math.sqrt(Math.abs(x))}(squared(x));return isNaN(y)?unknown:round?Math.round(y):y}return scale.invert=function(y){return squared.invert(square(y))},scale.domain=function(_){return arguments.length?(squared.domain(_),scale):squared.domain()},scale.range=function(_){return arguments.length?(squared.range((range=Array.from(_,number_number)).map(square)),scale):range.slice()},scale.rangeRound=function(_){return scale.range(_).round(!0)},scale.round=function(_){return arguments.length?(round=!!_,scale):round},scale.clamp=function(_){return arguments.length?(squared.clamp(_),scale):squared.clamp()},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.copy=function(){return radial_radial(squared.domain(),range).round(round).clamp(squared.clamp()).unknown(unknown)},initRange.apply(scale,arguments),linearish(scale)}function quantile_quantile(){var unknown,domain=[],range=[],thresholds=[];function rescale(){var i=0,n=Math.max(1,range.length);for(thresholds=new Array(n-1);++i<n;)thresholds[i-1]=quantileSorted(domain,i/n);return scale}function scale(x){return null==x||isNaN(x=+x)?unknown:range[bisect(thresholds,x)]}return scale.invertExtent=function(y){var i=range.indexOf(y);return i<0?[NaN,NaN]:[i>0?thresholds[i-1]:domain[0],i<thresholds.length?thresholds[i]:domain[domain.length-1]]},scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[];for(let d of _)null==d||isNaN(d=+d)||domain.push(d);return domain.sort(ascending),rescale()},scale.range=function(_){return arguments.length?(range=Array.from(_),rescale()):range.slice()},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.quantiles=function(){return thresholds.slice()},scale.copy=function(){return quantile_quantile().domain(domain).range(range).unknown(unknown)},initRange.apply(scale,arguments)}function quantize_quantize(){var unknown,x0=0,x1=1,n=1,domain=[.5],range=[0,1];function scale(x){return null!=x&&x<=x?range[bisect(domain,x,0,n)]:unknown}function rescale(){var i=-1;for(domain=new Array(n);++i<n;)domain[i]=((i+1)*x1-(i-n)*x0)/(n+1);return scale}return scale.domain=function(_){return arguments.length?([x0,x1]=_,x0=+x0,x1=+x1,rescale()):[x0,x1]},scale.range=function(_){return arguments.length?(n=(range=Array.from(_)).length-1,rescale()):range.slice()},scale.invertExtent=function(y){var i=range.indexOf(y);return i<0?[NaN,NaN]:i<1?[x0,domain[0]]:i>=n?[domain[n-1],x1]:[domain[i-1],domain[i]]},scale.unknown=function(_){return arguments.length?(unknown=_,scale):scale},scale.thresholds=function(){return domain.slice()},scale.copy=function(){return quantize_quantize().domain([x0,x1]).range(range).unknown(unknown)},initRange.apply(linearish(scale),arguments)}function threshold(){var unknown,domain=[.5],range=[0,1],n=1;function scale(x){return null!=x&&x<=x?range[bisect(domain,x,0,n)]:unknown}return scale.domain=function(_){return arguments.length?(domain=Array.from(_),n=Math.min(domain.length,range.length-1),scale):domain.slice()},scale.range=function(_){return arguments.length?(range=Array.from(_),n=Math.min(domain.length,range.length-1),scale):range.slice()},scale.invertExtent=function(y){var i=range.indexOf(y);return[domain[i-1],domain[i]]},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.copy=function(){return threshold().domain(domain).range(range).unknown(unknown)},initRange.apply(scale,arguments)}const interval_t0=new Date,interval_t1=new Date;function timeInterval(floori,offseti,count,field){function interval(date){return floori(date=0===arguments.length?new Date:new Date(+date)),date}return interval.floor=date=>(floori(date=new Date(+date)),date),interval.ceil=date=>(floori(date=new Date(date-1)),offseti(date,1),floori(date),date),interval.round=date=>{const d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1},interval.offset=(date,step)=>(offseti(date=new Date(+date),null==step?1:Math.floor(step)),date),interval.range=(start,stop,step)=>{const range=[];if(start=interval.ceil(start),step=null==step?1:Math.floor(step),!(start<stop&&step>0))return range;let previous;do{range.push(previous=new Date(+start)),offseti(start,step),floori(start)}while(previous<start&&start<stop);return range},interval.filter=test=>timeInterval((date=>{if(date>=date)for(;floori(date),!test(date);)date.setTime(date-1)}),((date,step)=>{if(date>=date)if(step<0)for(;++step<=0;)for(;offseti(date,-1),!test(date););else for(;--step>=0;)for(;offseti(date,1),!test(date););})),count&&(interval.count=(start,end)=>(interval_t0.setTime(+start),interval_t1.setTime(+end),floori(interval_t0),floori(interval_t1),Math.floor(count(interval_t0,interval_t1))),interval.every=step=>(step=Math.floor(step),isFinite(step)&&step>0?step>1?interval.filter(field?d=>field(d)%step===0:d=>interval.count(0,d)%step===0):interval:null)),interval}const millisecond=timeInterval((()=>{}),((date,step)=>{date.setTime(+date+step)}),((start,end)=>end-start));millisecond.every=k=>(k=Math.floor(k),isFinite(k)&&k>0?k>1?timeInterval((date=>{date.setTime(Math.floor(date/k)*k)}),((date,step)=>{date.setTime(+date+step*k)}),((start,end)=>(end-start)/k)):millisecond:null);const milliseconds=millisecond.range,second=timeInterval((date=>{date.setTime(date-date.getMilliseconds())}),((date,step)=>{date.setTime(+date+1e3*step)}),((start,end)=>(end-start)/1e3),(date=>date.getUTCSeconds())),seconds=second.range,timeMinute=timeInterval((date=>{date.setTime(date-date.getMilliseconds()-1e3*date.getSeconds())}),((date,step)=>{date.setTime(+date+6e4*step)}),((start,end)=>(end-start)/6e4),(date=>date.getMinutes())),timeMinutes=timeMinute.range,utcMinute=timeInterval((date=>{date.setUTCSeconds(0,0)}),((date,step)=>{date.setTime(+date+6e4*step)}),((start,end)=>(end-start)/6e4),(date=>date.getUTCMinutes())),utcMinutes=utcMinute.range,timeHour=timeInterval((date=>{date.setTime(date-date.getMilliseconds()-1e3*date.getSeconds()-6e4*date.getMinutes())}),((date,step)=>{date.setTime(+date+36e5*step)}),((start,end)=>(end-start)/36e5),(date=>date.getHours())),timeHours=timeHour.range,utcHour=timeInterval((date=>{date.setUTCMinutes(0,0,0)}),((date,step)=>{date.setTime(+date+36e5*step)}),((start,end)=>(end-start)/36e5),(date=>date.getUTCHours())),utcHours=utcHour.range,timeDay=timeInterval((date=>date.setHours(0,0,0,0)),((date,step)=>date.setDate(date.getDate()+step)),((start,end)=>(end-start-6e4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/864e5),(date=>date.getDate()-1)),timeDays=timeDay.range,utcDay=timeInterval((date=>{date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCDate(date.getUTCDate()+step)}),((start,end)=>(end-start)/864e5),(date=>date.getUTCDate()-1)),utcDays=utcDay.range,unixDay=timeInterval((date=>{date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCDate(date.getUTCDate()+step)}),((start,end)=>(end-start)/864e5),(date=>Math.floor(date/864e5))),unixDays=unixDay.range;function timeWeekday(i){return timeInterval((date=>{date.setDate(date.getDate()-(date.getDay()+7-i)%7),date.setHours(0,0,0,0)}),((date,step)=>{date.setDate(date.getDate()+7*step)}),((start,end)=>(end-start-6e4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/6048e5))}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6),timeSundays=timeSunday.range,timeMondays=timeMonday.range,timeTuesdays=timeTuesday.range,timeWednesdays=timeWednesday.range,timeThursdays=timeThursday.range,timeFridays=timeFriday.range,timeSaturdays=timeSaturday.range;function utcWeekday(i){return timeInterval((date=>{date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7),date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCDate(date.getUTCDate()+7*step)}),((start,end)=>(end-start)/6048e5))}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6),utcSundays=utcSunday.range,utcMondays=utcMonday.range,utcTuesdays=utcTuesday.range,utcWednesdays=utcWednesday.range,utcThursdays=utcThursday.range,utcFridays=utcFriday.range,utcSaturdays=utcSaturday.range,timeMonth=timeInterval((date=>{date.setDate(1),date.setHours(0,0,0,0)}),((date,step)=>{date.setMonth(date.getMonth()+step)}),((start,end)=>end.getMonth()-start.getMonth()+12*(end.getFullYear()-start.getFullYear())),(date=>date.getMonth())),timeMonths=timeMonth.range,utcMonth=timeInterval((date=>{date.setUTCDate(1),date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCMonth(date.getUTCMonth()+step)}),((start,end)=>end.getUTCMonth()-start.getUTCMonth()+12*(end.getUTCFullYear()-start.getUTCFullYear())),(date=>date.getUTCMonth())),utcMonths=utcMonth.range,timeYear=timeInterval((date=>{date.setMonth(0,1),date.setHours(0,0,0,0)}),((date,step)=>{date.setFullYear(date.getFullYear()+step)}),((start,end)=>end.getFullYear()-start.getFullYear()),(date=>date.getFullYear()));timeYear.every=k=>isFinite(k=Math.floor(k))&&k>0?timeInterval((date=>{date.setFullYear(Math.floor(date.getFullYear()/k)*k),date.setMonth(0,1),date.setHours(0,0,0,0)}),((date,step)=>{date.setFullYear(date.getFullYear()+step*k)})):null;const timeYears=timeYear.range,utcYear=timeInterval((date=>{date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCFullYear(date.getUTCFullYear()+step)}),((start,end)=>end.getUTCFullYear()-start.getUTCFullYear()),(date=>date.getUTCFullYear()));utcYear.every=k=>isFinite(k=Math.floor(k))&&k>0?timeInterval((date=>{date.setUTCFullYear(Math.floor(date.getUTCFullYear()/k)*k),date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCFullYear(date.getUTCFullYear()+step*k)})):null;const utcYears=utcYear.range;function ticker(year,month,week,day,hour,minute){const tickIntervals=[[second,1,1e3],[second,5,5e3],[second,15,15e3],[second,30,3e4],[minute,1,6e4],[minute,5,3e5],[minute,15,9e5],[minute,30,18e5],[hour,1,36e5],[hour,3,108e5],[hour,6,216e5],[hour,12,432e5],[day,1,864e5],[day,2,1728e5],[week,1,6048e5],[month,1,2592e6],[month,3,7776e6],[year,1,31536e6]];function tickInterval(start,stop,count){const target=Math.abs(stop-start)/count,i=bisector((([,,step])=>step)).right(tickIntervals,target);if(i===tickIntervals.length)return year.every(tickStep(start/31536e6,stop/31536e6,count));if(0===i)return millisecond.every(Math.max(tickStep(start,stop,count),1));const[t,step]=tickIntervals[target/tickIntervals[i-1][2]<tickIntervals[i][2]/target?i-1:i];return t.every(step)}return[function ticks(start,stop,count){const reverse=stop<start;reverse&&([start,stop]=[stop,start]);const interval=count&&"function"==typeof count.range?count:tickInterval(start,stop,count),ticks=interval?interval.range(start,+stop+1):[];return reverse?ticks.reverse():ticks},tickInterval]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(d){if(0<=d.y&&d.y<100){var date=new Date(-1,d.m,d.d,d.H,d.M,d.S,d.L);return date.setFullYear(d.y),date}return new Date(d.y,d.m,d.d,d.H,d.M,d.S,d.L)}function utcDate(d){if(0<=d.y&&d.y<100){var date=new Date(Date.UTC(-1,d.m,d.d,d.H,d.M,d.S,d.L));return date.setUTCFullYear(d.y),date}return new Date(Date.UTC(d.y,d.m,d.d,d.H,d.M,d.S,d.L))}function newDate(y,m,d){return{y,m,d,H:0,M:0,S:0,L:0}}function formatLocale(locale){var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_weekdays=locale.days,locale_shortWeekdays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths,periodRe=formatRe(locale_periods),periodLookup=formatLookup(locale_periods),weekdayRe=formatRe(locale_weekdays),weekdayLookup=formatLookup(locale_weekdays),shortWeekdayRe=formatRe(locale_shortWeekdays),shortWeekdayLookup=formatLookup(locale_shortWeekdays),monthRe=formatRe(locale_months),monthLookup=formatLookup(locale_months),shortMonthRe=formatRe(locale_shortMonths),shortMonthLookup=formatLookup(locale_shortMonths),formats={a:function formatShortWeekday(d){return locale_shortWeekdays[d.getDay()]},A:function formatWeekday(d){return locale_weekdays[d.getDay()]},b:function formatShortMonth(d){return locale_shortMonths[d.getMonth()]},B:function formatMonth(d){return locale_months[d.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function formatPeriod(d){return locale_periods[+(d.getHours()>=12)]},q:function formatQuarter(d){return 1+~~(d.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:locale_formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},utcFormats={a:function formatUTCShortWeekday(d){return locale_shortWeekdays[d.getUTCDay()]},A:function formatUTCWeekday(d){return locale_weekdays[d.getUTCDay()]},b:function formatUTCShortMonth(d){return locale_shortMonths[d.getUTCMonth()]},B:function formatUTCMonth(d){return locale_months[d.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function formatUTCPeriod(d){return locale_periods[+(d.getUTCHours()>=12)]},q:function formatUTCQuarter(d){return 1+~~(d.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},parses={a:function parseShortWeekday(d,string,i){var n=shortWeekdayRe.exec(string.slice(i));return n?(d.w=shortWeekdayLookup.get(n[0].toLowerCase()),i+n[0].length):-1},A:function parseWeekday(d,string,i){var n=weekdayRe.exec(string.slice(i));return n?(d.w=weekdayLookup.get(n[0].toLowerCase()),i+n[0].length):-1},b:function parseShortMonth(d,string,i){var n=shortMonthRe.exec(string.slice(i));return n?(d.m=shortMonthLookup.get(n[0].toLowerCase()),i+n[0].length):-1},B:function parseMonth(d,string,i){var n=monthRe.exec(string.slice(i));return n?(d.m=monthLookup.get(n[0].toLowerCase()),i+n[0].length):-1},c:function parseLocaleDateTime(d,string,i){return parseSpecifier(d,locale_dateTime,string,i)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function parsePeriod(d,string,i){var n=periodRe.exec(string.slice(i));return n?(d.p=periodLookup.get(n[0].toLowerCase()),i+n[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function parseLocaleDate(d,string,i){return parseSpecifier(d,locale_date,string,i)},X:function parseLocaleTime(d,string,i){return parseSpecifier(d,locale_time,string,i)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(specifier,formats){return function(date){var c,pad,format,string=[],i=-1,j=0,n=specifier.length;for(date instanceof Date||(date=new Date(+date));++i<n;)37===specifier.charCodeAt(i)&&(string.push(specifier.slice(j,i)),null!=(pad=pads[c=specifier.charAt(++i)])?c=specifier.charAt(++i):pad="e"===c?" ":"0",(format=formats[c])&&(c=format(date,pad)),string.push(c),j=i+1);return string.push(specifier.slice(j,i)),string.join("")}}function newParse(specifier,Z){return function(string){var week,day,d=newDate(1900,void 0,1);if(parseSpecifier(d,specifier,string+="",0)!=string.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(1e3*d.s+("L"in d?d.L:0));if(Z&&!("Z"in d)&&(d.Z=0),"p"in d&&(d.H=d.H%12+12*d.p),void 0===d.m&&(d.m="q"in d?d.q:0),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(day=(week=utcDate(newDate(d.y,0,1))).getUTCDay(),week=day>4||0===day?utcMonday.ceil(week):utcMonday(week),week=utcDay.offset(week,7*(d.V-1)),d.y=week.getUTCFullYear(),d.m=week.getUTCMonth(),d.d=week.getUTCDate()+(d.w+6)%7):(day=(week=localDate(newDate(d.y,0,1))).getDay(),week=day>4||0===day?timeMonday.ceil(week):timeMonday(week),week=timeDay.offset(week,7*(d.V-1)),d.y=week.getFullYear(),d.m=week.getMonth(),d.d=week.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),day="Z"in d?utcDate(newDate(d.y,0,1)).getUTCDay():localDate(newDate(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(day+5)%7:d.w+7*d.U-(day+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,utcDate(d)):localDate(d)}}function parseSpecifier(d,specifier,string,j){for(var c,parse,i=0,n=specifier.length,m=string.length;i<n;){if(j>=m)return-1;if(37===(c=specifier.charCodeAt(i++))){if(c=specifier.charAt(i++),!(parse=parses[c in pads?specifier.charAt(i++):c])||(j=parse(d,string,j))<0)return-1}else if(c!=string.charCodeAt(j++))return-1}return j}return formats.x=newFormat(locale_date,formats),formats.X=newFormat(locale_time,formats),formats.c=newFormat(locale_dateTime,formats),utcFormats.x=newFormat(locale_date,utcFormats),utcFormats.X=newFormat(locale_time,utcFormats),utcFormats.c=newFormat(locale_dateTime,utcFormats),{format:function(specifier){var f=newFormat(specifier+="",formats);return f.toString=function(){return specifier},f},parse:function(specifier){var p=newParse(specifier+="",!1);return p.toString=function(){return specifier},p},utcFormat:function(specifier){var f=newFormat(specifier+="",utcFormats);return f.toString=function(){return specifier},f},utcParse:function(specifier){var p=newParse(specifier+="",!0);return p.toString=function(){return specifier},p}}}var src_defaultLocale_locale,timeFormat,timeParse,utcFormat,utcParse,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function locale_pad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function requote(s){return s.replace(requoteRe,"\\$&")}function formatRe(names){return new RegExp("^(?:"+names.map(requote).join("|")+")","i")}function formatLookup(names){return new Map(names.map(((name,i)=>[name.toLowerCase(),i])))}function parseWeekdayNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.w=+n[0],i+n[0].length):-1}function parseWeekdayNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.u=+n[0],i+n[0].length):-1}function parseWeekNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.U=+n[0],i+n[0].length):-1}function parseWeekNumberISO(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.V=+n[0],i+n[0].length):-1}function parseWeekNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.W=+n[0],i+n[0].length):-1}function parseFullYear(d,string,i){var n=numberRe.exec(string.slice(i,i+4));return n?(d.y=+n[0],i+n[0].length):-1}function parseYear(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function parseZone(d,string,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string.slice(i,i+6));return n?(d.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function parseQuarter(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.q=3*n[0]-3,i+n[0].length):-1}function parseMonthNumber(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.m=n[0]-1,i+n[0].length):-1}function parseDayOfMonth(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.d=+n[0],i+n[0].length):-1}function parseDayOfYear(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.m=0,d.d=+n[0],i+n[0].length):-1}function parseHour24(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.H=+n[0],i+n[0].length):-1}function parseMinutes(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.M=+n[0],i+n[0].length):-1}function parseSeconds(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.S=+n[0],i+n[0].length):-1}function parseMilliseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.L=+n[0],i+n[0].length):-1}function parseMicroseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+6));return n?(d.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function parseLiteralPercent(d,string,i){var n=percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function parseUnixTimestamp(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.Q=+n[0],i+n[0].length):-1}function parseUnixTimestampSeconds(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.s=+n[0],i+n[0].length):-1}function formatDayOfMonth(d,p){return locale_pad(d.getDate(),p,2)}function formatHour24(d,p){return locale_pad(d.getHours(),p,2)}function formatHour12(d,p){return locale_pad(d.getHours()%12||12,p,2)}function formatDayOfYear(d,p){return locale_pad(1+timeDay.count(timeYear(d),d),p,3)}function formatMilliseconds(d,p){return locale_pad(d.getMilliseconds(),p,3)}function formatMicroseconds(d,p){return formatMilliseconds(d,p)+"000"}function formatMonthNumber(d,p){return locale_pad(d.getMonth()+1,p,2)}function formatMinutes(d,p){return locale_pad(d.getMinutes(),p,2)}function formatSeconds(d,p){return locale_pad(d.getSeconds(),p,2)}function formatWeekdayNumberMonday(d){var day=d.getDay();return 0===day?7:day}function formatWeekNumberSunday(d,p){return locale_pad(timeSunday.count(timeYear(d)-1,d),p,2)}function dISO(d){var day=d.getDay();return day>=4||0===day?timeThursday(d):timeThursday.ceil(d)}function formatWeekNumberISO(d,p){return d=dISO(d),locale_pad(timeThursday.count(timeYear(d),d)+(4===timeYear(d).getDay()),p,2)}function formatWeekdayNumberSunday(d){return d.getDay()}function formatWeekNumberMonday(d,p){return locale_pad(timeMonday.count(timeYear(d)-1,d),p,2)}function locale_formatYear(d,p){return locale_pad(d.getFullYear()%100,p,2)}function formatYearISO(d,p){return locale_pad((d=dISO(d)).getFullYear()%100,p,2)}function formatFullYear(d,p){return locale_pad(d.getFullYear()%1e4,p,4)}function formatFullYearISO(d,p){var day=d.getDay();return locale_pad((d=day>=4||0===day?timeThursday(d):timeThursday.ceil(d)).getFullYear()%1e4,p,4)}function formatZone(d){var z=d.getTimezoneOffset();return(z>0?"-":(z*=-1,"+"))+locale_pad(z/60|0,"0",2)+locale_pad(z%60,"0",2)}function formatUTCDayOfMonth(d,p){return locale_pad(d.getUTCDate(),p,2)}function formatUTCHour24(d,p){return locale_pad(d.getUTCHours(),p,2)}function formatUTCHour12(d,p){return locale_pad(d.getUTCHours()%12||12,p,2)}function formatUTCDayOfYear(d,p){return locale_pad(1+utcDay.count(utcYear(d),d),p,3)}function formatUTCMilliseconds(d,p){return locale_pad(d.getUTCMilliseconds(),p,3)}function formatUTCMicroseconds(d,p){return formatUTCMilliseconds(d,p)+"000"}function formatUTCMonthNumber(d,p){return locale_pad(d.getUTCMonth()+1,p,2)}function formatUTCMinutes(d,p){return locale_pad(d.getUTCMinutes(),p,2)}function formatUTCSeconds(d,p){return locale_pad(d.getUTCSeconds(),p,2)}function formatUTCWeekdayNumberMonday(d){var dow=d.getUTCDay();return 0===dow?7:dow}function formatUTCWeekNumberSunday(d,p){return locale_pad(utcSunday.count(utcYear(d)-1,d),p,2)}function UTCdISO(d){var day=d.getUTCDay();return day>=4||0===day?utcThursday(d):utcThursday.ceil(d)}function formatUTCWeekNumberISO(d,p){return d=UTCdISO(d),locale_pad(utcThursday.count(utcYear(d),d)+(4===utcYear(d).getUTCDay()),p,2)}function formatUTCWeekdayNumberSunday(d){return d.getUTCDay()}function formatUTCWeekNumberMonday(d,p){return locale_pad(utcMonday.count(utcYear(d)-1,d),p,2)}function formatUTCYear(d,p){return locale_pad(d.getUTCFullYear()%100,p,2)}function formatUTCYearISO(d,p){return locale_pad((d=UTCdISO(d)).getUTCFullYear()%100,p,2)}function formatUTCFullYear(d,p){return locale_pad(d.getUTCFullYear()%1e4,p,4)}function formatUTCFullYearISO(d,p){var day=d.getUTCDay();return locale_pad((d=day>=4||0===day?utcThursday(d):utcThursday.ceil(d)).getUTCFullYear()%1e4,p,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(d){return+d}function formatUnixTimestampSeconds(d){return Math.floor(+d/1e3)}function defaultLocale_defaultLocale(definition){return src_defaultLocale_locale=formatLocale(definition),timeFormat=src_defaultLocale_locale.format,timeParse=src_defaultLocale_locale.parse,utcFormat=src_defaultLocale_locale.utcFormat,utcParse=src_defaultLocale_locale.utcParse,src_defaultLocale_locale}function time_date(t){return new Date(t)}function time_number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(ticks,tickInterval,year,month,week,day,hour,minute,second,format){var scale=continuous(),invert=scale.invert,domain=scale.domain,formatMillisecond=format(".%L"),formatSecond=format(":%S"),formatMinute=format("%I:%M"),formatHour=format("%I %p"),formatDay=format("%a %d"),formatWeek=format("%b %d"),formatMonth=format("%B"),formatYear=format("%Y");function tickFormat(date){return(second(date)<date?formatMillisecond:minute(date)<date?formatSecond:hour(date)<date?formatMinute:day(date)<date?formatHour:month(date)<date?week(date)<date?formatDay:formatWeek:year(date)<date?formatMonth:formatYear)(date)}return scale.invert=function(y){return new Date(invert(y))},scale.domain=function(_){return arguments.length?domain(Array.from(_,time_number)):domain().map(time_date)},scale.ticks=function(interval){var d=domain();return ticks(d[0],d[d.length-1],null==interval?10:interval)},scale.tickFormat=function(count,specifier){return null==specifier?tickFormat:format(specifier)},scale.nice=function(interval){var d=domain();return interval&&"function"==typeof interval.range||(interval=tickInterval(d[0],d[d.length-1],null==interval?10:interval)),interval?domain(nice_nice(d,interval)):scale},scale.copy=function(){return copy(scale,calendar(ticks,tickInterval,year,month,week,day,hour,minute,second,format))},scale}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sequential_transformer(){var t0,t1,k10,transform,unknown,x0=0,x1=1,interpolator=continuous_identity,clamp=!1;function scale(x){return null==x||isNaN(x=+x)?unknown:interpolator(0===k10?.5:(x=(transform(x)-t0)*k10,clamp?Math.max(0,Math.min(1,x)):x))}function range(interpolate){return function(_){var r0,r1;return arguments.length?([r0,r1]=_,interpolator=interpolate(r0,r1),scale):[interpolator(0),interpolator(1)]}}return scale.domain=function(_){return arguments.length?([x0,x1]=_,t0=transform(x0=+x0),t1=transform(x1=+x1),k10=t0===t1?0:1/(t1-t0),scale):[x0,x1]},scale.clamp=function(_){return arguments.length?(clamp=!!_,scale):clamp},scale.interpolator=function(_){return arguments.length?(interpolator=_,scale):interpolator},scale.range=range(value),scale.rangeRound=range(round),scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},function(t){return transform=t,t0=t(x0),t1=t(x1),k10=t0===t1?0:1/(t1-t0),scale}}function sequential_copy(source,target){return target.domain(source.domain()).interpolator(source.interpolator()).clamp(source.clamp()).unknown(source.unknown())}function sequential(){var scale=linearish(sequential_transformer()(continuous_identity));return scale.copy=function(){return sequential_copy(scale,sequential())},initInterpolator.apply(scale,arguments)}function sequentialLog(){var scale=loggish(sequential_transformer()).domain([1,10]);return scale.copy=function(){return sequential_copy(scale,sequentialLog()).base(scale.base())},initInterpolator.apply(scale,arguments)}function sequentialSymlog(){var scale=symlogish(sequential_transformer());return scale.copy=function(){return sequential_copy(scale,sequentialSymlog()).constant(scale.constant())},initInterpolator.apply(scale,arguments)}function sequentialPow(){var scale=powish(sequential_transformer());return scale.copy=function(){return sequential_copy(scale,sequentialPow()).exponent(scale.exponent())},initInterpolator.apply(scale,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var domain=[],interpolator=continuous_identity;function scale(x){if(null!=x&&!isNaN(x=+x))return interpolator((bisect(domain,x,1)-1)/(domain.length-1))}return scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[];for(let d of _)null==d||isNaN(d=+d)||domain.push(d);return domain.sort(ascending),scale},scale.interpolator=function(_){return arguments.length?(interpolator=_,scale):interpolator},scale.range=function(){return domain.map(((d,i)=>interpolator(i/(domain.length-1))))},scale.quantiles=function(n){return Array.from({length:n+1},((_,i)=>quantile(domain,i/n)))},scale.copy=function(){return sequentialQuantile(interpolator).domain(domain)},initInterpolator.apply(scale,arguments)}function diverging_transformer(){var t0,t1,t2,k10,k21,transform,unknown,x0=0,x1=.5,x2=1,s=1,interpolator=continuous_identity,clamp=!1;function scale(x){return isNaN(x=+x)?unknown:(x=.5+((x=+transform(x))-t1)*(s*x<s*t1?k10:k21),interpolator(clamp?Math.max(0,Math.min(1,x)):x))}function range(interpolate){return function(_){var r0,r1,r2;return arguments.length?([r0,r1,r2]=_,interpolator=piecewise(interpolate,[r0,r1,r2]),scale):[interpolator(0),interpolator(.5),interpolator(1)]}}return scale.domain=function(_){return arguments.length?([x0,x1,x2]=_,t0=transform(x0=+x0),t1=transform(x1=+x1),t2=transform(x2=+x2),k10=t0===t1?0:.5/(t1-t0),k21=t1===t2?0:.5/(t2-t1),s=t1<t0?-1:1,scale):[x0,x1,x2]},scale.clamp=function(_){return arguments.length?(clamp=!!_,scale):clamp},scale.interpolator=function(_){return arguments.length?(interpolator=_,scale):interpolator},scale.range=range(value),scale.rangeRound=range(round),scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},function(t){return transform=t,t0=t(x0),t1=t(x1),t2=t(x2),k10=t0===t1?0:.5/(t1-t0),k21=t1===t2?0:.5/(t2-t1),s=t1<t0?-1:1,scale}}function diverging(){var scale=linearish(diverging_transformer()(continuous_identity));return scale.copy=function(){return sequential_copy(scale,diverging())},initInterpolator.apply(scale,arguments)}function divergingLog(){var scale=loggish(diverging_transformer()).domain([.1,1,10]);return scale.copy=function(){return sequential_copy(scale,divergingLog()).base(scale.base())},initInterpolator.apply(scale,arguments)}function divergingSymlog(){var scale=symlogish(diverging_transformer());return scale.copy=function(){return sequential_copy(scale,divergingSymlog()).constant(scale.constant())},initInterpolator.apply(scale,arguments)}function divergingPow(){var scale=powish(diverging_transformer());return scale.copy=function(){return sequential_copy(scale,divergingPow()).exponent(scale.exponent())},initInterpolator.apply(scale,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}function colors(specifier){for(var n=specifier.length/6|0,colors=new Array(n),i=0;i<n;)colors[i]="#"+specifier.slice(6*i,6*++i);return colors}defaultLocale_defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const category10=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Accent=colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Dark2=colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),observable10=colors("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Paired=colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Pastel1=colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Pastel2=colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Set1=colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Set2=colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Set3=colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Tableau10=colors("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ramp=scheme=>rgbBasis(scheme[scheme.length-1]);var scheme=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors);const BrBG=ramp(scheme);var PRGn_scheme=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors);const PRGn=ramp(PRGn_scheme);var PiYG_scheme=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors);const PiYG=ramp(PiYG_scheme);var PuOr_scheme=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors);const PuOr=ramp(PuOr_scheme);var RdBu_scheme=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors);const RdBu=ramp(RdBu_scheme);var RdGy_scheme=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors);const RdGy=ramp(RdGy_scheme);var RdYlBu_scheme=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors);const RdYlBu=ramp(RdYlBu_scheme);var RdYlGn_scheme=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors);const RdYlGn=ramp(RdYlGn_scheme);var Spectral_scheme=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors);const Spectral=ramp(Spectral_scheme);var BuGn_scheme=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors);const BuGn=ramp(BuGn_scheme);var BuPu_scheme=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors);const BuPu=ramp(BuPu_scheme);var GnBu_scheme=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors);const GnBu=ramp(GnBu_scheme);var OrRd_scheme=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors);const OrRd=ramp(OrRd_scheme);var PuBuGn_scheme=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors);const PuBuGn=ramp(PuBuGn_scheme);var PuBu_scheme=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors);const PuBu=ramp(PuBu_scheme);var PuRd_scheme=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors);const PuRd=ramp(PuRd_scheme);var RdPu_scheme=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors);const RdPu=ramp(RdPu_scheme);var YlGnBu_scheme=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors);const YlGnBu=ramp(YlGnBu_scheme);var YlGn_scheme=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors);const YlGn=ramp(YlGn_scheme);var YlOrBr_scheme=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors);const YlOrBr=ramp(YlOrBr_scheme);var YlOrRd_scheme=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors);const YlOrRd=ramp(YlOrRd_scheme);var Blues_scheme=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors);const Blues=ramp(Blues_scheme);var Greens_scheme=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors);const Greens=ramp(Greens_scheme);var Greys_scheme=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors);const Greys=ramp(Greys_scheme);var Purples_scheme=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors);const Purples=ramp(Purples_scheme);var Reds_scheme=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors);const Reds=ramp(Reds_scheme);var Oranges_scheme=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors);const Oranges=ramp(Oranges_scheme);function cividis(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const sequential_multi_cubehelix=cubehelixLong(cubehelix_cubehelix(300,.5,0),cubehelix_cubehelix(-240,.5,1));var warm=cubehelixLong(cubehelix_cubehelix(-100,.75,.35),cubehelix_cubehelix(80,1.5,.8)),cool=cubehelixLong(cubehelix_cubehelix(260,.75,.35),cubehelix_cubehelix(80,1.5,.8)),rainbow_c=cubehelix_cubehelix();function rainbow(t){(t<0||t>1)&&(t-=Math.floor(t));var ts=Math.abs(t-.5);return rainbow_c.h=360*t-100,rainbow_c.s=1.5-1.5*ts,rainbow_c.l=.8-.9*ts,rainbow_c+""}var sinebow_c=color_rgb(),pi_1_3=Math.PI/3,pi_2_3=2*Math.PI/3;function sinebow(t){var x;return t=(.5-t)*Math.PI,sinebow_c.r=255*(x=Math.sin(t))*x,sinebow_c.g=255*(x=Math.sin(t+pi_1_3))*x,sinebow_c.b=255*(x=Math.sin(t+pi_2_3))*x,sinebow_c+""}function turbo(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function viridis_ramp(range){var n=range.length;return function(t){return range[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}const viridis=viridis_ramp(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var magma=viridis_ramp(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=viridis_ramp(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=viridis_ramp(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function src_create(name){return src_select(creator(name).call(document.documentElement))}var nextId=0;function local_local(){return new Local}function Local(){this._="@"+(++nextId).toString(36)}function pointers(events,node){return events.target&&(events=sourceEvent(events),void 0===node&&(node=events.currentTarget),events=events.touches||[events]),Array.from(events,(event=>pointer(event,node)))}function src_selectAll(selector){return"string"==typeof selector?new Selection([document.querySelectorAll(selector)],[document.documentElement]):new Selection([array_array(selector)],root)}function d3_shape_src_constant(x){return function constant(){return x}}Local.prototype=local_local.prototype={constructor:Local,get:function(node){for(var id=this._;!(id in node);)if(!(node=node.parentNode))return;return node[id]},set:function(node,value){return node[this._]=value},remove:function(node){return this._ in node&&delete node[this._]},toString:function(){return this._}};const d3_shape_src_math_abs=Math.abs,math_atan2=Math.atan2,src_math_cos=Math.cos,src_math_max=Math.max,math_min=Math.min,src_math_sin=Math.sin,math_sqrt=Math.sqrt,d3_shape_src_math_epsilon=1e-12,src_math_pi=Math.PI,src_math_halfPi=src_math_pi/2,src_math_tau=2*src_math_pi;function math_asin(x){return x>=1?src_math_halfPi:x<=-1?-src_math_halfPi:Math.asin(x)}function withPath(shape){let digits=3;return shape.digits=function(_){if(!arguments.length)return digits;if(null==_)digits=null;else{const d=Math.floor(_);if(!(d>=0))throw new RangeError(`invalid digits: ${_}`);digits=d}return shape},()=>new Path(digits)}function arcInnerRadius(d){return d.innerRadius}function arcOuterRadius(d){return d.outerRadius}function arcStartAngle(d){return d.startAngle}function arcEndAngle(d){return d.endAngle}function arcPadAngle(d){return d&&d.padAngle}function cornerTangents(x0,y0,x1,y1,r1,rc,cw){var x01=x0-x1,y01=y0-y1,lo=(cw?rc:-rc)/math_sqrt(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x11=x0+ox,y11=y0+oy,x10=x1+ox,y10=y1+oy,x00=(x11+x10)/2,y00=(y11+y10)/2,dx=x10-x11,dy=y10-y11,d2=dx*dx+dy*dy,r=r1-rc,D=x11*y10-x10*y11,d=(dy<0?-1:1)*math_sqrt(src_math_max(0,r*r*d2-D*D)),cx0=(D*dy-dx*d)/d2,cy0=(-D*dx-dy*d)/d2,cx1=(D*dy+dx*d)/d2,cy1=(-D*dx+dy*d)/d2,dx0=cx0-x00,dy0=cy0-y00,dx1=cx1-x00,dy1=cy1-y00;return dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1&&(cx0=cx1,cy0=cy1),{cx:cx0,cy:cy0,x01:-ox,y01:-oy,x11:cx0*(r1/r-1),y11:cy0*(r1/r-1)}}function arc(){var innerRadius=arcInnerRadius,outerRadius=arcOuterRadius,cornerRadius=d3_shape_src_constant(0),padRadius=null,startAngle=arcStartAngle,endAngle=arcEndAngle,padAngle=arcPadAngle,context=null,path=withPath(arc);function arc(){var buffer,r,r0=+innerRadius.apply(this,arguments),r1=+outerRadius.apply(this,arguments),a0=startAngle.apply(this,arguments)-src_math_halfPi,a1=endAngle.apply(this,arguments)-src_math_halfPi,da=d3_shape_src_math_abs(a1-a0),cw=a1>a0;if(context||(context=buffer=path()),r1<r0&&(r=r1,r1=r0,r0=r),r1>d3_shape_src_math_epsilon)if(da>src_math_tau-d3_shape_src_math_epsilon)context.moveTo(r1*src_math_cos(a0),r1*src_math_sin(a0)),context.arc(0,0,r1,a0,a1,!cw),r0>d3_shape_src_math_epsilon&&(context.moveTo(r0*src_math_cos(a1),r0*src_math_sin(a1)),context.arc(0,0,r0,a1,a0,cw));else{var t0,t1,a01=a0,a11=a1,a00=a0,a10=a1,da0=da,da1=da,ap=padAngle.apply(this,arguments)/2,rp=ap>d3_shape_src_math_epsilon&&(padRadius?+padRadius.apply(this,arguments):math_sqrt(r0*r0+r1*r1)),rc=math_min(d3_shape_src_math_abs(r1-r0)/2,+cornerRadius.apply(this,arguments)),rc0=rc,rc1=rc;if(rp>d3_shape_src_math_epsilon){var p0=math_asin(rp/r0*src_math_sin(ap)),p1=math_asin(rp/r1*src_math_sin(ap));(da0-=2*p0)>d3_shape_src_math_epsilon?(a00+=p0*=cw?1:-1,a10-=p0):(da0=0,a00=a10=(a0+a1)/2),(da1-=2*p1)>d3_shape_src_math_epsilon?(a01+=p1*=cw?1:-1,a11-=p1):(da1=0,a01=a11=(a0+a1)/2)}var x01=r1*src_math_cos(a01),y01=r1*src_math_sin(a01),x10=r0*src_math_cos(a10),y10=r0*src_math_sin(a10);if(rc>d3_shape_src_math_epsilon){var oc,x11=r1*src_math_cos(a11),y11=r1*src_math_sin(a11),x00=r0*src_math_cos(a00),y00=r0*src_math_sin(a00);if(da<src_math_pi)if(oc=function intersect(x0,y0,x1,y1,x2,y2,x3,y3){var x10=x1-x0,y10=y1-y0,x32=x3-x2,y32=y3-y2,t=y32*x10-x32*y10;if(!(t*t<d3_shape_src_math_epsilon))return[x0+(t=(x32*(y0-y2)-y32*(x0-x2))/t)*x10,y0+t*y10]}(x01,y01,x00,y00,x11,y11,x10,y10)){var ax=x01-oc[0],ay=y01-oc[1],bx=x11-oc[0],by=y11-oc[1],kc=1/src_math_sin(function math_acos(x){return x>1?0:x<-1?src_math_pi:Math.acos(x)}((ax*bx+ay*by)/(math_sqrt(ax*ax+ay*ay)*math_sqrt(bx*bx+by*by)))/2),lc=math_sqrt(oc[0]*oc[0]+oc[1]*oc[1]);rc0=math_min(rc,(r0-lc)/(kc-1)),rc1=math_min(rc,(r1-lc)/(kc+1))}else rc0=rc1=0}da1>d3_shape_src_math_epsilon?rc1>d3_shape_src_math_epsilon?(t0=cornerTangents(x00,y00,x01,y01,r1,rc1,cw),t1=cornerTangents(x11,y11,x10,y10,r1,rc1,cw),context.moveTo(t0.cx+t0.x01,t0.cy+t0.y01),rc1<rc?context.arc(t0.cx,t0.cy,rc1,math_atan2(t0.y01,t0.x01),math_atan2(t1.y01,t1.x01),!cw):(context.arc(t0.cx,t0.cy,rc1,math_atan2(t0.y01,t0.x01),math_atan2(t0.y11,t0.x11),!cw),context.arc(0,0,r1,math_atan2(t0.cy+t0.y11,t0.cx+t0.x11),math_atan2(t1.cy+t1.y11,t1.cx+t1.x11),!cw),context.arc(t1.cx,t1.cy,rc1,math_atan2(t1.y11,t1.x11),math_atan2(t1.y01,t1.x01),!cw))):(context.moveTo(x01,y01),context.arc(0,0,r1,a01,a11,!cw)):context.moveTo(x01,y01),r0>d3_shape_src_math_epsilon&&da0>d3_shape_src_math_epsilon?rc0>d3_shape_src_math_epsilon?(t0=cornerTangents(x10,y10,x11,y11,r0,-rc0,cw),t1=cornerTangents(x01,y01,x00,y00,r0,-rc0,cw),context.lineTo(t0.cx+t0.x01,t0.cy+t0.y01),rc0<rc?context.arc(t0.cx,t0.cy,rc0,math_atan2(t0.y01,t0.x01),math_atan2(t1.y01,t1.x01),!cw):(context.arc(t0.cx,t0.cy,rc0,math_atan2(t0.y01,t0.x01),math_atan2(t0.y11,t0.x11),!cw),context.arc(0,0,r0,math_atan2(t0.cy+t0.y11,t0.cx+t0.x11),math_atan2(t1.cy+t1.y11,t1.cx+t1.x11),cw),context.arc(t1.cx,t1.cy,rc0,math_atan2(t1.y11,t1.x11),math_atan2(t1.y01,t1.x01),!cw))):context.arc(0,0,r0,a10,a00,cw):context.lineTo(x10,y10)}else context.moveTo(0,0);if(context.closePath(),buffer)return context=null,buffer+""||null}return arc.centroid=function(){var r=(+innerRadius.apply(this,arguments)+ +outerRadius.apply(this,arguments))/2,a=(+startAngle.apply(this,arguments)+ +endAngle.apply(this,arguments))/2-src_math_pi/2;return[src_math_cos(a)*r,src_math_sin(a)*r]},arc.innerRadius=function(_){return arguments.length?(innerRadius="function"==typeof _?_:d3_shape_src_constant(+_),arc):innerRadius},arc.outerRadius=function(_){return arguments.length?(outerRadius="function"==typeof _?_:d3_shape_src_constant(+_),arc):outerRadius},arc.cornerRadius=function(_){return arguments.length?(cornerRadius="function"==typeof _?_:d3_shape_src_constant(+_),arc):cornerRadius},arc.padRadius=function(_){return arguments.length?(padRadius=null==_?null:"function"==typeof _?_:d3_shape_src_constant(+_),arc):padRadius},arc.startAngle=function(_){return arguments.length?(startAngle="function"==typeof _?_:d3_shape_src_constant(+_),arc):startAngle},arc.endAngle=function(_){return arguments.length?(endAngle="function"==typeof _?_:d3_shape_src_constant(+_),arc):endAngle},arc.padAngle=function(_){return arguments.length?(padAngle="function"==typeof _?_:d3_shape_src_constant(+_),arc):padAngle},arc.context=function(_){return arguments.length?(context=null==_?null:_,arc):context},arc}var d3_shape_src_array_slice=Array.prototype.slice;function d3_shape_src_array(x){return"object"==typeof x&&"length"in x?x:Array.from(x)}function Linear(context){this._context=context}function curve_linear(context){return new Linear(context)}function point_x(p){return p[0]}function point_y(p){return p[1]}function src_line(x,y){var defined=d3_shape_src_constant(!0),context=null,curve=curve_linear,output=null,path=withPath(line);function line(data){var i,d,buffer,n=(data=d3_shape_src_array(data)).length,defined0=!1;for(null==context&&(output=curve(buffer=path())),i=0;i<=n;++i)!(i<n&&defined(d=data[i],i,data))===defined0&&((defined0=!defined0)?output.lineStart():output.lineEnd()),defined0&&output.point(+x(d,i,data),+y(d,i,data));if(buffer)return output=null,buffer+""||null}return x="function"==typeof x?x:void 0===x?point_x:d3_shape_src_constant(x),y="function"==typeof y?y:void 0===y?point_y:d3_shape_src_constant(y),line.x=function(_){return arguments.length?(x="function"==typeof _?_:d3_shape_src_constant(+_),line):x},line.y=function(_){return arguments.length?(y="function"==typeof _?_:d3_shape_src_constant(+_),line):y},line.defined=function(_){return arguments.length?(defined="function"==typeof _?_:d3_shape_src_constant(!!_),line):defined},line.curve=function(_){return arguments.length?(curve=_,null!=context&&(output=curve(context)),line):curve},line.context=function(_){return arguments.length?(null==_?context=output=null:output=curve(context=_),line):context},line}function d3_shape_src_area(x0,y0,y1){var x1=null,defined=d3_shape_src_constant(!0),context=null,curve=curve_linear,output=null,path=withPath(area);function area(data){var i,j,k,d,buffer,n=(data=d3_shape_src_array(data)).length,defined0=!1,x0z=new Array(n),y0z=new Array(n);for(null==context&&(output=curve(buffer=path())),i=0;i<=n;++i){if(!(i<n&&defined(d=data[i],i,data))===defined0)if(defined0=!defined0)j=i,output.areaStart(),output.lineStart();else{for(output.lineEnd(),output.lineStart(),k=i-1;k>=j;--k)output.point(x0z[k],y0z[k]);output.lineEnd(),output.areaEnd()}defined0&&(x0z[i]=+x0(d,i,data),y0z[i]=+y0(d,i,data),output.point(x1?+x1(d,i,data):x0z[i],y1?+y1(d,i,data):y0z[i]))}if(buffer)return output=null,buffer+""||null}function arealine(){return src_line().defined(defined).curve(curve).context(context)}return x0="function"==typeof x0?x0:void 0===x0?point_x:d3_shape_src_constant(+x0),y0="function"==typeof y0?y0:d3_shape_src_constant(void 0===y0?0:+y0),y1="function"==typeof y1?y1:void 0===y1?point_y:d3_shape_src_constant(+y1),area.x=function(_){return arguments.length?(x0="function"==typeof _?_:d3_shape_src_constant(+_),x1=null,area):x0},area.x0=function(_){return arguments.length?(x0="function"==typeof _?_:d3_shape_src_constant(+_),area):x0},area.x1=function(_){return arguments.length?(x1=null==_?null:"function"==typeof _?_:d3_shape_src_constant(+_),area):x1},area.y=function(_){return arguments.length?(y0="function"==typeof _?_:d3_shape_src_constant(+_),y1=null,area):y0},area.y0=function(_){return arguments.length?(y0="function"==typeof _?_:d3_shape_src_constant(+_),area):y0},area.y1=function(_){return arguments.length?(y1=null==_?null:"function"==typeof _?_:d3_shape_src_constant(+_),area):y1},area.lineX0=area.lineY0=function(){return arealine().x(x0).y(y0)},area.lineY1=function(){return arealine().x(x0).y(y1)},area.lineX1=function(){return arealine().x(x1).y(y0)},area.defined=function(_){return arguments.length?(defined="function"==typeof _?_:d3_shape_src_constant(!!_),area):defined},area.curve=function(_){return arguments.length?(curve=_,null!=context&&(output=curve(context)),area):curve},area.context=function(_){return arguments.length?(null==_?context=output=null:output=curve(context=_),area):context},area}function src_descending(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function d3_shape_src_identity(d){return d}function pie(){var value=d3_shape_src_identity,sortValues=src_descending,sort=null,startAngle=d3_shape_src_constant(0),endAngle=d3_shape_src_constant(src_math_tau),padAngle=d3_shape_src_constant(0);function pie(data){var i,j,k,a1,v,n=(data=d3_shape_src_array(data)).length,sum=0,index=new Array(n),arcs=new Array(n),a0=+startAngle.apply(this,arguments),da=Math.min(src_math_tau,Math.max(-src_math_tau,endAngle.apply(this,arguments)-a0)),p=Math.min(Math.abs(da)/n,padAngle.apply(this,arguments)),pa=p*(da<0?-1:1);for(i=0;i<n;++i)(v=arcs[index[i]=i]=+value(data[i],i,data))>0&&(sum+=v);for(null!=sortValues?index.sort((function(i,j){return sortValues(arcs[i],arcs[j])})):null!=sort&&index.sort((function(i,j){return sort(data[i],data[j])})),i=0,k=sum?(da-n*pa)/sum:0;i<n;++i,a0=a1)j=index[i],a1=a0+((v=arcs[j])>0?v*k:0)+pa,arcs[j]={data:data[j],index:i,value:v,startAngle:a0,endAngle:a1,padAngle:p};return arcs}return pie.value=function(_){return arguments.length?(value="function"==typeof _?_:d3_shape_src_constant(+_),pie):value},pie.sortValues=function(_){return arguments.length?(sortValues=_,sort=null,pie):sortValues},pie.sort=function(_){return arguments.length?(sort=_,sortValues=null,pie):sort},pie.startAngle=function(_){return arguments.length?(startAngle="function"==typeof _?_:d3_shape_src_constant(+_),pie):startAngle},pie.endAngle=function(_){return arguments.length?(endAngle="function"==typeof _?_:d3_shape_src_constant(+_),pie):endAngle},pie.padAngle=function(_){return arguments.length?(padAngle="function"==typeof _?_:d3_shape_src_constant(+_),pie):padAngle},pie}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:this._context.lineTo(x,y)}}};var curveRadialLinear=curveRadial(curve_linear);function Radial(curve){this._curve=curve}function curveRadial(curve){function radial(context){return new Radial(curve(context))}return radial._curve=curve,radial}function lineRadial(l){var c=l.curve;return l.angle=l.x,delete l.x,l.radius=l.y,delete l.y,l.curve=function(_){return arguments.length?c(curveRadial(_)):c()._curve},l}function src_lineRadial(){return lineRadial(src_line().curve(curveRadialLinear))}function areaRadial(){var a=d3_shape_src_area().curve(curveRadialLinear),c=a.curve,x0=a.lineX0,x1=a.lineX1,y0=a.lineY0,y1=a.lineY1;return a.angle=a.x,delete a.x,a.startAngle=a.x0,delete a.x0,a.endAngle=a.x1,delete a.x1,a.radius=a.y,delete a.y,a.innerRadius=a.y0,delete a.y0,a.outerRadius=a.y1,delete a.y1,a.lineStartAngle=function(){return lineRadial(x0())},delete a.lineX0,a.lineEndAngle=function(){return lineRadial(x1())},delete a.lineX1,a.lineInnerRadius=function(){return lineRadial(y0())},delete a.lineY0,a.lineOuterRadius=function(){return lineRadial(y1())},delete a.lineY1,a.curve=function(_){return arguments.length?c(curveRadial(_)):c()._curve},a}function pointRadial(x,y){return[(y=+y)*Math.cos(x-=Math.PI/2),y*Math.sin(x)]}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,r){this._curve.point(r*Math.sin(a),r*-Math.cos(a))}};class Bump{constructor(context,x){this._context=context,this._x=x}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+x)/2,this._y0,this._x0,y,x,y):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+y)/2,x,this._y0,x,y)}this._x0=x,this._y0=y}}class BumpRadial{constructor(context){this._context=context}lineStart(){this._point=0}lineEnd(){}point(x,y){if(x=+x,y=+y,0===this._point)this._point=1;else{const p0=pointRadial(this._x0,this._y0),p1=pointRadial(this._x0,this._y0=(this._y0+y)/2),p2=pointRadial(x,this._y0),p3=pointRadial(x,y);this._context.moveTo(...p0),this._context.bezierCurveTo(...p1,...p2,...p3)}this._x0=x,this._y0=y}}function bumpX(context){return new Bump(context,!0)}function bumpY(context){return new Bump(context,!1)}function bumpRadial(context){return new BumpRadial(context)}function linkSource(d){return d.source}function linkTarget(d){return d.target}function link_link(curve){let source=linkSource,target=linkTarget,x=point_x,y=point_y,context=null,output=null,path=withPath(link);function link(){let buffer;const argv=d3_shape_src_array_slice.call(arguments),s=source.apply(this,argv),t=target.apply(this,argv);if(null==context&&(output=curve(buffer=path())),output.lineStart(),argv[0]=s,output.point(+x.apply(this,argv),+y.apply(this,argv)),argv[0]=t,output.point(+x.apply(this,argv),+y.apply(this,argv)),output.lineEnd(),buffer)return output=null,buffer+""||null}return link.source=function(_){return arguments.length?(source=_,link):source},link.target=function(_){return arguments.length?(target=_,link):target},link.x=function(_){return arguments.length?(x="function"==typeof _?_:d3_shape_src_constant(+_),link):x},link.y=function(_){return arguments.length?(y="function"==typeof _?_:d3_shape_src_constant(+_),link):y},link.context=function(_){return arguments.length?(null==_?context=output=null:output=curve(context=_),link):context},link}function linkHorizontal(){return link_link(bumpX)}function linkVertical(){return link_link(bumpY)}function linkRadial(){const l=link_link(bumpRadial);return l.angle=l.x,delete l.x,l.radius=l.y,delete l.y,l}const sqrt3=math_sqrt(3),asterisk={draw(context,size){const r=.59436*math_sqrt(size+math_min(size/28,.75)),t=r/2,u=t*sqrt3;context.moveTo(0,r),context.lineTo(0,-r),context.moveTo(-u,-t),context.lineTo(u,t),context.moveTo(-u,t),context.lineTo(u,-t)}},symbol_circle={draw(context,size){const r=math_sqrt(size/src_math_pi);context.moveTo(r,0),context.arc(0,0,r,0,src_math_tau)}},symbol_cross={draw(context,size){const r=math_sqrt(size/5)/2;context.moveTo(-3*r,-r),context.lineTo(-r,-r),context.lineTo(-r,-3*r),context.lineTo(r,-3*r),context.lineTo(r,-r),context.lineTo(3*r,-r),context.lineTo(3*r,r),context.lineTo(r,r),context.lineTo(r,3*r),context.lineTo(-r,3*r),context.lineTo(-r,r),context.lineTo(-3*r,r),context.closePath()}},tan30=math_sqrt(1/3),tan30_2=2*tan30,diamond={draw(context,size){const y=math_sqrt(size/tan30_2),x=y*tan30;context.moveTo(0,-y),context.lineTo(x,0),context.lineTo(0,y),context.lineTo(-x,0),context.closePath()}},diamond2={draw(context,size){const r=.62625*math_sqrt(size);context.moveTo(0,-r),context.lineTo(r,0),context.lineTo(0,r),context.lineTo(-r,0),context.closePath()}},plus={draw(context,size){const r=.87559*math_sqrt(size-math_min(size/7,2));context.moveTo(-r,0),context.lineTo(r,0),context.moveTo(0,r),context.lineTo(0,-r)}},symbol_square={draw(context,size){const w=math_sqrt(size),x=-w/2;context.rect(x,x,w,w)}},square2={draw(context,size){const r=.4431*math_sqrt(size);context.moveTo(r,r),context.lineTo(r,-r),context.lineTo(-r,-r),context.lineTo(-r,r),context.closePath()}},kr=src_math_sin(src_math_pi/10)/src_math_sin(7*src_math_pi/10),kx=src_math_sin(src_math_tau/10)*kr,ky=-src_math_cos(src_math_tau/10)*kr,star={draw(context,size){const r=math_sqrt(.8908130915292852*size),x=kx*r,y=ky*r;context.moveTo(0,-r),context.lineTo(x,y);for(let i=1;i<5;++i){const a=src_math_tau*i/5,c=src_math_cos(a),s=src_math_sin(a);context.lineTo(s*r,-c*r),context.lineTo(c*x-s*y,s*x+c*y)}context.closePath()}},triangle_sqrt3=math_sqrt(3),triangle={draw(context,size){const y=-math_sqrt(size/(3*triangle_sqrt3));context.moveTo(0,2*y),context.lineTo(-triangle_sqrt3*y,-y),context.lineTo(triangle_sqrt3*y,-y),context.closePath()}},triangle2_sqrt3=math_sqrt(3),triangle2={draw(context,size){const s=.6824*math_sqrt(size),t=s/2,u=s*triangle2_sqrt3/2;context.moveTo(0,-s),context.lineTo(u,t),context.lineTo(-u,t),context.closePath()}},s=math_sqrt(3)/2,k=1/math_sqrt(12),wye_a=3*(k/2+1),wye={draw(context,size){const r=math_sqrt(size/wye_a),x0=r/2,y0=r*k,x1=x0,y1=r*k+r,x2=-x1,y2=y1;context.moveTo(x0,y0),context.lineTo(x1,y1),context.lineTo(x2,y2),context.lineTo(-.5*x0-s*y0,s*x0+-.5*y0),context.lineTo(-.5*x1-s*y1,s*x1+-.5*y1),context.lineTo(-.5*x2-s*y2,s*x2+-.5*y2),context.lineTo(-.5*x0+s*y0,-.5*y0-s*x0),context.lineTo(-.5*x1+s*y1,-.5*y1-s*x1),context.lineTo(-.5*x2+s*y2,-.5*y2-s*x2),context.closePath()}},times={draw(context,size){const r=.6189*math_sqrt(size-math_min(size/6,1.7));context.moveTo(-r,-r),context.lineTo(r,r),context.moveTo(-r,r),context.lineTo(r,-r)}},symbolsFill=[symbol_circle,symbol_cross,diamond,symbol_square,star,triangle,wye],symbolsStroke=[symbol_circle,plus,times,triangle2,asterisk,square2,diamond2];function symbol_Symbol(type,size){let context=null,path=withPath(symbol);function symbol(){let buffer;if(context||(context=buffer=path()),type.apply(this,arguments).draw(context,+size.apply(this,arguments)),buffer)return context=null,buffer+""||null}return type="function"==typeof type?type:d3_shape_src_constant(type||symbol_circle),size="function"==typeof size?size:d3_shape_src_constant(void 0===size?64:+size),symbol.type=function(_){return arguments.length?(type="function"==typeof _?_:d3_shape_src_constant(_),symbol):type},symbol.size=function(_){return arguments.length?(size="function"==typeof _?_:d3_shape_src_constant(+_),symbol):size},symbol.context=function(_){return arguments.length?(context=null==_?null:_,symbol):context},symbol}function d3_shape_src_noop(){}function basis_point(that,x,y){that._context.bezierCurveTo((2*that._x0+that._x1)/3,(2*that._y0+that._y1)/3,(that._x0+2*that._x1)/3,(that._y0+2*that._y1)/3,(that._x0+4*that._x1+x)/6,(that._y0+4*that._y1+y)/6)}function Basis(context){this._context=context}function curve_basis(context){return new Basis(context)}function BasisClosed(context){this._context=context}function curve_basisClosed(context){return new BasisClosed(context)}function BasisOpen(context){this._context=context}function basisOpen(context){return new BasisOpen(context)}function Bundle(context,beta){this._basis=new Basis(context),this._beta=beta}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:basis_point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:basis_point(this,x,y)}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y}},BasisClosed.prototype={areaStart:d3_shape_src_noop,areaEnd:d3_shape_src_noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._x2=x,this._y2=y;break;case 1:this._point=2,this._x3=x,this._y3=y;break;case 2:this._point=3,this._x4=x,this._y4=y,this._context.moveTo((this._x0+4*this._x1+x)/6,(this._y0+4*this._y1+y)/6);break;default:basis_point(this,x,y)}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y}},BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var x0=(this._x0+4*this._x1+x)/6,y0=(this._y0+4*this._y1+y)/6;this._line?this._context.lineTo(x0,y0):this._context.moveTo(x0,y0);break;case 3:this._point=4;default:basis_point(this,x,y)}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y}},Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var x=this._x,y=this._y,j=x.length-1;if(j>0)for(var t,x0=x[0],y0=y[0],dx=x[j]-x0,dy=y[j]-y0,i=-1;++i<=j;)t=i/j,this._basis.point(this._beta*x[i]+(1-this._beta)*(x0+t*dx),this._beta*y[i]+(1-this._beta)*(y0+t*dy));this._x=this._y=null,this._basis.lineEnd()},point:function(x,y){this._x.push(+x),this._y.push(+y)}};const bundle=function custom(beta){function bundle(context){return 1===beta?new Basis(context):new Bundle(context,beta)}return bundle.beta=function(beta){return custom(+beta)},bundle}(.85);function cardinal_point(that,x,y){that._context.bezierCurveTo(that._x1+that._k*(that._x2-that._x0),that._y1+that._k*(that._y2-that._y0),that._x2+that._k*(that._x1-x),that._y2+that._k*(that._y1-y),that._x2,that._y2)}function Cardinal(context,tension){this._context=context,this._k=(1-tension)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cardinal_point(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2,this._x1=x,this._y1=y;break;case 2:this._point=3;default:cardinal_point(this,x,y)}this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const cardinal=function custom(tension){function cardinal(context){return new Cardinal(context,tension)}return cardinal.tension=function(tension){return custom(+tension)},cardinal}(0);function CardinalClosed(context,tension){this._context=context,this._k=(1-tension)/6}CardinalClosed.prototype={areaStart:d3_shape_src_noop,areaEnd:d3_shape_src_noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._x3=x,this._y3=y;break;case 1:this._point=2,this._context.moveTo(this._x4=x,this._y4=y);break;case 2:this._point=3,this._x5=x,this._y5=y;break;default:cardinal_point(this,x,y)}this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const cardinalClosed=function custom(tension){function cardinal(context){return new CardinalClosed(context,tension)}return cardinal.tension=function(tension){return custom(+tension)},cardinal}(0);function CardinalOpen(context,tension){this._context=context,this._k=(1-tension)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cardinal_point(this,x,y)}this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const cardinalOpen=function custom(tension){function cardinal(context){return new CardinalOpen(context,tension)}return cardinal.tension=function(tension){return custom(+tension)},cardinal}(0);function catmullRom_point(that,x,y){var x1=that._x1,y1=that._y1,x2=that._x2,y2=that._y2;if(that._l01_a>d3_shape_src_math_epsilon){var a=2*that._l01_2a+3*that._l01_a*that._l12_a+that._l12_2a,n=3*that._l01_a*(that._l01_a+that._l12_a);x1=(x1*a-that._x0*that._l12_2a+that._x2*that._l01_2a)/n,y1=(y1*a-that._y0*that._l12_2a+that._y2*that._l01_2a)/n}if(that._l23_a>d3_shape_src_math_epsilon){var b=2*that._l23_2a+3*that._l23_a*that._l12_a+that._l12_2a,m=3*that._l23_a*(that._l23_a+that._l12_a);x2=(x2*b+that._x1*that._l23_2a-x*that._l12_2a)/m,y2=(y2*b+that._y1*that._l23_2a-y*that._l12_2a)/m}that._context.bezierCurveTo(x1,y1,x2,y2,that._x2,that._y2)}function CatmullRom(context,alpha){this._context=context,this._alpha=alpha}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){if(x=+x,y=+y,this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3;default:catmullRom_point(this,x,y)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const catmullRom=function custom(alpha){function catmullRom(context){return alpha?new CatmullRom(context,alpha):new Cardinal(context,0)}return catmullRom.alpha=function(alpha){return custom(+alpha)},catmullRom}(.5);function CatmullRomClosed(context,alpha){this._context=context,this._alpha=alpha}CatmullRomClosed.prototype={areaStart:d3_shape_src_noop,areaEnd:d3_shape_src_noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(x,y){if(x=+x,y=+y,this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=x,this._y3=y;break;case 1:this._point=2,this._context.moveTo(this._x4=x,this._y4=y);break;case 2:this._point=3,this._x5=x,this._y5=y;break;default:catmullRom_point(this,x,y)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const catmullRomClosed=function custom(alpha){function catmullRom(context){return alpha?new CatmullRomClosed(context,alpha):new CardinalClosed(context,0)}return catmullRom.alpha=function(alpha){return custom(+alpha)},catmullRom}(.5);function CatmullRomOpen(context,alpha){this._context=context,this._alpha=alpha}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){if(x=+x,y=+y,this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:catmullRom_point(this,x,y)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const catmullRomOpen=function custom(alpha){function catmullRom(context){return alpha?new CatmullRomOpen(context,alpha):new CardinalOpen(context,0)}return catmullRom.alpha=function(alpha){return custom(+alpha)},catmullRom}(.5);function LinearClosed(context){this._context=context}function linearClosed(context){return new LinearClosed(context)}function monotone_sign(x){return x<0?-1:1}function slope3(that,x2,y2){var h0=that._x1-that._x0,h1=x2-that._x1,s0=(that._y1-that._y0)/(h0||h1<0&&-0),s1=(y2-that._y1)/(h1||h0<0&&-0),p=(s0*h1+s1*h0)/(h0+h1);return(monotone_sign(s0)+monotone_sign(s1))*Math.min(Math.abs(s0),Math.abs(s1),.5*Math.abs(p))||0}function slope2(that,t){var h=that._x1-that._x0;return h?(3*(that._y1-that._y0)/h-t)/2:t}function monotone_point(that,t0,t1){var x0=that._x0,y0=that._y0,x1=that._x1,y1=that._y1,dx=(x1-x0)/3;that._context.bezierCurveTo(x0+dx,y0+dx*t0,x1-dx,y1-dx*t1,x1,y1)}function MonotoneX(context){this._context=context}function MonotoneY(context){this._context=new ReflectContext(context)}function ReflectContext(context){this._context=context}function monotoneX(context){return new MonotoneX(context)}function monotoneY(context){return new MonotoneY(context)}function Natural(context){this._context=context}function controlPoints(x){var i,m,n=x.length-1,a=new Array(n),b=new Array(n),r=new Array(n);for(a[0]=0,b[0]=2,r[0]=x[0]+2*x[1],i=1;i<n-1;++i)a[i]=1,b[i]=4,r[i]=4*x[i]+2*x[i+1];for(a[n-1]=2,b[n-1]=7,r[n-1]=8*x[n-1]+x[n],i=1;i<n;++i)m=a[i]/b[i-1],b[i]-=m,r[i]-=m*r[i-1];for(a[n-1]=r[n-1]/b[n-1],i=n-2;i>=0;--i)a[i]=(r[i]-a[i+1])/b[i];for(b[n-1]=(x[n]+a[n-1])/2,i=0;i<n-1;++i)b[i]=2*x[i+1]-a[i+1];return[a,b]}function natural(context){return new Natural(context)}function Step(context,t){this._context=context,this._t=t}function step(context){return new Step(context,.5)}function stepBefore(context){return new Step(context,0)}function stepAfter(context){return new Step(context,1)}function offset_none(series,order){if((n=series.length)>1)for(var j,s0,n,i=1,s1=series[order[0]],m=s1.length;i<n;++i)for(s0=s1,s1=series[order[i]],j=0;j<m;++j)s1[j][1]+=s1[j][0]=isNaN(s0[j][1])?s0[j][0]:s0[j][1]}function order_none(series){for(var n=series.length,o=new Array(n);--n>=0;)o[n]=n;return o}function stackValue(d,key){return d[key]}function stackSeries(key){const series=[];return series.key=key,series}function stack(){var keys=d3_shape_src_constant([]),order=order_none,offset=offset_none,value=stackValue;function stack(data){var i,oz,sz=Array.from(keys.apply(this,arguments),stackSeries),n=sz.length,j=-1;for(const d of data)for(i=0,++j;i<n;++i)(sz[i][j]=[0,+value(d,sz[i].key,j,data)]).data=d;for(i=0,oz=d3_shape_src_array(order(sz));i<n;++i)sz[oz[i]].index=i;return offset(sz,oz),sz}return stack.keys=function(_){return arguments.length?(keys="function"==typeof _?_:d3_shape_src_constant(Array.from(_)),stack):keys},stack.value=function(_){return arguments.length?(value="function"==typeof _?_:d3_shape_src_constant(+_),stack):value},stack.order=function(_){return arguments.length?(order=null==_?order_none:"function"==typeof _?_:d3_shape_src_constant(Array.from(_)),stack):order},stack.offset=function(_){return arguments.length?(offset=null==_?offset_none:_,stack):offset},stack}function expand(series,order){if((n=series.length)>0){for(var i,n,y,j=0,m=series[0].length;j<m;++j){for(y=i=0;i<n;++i)y+=series[i][j][1]||0;if(y)for(i=0;i<n;++i)series[i][j][1]/=y}offset_none(series,order)}}function offset_diverging(series,order){if((n=series.length)>0)for(var i,d,dy,yp,yn,n,j=0,m=series[order[0]].length;j<m;++j)for(yp=yn=0,i=0;i<n;++i)(dy=(d=series[order[i]][j])[1]-d[0])>0?(d[0]=yp,d[1]=yp+=dy):dy<0?(d[1]=yn,d[0]=yn+=dy):(d[0]=0,d[1]=dy)}function silhouette(series,order){if((n=series.length)>0){for(var n,j=0,s0=series[order[0]],m=s0.length;j<m;++j){for(var i=0,y=0;i<n;++i)y+=series[i][j][1]||0;s0[j][1]+=s0[j][0]=-y/2}offset_none(series,order)}}function wiggle(series,order){if((n=series.length)>0&&(m=(s0=series[order[0]]).length)>0){for(var s0,m,n,y=0,j=1;j<m;++j){for(var i=0,s1=0,s2=0;i<n;++i){for(var si=series[order[i]],sij0=si[j][1]||0,s3=(sij0-(si[j-1][1]||0))/2,k=0;k<i;++k){var sk=series[order[k]];s3+=(sk[j][1]||0)-(sk[j-1][1]||0)}s1+=sij0,s2+=s3*sij0}s0[j-1][1]+=s0[j-1][0]=y,s1&&(y-=s2/s1)}s0[j-1][1]+=s0[j-1][0]=y,offset_none(series,order)}}function appearance(series){var peaks=series.map(peak);return order_none(series).sort((function(a,b){return peaks[a]-peaks[b]}))}function peak(series){for(var vi,i=-1,j=0,n=series.length,vj=-1/0;++i<n;)(vi=+series[i][1])>vj&&(vj=vi,j=i);return j}function order_ascending(series){var sums=series.map(ascending_sum);return order_none(series).sort((function(a,b){return sums[a]-sums[b]}))}function ascending_sum(series){for(var v,s=0,i=-1,n=series.length;++i<n;)(v=+series[i][1])&&(s+=v);return s}function order_descending(series){return order_ascending(series).reverse()}function insideOut(series){var i,j,n=series.length,sums=series.map(ascending_sum),order=appearance(series),top=0,bottom=0,tops=[],bottoms=[];for(i=0;i<n;++i)j=order[i],top<bottom?(top+=sums[j],tops.push(j)):(bottom+=sums[j],bottoms.push(j));return bottoms.reverse().concat(tops)}function order_reverse(series){return order_none(series).reverse()}LinearClosed.prototype={areaStart:d3_shape_src_noop,areaEnd:d3_shape_src_noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(x,y){x=+x,y=+y,this._point?this._context.lineTo(x,y):(this._point=1,this._context.moveTo(x,y))}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:monotone_point(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){var t1=NaN;if(y=+y,(x=+x)!==this._x1||y!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3,monotone_point(this,slope2(this,t1=slope3(this,x,y)),t1);break;default:monotone_point(this,this._t0,t1=slope3(this,x,y))}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y,this._t0=t1}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(x,y){MonotoneX.prototype.point.call(this,y,x)},ReflectContext.prototype={moveTo:function(x,y){this._context.moveTo(y,x)},closePath:function(){this._context.closePath()},lineTo:function(x,y){this._context.lineTo(y,x)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._context.bezierCurveTo(y1,x1,y2,x2,y,x)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var x=this._x,y=this._y,n=x.length;if(n)if(this._line?this._context.lineTo(x[0],y[0]):this._context.moveTo(x[0],y[0]),2===n)this._context.lineTo(x[1],y[1]);else for(var px=controlPoints(x),py=controlPoints(y),i0=0,i1=1;i1<n;++i0,++i1)this._context.bezierCurveTo(px[0][i0],py[0][i0],px[1][i0],py[1][i0],x[i1],y[i1]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(x,y){this._x.push(+x),this._y.push(+y)}},Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,y),this._context.lineTo(x,y);else{var x1=this._x*(1-this._t)+x*this._t;this._context.lineTo(x1,this._y),this._context.lineTo(x1,y)}}this._x=x,this._y=y}};var formatIso=Date.prototype.toISOString?function formatIsoNative(date){return date.toISOString()}:utcFormat("%Y-%m-%dT%H:%M:%S.%LZ");const isoFormat=formatIso;var parseIso=+new Date("2000-01-01T00:00:00.000Z")?function parseIsoNative(string){var date=new Date(string);return isNaN(date)?null:date}:utcParse("%Y-%m-%dT%H:%M:%S.%LZ");const isoParse=parseIso;function src_interval(callback,delay,time){var t=new Timer,total=delay;return null==delay?(t.restart(callback,delay,time),t):(t._restart=t.restart,t.restart=function(callback,delay,time){delay=+delay,time=null==time?now():+time,t._restart((function tick(elapsed){elapsed+=total,t._restart(tick,total+=delay,time),callback(elapsed)}),delay,time)},t.restart(callback,delay,time),t)}const d3_zoom_src_constant=x=>()=>x;function ZoomEvent(type,{sourceEvent,target,transform,dispatch}){Object.defineProperties(this,{type:{value:type,enumerable:!0,configurable:!0},sourceEvent:{value:sourceEvent,enumerable:!0,configurable:!0},target:{value:target,enumerable:!0,configurable:!0},transform:{value:transform,enumerable:!0,configurable:!0},_:{value:dispatch}})}function Transform(k,x,y){this.k=k,this.x=x,this.y=y}Transform.prototype={constructor:Transform,scale:function(k){return 1===k?this:new Transform(this.k*k,this.x,this.y)},translate:function(x,y){return 0===x&0===y?this:new Transform(this.k,this.x+this.k*x,this.y+this.k*y)},apply:function(point){return[point[0]*this.k+this.x,point[1]*this.k+this.y]},applyX:function(x){return x*this.k+this.x},applyY:function(y){return y*this.k+this.y},invert:function(location){return[(location[0]-this.x)/this.k,(location[1]-this.y)/this.k]},invertX:function(x){return(x-this.x)/this.k},invertY:function(y){return(y-this.y)/this.k},rescaleX:function(x){return x.copy().domain(x.range().map(this.invertX,this).map(x.invert,x))},rescaleY:function(y){return y.copy().domain(y.range().map(this.invertY,this).map(y.invert,y))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var transform_identity=new Transform(1,0,0);function transform_transform(node){for(;!node.__zoom;)if(!(node=node.parentNode))return transform_identity;return node.__zoom}function src_noevent_nopropagation(event){event.stopImmediatePropagation()}function d3_zoom_src_noevent(event){event.preventDefault(),event.stopImmediatePropagation()}function zoom_defaultFilter(event){return!(event.ctrlKey&&"wheel"!==event.type||event.button)}function zoom_defaultExtent(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function defaultTransform(){return this.__zoom||transform_identity}function defaultWheelDelta(event){return-event.deltaY*(1===event.deltaMode?.05:event.deltaMode?1:.002)*(event.ctrlKey?10:1)}function zoom_defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(transform,extent,translateExtent){var dx0=transform.invertX(extent[0][0])-translateExtent[0][0],dx1=transform.invertX(extent[1][0])-translateExtent[1][0],dy0=transform.invertY(extent[0][1])-translateExtent[0][1],dy1=transform.invertY(extent[1][1])-translateExtent[1][1];return transform.translate(dx1>dx0?(dx0+dx1)/2:Math.min(0,dx0)||Math.max(0,dx1),dy1>dy0?(dy0+dy1)/2:Math.min(0,dy0)||Math.max(0,dy1))}function zoom(){var touchstarting,touchfirst,touchending,filter=zoom_defaultFilter,extent=zoom_defaultExtent,constrain=defaultConstrain,wheelDelta=defaultWheelDelta,touchable=zoom_defaultTouchable,scaleExtent=[0,1/0],translateExtent=[[-1/0,-1/0],[1/0,1/0]],duration=250,interpolate=src_zoom,listeners=src_dispatch("start","zoom","end"),clickDistance2=0,tapDistance=10;function zoom(selection){selection.property("__zoom",defaultTransform).on("wheel.zoom",wheeled,{passive:!1}).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(touchable).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(transform,k){return(k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],k)))===transform.k?transform:new Transform(k,transform.x,transform.y)}function translate(transform,p0,p1){var x=p0[0]-p1[0]*transform.k,y=p0[1]-p1[1]*transform.k;return x===transform.x&&y===transform.y?transform:new Transform(transform.k,x,y)}function centroid(extent){return[(+extent[0][0]+ +extent[1][0])/2,(+extent[0][1]+ +extent[1][1])/2]}function schedule(transition,transform,point,event){transition.on("start.zoom",(function(){gesture(this,arguments).event(event).start()})).on("interrupt.zoom end.zoom",(function(){gesture(this,arguments).event(event).end()})).tween("zoom",(function(){var args=arguments,g=gesture(this,args).event(event),e=extent.apply(this,args),p=null==point?centroid(e):"function"==typeof point?point.apply(this,args):point,w=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),a=this.__zoom,b="function"==typeof transform?transform.apply(this,args):transform,i=interpolate(a.invert(p).concat(w/a.k),b.invert(p).concat(w/b.k));return function(t){if(1===t)t=b;else{var l=i(t),k=w/l[2];t=new Transform(k,p[0]-l[0]*k,p[1]-l[1]*k)}g.zoom(null,t)}}))}function gesture(that,args,clean){return!clean&&that.__zooming||new Gesture(that,args)}function Gesture(that,args){this.that=that,this.args=args,this.active=0,this.sourceEvent=null,this.extent=extent.apply(that,args),this.taps=0}function wheeled(event,...args){if(filter.apply(this,arguments)){var g=gesture(this,args).event(event),t=this.__zoom,k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],t.k*Math.pow(2,wheelDelta.apply(this,arguments)))),p=pointer(event);if(g.wheel)g.mouse[0][0]===p[0]&&g.mouse[0][1]===p[1]||(g.mouse[1]=t.invert(g.mouse[0]=p)),clearTimeout(g.wheel);else{if(t.k===k)return;g.mouse=[p,t.invert(p)],interrupt(this),g.start()}d3_zoom_src_noevent(event),g.wheel=setTimeout((function wheelidled(){g.wheel=null,g.end()}),150),g.zoom("mouse",constrain(translate(scale(t,k),g.mouse[0],g.mouse[1]),g.extent,translateExtent))}}function mousedowned(event,...args){if(!touchending&&filter.apply(this,arguments)){var currentTarget=event.currentTarget,g=gesture(this,args,!0).event(event),v=src_select(event.view).on("mousemove.zoom",(function mousemoved(event){if(d3_zoom_src_noevent(event),!g.moved){var dx=event.clientX-x0,dy=event.clientY-y0;g.moved=dx*dx+dy*dy>clickDistance2}g.event(event).zoom("mouse",constrain(translate(g.that.__zoom,g.mouse[0]=pointer(event,currentTarget),g.mouse[1]),g.extent,translateExtent))}),!0).on("mouseup.zoom",(function mouseupped(event){v.on("mousemove.zoom mouseup.zoom",null),yesdrag(event.view,g.moved),d3_zoom_src_noevent(event),g.event(event).end()}),!0),p=pointer(event,currentTarget),x0=event.clientX,y0=event.clientY;nodrag(event.view),src_noevent_nopropagation(event),g.mouse=[p,this.__zoom.invert(p)],interrupt(this),g.start()}}function dblclicked(event,...args){if(filter.apply(this,arguments)){var t0=this.__zoom,p0=pointer(event.changedTouches?event.changedTouches[0]:event,this),p1=t0.invert(p0),k1=t0.k*(event.shiftKey?.5:2),t1=constrain(translate(scale(t0,k1),p0,p1),extent.apply(this,args),translateExtent);d3_zoom_src_noevent(event),duration>0?src_select(this).transition().duration(duration).call(schedule,t1,p0,event):src_select(this).call(zoom.transform,t1,p0,event)}}function touchstarted(event,...args){if(filter.apply(this,arguments)){var started,i,t,p,touches=event.touches,n=touches.length,g=gesture(this,args,event.changedTouches.length===n).event(event);for(src_noevent_nopropagation(event),i=0;i<n;++i)p=[p=pointer(t=touches[i],this),this.__zoom.invert(p),t.identifier],g.touch0?g.touch1||g.touch0[2]===p[2]||(g.touch1=p,g.taps=0):(g.touch0=p,started=!0,g.taps=1+!!touchstarting);touchstarting&&(touchstarting=clearTimeout(touchstarting)),started&&(g.taps<2&&(touchfirst=p[0],touchstarting=setTimeout((function(){touchstarting=null}),500)),interrupt(this),g.start())}}function touchmoved(event,...args){if(this.__zooming){var i,t,p,l,g=gesture(this,args).event(event),touches=event.changedTouches,n=touches.length;for(d3_zoom_src_noevent(event),i=0;i<n;++i)p=pointer(t=touches[i],this),g.touch0&&g.touch0[2]===t.identifier?g.touch0[0]=p:g.touch1&&g.touch1[2]===t.identifier&&(g.touch1[0]=p);if(t=g.that.__zoom,g.touch1){var p0=g.touch0[0],l0=g.touch0[1],p1=g.touch1[0],l1=g.touch1[1],dp=(dp=p1[0]-p0[0])*dp+(dp=p1[1]-p0[1])*dp,dl=(dl=l1[0]-l0[0])*dl+(dl=l1[1]-l0[1])*dl;t=scale(t,Math.sqrt(dp/dl)),p=[(p0[0]+p1[0])/2,(p0[1]+p1[1])/2],l=[(l0[0]+l1[0])/2,(l0[1]+l1[1])/2]}else{if(!g.touch0)return;p=g.touch0[0],l=g.touch0[1]}g.zoom("touch",constrain(translate(t,p,l),g.extent,translateExtent))}}function touchended(event,...args){if(this.__zooming){var i,t,g=gesture(this,args).event(event),touches=event.changedTouches,n=touches.length;for(src_noevent_nopropagation(event),touchending&&clearTimeout(touchending),touchending=setTimeout((function(){touchending=null}),500),i=0;i<n;++i)t=touches[i],g.touch0&&g.touch0[2]===t.identifier?delete g.touch0:g.touch1&&g.touch1[2]===t.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),2===g.taps&&(t=pointer(t,this),Math.hypot(touchfirst[0]-t[0],touchfirst[1]-t[1])<tapDistance)){var p=src_select(this).on("dblclick.zoom");p&&p.apply(this,arguments)}}}return zoom.transform=function(collection,transform,point,event){var selection=collection.selection?collection.selection():collection;selection.property("__zoom",defaultTransform),collection!==selection?schedule(collection,transform,point,event):selection.interrupt().each((function(){gesture(this,arguments).event(event).start().zoom(null,"function"==typeof transform?transform.apply(this,arguments):transform).end()}))},zoom.scaleBy=function(selection,k,p,event){zoom.scaleTo(selection,(function(){return this.__zoom.k*("function"==typeof k?k.apply(this,arguments):k)}),p,event)},zoom.scaleTo=function(selection,k,p,event){zoom.transform(selection,(function(){var e=extent.apply(this,arguments),t0=this.__zoom,p0=null==p?centroid(e):"function"==typeof p?p.apply(this,arguments):p,p1=t0.invert(p0),k1="function"==typeof k?k.apply(this,arguments):k;return constrain(translate(scale(t0,k1),p0,p1),e,translateExtent)}),p,event)},zoom.translateBy=function(selection,x,y,event){zoom.transform(selection,(function(){return constrain(this.__zoom.translate("function"==typeof x?x.apply(this,arguments):x,"function"==typeof y?y.apply(this,arguments):y),extent.apply(this,arguments),translateExtent)}),null,event)},zoom.translateTo=function(selection,x,y,p,event){zoom.transform(selection,(function(){var e=extent.apply(this,arguments),t=this.__zoom,p0=null==p?centroid(e):"function"==typeof p?p.apply(this,arguments):p;return constrain(transform_identity.translate(p0[0],p0[1]).scale(t.k).translate("function"==typeof x?-x.apply(this,arguments):-x,"function"==typeof y?-y.apply(this,arguments):-y),e,translateExtent)}),p,event)},Gesture.prototype={event:function(event){return event&&(this.sourceEvent=event),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(key,transform){return this.mouse&&"mouse"!==key&&(this.mouse[1]=transform.invert(this.mouse[0])),this.touch0&&"touch"!==key&&(this.touch0[1]=transform.invert(this.touch0[0])),this.touch1&&"touch"!==key&&(this.touch1[1]=transform.invert(this.touch1[0])),this.that.__zoom=transform,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(type){var d=src_select(this.that).datum();listeners.call(type,this.that,new ZoomEvent(type,{sourceEvent:this.sourceEvent,target:zoom,type,transform:this.that.__zoom,dispatch:listeners}),d)}},zoom.wheelDelta=function(_){return arguments.length?(wheelDelta="function"==typeof _?_:d3_zoom_src_constant(+_),zoom):wheelDelta},zoom.filter=function(_){return arguments.length?(filter="function"==typeof _?_:d3_zoom_src_constant(!!_),zoom):filter},zoom.touchable=function(_){return arguments.length?(touchable="function"==typeof _?_:d3_zoom_src_constant(!!_),zoom):touchable},zoom.extent=function(_){return arguments.length?(extent="function"==typeof _?_:d3_zoom_src_constant([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),zoom):extent},zoom.scaleExtent=function(_){return arguments.length?(scaleExtent[0]=+_[0],scaleExtent[1]=+_[1],zoom):[scaleExtent[0],scaleExtent[1]]},zoom.translateExtent=function(_){return arguments.length?(translateExtent[0][0]=+_[0][0],translateExtent[1][0]=+_[1][0],translateExtent[0][1]=+_[0][1],translateExtent[1][1]=+_[1][1],zoom):[[translateExtent[0][0],translateExtent[0][1]],[translateExtent[1][0],translateExtent[1][1]]]},zoom.constrain=function(_){return arguments.length?(constrain=_,zoom):constrain},zoom.duration=function(_){return arguments.length?(duration=+_,zoom):duration},zoom.interpolate=function(_){return arguments.length?(interpolate=_,zoom):interpolate},zoom.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?zoom:value},zoom.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,zoom):Math.sqrt(clickDistance2)},zoom.tapDistance=function(_){return arguments.length?(tapDistance=+_,zoom):tapDistance},zoom}transform_transform.prototype=Transform.prototype},"./node_modules/dagre-d3/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports={graphlib:__webpack_require__("./node_modules/dagre-d3/lib/graphlib.js"),dagre:__webpack_require__("./node_modules/dagre-d3/lib/dagre.js"),intersect:__webpack_require__("./node_modules/dagre-d3/lib/intersect/index.js"),render:__webpack_require__("./node_modules/dagre-d3/lib/render.js"),util:__webpack_require__("./node_modules/dagre-d3/lib/util.js"),version:__webpack_require__("./node_modules/dagre-d3/lib/version.js")}},"./node_modules/dagre-d3/lib/arrows.js":(module,__unused_webpack_exports,__webpack_require__)=>{var util=__webpack_require__("./node_modules/dagre-d3/lib/util.js");function normal(parent,id,edge,type){var path=parent.append("marker").attr("id",id).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");util.applyStyle(path,edge[type+"Style"]),edge[type+"Class"]&&path.attr("class",edge[type+"Class"])}module.exports={default:normal,normal,vee:function vee(parent,id,edge,type){var path=parent.append("marker").attr("id",id).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");util.applyStyle(path,edge[type+"Style"]),edge[type+"Class"]&&path.attr("class",edge[type+"Class"])},undirected:function undirected(parent,id,edge,type){var path=parent.append("marker").attr("id",id).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");util.applyStyle(path,edge[type+"Style"]),edge[type+"Class"]&&path.attr("class",edge[type+"Class"])}}},"./node_modules/dagre-d3/lib/create-clusters.js":(module,__unused_webpack_exports,__webpack_require__)=>{var util=__webpack_require__("./node_modules/dagre-d3/lib/util.js"),d3=__webpack_require__("./node_modules/dagre-d3/lib/d3.js"),addLabel=__webpack_require__("./node_modules/dagre-d3/lib/label/add-label.js");module.exports=function createClusters(selection,g){var exitSelection,clusters=g.nodes().filter((function(v){return util.isSubgraph(g,v)})),svgClusters=selection.selectAll("g.cluster").data(clusters,(function(v){return v}));svgClusters.selectAll("*").remove(),svgClusters.enter().append("g").attr("class","cluster").attr("id",(function(v){return g.node(v).id})).style("opacity",0),svgClusters=selection.selectAll("g.cluster"),util.applyTransition(svgClusters,g).style("opacity",1),svgClusters.each((function(v){var node=g.node(v),thisGroup=d3.select(this);d3.select(this).append("rect");var labelGroup=thisGroup.append("g").attr("class","label");addLabel(labelGroup,node,node.clusterLabelPos)})),svgClusters.selectAll("rect").each((function(c){var node=g.node(c),domCluster=d3.select(this);util.applyStyle(domCluster,node.style)})),exitSelection=svgClusters.exit?svgClusters.exit():svgClusters.selectAll(null);return util.applyTransition(exitSelection,g).style("opacity",0).remove(),svgClusters}},"./node_modules/dagre-d3/lib/create-edge-labels.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre-d3/lib/lodash.js"),addLabel=__webpack_require__("./node_modules/dagre-d3/lib/label/add-label.js"),util=__webpack_require__("./node_modules/dagre-d3/lib/util.js"),d3=__webpack_require__("./node_modules/dagre-d3/lib/d3.js");module.exports=function createEdgeLabels(selection,g){var exitSelection,svgEdgeLabels=selection.selectAll("g.edgeLabel").data(g.edges(),(function(e){return util.edgeToId(e)})).classed("update",!0);svgEdgeLabels.exit().remove(),svgEdgeLabels.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(svgEdgeLabels=selection.selectAll("g.edgeLabel")).each((function(e){var root=d3.select(this);root.select(".label").remove();var edge=g.edge(e),label=addLabel(root,g.edge(e),0,0).classed("label",!0),bbox=label.node().getBBox();edge.labelId&&label.attr("id",edge.labelId),_.has(edge,"width")||(edge.width=bbox.width),_.has(edge,"height")||(edge.height=bbox.height)})),exitSelection=svgEdgeLabels.exit?svgEdgeLabels.exit():svgEdgeLabels.selectAll(null);return util.applyTransition(exitSelection,g).style("opacity",0).remove(),svgEdgeLabels}},"./node_modules/dagre-d3/lib/create-edge-paths.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre-d3/lib/lodash.js"),intersectNode=__webpack_require__("./node_modules/dagre-d3/lib/intersect/intersect-node.js"),util=__webpack_require__("./node_modules/dagre-d3/lib/util.js"),d3=__webpack_require__("./node_modules/dagre-d3/lib/d3.js");function createLine(edge,points){var line=(d3.line||d3.svg.line)().x((function(d){return d.x})).y((function(d){return d.y}));return(line.curve||line.interpolate)(edge.curve),line(points)}module.exports=function createEdgePaths(selection,g,arrows){var previousPaths=selection.selectAll("g.edgePath").data(g.edges(),(function(e){return util.edgeToId(e)})).classed("update",!0),newPaths=function enter(svgPaths,g){var svgPathsEnter=svgPaths.enter().append("g").attr("class","edgePath").style("opacity",0);return svgPathsEnter.append("path").attr("class","path").attr("d",(function(e){var edge=g.edge(e),sourceElem=g.node(e.v).elem;return createLine(edge,_.range(edge.points.length).map((function(){return function getCoords(elem){var bbox=elem.getBBox(),matrix=elem.ownerSVGElement.getScreenCTM().inverse().multiply(elem.getScreenCTM()).translate(bbox.width/2,bbox.height/2);return{x:matrix.e,y:matrix.f}}(sourceElem)})))})),svgPathsEnter.append("defs"),svgPathsEnter}(previousPaths,g);!function exit(svgPaths,g){var svgPathExit=svgPaths.exit();util.applyTransition(svgPathExit,g).style("opacity",0).remove()}(previousPaths,g);var svgPaths=void 0!==previousPaths.merge?previousPaths.merge(newPaths):previousPaths;return util.applyTransition(svgPaths,g).style("opacity",1),svgPaths.each((function(e){var domEdge=d3.select(this),edge=g.edge(e);edge.elem=this,edge.id&&domEdge.attr("id",edge.id),util.applyClass(domEdge,edge.class,(domEdge.classed("update")?"update ":"")+"edgePath")})),svgPaths.selectAll("path.path").each((function(e){var edge=g.edge(e);edge.arrowheadId=_.uniqueId("arrowhead");var domEdge=d3.select(this).attr("marker-end",(function(){return"url("+function makeFragmentRef(url,fragmentId){return url.split("#")[0]+"#"+fragmentId}(location.href,edge.arrowheadId)+")"})).style("fill","none");util.applyTransition(domEdge,g).attr("d",(function(e){return function calcPoints(g,e){var edge=g.edge(e),tail=g.node(e.v),head=g.node(e.w),points=edge.points.slice(1,edge.points.length-1);return points.unshift(intersectNode(tail,points[0])),points.push(intersectNode(head,points[points.length-1])),createLine(edge,points)}(g,e)})),util.applyStyle(domEdge,edge.style)})),svgPaths.selectAll("defs *").remove(),svgPaths.selectAll("defs").each((function(e){var edge=g.edge(e);(0,arrows[edge.arrowhead])(d3.select(this),edge.arrowheadId,edge,"arrowhead")})),svgPaths}},"./node_modules/dagre-d3/lib/create-nodes.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre-d3/lib/lodash.js"),addLabel=__webpack_require__("./node_modules/dagre-d3/lib/label/add-label.js"),util=__webpack_require__("./node_modules/dagre-d3/lib/util.js"),d3=__webpack_require__("./node_modules/dagre-d3/lib/d3.js");module.exports=function createNodes(selection,g,shapes){var exitSelection,simpleNodes=g.nodes().filter((function(v){return!util.isSubgraph(g,v)})),svgNodes=selection.selectAll("g.node").data(simpleNodes,(function(v){return v})).classed("update",!0);svgNodes.exit().remove(),svgNodes.enter().append("g").attr("class","node").style("opacity",0),(svgNodes=selection.selectAll("g.node")).each((function(v){var node=g.node(v),thisGroup=d3.select(this);util.applyClass(thisGroup,node.class,(thisGroup.classed("update")?"update ":"")+"node"),thisGroup.select("g.label").remove();var labelGroup=thisGroup.append("g").attr("class","label"),labelDom=addLabel(labelGroup,node),shape=shapes[node.shape],bbox=_.pick(labelDom.node().getBBox(),"width","height");node.elem=this,node.id&&thisGroup.attr("id",node.id),node.labelId&&labelGroup.attr("id",node.labelId),_.has(node,"width")&&(bbox.width=node.width),_.has(node,"height")&&(bbox.height=node.height),bbox.width+=node.paddingLeft+node.paddingRight,bbox.height+=node.paddingTop+node.paddingBottom,labelGroup.attr("transform","translate("+(node.paddingLeft-node.paddingRight)/2+","+(node.paddingTop-node.paddingBottom)/2+")");var root=d3.select(this);root.select(".label-container").remove();var shapeSvg=shape(root,bbox,node).classed("label-container",!0);util.applyStyle(shapeSvg,node.style);var shapeBBox=shapeSvg.node().getBBox();node.width=shapeBBox.width,node.height=shapeBBox.height})),exitSelection=svgNodes.exit?svgNodes.exit():svgNodes.selectAll(null);return util.applyTransition(exitSelection,g).style("opacity",0).remove(),svgNodes}},"./node_modules/dagre-d3/lib/d3.js":(module,__unused_webpack_exports,__webpack_require__)=>{var d3;if(!d3)try{d3=__webpack_require__("./node_modules/dagre-d3/node_modules/d3/index.js")}catch(e){}d3||(d3=window.d3),module.exports=d3},"./node_modules/dagre-d3/lib/dagre.js":(module,__unused_webpack_exports,__webpack_require__)=>{var dagre;try{dagre=__webpack_require__("./node_modules/dagre/index.js")}catch(e){}dagre||(dagre=window.dagre),module.exports=dagre},"./node_modules/dagre-d3/lib/graphlib.js":(module,__unused_webpack_exports,__webpack_require__)=>{var graphlib;try{graphlib=__webpack_require__("./node_modules/graphlib/index.js")}catch(e){}graphlib||(graphlib=window.graphlib),module.exports=graphlib},"./node_modules/dagre-d3/lib/intersect/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports={node:__webpack_require__("./node_modules/dagre-d3/lib/intersect/intersect-node.js"),circle:__webpack_require__("./node_modules/dagre-d3/lib/intersect/intersect-circle.js"),ellipse:__webpack_require__("./node_modules/dagre-d3/lib/intersect/intersect-ellipse.js"),polygon:__webpack_require__("./node_modules/dagre-d3/lib/intersect/intersect-polygon.js"),rect:__webpack_require__("./node_modules/dagre-d3/lib/intersect/intersect-rect.js")}},"./node_modules/dagre-d3/lib/intersect/intersect-circle.js":(module,__unused_webpack_exports,__webpack_require__)=>{var intersectEllipse=__webpack_require__("./node_modules/dagre-d3/lib/intersect/intersect-ellipse.js");module.exports=function intersectCircle(node,rx,point){return intersectEllipse(node,rx,rx,point)}},"./node_modules/dagre-d3/lib/intersect/intersect-ellipse.js":module=>{module.exports=function intersectEllipse(node,rx,ry,point){var cx=node.x,cy=node.y,px=cx-point.x,py=cy-point.y,det=Math.sqrt(rx*rx*py*py+ry*ry*px*px),dx=Math.abs(rx*ry*px/det);point.x<cx&&(dx=-dx);var dy=Math.abs(rx*ry*py/det);point.y<cy&&(dy=-dy);return{x:cx+dx,y:cy+dy}}},"./node_modules/dagre-d3/lib/intersect/intersect-line.js":module=>{function sameSign(r1,r2){return r1*r2>0}module.exports=function intersectLine(p1,p2,q1,q2){var a1,a2,b1,b2,c1,c2,r1,r2,r3,r4,denom,offset,num;if(a1=p2.y-p1.y,b1=p1.x-p2.x,c1=p2.x*p1.y-p1.x*p2.y,r3=a1*q1.x+b1*q1.y+c1,r4=a1*q2.x+b1*q2.y+c1,0!==r3&&0!==r4&&sameSign(r3,r4))return;if(a2=q2.y-q1.y,b2=q1.x-q2.x,c2=q2.x*q1.y-q1.x*q2.y,r1=a2*p1.x+b2*p1.y+c2,r2=a2*p2.x+b2*p2.y+c2,0!==r1&&0!==r2&&sameSign(r1,r2))return;if(0===(denom=a1*b2-a2*b1))return;return offset=Math.abs(denom/2),{x:(num=b1*c2-b2*c1)<0?(num-offset)/denom:(num+offset)/denom,y:(num=a2*c1-a1*c2)<0?(num-offset)/denom:(num+offset)/denom}}},"./node_modules/dagre-d3/lib/intersect/intersect-node.js":module=>{module.exports=function intersectNode(node,point){return node.intersect(point)}},"./node_modules/dagre-d3/lib/intersect/intersect-polygon.js":(module,__unused_webpack_exports,__webpack_require__)=>{var console=__webpack_require__("./node_modules/console-browserify/index.js"),intersectLine=__webpack_require__("./node_modules/dagre-d3/lib/intersect/intersect-line.js");module.exports=function intersectPolygon(node,polyPoints,point){var x1=node.x,y1=node.y,intersections=[],minX=Number.POSITIVE_INFINITY,minY=Number.POSITIVE_INFINITY;polyPoints.forEach((function(entry){minX=Math.min(minX,entry.x),minY=Math.min(minY,entry.y)}));for(var left=x1-node.width/2-minX,top=y1-node.height/2-minY,i=0;i<polyPoints.length;i++){var p1=polyPoints[i],p2=polyPoints[i<polyPoints.length-1?i+1:0],intersect=intersectLine(node,point,{x:left+p1.x,y:top+p1.y},{x:left+p2.x,y:top+p2.y});intersect&&intersections.push(intersect)}if(!intersections.length)return console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",node),node;intersections.length>1&&intersections.sort((function(p,q){var pdx=p.x-point.x,pdy=p.y-point.y,distp=Math.sqrt(pdx*pdx+pdy*pdy),qdx=q.x-point.x,qdy=q.y-point.y,distq=Math.sqrt(qdx*qdx+qdy*qdy);return distp<distq?-1:distp===distq?0:1}));return intersections[0]}},"./node_modules/dagre-d3/lib/intersect/intersect-rect.js":module=>{module.exports=function intersectRect(node,point){var sx,sy,x=node.x,y=node.y,dx=point.x-x,dy=point.y-y,w=node.width/2,h=node.height/2;Math.abs(dy)*w>Math.abs(dx)*h?(dy<0&&(h=-h),sx=0===dy?0:h*dx/dy,sy=h):(dx<0&&(w=-w),sx=w,sy=0===dx?0:w*dy/dx);return{x:x+sx,y:y+sy}}},"./node_modules/dagre-d3/lib/label/add-html-label.js":(module,__unused_webpack_exports,__webpack_require__)=>{var util=__webpack_require__("./node_modules/dagre-d3/lib/util.js");module.exports=function addHtmlLabel(root,node){var fo=root.append("foreignObject").attr("width","100000"),div=fo.append("xhtml:div");div.attr("xmlns","http://www.w3.org/1999/xhtml");var label=node.label;switch(typeof label){case"function":div.insert(label);break;case"object":div.insert((function(){return label}));break;default:div.html(label)}util.applyStyle(div,node.labelStyle),div.style("display","inline-block"),div.style("white-space","nowrap");var client=div.node().getBoundingClientRect();return fo.attr("width",client.width).attr("height",client.height),fo}},"./node_modules/dagre-d3/lib/label/add-label.js":(module,__unused_webpack_exports,__webpack_require__)=>{var addTextLabel=__webpack_require__("./node_modules/dagre-d3/lib/label/add-text-label.js"),addHtmlLabel=__webpack_require__("./node_modules/dagre-d3/lib/label/add-html-label.js"),addSVGLabel=__webpack_require__("./node_modules/dagre-d3/lib/label/add-svg-label.js");module.exports=function addLabel(root,node,location){var label=node.label,labelSvg=root.append("g");"svg"===node.labelType?addSVGLabel(labelSvg,node):"string"!=typeof label||"html"===node.labelType?addHtmlLabel(labelSvg,node):addTextLabel(labelSvg,node);var y,labelBBox=labelSvg.node().getBBox();switch(location){case"top":y=-node.height/2;break;case"bottom":y=node.height/2-labelBBox.height;break;default:y=-labelBBox.height/2}return labelSvg.attr("transform","translate("+-labelBBox.width/2+","+y+")"),labelSvg}},"./node_modules/dagre-d3/lib/label/add-svg-label.js":(module,__unused_webpack_exports,__webpack_require__)=>{var util=__webpack_require__("./node_modules/dagre-d3/lib/util.js");module.exports=function addSVGLabel(root,node){var domNode=root;return domNode.node().appendChild(node.label),util.applyStyle(domNode,node.labelStyle),domNode}},"./node_modules/dagre-d3/lib/label/add-text-label.js":(module,__unused_webpack_exports,__webpack_require__)=>{var util=__webpack_require__("./node_modules/dagre-d3/lib/util.js");module.exports=function addTextLabel(root,node){for(var domNode=root.append("text"),lines=function processEscapeSequences(text){for(var ch,newText="",escaped=!1,i=0;i<text.length;++i)if(ch=text[i],escaped){if("n"===ch)newText+="\n";else newText+=ch;escaped=!1}else"\\"===ch?escaped=!0:newText+=ch;return newText}(node.label).split("\n"),i=0;i<lines.length;i++)domNode.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(lines[i]);return util.applyStyle(domNode,node.labelStyle),domNode}},"./node_modules/dagre-d3/lib/lodash.js":(module,__unused_webpack_exports,__webpack_require__)=>{var lodash;try{lodash={defaults:__webpack_require__("./node_modules/lodash/defaults.js"),each:__webpack_require__("./node_modules/lodash/each.js"),isFunction:__webpack_require__("./node_modules/lodash/isFunction.js"),isPlainObject:__webpack_require__("./node_modules/lodash/isPlainObject.js"),pick:__webpack_require__("./node_modules/lodash/pick.js"),has:__webpack_require__("./node_modules/lodash/has.js"),range:__webpack_require__("./node_modules/lodash/range.js"),uniqueId:__webpack_require__("./node_modules/lodash/uniqueId.js")}}catch(e){}lodash||(lodash=window._),module.exports=lodash},"./node_modules/dagre-d3/lib/position-clusters.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var util=__webpack_require__("./node_modules/dagre-d3/lib/util.js"),d3=__webpack_require__("./node_modules/dagre-d3/lib/d3.js");module.exports=function positionClusters(selection,g){var created=selection.filter((function(){return!d3.select(this).classed("update")}));function translate(v){var node=g.node(v);return"translate("+node.x+","+node.y+")"}created.attr("transform",translate),util.applyTransition(selection,g).style("opacity",1).attr("transform",translate),util.applyTransition(created.selectAll("rect"),g).attr("width",(function(v){return g.node(v).width})).attr("height",(function(v){return g.node(v).height})).attr("x",(function(v){return-g.node(v).width/2})).attr("y",(function(v){return-g.node(v).height/2}))}},"./node_modules/dagre-d3/lib/position-edge-labels.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var util=__webpack_require__("./node_modules/dagre-d3/lib/util.js"),d3=__webpack_require__("./node_modules/dagre-d3/lib/d3.js"),_=__webpack_require__("./node_modules/dagre-d3/lib/lodash.js");module.exports=function positionEdgeLabels(selection,g){function translate(e){var edge=g.edge(e);return _.has(edge,"x")?"translate("+edge.x+","+edge.y+")":""}selection.filter((function(){return!d3.select(this).classed("update")})).attr("transform",translate),util.applyTransition(selection,g).style("opacity",1).attr("transform",translate)}},"./node_modules/dagre-d3/lib/position-nodes.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var util=__webpack_require__("./node_modules/dagre-d3/lib/util.js"),d3=__webpack_require__("./node_modules/dagre-d3/lib/d3.js");module.exports=function positionNodes(selection,g){function translate(v){var node=g.node(v);return"translate("+node.x+","+node.y+")"}selection.filter((function(){return!d3.select(this).classed("update")})).attr("transform",translate),util.applyTransition(selection,g).style("opacity",1).attr("transform",translate)}},"./node_modules/dagre-d3/lib/render.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre-d3/lib/lodash.js"),d3=__webpack_require__("./node_modules/dagre-d3/lib/d3.js"),layout=__webpack_require__("./node_modules/dagre-d3/lib/dagre.js").layout;module.exports=function render(){var createNodes=__webpack_require__("./node_modules/dagre-d3/lib/create-nodes.js"),createClusters=__webpack_require__("./node_modules/dagre-d3/lib/create-clusters.js"),createEdgeLabels=__webpack_require__("./node_modules/dagre-d3/lib/create-edge-labels.js"),createEdgePaths=__webpack_require__("./node_modules/dagre-d3/lib/create-edge-paths.js"),positionNodes=__webpack_require__("./node_modules/dagre-d3/lib/position-nodes.js"),positionEdgeLabels=__webpack_require__("./node_modules/dagre-d3/lib/position-edge-labels.js"),positionClusters=__webpack_require__("./node_modules/dagre-d3/lib/position-clusters.js"),shapes=__webpack_require__("./node_modules/dagre-d3/lib/shapes.js"),arrows=__webpack_require__("./node_modules/dagre-d3/lib/arrows.js"),fn=function(svg,g){!function preProcessGraph(g){g.nodes().forEach((function(v){var node=g.node(v);_.has(node,"label")||g.children(v).length||(node.label=v),_.has(node,"paddingX")&&_.defaults(node,{paddingLeft:node.paddingX,paddingRight:node.paddingX}),_.has(node,"paddingY")&&_.defaults(node,{paddingTop:node.paddingY,paddingBottom:node.paddingY}),_.has(node,"padding")&&_.defaults(node,{paddingLeft:node.padding,paddingRight:node.padding,paddingTop:node.padding,paddingBottom:node.padding}),_.defaults(node,NODE_DEFAULT_ATTRS),_.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],(function(k){node[k]=Number(node[k])})),_.has(node,"width")&&(node._prevWidth=node.width),_.has(node,"height")&&(node._prevHeight=node.height)})),g.edges().forEach((function(e){var edge=g.edge(e);_.has(edge,"label")||(edge.label=""),_.defaults(edge,EDGE_DEFAULT_ATTRS)}))}(g);var outputGroup=createOrSelectGroup(svg,"output"),clustersGroup=createOrSelectGroup(outputGroup,"clusters"),edgePathsGroup=createOrSelectGroup(outputGroup,"edgePaths"),edgeLabels=createEdgeLabels(createOrSelectGroup(outputGroup,"edgeLabels"),g),nodes=createNodes(createOrSelectGroup(outputGroup,"nodes"),g,shapes);layout(g),positionNodes(nodes,g),positionEdgeLabels(edgeLabels,g),createEdgePaths(edgePathsGroup,g,arrows);var clusters=createClusters(clustersGroup,g);positionClusters(clusters,g),function postProcessGraph(g){_.each(g.nodes(),(function(v){var node=g.node(v);_.has(node,"_prevWidth")?node.width=node._prevWidth:delete node.width,_.has(node,"_prevHeight")?node.height=node._prevHeight:delete node.height,delete node._prevWidth,delete node._prevHeight}))}(g)};return fn.createNodes=function(value){return arguments.length?(createNodes=value,fn):createNodes},fn.createClusters=function(value){return arguments.length?(createClusters=value,fn):createClusters},fn.createEdgeLabels=function(value){return arguments.length?(createEdgeLabels=value,fn):createEdgeLabels},fn.createEdgePaths=function(value){return arguments.length?(createEdgePaths=value,fn):createEdgePaths},fn.shapes=function(value){return arguments.length?(shapes=value,fn):shapes},fn.arrows=function(value){return arguments.length?(arrows=value,fn):arrows},fn};var NODE_DEFAULT_ATTRS={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},EDGE_DEFAULT_ATTRS={arrowhead:"normal",curve:d3.curveLinear};function createOrSelectGroup(root,name){var selection=root.select("g."+name);return selection.empty()&&(selection=root.append("g").attr("class",name)),selection}},"./node_modules/dagre-d3/lib/shapes.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var intersectRect=__webpack_require__("./node_modules/dagre-d3/lib/intersect/intersect-rect.js"),intersectEllipse=__webpack_require__("./node_modules/dagre-d3/lib/intersect/intersect-ellipse.js"),intersectCircle=__webpack_require__("./node_modules/dagre-d3/lib/intersect/intersect-circle.js"),intersectPolygon=__webpack_require__("./node_modules/dagre-d3/lib/intersect/intersect-polygon.js");module.exports={rect:function rect(parent,bbox,node){var shapeSvg=parent.insert("rect",":first-child").attr("rx",node.rx).attr("ry",node.ry).attr("x",-bbox.width/2).attr("y",-bbox.height/2).attr("width",bbox.width).attr("height",bbox.height);return node.intersect=function(point){return intersectRect(node,point)},shapeSvg},ellipse:function ellipse(parent,bbox,node){var rx=bbox.width/2,ry=bbox.height/2,shapeSvg=parent.insert("ellipse",":first-child").attr("x",-bbox.width/2).attr("y",-bbox.height/2).attr("rx",rx).attr("ry",ry);return node.intersect=function(point){return intersectEllipse(node,rx,ry,point)},shapeSvg},circle:function circle(parent,bbox,node){var r=Math.max(bbox.width,bbox.height)/2,shapeSvg=parent.insert("circle",":first-child").attr("x",-bbox.width/2).attr("y",-bbox.height/2).attr("r",r);return node.intersect=function(point){return intersectCircle(node,r,point)},shapeSvg},diamond:function diamond(parent,bbox,node){var w=bbox.width*Math.SQRT2/2,h=bbox.height*Math.SQRT2/2,points=[{x:0,y:-h},{x:-w,y:0},{x:0,y:h},{x:w,y:0}],shapeSvg=parent.insert("polygon",":first-child").attr("points",points.map((function(p){return p.x+","+p.y})).join(" "));return node.intersect=function(p){return intersectPolygon(node,points,p)},shapeSvg}}},"./node_modules/dagre-d3/lib/util.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre-d3/lib/lodash.js");module.exports={isSubgraph:function isSubgraph(g,v){return!!g.children(v).length},edgeToId:function edgeToId(e){return escapeId(e.v)+":"+escapeId(e.w)+":"+escapeId(e.name)},applyStyle:function applyStyle(dom,styleFn){styleFn&&dom.attr("style",styleFn)},applyClass:function applyClass(dom,classFn,otherClasses){classFn&&dom.attr("class",classFn).attr("class",otherClasses+" "+dom.attr("class"))},applyTransition:function applyTransition(selection,g){var graph=g.graph();if(_.isPlainObject(graph)){var transition=graph.transition;if(_.isFunction(transition))return transition(selection)}return selection}};var ID_DELIM=/:/g;function escapeId(str){return str?String(str).replace(ID_DELIM,"\\:"):""}},"./node_modules/dagre-d3/lib/version.js":module=>{module.exports="0.6.4"},"./node_modules/dagre-d3/node_modules/d3/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FormatSpecifier:()=>FormatSpecifier,active:()=>active,arc:()=>arc,area:()=>d3_shape_src_area,areaRadial:()=>areaRadial,ascending:()=>ascending,autoType:()=>autoType,axisBottom:()=>axisBottom,axisLeft:()=>axisLeft,axisRight:()=>axisRight,axisTop:()=>axisTop,bisect:()=>bisect,bisectLeft:()=>bisectLeft,bisectRight:()=>bisectRight,bisector:()=>bisector,blob:()=>blob,brush:()=>brush,brushSelection:()=>brushSelection,brushX:()=>brushX,brushY:()=>brushY,buffer:()=>buffer,chord:()=>chord,clientPoint:()=>point,cluster:()=>cluster,color:()=>color,contourDensity:()=>density,contours:()=>contours,create:()=>src_create,creator:()=>creator,cross:()=>cross,csv:()=>dsv_csv,csvFormat:()=>csvFormat,csvFormatBody:()=>csvFormatBody,csvFormatRow:()=>csvFormatRow,csvFormatRows:()=>csvFormatRows,csvFormatValue:()=>csvFormatValue,csvParse:()=>csvParse,csvParseRows:()=>csvParseRows,cubehelix:()=>cubehelix_cubehelix,curveBasis:()=>curve_basis,curveBasisClosed:()=>curve_basisClosed,curveBasisOpen:()=>basisOpen,curveBundle:()=>bundle,curveCardinal:()=>cardinal,curveCardinalClosed:()=>cardinalClosed,curveCardinalOpen:()=>cardinalOpen,curveCatmullRom:()=>catmullRom,curveCatmullRomClosed:()=>catmullRomClosed,curveCatmullRomOpen:()=>catmullRomOpen,curveLinear:()=>curve_linear,curveLinearClosed:()=>linearClosed,curveMonotoneX:()=>monotoneX,curveMonotoneY:()=>monotoneY,curveNatural:()=>natural,curveStep:()=>step,curveStepAfter:()=>stepAfter,curveStepBefore:()=>stepBefore,customEvent:()=>customEvent,descending:()=>descending,deviation:()=>deviation,dispatch:()=>src_dispatch,drag:()=>drag,dragDisable:()=>nodrag,dragEnable:()=>yesdrag,dsv:()=>dsv_dsv,dsvFormat:()=>dsv,easeBack:()=>backInOut,easeBackIn:()=>backIn,easeBackInOut:()=>backInOut,easeBackOut:()=>backOut,easeBounce:()=>bounceOut,easeBounceIn:()=>bounceIn,easeBounceInOut:()=>bounceInOut,easeBounceOut:()=>bounceOut,easeCircle:()=>circleInOut,easeCircleIn:()=>circleIn,easeCircleInOut:()=>circleInOut,easeCircleOut:()=>circleOut,easeCubic:()=>cubicInOut,easeCubicIn:()=>cubicIn,easeCubicInOut:()=>cubicInOut,easeCubicOut:()=>cubicOut,easeElastic:()=>elasticOut,easeElasticIn:()=>elasticIn,easeElasticInOut:()=>elasticInOut,easeElasticOut:()=>elasticOut,easeExp:()=>expInOut,easeExpIn:()=>expIn,easeExpInOut:()=>expInOut,easeExpOut:()=>expOut,easeLinear:()=>linear_linear,easePoly:()=>polyInOut,easePolyIn:()=>polyIn,easePolyInOut:()=>polyInOut,easePolyOut:()=>polyOut,easeQuad:()=>quadInOut,easeQuadIn:()=>quadIn,easeQuadInOut:()=>quadInOut,easeQuadOut:()=>quadOut,easeSin:()=>sinInOut,easeSinIn:()=>sinIn,easeSinInOut:()=>sinInOut,easeSinOut:()=>sinOut,entries:()=>entries,event:()=>on_event,extent:()=>extent,forceCenter:()=>src_center,forceCollide:()=>collide,forceLink:()=>src_link,forceManyBody:()=>manyBody,forceRadial:()=>radial,forceSimulation:()=>simulation,forceX:()=>src_x,forceY:()=>src_y,format:()=>format,formatDefaultLocale:()=>defaultLocale,formatLocale:()=>locale,formatPrefix:()=>formatPrefix,formatSpecifier:()=>formatSpecifier,geoAlbers:()=>albers,geoAlbersUsa:()=>albersUsa,geoArea:()=>d3_geo_src_area,geoAzimuthalEqualArea:()=>azimuthalEqualArea,geoAzimuthalEqualAreaRaw:()=>azimuthalEqualAreaRaw,geoAzimuthalEquidistant:()=>azimuthalEquidistant,geoAzimuthalEquidistantRaw:()=>azimuthalEquidistantRaw,geoBounds:()=>bounds,geoCentroid:()=>centroid,geoCircle:()=>circle,geoClipAntimeridian:()=>antimeridian,geoClipCircle:()=>clip_circle,geoClipExtent:()=>clip_extent,geoClipRectangle:()=>clipRectangle,geoConicConformal:()=>conicConformal,geoConicConformalRaw:()=>conicConformalRaw,geoConicEqualArea:()=>conicEqualArea,geoConicEqualAreaRaw:()=>conicEqualAreaRaw,geoConicEquidistant:()=>conicEquidistant,geoConicEquidistantRaw:()=>conicEquidistantRaw,geoContains:()=>src_contains,geoDistance:()=>distance,geoEqualEarth:()=>equalEarth,geoEqualEarthRaw:()=>equalEarthRaw,geoEquirectangular:()=>equirectangular,geoEquirectangularRaw:()=>equirectangularRaw,geoGnomonic:()=>gnomonic,geoGnomonicRaw:()=>gnomonicRaw,geoGraticule:()=>graticule,geoGraticule10:()=>graticule10,geoIdentity:()=>projection_identity,geoInterpolate:()=>src_interpolate,geoLength:()=>src_length,geoMercator:()=>mercator,geoMercatorRaw:()=>mercatorRaw,geoNaturalEarth1:()=>naturalEarth1,geoNaturalEarth1Raw:()=>naturalEarth1Raw,geoOrthographic:()=>orthographic,geoOrthographicRaw:()=>orthographicRaw,geoPath:()=>d3_geo_src_path,geoProjection:()=>projection,geoProjectionMutator:()=>projectionMutator,geoRotation:()=>rotation,geoStereographic:()=>stereographic,geoStereographicRaw:()=>stereographicRaw,geoStream:()=>stream,geoTransform:()=>transform,geoTransverseMercator:()=>transverseMercator,geoTransverseMercatorRaw:()=>transverseMercatorRaw,gray:()=>gray,hcl:()=>hcl,hierarchy:()=>hierarchy,histogram:()=>histogram,hsl:()=>hsl,html:()=>xml_html,image:()=>src_image,interpolate:()=>value,interpolateArray:()=>src_array,interpolateBasis:()=>src_basis,interpolateBasisClosed:()=>basisClosed,interpolateBlues:()=>Blues,interpolateBrBG:()=>BrBG,interpolateBuGn:()=>BuGn,interpolateBuPu:()=>BuPu,interpolateCividis:()=>cividis,interpolateCool:()=>cool,interpolateCubehelix:()=>src_cubehelix,interpolateCubehelixDefault:()=>sequential_multi_cubehelix,interpolateCubehelixLong:()=>cubehelixLong,interpolateDate:()=>date,interpolateDiscrete:()=>discrete,interpolateGnBu:()=>GnBu,interpolateGreens:()=>Greens,interpolateGreys:()=>Greys,interpolateHcl:()=>src_hcl,interpolateHclLong:()=>hclLong,interpolateHsl:()=>src_hsl,interpolateHslLong:()=>hslLong,interpolateHue:()=>src_hue,interpolateInferno:()=>inferno,interpolateLab:()=>lab_lab,interpolateMagma:()=>magma,interpolateNumber:()=>src_number,interpolateNumberArray:()=>numberArray,interpolateObject:()=>object,interpolateOrRd:()=>OrRd,interpolateOranges:()=>Oranges,interpolatePRGn:()=>PRGn,interpolatePiYG:()=>PiYG,interpolatePlasma:()=>plasma,interpolatePuBu:()=>PuBu,interpolatePuBuGn:()=>PuBuGn,interpolatePuOr:()=>PuOr,interpolatePuRd:()=>PuRd,interpolatePurples:()=>Purples,interpolateRainbow:()=>rainbow,interpolateRdBu:()=>RdBu,interpolateRdGy:()=>RdGy,interpolateRdPu:()=>RdPu,interpolateRdYlBu:()=>RdYlBu,interpolateRdYlGn:()=>RdYlGn,interpolateReds:()=>Reds,interpolateRgb:()=>rgb,interpolateRgbBasis:()=>rgbBasis,interpolateRgbBasisClosed:()=>rgbBasisClosed,interpolateRound:()=>round,interpolateSinebow:()=>sinebow,interpolateSpectral:()=>Spectral,interpolateString:()=>string,interpolateTransformCss:()=>interpolateTransformCss,interpolateTransformSvg:()=>interpolateTransformSvg,interpolateTurbo:()=>turbo,interpolateViridis:()=>viridis,interpolateWarm:()=>warm,interpolateYlGn:()=>YlGn,interpolateYlGnBu:()=>YlGnBu,interpolateYlOrBr:()=>YlOrBr,interpolateYlOrRd:()=>YlOrRd,interpolateZoom:()=>src_zoom,interrupt:()=>interrupt,interval:()=>src_interval,isoFormat:()=>isoFormat,isoParse:()=>isoParse,json:()=>json,keys:()=>keys,lab:()=>lab,lch:()=>lch,line:()=>src_line,lineRadial:()=>src_lineRadial,linkHorizontal:()=>linkHorizontal,linkRadial:()=>linkRadial,linkVertical:()=>linkVertical,local:()=>local_local,map:()=>src_map,matcher:()=>matcher,max:()=>max,mean:()=>mean,median:()=>median,merge:()=>merge,min:()=>min,mouse:()=>mouse,namespace:()=>namespace,namespaces:()=>namespaces,nest:()=>nest,now:()=>now,pack:()=>pack,packEnclose:()=>enclose,packSiblings:()=>siblings,pairs:()=>pairs,partition:()=>partition,path:()=>src_path,permute:()=>permute,pie:()=>pie,piecewise:()=>piecewise,pointRadial:()=>pointRadial,polygonArea:()=>d3_polygon_src_area,polygonCentroid:()=>src_centroid,polygonContains:()=>d3_polygon_src_contains,polygonHull:()=>hull,polygonLength:()=>d3_polygon_src_length,precisionFixed:()=>precisionFixed,precisionPrefix:()=>precisionPrefix,precisionRound:()=>precisionRound,quadtree:()=>quadtree,quantile:()=>quantile,quantize:()=>quantize,radialArea:()=>areaRadial,radialLine:()=>src_lineRadial,randomBates:()=>bates,randomExponential:()=>src_exponential,randomIrwinHall:()=>irwinHall,randomLogNormal:()=>logNormal,randomNormal:()=>normal,randomUniform:()=>uniform,range:()=>src_range,rgb:()=>color_rgb,ribbon:()=>ribbon,scaleBand:()=>band,scaleDiverging:()=>diverging,scaleDivergingLog:()=>divergingLog,scaleDivergingPow:()=>divergingPow,scaleDivergingSqrt:()=>divergingSqrt,scaleDivergingSymlog:()=>divergingSymlog,scaleIdentity:()=>identity_identity,scaleImplicit:()=>implicit,scaleLinear:()=>src_linear_linear,scaleLog:()=>log_log,scaleOrdinal:()=>ordinal,scalePoint:()=>band_point,scalePow:()=>pow_pow,scaleQuantile:()=>quantile_quantile,scaleQuantize:()=>quantize_quantize,scaleSequential:()=>sequential,scaleSequentialLog:()=>sequentialLog,scaleSequentialPow:()=>sequentialPow,scaleSequentialQuantile:()=>sequentialQuantile,scaleSequentialSqrt:()=>sequentialSqrt,scaleSequentialSymlog:()=>sequentialSymlog,scaleSqrt:()=>pow_sqrt,scaleSymlog:()=>symlog,scaleThreshold:()=>threshold,scaleTime:()=>time,scaleUtc:()=>utcTime,scan:()=>scan,schemeAccent:()=>Accent,schemeBlues:()=>Blues_scheme,schemeBrBG:()=>scheme,schemeBuGn:()=>BuGn_scheme,schemeBuPu:()=>BuPu_scheme,schemeCategory10:()=>category10,schemeDark2:()=>Dark2,schemeGnBu:()=>GnBu_scheme,schemeGreens:()=>Greens_scheme,schemeGreys:()=>Greys_scheme,schemeOrRd:()=>OrRd_scheme,schemeOranges:()=>Oranges_scheme,schemePRGn:()=>PRGn_scheme,schemePaired:()=>Paired,schemePastel1:()=>Pastel1,schemePastel2:()=>Pastel2,schemePiYG:()=>PiYG_scheme,schemePuBu:()=>PuBu_scheme,schemePuBuGn:()=>PuBuGn_scheme,schemePuOr:()=>PuOr_scheme,schemePuRd:()=>PuRd_scheme,schemePurples:()=>Purples_scheme,schemeRdBu:()=>RdBu_scheme,schemeRdGy:()=>RdGy_scheme,schemeRdPu:()=>RdPu_scheme,schemeRdYlBu:()=>RdYlBu_scheme,schemeRdYlGn:()=>RdYlGn_scheme,schemeReds:()=>Reds_scheme,schemeSet1:()=>Set1,schemeSet2:()=>Set2,schemeSet3:()=>Set3,schemeSpectral:()=>Spectral_scheme,schemeTableau10:()=>Tableau10,schemeYlGn:()=>YlGn_scheme,schemeYlGnBu:()=>YlGnBu_scheme,schemeYlOrBr:()=>YlOrBr_scheme,schemeYlOrRd:()=>YlOrRd_scheme,select:()=>src_select,selectAll:()=>src_selectAll,selection:()=>src_selection,selector:()=>selector,selectorAll:()=>selectorAll,set:()=>src_set,shuffle:()=>shuffle,stack:()=>stack,stackOffsetDiverging:()=>offset_diverging,stackOffsetExpand:()=>expand,stackOffsetNone:()=>offset_none,stackOffsetSilhouette:()=>silhouette,stackOffsetWiggle:()=>wiggle,stackOrderAppearance:()=>appearance,stackOrderAscending:()=>order_ascending,stackOrderDescending:()=>order_descending,stackOrderInsideOut:()=>insideOut,stackOrderNone:()=>order_none,stackOrderReverse:()=>reverse,stratify:()=>stratify,style:()=>styleValue,sum:()=>sum,svg:()=>svg,symbol:()=>symbol,symbolCircle:()=>symbol_circle,symbolCross:()=>symbol_cross,symbolDiamond:()=>diamond,symbolSquare:()=>square,symbolStar:()=>star,symbolTriangle:()=>triangle,symbolWye:()=>wye,symbols:()=>symbols,text:()=>src_text,thresholdFreedmanDiaconis:()=>freedmanDiaconis,thresholdScott:()=>scott,thresholdSturges:()=>sturges,tickFormat:()=>tickFormat,tickIncrement:()=>tickIncrement,tickStep:()=>tickStep,ticks:()=>ticks,timeDay:()=>src_day,timeDays:()=>days,timeFormat:()=>timeFormat,timeFormatDefaultLocale:()=>defaultLocale_defaultLocale,timeFormatLocale:()=>formatLocale,timeFriday:()=>friday,timeFridays:()=>fridays,timeHour:()=>src_hour,timeHours:()=>hours,timeInterval:()=>newInterval,timeMillisecond:()=>src_millisecond,timeMilliseconds:()=>milliseconds,timeMinute:()=>src_minute,timeMinutes:()=>minutes,timeMonday:()=>monday,timeMondays:()=>mondays,timeMonth:()=>src_month,timeMonths:()=>months,timeParse:()=>timeParse,timeSaturday:()=>saturday,timeSaturdays:()=>saturdays,timeSecond:()=>src_second,timeSeconds:()=>seconds,timeSunday:()=>sunday,timeSundays:()=>sundays,timeThursday:()=>thursday,timeThursdays:()=>thursdays,timeTuesday:()=>tuesday,timeTuesdays:()=>tuesdays,timeWednesday:()=>wednesday,timeWednesdays:()=>wednesdays,timeWeek:()=>sunday,timeWeeks:()=>sundays,timeYear:()=>src_year,timeYears:()=>years,timeout:()=>src_timeout,timer:()=>timer,timerFlush:()=>timerFlush,touch:()=>touch,touches:()=>touches,transition:()=>transition_transition,transpose:()=>transpose,tree:()=>tree,treemap:()=>treemap,treemapBinary:()=>binary,treemapDice:()=>dice,treemapResquarify:()=>resquarify,treemapSlice:()=>treemap_slice,treemapSliceDice:()=>sliceDice,treemapSquarify:()=>squarify,tsv:()=>dsv_tsv,tsvFormat:()=>tsvFormat,tsvFormatBody:()=>tsvFormatBody,tsvFormatRow:()=>tsvFormatRow,tsvFormatRows:()=>tsvFormatRows,tsvFormatValue:()=>tsvFormatValue,tsvParse:()=>tsvParse,tsvParseRows:()=>tsvParseRows,utcDay:()=>src_utcDay,utcDays:()=>utcDays,utcFormat:()=>utcFormat,utcFriday:()=>utcFriday,utcFridays:()=>utcFridays,utcHour:()=>src_utcHour,utcHours:()=>utcHours,utcMillisecond:()=>src_millisecond,utcMilliseconds:()=>milliseconds,utcMinute:()=>src_utcMinute,utcMinutes:()=>utcMinutes,utcMonday:()=>utcMonday,utcMondays:()=>utcMondays,utcMonth:()=>src_utcMonth,utcMonths:()=>utcMonths,utcParse:()=>utcParse,utcSaturday:()=>utcSaturday,utcSaturdays:()=>utcSaturdays,utcSecond:()=>src_second,utcSeconds:()=>seconds,utcSunday:()=>utcSunday,utcSundays:()=>utcSundays,utcThursday:()=>utcThursday,utcThursdays:()=>utcThursdays,utcTuesday:()=>utcTuesday,utcTuesdays:()=>utcTuesdays,utcWednesday:()=>utcWednesday,utcWednesdays:()=>utcWednesdays,utcWeek:()=>utcSunday,utcWeeks:()=>utcSundays,utcYear:()=>src_utcYear,utcYears:()=>utcYears,values:()=>values,variance:()=>variance,version:()=>version,voronoi:()=>voronoi,window:()=>src_window,xml:()=>xml,zip:()=>zip,zoom:()=>zoom,zoomIdentity:()=>transform_identity,zoomTransform:()=>transform_transform});var version="5.16.0";function ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function bisector(compare){return 1===compare.length&&(compare=function ascendingComparator(f){return function(d,x){return ascending(f(d),x)}}(compare)),{left:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)<0?lo=mid+1:hi=mid}return lo},right:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)>0?hi=mid:lo=mid+1}return lo}}}var ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right,bisectLeft=ascendingBisect.left;const bisect=bisectRight;function pairs(array,f){null==f&&(f=pair);for(var i=0,n=array.length-1,p=array[0],pairs=new Array(n<0?0:n);i<n;)pairs[i]=f(p,p=array[++i]);return pairs}function pair(a,b){return[a,b]}function cross(values0,values1,reduce){var i0,i1,i,value0,n0=values0.length,n1=values1.length,values=new Array(n0*n1);for(null==reduce&&(reduce=pair),i0=i=0;i0<n0;++i0)for(value0=values0[i0],i1=0;i1<n1;++i1,++i)values[i]=reduce(value0,values1[i1]);return values}function descending(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function number(x){return null===x?NaN:+x}function variance(values,valueof){var value,delta,n=values.length,m=0,i=-1,mean=0,sum=0;if(null==valueof)for(;++i<n;)isNaN(value=number(values[i]))||(sum+=(delta=value-mean)*(value-(mean+=delta/++m)));else for(;++i<n;)isNaN(value=number(valueof(values[i],i,values)))||(sum+=(delta=value-mean)*(value-(mean+=delta/++m)));if(m>1)return sum/(m-1)}function deviation(array,f){var v=variance(array,f);return v?Math.sqrt(v):v}function extent(values,valueof){var value,min,max,n=values.length,i=-1;if(null==valueof){for(;++i<n;)if(null!=(value=values[i])&&value>=value)for(min=max=value;++i<n;)null!=(value=values[i])&&(min>value&&(min=value),max<value&&(max=value))}else for(;++i<n;)if(null!=(value=valueof(values[i],i,values))&&value>=value)for(min=max=value;++i<n;)null!=(value=valueof(values[i],i,values))&&(min>value&&(min=value),max<value&&(max=value));return[min,max]}var array=Array.prototype,slice=array.slice,map=array.map;function constant(x){return function(){return x}}function identity(x){return x}function src_range(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;for(var i=-1,n=0|Math.max(0,Math.ceil((stop-start)/step)),range=new Array(n);++i<n;)range[i]=start+i*step;return range}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function ticks(start,stop,count){var reverse,n,ticks,step,i=-1;if(count=+count,(start=+start)===(stop=+stop)&&count>0)return[start];if((reverse=stop<start)&&(n=start,start=stop,stop=n),0===(step=tickIncrement(start,stop,count))||!isFinite(step))return[];if(step>0)for(start=Math.ceil(start/step),stop=Math.floor(stop/step),ticks=new Array(n=Math.ceil(stop-start+1));++i<n;)ticks[i]=(start+i)*step;else for(start=Math.floor(start*step),stop=Math.ceil(stop*step),ticks=new Array(n=Math.ceil(start-stop+1));++i<n;)ticks[i]=(start-i)/step;return reverse&&ticks.reverse(),ticks}function tickIncrement(start,stop,count){var step=(stop-start)/Math.max(0,count),power=Math.floor(Math.log(step)/Math.LN10),error=step/Math.pow(10,power);return power>=0?(error>=e10?10:error>=e5?5:error>=e2?2:1)*Math.pow(10,power):-Math.pow(10,-power)/(error>=e10?10:error>=e5?5:error>=e2?2:1)}function tickStep(start,stop,count){var step0=Math.abs(stop-start)/Math.max(0,count),step1=Math.pow(10,Math.floor(Math.log(step0)/Math.LN10)),error=step0/step1;return error>=e10?step1*=10:error>=e5?step1*=5:error>=e2&&(step1*=2),stop<start?-step1:step1}function sturges(values){return Math.ceil(Math.log(values.length)/Math.LN2)+1}function histogram(){var value=identity,domain=extent,threshold=sturges;function histogram(data){var i,x,n=data.length,values=new Array(n);for(i=0;i<n;++i)values[i]=value(data[i],i,data);var xz=domain(values),x0=xz[0],x1=xz[1],tz=threshold(values,x0,x1);Array.isArray(tz)||(tz=tickStep(x0,x1,tz),tz=src_range(Math.ceil(x0/tz)*tz,x1,tz));for(var m=tz.length;tz[0]<=x0;)tz.shift(),--m;for(;tz[m-1]>x1;)tz.pop(),--m;var bin,bins=new Array(m+1);for(i=0;i<=m;++i)(bin=bins[i]=[]).x0=i>0?tz[i-1]:x0,bin.x1=i<m?tz[i]:x1;for(i=0;i<n;++i)x0<=(x=values[i])&&x<=x1&&bins[bisect(tz,x,0,m)].push(data[i]);return bins}return histogram.value=function(_){return arguments.length?(value="function"==typeof _?_:constant(_),histogram):value},histogram.domain=function(_){return arguments.length?(domain="function"==typeof _?_:constant([_[0],_[1]]),histogram):domain},histogram.thresholds=function(_){return arguments.length?(threshold="function"==typeof _?_:Array.isArray(_)?constant(slice.call(_)):constant(_),histogram):threshold},histogram}function quantile(values,p,valueof){if(null==valueof&&(valueof=number),n=values.length){if((p=+p)<=0||n<2)return+valueof(values[0],0,values);if(p>=1)return+valueof(values[n-1],n-1,values);var n,i=(n-1)*p,i0=Math.floor(i),value0=+valueof(values[i0],i0,values);return value0+(+valueof(values[i0+1],i0+1,values)-value0)*(i-i0)}}function freedmanDiaconis(values,min,max){return values=map.call(values,number).sort(ascending),Math.ceil((max-min)/(2*(quantile(values,.75)-quantile(values,.25))*Math.pow(values.length,-1/3)))}function scott(values,min,max){return Math.ceil((max-min)/(3.5*deviation(values)*Math.pow(values.length,-1/3)))}function max(values,valueof){var value,max,n=values.length,i=-1;if(null==valueof){for(;++i<n;)if(null!=(value=values[i])&&value>=value)for(max=value;++i<n;)null!=(value=values[i])&&value>max&&(max=value)}else for(;++i<n;)if(null!=(value=valueof(values[i],i,values))&&value>=value)for(max=value;++i<n;)null!=(value=valueof(values[i],i,values))&&value>max&&(max=value);return max}function mean(values,valueof){var value,n=values.length,m=n,i=-1,sum=0;if(null==valueof)for(;++i<n;)isNaN(value=number(values[i]))?--m:sum+=value;else for(;++i<n;)isNaN(value=number(valueof(values[i],i,values)))?--m:sum+=value;if(m)return sum/m}function median(values,valueof){var value,n=values.length,i=-1,numbers=[];if(null==valueof)for(;++i<n;)isNaN(value=number(values[i]))||numbers.push(value);else for(;++i<n;)isNaN(value=number(valueof(values[i],i,values)))||numbers.push(value);return quantile(numbers.sort(ascending),.5)}function merge(arrays){for(var m,merged,array,n=arrays.length,i=-1,j=0;++i<n;)j+=arrays[i].length;for(merged=new Array(j);--n>=0;)for(m=(array=arrays[n]).length;--m>=0;)merged[--j]=array[m];return merged}function min(values,valueof){var value,min,n=values.length,i=-1;if(null==valueof){for(;++i<n;)if(null!=(value=values[i])&&value>=value)for(min=value;++i<n;)null!=(value=values[i])&&min>value&&(min=value)}else for(;++i<n;)if(null!=(value=valueof(values[i],i,values))&&value>=value)for(min=value;++i<n;)null!=(value=valueof(values[i],i,values))&&min>value&&(min=value);return min}function permute(array,indexes){for(var i=indexes.length,permutes=new Array(i);i--;)permutes[i]=array[indexes[i]];return permutes}function scan(values,compare){if(n=values.length){var n,xi,i=0,j=0,xj=values[j];for(null==compare&&(compare=ascending);++i<n;)(compare(xi=values[i],xj)<0||0!==compare(xj,xj))&&(xj=xi,j=i);return 0===compare(xj,xj)?j:void 0}}function shuffle(array,i0,i1){for(var t,i,m=(null==i1?array.length:i1)-(i0=null==i0?0:+i0);m;)i=Math.random()*m--|0,t=array[m+i0],array[m+i0]=array[i+i0],array[i+i0]=t;return array}function sum(values,valueof){var value,n=values.length,i=-1,sum=0;if(null==valueof)for(;++i<n;)(value=+values[i])&&(sum+=value);else for(;++i<n;)(value=+valueof(values[i],i,values))&&(sum+=value);return sum}function transpose(matrix){if(!(n=matrix.length))return[];for(var i=-1,m=min(matrix,transpose_length),transpose=new Array(m);++i<m;)for(var n,j=-1,row=transpose[i]=new Array(n);++j<n;)row[j]=matrix[j][i];return transpose}function transpose_length(d){return d.length}function zip(){return transpose(arguments)}var array_slice=Array.prototype.slice;function src_identity(x){return x}var axis_top=1,right=2,bottom=3,left=4,epsilon=1e-6;function translateX(x){return"translate("+(x+.5)+",0)"}function translateY(y){return"translate(0,"+(y+.5)+")"}function axis_number(scale){return function(d){return+scale(d)}}function center(scale){var offset=Math.max(0,scale.bandwidth()-1)/2;return scale.round()&&(offset=Math.round(offset)),function(d){return+scale(d)+offset}}function entering(){return!this.__axis}function axis(orient,scale){var tickArguments=[],tickValues=null,tickFormat=null,tickSizeInner=6,tickSizeOuter=6,tickPadding=3,k=orient===axis_top||orient===left?-1:1,x=orient===left||orient===right?"x":"y",transform=orient===axis_top||orient===bottom?translateX:translateY;function axis(context){var values=null==tickValues?scale.ticks?scale.ticks.apply(scale,tickArguments):scale.domain():tickValues,format=null==tickFormat?scale.tickFormat?scale.tickFormat.apply(scale,tickArguments):src_identity:tickFormat,spacing=Math.max(tickSizeInner,0)+tickPadding,range=scale.range(),range0=+range[0]+.5,range1=+range[range.length-1]+.5,position=(scale.bandwidth?center:axis_number)(scale.copy()),selection=context.selection?context.selection():context,path=selection.selectAll(".domain").data([null]),tick=selection.selectAll(".tick").data(values,scale).order(),tickExit=tick.exit(),tickEnter=tick.enter().append("g").attr("class","tick"),line=tick.select("line"),text=tick.select("text");path=path.merge(path.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),tick=tick.merge(tickEnter),line=line.merge(tickEnter.append("line").attr("stroke","currentColor").attr(x+"2",k*tickSizeInner)),text=text.merge(tickEnter.append("text").attr("fill","currentColor").attr(x,k*spacing).attr("dy",orient===axis_top?"0em":orient===bottom?"0.71em":"0.32em")),context!==selection&&(path=path.transition(context),tick=tick.transition(context),line=line.transition(context),text=text.transition(context),tickExit=tickExit.transition(context).attr("opacity",epsilon).attr("transform",(function(d){return isFinite(d=position(d))?transform(d):this.getAttribute("transform")})),tickEnter.attr("opacity",epsilon).attr("transform",(function(d){var p=this.parentNode.__axis;return transform(p&&isFinite(p=p(d))?p:position(d))}))),tickExit.remove(),path.attr("d",orient===left||orient==right?tickSizeOuter?"M"+k*tickSizeOuter+","+range0+"H0.5V"+range1+"H"+k*tickSizeOuter:"M0.5,"+range0+"V"+range1:tickSizeOuter?"M"+range0+","+k*tickSizeOuter+"V0.5H"+range1+"V"+k*tickSizeOuter:"M"+range0+",0.5H"+range1),tick.attr("opacity",1).attr("transform",(function(d){return transform(position(d))})),line.attr(x+"2",k*tickSizeInner),text.attr(x,k*spacing).text(format),selection.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",orient===right?"start":orient===left?"end":"middle"),selection.each((function(){this.__axis=position}))}return axis.scale=function(_){return arguments.length?(scale=_,axis):scale},axis.ticks=function(){return tickArguments=array_slice.call(arguments),axis},axis.tickArguments=function(_){return arguments.length?(tickArguments=null==_?[]:array_slice.call(_),axis):tickArguments.slice()},axis.tickValues=function(_){return arguments.length?(tickValues=null==_?null:array_slice.call(_),axis):tickValues&&tickValues.slice()},axis.tickFormat=function(_){return arguments.length?(tickFormat=_,axis):tickFormat},axis.tickSize=function(_){return arguments.length?(tickSizeInner=tickSizeOuter=+_,axis):tickSizeInner},axis.tickSizeInner=function(_){return arguments.length?(tickSizeInner=+_,axis):tickSizeInner},axis.tickSizeOuter=function(_){return arguments.length?(tickSizeOuter=+_,axis):tickSizeOuter},axis.tickPadding=function(_){return arguments.length?(tickPadding=+_,axis):tickPadding},axis}function axisTop(scale){return axis(axis_top,scale)}function axisRight(scale){return axis(right,scale)}function axisBottom(scale){return axis(bottom,scale)}function axisLeft(scale){return axis(left,scale)}var noop={value:function(){}};function dispatch(){for(var t,i=0,n=arguments.length,_={};i<n;++i){if(!(t=arguments[i]+"")||t in _||/[\s.]/.test(t))throw new Error("illegal type: "+t);_[t]=[]}return new Dispatch(_)}function Dispatch(_){this._=_}function get(type,name){for(var c,i=0,n=type.length;i<n;++i)if((c=type[i]).name===name)return c.value}function set(type,name,callback){for(var i=0,n=type.length;i<n;++i)if(type[i].name===name){type[i]=noop,type=type.slice(0,i).concat(type.slice(i+1));break}return null!=callback&&type.push({name,value:callback}),type}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(typename,callback){var t,_=this._,T=function parseTypenames(typenames,types){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");if(i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),t&&!types.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name}}))}(typename+"",_),i=-1,n=T.length;if(!(arguments.length<2)){if(null!=callback&&"function"!=typeof callback)throw new Error("invalid callback: "+callback);for(;++i<n;)if(t=(typename=T[i]).type)_[t]=set(_[t],typename.name,callback);else if(null==callback)for(t in _)_[t]=set(_[t],typename.name,null);return this}for(;++i<n;)if((t=(typename=T[i]).type)&&(t=get(_[t],typename.name)))return t},copy:function(){var copy={},_=this._;for(var t in _)copy[t]=_[t].slice();return new Dispatch(copy)},call:function(type,that){if((n=arguments.length-2)>0)for(var n,t,args=new Array(n),i=0;i<n;++i)args[i]=arguments[i+2];if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(i=0,n=(t=this._[type]).length;i<n;++i)t[i].value.apply(that,args)},apply:function(type,that,args){if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(var t=this._[type],i=0,n=t.length;i<n;++i)t[i].value.apply(that,args)}};const src_dispatch=dispatch;function none(){}function selector(selector){return null==selector?none:function(){return this.querySelector(selector)}}function empty(){return[]}function selectorAll(selector){return null==selector?empty:function(){return this.querySelectorAll(selector)}}function matcher(selector){return function(){return this.matches(selector)}}function sparse(update){return new Array(update.length)}function EnterNode(parent,datum){this.ownerDocument=parent.ownerDocument,this.namespaceURI=parent.namespaceURI,this._next=null,this._parent=parent,this.__data__=datum}EnterNode.prototype={constructor:EnterNode,appendChild:function(child){return this._parent.insertBefore(child,this._next)},insertBefore:function(child,next){return this._parent.insertBefore(child,next)},querySelector:function(selector){return this._parent.querySelector(selector)},querySelectorAll:function(selector){return this._parent.querySelectorAll(selector)}};function bindIndex(parent,group,enter,update,exit,data){for(var node,i=0,groupLength=group.length,dataLength=data.length;i<dataLength;++i)(node=group[i])?(node.__data__=data[i],update[i]=node):enter[i]=new EnterNode(parent,data[i]);for(;i<groupLength;++i)(node=group[i])&&(exit[i]=node)}function bindKey(parent,group,enter,update,exit,data,key){var i,node,keyValue,nodeByKeyValue={},groupLength=group.length,dataLength=data.length,keyValues=new Array(groupLength);for(i=0;i<groupLength;++i)(node=group[i])&&(keyValues[i]=keyValue="$"+key.call(node,node.__data__,i,group),keyValue in nodeByKeyValue?exit[i]=node:nodeByKeyValue[keyValue]=node);for(i=0;i<dataLength;++i)(node=nodeByKeyValue[keyValue="$"+key.call(parent,data[i],i,data)])?(update[i]=node,node.__data__=data[i],nodeByKeyValue[keyValue]=null):enter[i]=new EnterNode(parent,data[i]);for(i=0;i<groupLength;++i)(node=group[i])&&nodeByKeyValue[keyValues[i]]===node&&(exit[i]=node)}function sort_ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(name){var prefix=name+="",i=prefix.indexOf(":");return i>=0&&"xmlns"!==(prefix=name.slice(0,i))&&(name=name.slice(i+1)),namespaces.hasOwnProperty(prefix)?{space:namespaces[prefix],local:name}:name}function attrRemove(name){return function(){this.removeAttribute(name)}}function attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant(name,value){return function(){this.setAttribute(name,value)}}function attrConstantNS(fullname,value){return function(){this.setAttributeNS(fullname.space,fullname.local,value)}}function attrFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttribute(name):this.setAttribute(name,v)}}function attrFunctionNS(fullname,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttributeNS(fullname.space,fullname.local):this.setAttributeNS(fullname.space,fullname.local,v)}}function src_window(node){return node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView}function styleRemove(name){return function(){this.style.removeProperty(name)}}function styleConstant(name,value,priority){return function(){this.style.setProperty(name,value,priority)}}function styleFunction(name,value,priority){return function(){var v=value.apply(this,arguments);null==v?this.style.removeProperty(name):this.style.setProperty(name,v,priority)}}function styleValue(node,name){return node.style.getPropertyValue(name)||src_window(node).getComputedStyle(node,null).getPropertyValue(name)}function propertyRemove(name){return function(){delete this[name]}}function propertyConstant(name,value){return function(){this[name]=value}}function propertyFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?delete this[name]:this[name]=v}}function classArray(string){return string.trim().split(/^|\s+/)}function classList(node){return node.classList||new ClassList(node)}function ClassList(node){this._node=node,this._names=classArray(node.getAttribute("class")||"")}function classedAdd(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.add(names[i])}function classedRemove(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.remove(names[i])}function classedTrue(names){return function(){classedAdd(this,names)}}function classedFalse(names){return function(){classedRemove(this,names)}}function classedFunction(names,value){return function(){(value.apply(this,arguments)?classedAdd:classedRemove)(this,names)}}function textRemove(){this.textContent=""}function textConstant(value){return function(){this.textContent=value}}function textFunction(value){return function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}}function htmlRemove(){this.innerHTML=""}function htmlConstant(value){return function(){this.innerHTML=value}}function htmlFunction(value){return function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function creatorInherit(name){return function(){var document=this.ownerDocument,uri=this.namespaceURI;return uri===xhtml&&document.documentElement.namespaceURI===xhtml?document.createElement(name):document.createElementNS(uri,name)}}function creatorFixed(fullname){return function(){return this.ownerDocument.createElementNS(fullname.space,fullname.local)}}function creator(name){var fullname=namespace(name);return(fullname.local?creatorFixed:creatorInherit)(fullname)}function constantNull(){return null}function remove(){var parent=this.parentNode;parent&&parent.removeChild(this)}function selection_cloneShallow(){var clone=this.cloneNode(!1),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function selection_cloneDeep(){var clone=this.cloneNode(!0),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}ClassList.prototype={add:function(name){this._names.indexOf(name)<0&&(this._names.push(name),this._node.setAttribute("class",this._names.join(" ")))},remove:function(name){var i=this._names.indexOf(name);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(name){return this._names.indexOf(name)>=0}};var filterEvents={},on_event=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(filterEvents={mouseenter:"mouseover",mouseleave:"mouseout"}));function filterContextListener(listener,index,group){return listener=contextListener(listener,index,group),function(event){var related=event.relatedTarget;related&&(related===this||8&related.compareDocumentPosition(this))||listener.call(this,event)}}function contextListener(listener,index,group){return function(event1){var event0=on_event;on_event=event1;try{listener.call(this,this.__data__,index,group)}finally{on_event=event0}}}function onRemove(typename){return function(){var on=this.__on;if(on){for(var o,j=0,i=-1,m=on.length;j<m;++j)o=on[j],typename.type&&o.type!==typename.type||o.name!==typename.name?on[++i]=o:this.removeEventListener(o.type,o.listener,o.capture);++i?on.length=i:delete this.__on}}}function onAdd(typename,value,capture){var wrap=filterEvents.hasOwnProperty(typename.type)?filterContextListener:contextListener;return function(d,i,group){var o,on=this.__on,listener=wrap(value,i,group);if(on)for(var j=0,m=on.length;j<m;++j)if((o=on[j]).type===typename.type&&o.name===typename.name)return this.removeEventListener(o.type,o.listener,o.capture),this.addEventListener(o.type,o.listener=listener,o.capture=capture),void(o.value=value);this.addEventListener(typename.type,listener,capture),o={type:typename.type,name:typename.name,value,listener,capture},on?on.push(o):this.__on=[o]}}function customEvent(event1,listener,that,args){var event0=on_event;event1.sourceEvent=on_event,on_event=event1;try{return listener.apply(that,args)}finally{on_event=event0}}function dispatchEvent(node,type,params){var window=src_window(node),event=window.CustomEvent;"function"==typeof event?event=new event(type,params):(event=window.document.createEvent("Event"),params?(event.initEvent(type,params.bubbles,params.cancelable),event.detail=params.detail):event.initEvent(type,!1,!1)),node.dispatchEvent(event)}function dispatchConstant(type,params){return function(){return dispatchEvent(this,type,params)}}function dispatchFunction(type,params){return function(){return dispatchEvent(this,type,params.apply(this,arguments))}}var root=[null];function Selection(groups,parents){this._groups=groups,this._parents=parents}function selection(){return new Selection([[document.documentElement]],root)}Selection.prototype=selection.prototype={constructor:Selection,select:function selection_select(select){"function"!=typeof select&&(select=selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode);return new Selection(subgroups,this._parents)},selectAll:function selectAll(select){"function"!=typeof select&&(select=selectorAll(select));for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&(subgroups.push(select.call(node,node.__data__,i,group)),parents.push(node));return new Selection(subgroups,parents)},filter:function filter(match){"function"!=typeof match&&(match=matcher(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Selection(subgroups,this._parents)},data:function data(value,key){if(!value)return data=new Array(this.size()),j=-1,this.each((function(d){data[++j]=d})),data;var bind=key?bindKey:bindIndex,parents=this._parents,groups=this._groups;"function"!=typeof value&&(value=function src_constant(x){return function(){return x}}(value));for(var m=groups.length,update=new Array(m),enter=new Array(m),exit=new Array(m),j=0;j<m;++j){var parent=parents[j],group=groups[j],groupLength=group.length,data=value.call(parent,parent&&parent.__data__,j,parents),dataLength=data.length,enterGroup=enter[j]=new Array(dataLength),updateGroup=update[j]=new Array(dataLength);bind(parent,group,enterGroup,updateGroup,exit[j]=new Array(groupLength),data,key);for(var previous,next,i0=0,i1=0;i0<dataLength;++i0)if(previous=enterGroup[i0]){for(i0>=i1&&(i1=i0+1);!(next=updateGroup[i1])&&++i1<dataLength;);previous._next=next||null}}return(update=new Selection(update,parents))._enter=enter,update._exit=exit,update},enter:function enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)},exit:function exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)},join:function join(onenter,onupdate,onexit){var enter=this.enter(),update=this,exit=this.exit();return enter="function"==typeof onenter?onenter(enter):enter.append(onenter+""),null!=onupdate&&(update=onupdate(update)),null==onexit?exit.remove():onexit(exit),enter&&update?enter.merge(update).order():update},merge:function selection_merge(selection){for(var groups0=this._groups,groups1=selection._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Selection(merges,this._parents)},order:function order(){for(var groups=this._groups,j=-1,m=groups.length;++j<m;)for(var node,group=groups[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&4^node.compareDocumentPosition(next)&&next.parentNode.insertBefore(node,next),next=node);return this},sort:function sort(compare){function compareNode(a,b){return a&&b?compare(a.__data__,b.__data__):!a-!b}compare||(compare=sort_ascending);for(var groups=this._groups,m=groups.length,sortgroups=new Array(m),j=0;j<m;++j){for(var node,group=groups[j],n=group.length,sortgroup=sortgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(sortgroup[i]=node);sortgroup.sort(compareNode)}return new Selection(sortgroups,this._parents).order()},call:function call(){var callback=arguments[0];return arguments[0]=this,callback.apply(null,arguments),this},nodes:function nodes(){var nodes=new Array(this.size()),i=-1;return this.each((function(){nodes[++i]=this})),nodes},node:function node(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var group=groups[j],i=0,n=group.length;i<n;++i){var node=group[i];if(node)return node}return null},size:function size(){var size=0;return this.each((function(){++size})),size},empty:function selection_empty(){return!this.node()},each:function each(callback){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&callback.call(node,node.__data__,i,group);return this},attr:function attr(name,value){var fullname=namespace(name);if(arguments.length<2){var node=this.node();return fullname.local?node.getAttributeNS(fullname.space,fullname.local):node.getAttribute(fullname)}return this.each((null==value?fullname.local?attrRemoveNS:attrRemove:"function"==typeof value?fullname.local?attrFunctionNS:attrFunction:fullname.local?attrConstantNS:attrConstant)(fullname,value))},style:function style(name,value,priority){return arguments.length>1?this.each((null==value?styleRemove:"function"==typeof value?styleFunction:styleConstant)(name,value,null==priority?"":priority)):styleValue(this.node(),name)},property:function property(name,value){return arguments.length>1?this.each((null==value?propertyRemove:"function"==typeof value?propertyFunction:propertyConstant)(name,value)):this.node()[name]},classed:function classed(name,value){var names=classArray(name+"");if(arguments.length<2){for(var list=classList(this.node()),i=-1,n=names.length;++i<n;)if(!list.contains(names[i]))return!1;return!0}return this.each(("function"==typeof value?classedFunction:value?classedTrue:classedFalse)(names,value))},text:function selection_text(value){return arguments.length?this.each(null==value?textRemove:("function"==typeof value?textFunction:textConstant)(value)):this.node().textContent},html:function html(value){return arguments.length?this.each(null==value?htmlRemove:("function"==typeof value?htmlFunction:htmlConstant)(value)):this.node().innerHTML},raise:function selection_raise(){return this.each(raise)},lower:function selection_lower(){return this.each(lower)},append:function append(name){var create="function"==typeof name?name:creator(name);return this.select((function(){return this.appendChild(create.apply(this,arguments))}))},insert:function insert(name,before){var create="function"==typeof name?name:creator(name),select=null==before?constantNull:"function"==typeof before?before:selector(before);return this.select((function(){return this.insertBefore(create.apply(this,arguments),select.apply(this,arguments)||null)}))},remove:function selection_remove(){return this.each(remove)},clone:function clone(deep){return this.select(deep?selection_cloneDeep:selection_cloneShallow)},datum:function datum(value){return arguments.length?this.property("__data__",value):this.node().__data__},on:function on(typename,value,capture){var i,t,typenames=function on_parseTypenames(typenames){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");return i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),{type:t,name}}))}(typename+""),n=typenames.length;if(!(arguments.length<2)){for(on=value?onAdd:onRemove,null==capture&&(capture=!1),i=0;i<n;++i)this.each(on(typenames[i],value,capture));return this}var on=this.node().__on;if(on)for(var o,j=0,m=on.length;j<m;++j)for(i=0,o=on[j];i<n;++i)if((t=typenames[i]).type===o.type&&t.name===o.name)return o.value},dispatch:function selection_dispatch(type,params){return this.each(("function"==typeof params?dispatchFunction:dispatchConstant)(type,params))}};const src_selection=selection;function src_select(selector){return"string"==typeof selector?new Selection([[document.querySelector(selector)]],[document.documentElement]):new Selection([[selector]],root)}function nopropagation(){on_event.stopImmediatePropagation()}function noevent(){on_event.preventDefault(),on_event.stopImmediatePropagation()}function nodrag(view){var root=view.document.documentElement,selection=src_select(view).on("dragstart.drag",noevent,!0);"onselectstart"in root?selection.on("selectstart.drag",noevent,!0):(root.__noselect=root.style.MozUserSelect,root.style.MozUserSelect="none")}function yesdrag(view,noclick){var root=view.document.documentElement,selection=src_select(view).on("dragstart.drag",null);noclick&&(selection.on("click.drag",noevent,!0),setTimeout((function(){selection.on("click.drag",null)}),0)),"onselectstart"in root?selection.on("selectstart.drag",null):(root.style.MozUserSelect=root.__noselect,delete root.__noselect)}function src_define(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color(){}var brighter=1/.7,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(format){var m,l;return format=(format+"").trim().toLowerCase(),(m=reHex.exec(format))?(l=m[1].length,m=parseInt(m[1],16),6===l?rgbn(m):3===l?new Rgb(m>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):8===l?rgba(m>>24&255,m>>16&255,m>>8&255,(255&m)/255):4===l?rgba(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|240&m,((15&m)<<4|15&m)/255):null):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function rgbConvert(o){return o instanceof Color||(o=color(o)),o?new Rgb((o=o.rgb()).r,o.g,o.b,o.opacity):new Rgb}function color_rgb(r,g,b,opacity){return 1===arguments.length?rgbConvert(r):new Rgb(r,g,b,null==opacity?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function hex(value){return((value=Math.max(0,Math.min(255,Math.round(value)||0)))<16?"0":"")+value.toString(16)}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;var r=(o=o.rgb()).r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}function hsl(h,s,l,opacity){return 1===arguments.length?hslConvert(h):new Hsl(h,s,l,null==opacity?1:opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}function basis(t1,v0,v1,v2,v3){var t2=t1*t1,t3=t2*t1;return((1-3*t1+3*t2-t3)*v0+(4-6*t2+3*t3)*v1+(1+3*t1+3*t2-3*t3)*v2+t3*v3)/6}function src_basis(values){var n=values.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),v1=values[i],v2=values[i+1],v0=i>0?values[i-1]:2*v1-v2,v3=i<n-1?values[i+2]:2*v2-v1;return basis((t-i/n)*n,v0,v1,v2,v3)}}function basisClosed(values){var n=values.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n),v0=values[(i+n-1)%n],v1=values[i%n],v2=values[(i+1)%n],v3=values[(i+2)%n];return basis((t-i/n)*n,v0,v1,v2,v3)}}function d3_interpolate_src_constant(x){return function(){return x}}function linear(a,d){return function(t){return a+t*d}}function hue(a,b){var d=b-a;return d?linear(a,d>180||d<-180?d-360*Math.round(d/360):d):d3_interpolate_src_constant(isNaN(a)?b:a)}function gamma(y){return 1===(y=+y)?nogamma:function(a,b){return b-a?function exponential(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}(a,b,y):d3_interpolate_src_constant(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?linear(a,d):d3_interpolate_src_constant(isNaN(a)?b:a)}src_define(Color,color,{copy:function(channels){return Object.assign(new this.constructor,this,channels)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:function color_formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),src_define(Rgb,color_rgb,extend(Color,{brighter:function(k){return k=null==k?brighter:Math.pow(brighter,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker:function(k){return k=null==k?.7:Math.pow(.7,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),src_define(Hsl,hsl,extend(Color,{brighter:function(k){return k=null==k?brighter:Math.pow(brighter,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker:function(k){return k=null==k?.7:Math.pow(.7,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var a=this.opacity;return(1===(a=isNaN(a)?1:Math.max(0,Math.min(1,a)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}));const rgb=function rgbGamma(y){var color=gamma(y);function rgb(start,end){var r=color((start=color_rgb(start)).r,(end=color_rgb(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(spline){return function(colors){var i,color,n=colors.length,r=new Array(n),g=new Array(n),b=new Array(n);for(i=0;i<n;++i)color=color_rgb(colors[i]),r[i]=color.r||0,g[i]=color.g||0,b[i]=color.b||0;return r=spline(r),g=spline(g),b=spline(b),color.opacity=1,function(t){return color.r=r(t),color.g=g(t),color.b=b(t),color+""}}}var rgbBasis=rgbSpline(src_basis),rgbBasisClosed=rgbSpline(basisClosed);function numberArray(a,b){b||(b=[]);var i,n=a?Math.min(b.length,a.length):0,c=b.slice();return function(t){for(i=0;i<n;++i)c[i]=a[i]*(1-t)+b[i]*t;return c}}function isNumberArray(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}function src_array(a,b){return(isNumberArray(b)?numberArray:genericArray)(a,b)}function genericArray(a,b){var i,nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=new Array(na),c=new Array(nb);for(i=0;i<na;++i)x[i]=value(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}}function date(a,b){var d=new Date;return a=+a,b=+b,function(t){return d.setTime(a*(1-t)+b*t),d}}function src_number(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function object(a,b){var k,i={},c={};for(k in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)k in a?i[k]=value(a[k],b[k]):c[k]=b[k];return function(t){for(k in i)c[k]=i[k](t);return c}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function string(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i,x:src_number(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?function one(b){return function(t){return b(t)+""}}(q[0].x):function zero(b){return function(){return b}}(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function value(a,b){var c,t=typeof b;return null==b||"boolean"===t?d3_interpolate_src_constant(b):("number"===t?src_number:"string"===t?(c=color(b))?(b=c,rgb):string:b instanceof color?rgb:b instanceof Date?date:isNumberArray(b)?numberArray:Array.isArray(b)?genericArray:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?object:src_number)(a,b)}function sourceEvent(){for(var source,current=on_event;source=current.sourceEvent;)current=source;return current}function point(node,event){var svg=node.ownerSVGElement||node;if(svg.createSVGPoint){var point=svg.createSVGPoint();return point.x=event.clientX,point.y=event.clientY,[(point=point.matrixTransform(node.getScreenCTM().inverse())).x,point.y]}var rect=node.getBoundingClientRect();return[event.clientX-rect.left-node.clientLeft,event.clientY-rect.top-node.clientTop]}function touch(node,touches,identifier){arguments.length<3&&(identifier=touches,touches=sourceEvent().changedTouches);for(var touch,i=0,n=touches?touches.length:0;i<n;++i)if((touch=touches[i]).identifier===identifier)return point(node,touch);return null}function mouse(node){var event=sourceEvent();return event.changedTouches&&(event=event.changedTouches[0]),point(node,event)}var taskHead,taskTail,timer_frame=0,timeout=0,interval=0,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(f){setTimeout(f,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(callback,delay,time){var t=new Timer;return t.restart(callback,delay,time),t}function timerFlush(){now(),++timer_frame;for(var e,t=taskHead;t;)(e=clockNow-t._time)>=0&&t._call.call(null,e),t=t._next;--timer_frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,timer_frame=timeout=0;try{timerFlush()}finally{timer_frame=0,function nap(){var t0,t2,t1=taskHead,time=1/0;for(;t1;)t1._call?(time>t1._time&&(time=t1._time),t0=t1,t1=t1._next):(t2=t1._next,t1._next=null,t1=t0?t0._next=t2:taskHead=t2);taskTail=t0,sleep(time)}(),clockNow=0}}function poke(){var now=clock.now(),delay=now-clockLast;delay>1e3&&(clockSkew-=delay,clockLast=now)}function sleep(time){timer_frame||(timeout&&(timeout=clearTimeout(timeout)),time-clockNow>24?(time<1/0&&(timeout=setTimeout(wake,time-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,1e3)),timer_frame=1,setFrame(wake)))}function src_timeout(callback,delay,time){var t=new Timer;return delay=null==delay?0:+delay,t.restart((function(elapsed){t.stop(),callback(elapsed+delay)}),delay,time),t}Timer.prototype=timer.prototype={constructor:Timer,restart:function(callback,delay,time){if("function"!=typeof callback)throw new TypeError("callback is not a function");time=(null==time?now():+time)+(null==delay?0:+delay),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=callback,this._time=time,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=src_dispatch("start","end","cancel","interrupt"),emptyTween=[],SCHEDULED=1,STARTING=2,ENDING=5,ENDED=6;function schedule(node,name,id,index,group,timing){var schedules=node.__transition;if(schedules){if(id in schedules)return}else node.__transition={};!function create(node,id,self){var tween,schedules=node.__transition;function schedule(elapsed){self.state=SCHEDULED,self.timer.restart(start,self.delay,self.time),self.delay<=elapsed&&start(elapsed-self.delay)}function start(elapsed){var i,j,n,o;if(self.state!==SCHEDULED)return stop();for(i in schedules)if((o=schedules[i]).name===self.name){if(3===o.state)return src_timeout(start);4===o.state?(o.state=ENDED,o.timer.stop(),o.on.call("interrupt",node,node.__data__,o.index,o.group),delete schedules[i]):+i<id&&(o.state=ENDED,o.timer.stop(),o.on.call("cancel",node,node.__data__,o.index,o.group),delete schedules[i])}if(src_timeout((function(){3===self.state&&(self.state=4,self.timer.restart(tick,self.delay,self.time),tick(elapsed))})),self.state=STARTING,self.on.call("start",node,node.__data__,self.index,self.group),self.state===STARTING){for(self.state=3,tween=new Array(n=self.tween.length),i=0,j=-1;i<n;++i)(o=self.tween[i].value.call(node,node.__data__,self.index,self.group))&&(tween[++j]=o);tween.length=j+1}}function tick(elapsed){for(var t=elapsed<self.duration?self.ease.call(null,elapsed/self.duration):(self.timer.restart(stop),self.state=ENDING,1),i=-1,n=tween.length;++i<n;)tween[i].call(node,t);self.state===ENDING&&(self.on.call("end",node,node.__data__,self.index,self.group),stop())}function stop(){for(var i in self.state=ENDED,self.timer.stop(),delete schedules[id],schedules)return;delete node.__transition}schedules[id]=self,self.timer=timer(schedule,0,self.time)}(node,id,{name,index,group,on:emptyOn,tween:emptyTween,time:timing.time,delay:timing.delay,duration:timing.duration,ease:timing.ease,timer:null,state:0})}function init(node,id){var schedule=schedule_get(node,id);if(schedule.state>0)throw new Error("too late; already scheduled");return schedule}function schedule_set(node,id){var schedule=schedule_get(node,id);if(schedule.state>3)throw new Error("too late; already running");return schedule}function schedule_get(node,id){var schedule=node.__transition;if(!schedule||!(schedule=schedule[id]))throw new Error("transition not found");return schedule}function interrupt(node,name){var schedule,active,i,schedules=node.__transition,empty=!0;if(schedules){for(i in name=null==name?null:name+"",schedules)(schedule=schedules[i]).name===name?(active=schedule.state>STARTING&&schedule.state<ENDING,schedule.state=ENDED,schedule.timer.stop(),schedule.on.call(active?"interrupt":"cancel",node,node.__data__,schedule.index,schedule.group),delete schedules[i]):empty=!1;empty&&delete node.__transition}}var cssNode,cssRoot,cssView,svgNode,degrees=180/Math.PI,decompose_identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(a,b,c,d,e,f){var scaleX,scaleY,skewX;return(scaleX=Math.sqrt(a*a+b*b))&&(a/=scaleX,b/=scaleX),(skewX=a*c+b*d)&&(c-=a*skewX,d-=b*skewX),(scaleY=Math.sqrt(c*c+d*d))&&(c/=scaleY,d/=scaleY,skewX/=scaleY),a*d<b*c&&(a=-a,b=-b,skewX=-skewX,scaleX=-scaleX),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,skewX:Math.atan(skewX)*degrees,scaleX,scaleY}}function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=parse(a),b=parse(b),function translate(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push("translate(",null,pxComma,null,pxParen);q.push({i:i-4,x:src_number(xa,xb)},{i:i-2,x:src_number(ya,yb)})}else(xb||yb)&&s.push("translate("+xb+pxComma+yb+pxParen)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function rotate(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:src_number(a,b)})):b&&s.push(pop(s)+"rotate("+b+degParen)}(a.rotate,b.rotate,s,q),function skewX(a,b,s,q){a!==b?q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:src_number(a,b)}):b&&s.push(pop(s)+"skewX("+b+degParen)}(a.skewX,b.skewX,s,q),function scale(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push(pop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:src_number(xa,xb)},{i:i-2,x:src_number(ya,yb)})}else 1===xb&&1===yb||s.push(pop(s)+"scale("+xb+","+yb+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var o,i=-1,n=q.length;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}}var interpolateTransformCss=interpolateTransform((function parseCss(value){return"none"===value?decompose_identity:(cssNode||(cssNode=document.createElement("DIV"),cssRoot=document.documentElement,cssView=document.defaultView),cssNode.style.transform=value,value=cssView.getComputedStyle(cssRoot.appendChild(cssNode),null).getPropertyValue("transform"),cssRoot.removeChild(cssNode),decompose(+(value=value.slice(7,-1).split(","))[0],+value[1],+value[2],+value[3],+value[4],+value[5]))}),"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform((function parseSvg(value){return null==value?decompose_identity:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",value),(value=svgNode.transform.baseVal.consolidate())?decompose((value=value.matrix).a,value.b,value.c,value.d,value.e,value.f):decompose_identity)}),", ",")",")");function tweenRemove(id,name){var tween0,tween1;return function(){var schedule=schedule_set(this,id),tween=schedule.tween;if(tween!==tween0)for(var i=0,n=(tween1=tween0=tween).length;i<n;++i)if(tween1[i].name===name){(tween1=tween1.slice()).splice(i,1);break}schedule.tween=tween1}}function tweenFunction(id,name,value){var tween0,tween1;if("function"!=typeof value)throw new Error;return function(){var schedule=schedule_set(this,id),tween=schedule.tween;if(tween!==tween0){tween1=(tween0=tween).slice();for(var t={name,value},i=0,n=tween1.length;i<n;++i)if(tween1[i].name===name){tween1[i]=t;break}i===n&&tween1.push(t)}schedule.tween=tween1}}function tweenValue(transition,name,value){var id=transition._id;return transition.each((function(){var schedule=schedule_set(this,id);(schedule.value||(schedule.value={}))[name]=value.apply(this,arguments)})),function(node){return schedule_get(node,id).value[name]}}function interpolate(a,b){var c;return("number"==typeof b?src_number:b instanceof color?rgb:(c=color(b))?(b=c,rgb):string)(a,b)}function attr_attrRemove(name){return function(){this.removeAttribute(name)}}function attr_attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attr_attrConstant(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttribute(name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attr_attrConstantNS(fullname,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttributeNS(fullname.space,fullname.local);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attr_attrFunction(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttribute(name))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttribute(name)}}function attr_attrFunctionNS(fullname,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttributeNS(fullname.space,fullname.local))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttributeNS(fullname.space,fullname.local)}}function attrTweenNS(fullname,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function attrInterpolateNS(fullname,i){return function(t){this.setAttributeNS(fullname.space,fullname.local,i.call(this,t))}}(fullname,i)),t0}return tween._value=value,tween}function attrTween(name,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function attrInterpolate(name,i){return function(t){this.setAttribute(name,i.call(this,t))}}(name,i)),t0}return tween._value=value,tween}function delayFunction(id,value){return function(){init(this,id).delay=+value.apply(this,arguments)}}function delayConstant(id,value){return value=+value,function(){init(this,id).delay=value}}function durationFunction(id,value){return function(){schedule_set(this,id).duration=+value.apply(this,arguments)}}function durationConstant(id,value){return value=+value,function(){schedule_set(this,id).duration=value}}var selection_Selection=src_selection.prototype.constructor;function style_styleRemove(name){return function(){this.style.removeProperty(name)}}var id=0;function Transition(groups,parents,name,id){this._groups=groups,this._parents=parents,this._name=name,this._id=id}function transition_transition(name){return src_selection().transition(name)}function newId(){return++id}var selection_prototype=src_selection.prototype;function cubicIn(t){return t*t*t}function cubicOut(t){return--t*t*t+1}function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Transition.prototype=transition_transition.prototype={constructor:Transition,select:function transition_select(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode,schedule(subgroup[i],name,id,i,subgroup,schedule_get(node,id)));return new Transition(subgroups,this._parents,name,id)},selectAll:function transition_selectAll(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=selectorAll(select));for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){for(var child,children=select.call(node,node.__data__,i,group),inherit=schedule_get(node,id),k=0,l=children.length;k<l;++k)(child=children[k])&&schedule(child,name,id,k,children,inherit);subgroups.push(children),parents.push(node)}return new Transition(subgroups,parents,name,id)},filter:function transition_filter(match){"function"!=typeof match&&(match=matcher(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Transition(subgroups,this._parents,this._name,this._id)},merge:function transition_merge(transition){if(transition._id!==this._id)throw new Error;for(var groups0=this._groups,groups1=transition._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Transition(merges,this._parents,this._name,this._id)},selection:function transition_selection(){return new selection_Selection(this._groups,this._parents)},transition:function transition(){for(var name=this._name,id0=this._id,id1=newId(),groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){var inherit=schedule_get(node,id0);schedule(node,name,id1,i,group,{time:inherit.time+inherit.delay+inherit.duration,delay:0,duration:inherit.duration,ease:inherit.ease})}return new Transition(groups,this._parents,name,id1)},call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:function transition_on(name,listener){var id=this._id;return arguments.length<2?schedule_get(this.node(),id).on.on(name):this.each(function onFunction(id,name,listener){var on0,on1,sit=function start(name){return(name+"").trim().split(/^|\s+/).every((function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||"start"===t}))}(name)?init:schedule_set;return function(){var schedule=sit(this,id),on=schedule.on;on!==on0&&(on1=(on0=on).copy()).on(name,listener),schedule.on=on1}}(id,name,listener))},attr:function transition_attr(name,value){var fullname=namespace(name),i="transform"===fullname?interpolateTransformSvg:interpolate;return this.attrTween(name,"function"==typeof value?(fullname.local?attr_attrFunctionNS:attr_attrFunction)(fullname,i,tweenValue(this,"attr."+name,value)):null==value?(fullname.local?attr_attrRemoveNS:attr_attrRemove)(fullname):(fullname.local?attr_attrConstantNS:attr_attrConstant)(fullname,i,value))},attrTween:function transition_attrTween(name,value){var key="attr."+name;if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;var fullname=namespace(name);return this.tween(key,(fullname.local?attrTweenNS:attrTween)(fullname,value))},style:function transition_style(name,value,priority){var i="transform"==(name+="")?interpolateTransformCss:interpolate;return null==value?this.styleTween(name,function styleNull(name,interpolate){var string00,string10,interpolate0;return function(){var string0=styleValue(this,name),string1=(this.style.removeProperty(name),styleValue(this,name));return string0===string1?null:string0===string00&&string1===string10?interpolate0:interpolate0=interpolate(string00=string0,string10=string1)}}(name,i)).on("end.style."+name,style_styleRemove(name)):"function"==typeof value?this.styleTween(name,function style_styleFunction(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0=styleValue(this,name),value1=value(this),string1=value1+"";return null==value1&&(this.style.removeProperty(name),string1=value1=styleValue(this,name)),string0===string1?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1))}}(name,i,tweenValue(this,"style."+name,value))).each(function styleMaybeRemove(id,name){var on0,on1,listener0,remove,key="style."+name,event="end."+key;return function(){var schedule=schedule_set(this,id),on=schedule.on,listener=null==schedule.value[key]?remove||(remove=style_styleRemove(name)):void 0;on===on0&&listener0===listener||(on1=(on0=on).copy()).on(event,listener0=listener),schedule.on=on1}}(this._id,name)):this.styleTween(name,function style_styleConstant(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=styleValue(this,name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}(name,i,value),priority).on("end.style."+name,null)},styleTween:function transition_styleTween(name,value,priority){var key="style."+(name+="");if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,function styleTween(name,value,priority){var t,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t=(i0=i)&&function styleInterpolate(name,i,priority){return function(t){this.style.setProperty(name,i.call(this,t),priority)}}(name,i,priority)),t}return tween._value=value,tween}(name,value,null==priority?"":priority))},text:function transition_text(value){return this.tween("text","function"==typeof value?function text_textFunction(value){return function(){var value1=value(this);this.textContent=null==value1?"":value1}}(tweenValue(this,"text",value)):function text_textConstant(value){return function(){this.textContent=value}}(null==value?"":value+""))},textTween:function transition_textTween(value){var key="text";if(arguments.length<1)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,function textTween(value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function textInterpolate(i){return function(t){this.textContent=i.call(this,t)}}(i)),t0}return tween._value=value,tween}(value))},remove:function transition_remove(){return this.on("end.remove",function removeFunction(id){return function(){var parent=this.parentNode;for(var i in this.__transition)if(+i!==id)return;parent&&parent.removeChild(this)}}(this._id))},tween:function tween(name,value){var id=this._id;if(name+="",arguments.length<2){for(var t,tween=schedule_get(this.node(),id).tween,i=0,n=tween.length;i<n;++i)if((t=tween[i]).name===name)return t.value;return null}return this.each((null==value?tweenRemove:tweenFunction)(id,name,value))},delay:function delay(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?delayFunction:delayConstant)(id,value)):schedule_get(this.node(),id).delay},duration:function duration(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?durationFunction:durationConstant)(id,value)):schedule_get(this.node(),id).duration},ease:function ease(value){var id=this._id;return arguments.length?this.each(function easeConstant(id,value){if("function"!=typeof value)throw new Error;return function(){schedule_set(this,id).ease=value}}(id,value)):schedule_get(this.node(),id).ease},end:function end(){var on0,on1,that=this,id=that._id,size=that.size();return new Promise((function(resolve,reject){var cancel={value:reject},end={value:function(){0===--size&&resolve()}};that.each((function(){var schedule=schedule_set(this,id),on=schedule.on;on!==on0&&((on1=(on0=on).copy())._.cancel.push(cancel),on1._.interrupt.push(cancel),on1._.end.push(end)),schedule.on=on1}))}))}};var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(node,id){for(var timing;!(timing=node.__transition)||!(timing=timing[id]);)if(!(node=node.parentNode))return defaultTiming.time=now(),defaultTiming;return timing}src_selection.prototype.interrupt=function selection_interrupt(name){return this.each((function(){interrupt(this,name)}))},src_selection.prototype.transition=function selection_transition(name){var id,timing;name instanceof Transition?(id=name._id,name=name._name):(id=newId(),(timing=defaultTiming).time=now(),name=null==name?null:name+"");for(var groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&schedule(node,name,id,i,group,timing||inherit(node,id));return new Transition(groups,this._parents,name,id)};var active_root=[null];function active(node,name){var schedule,i,schedules=node.__transition;if(schedules)for(i in name=null==name?null:name+"",schedules)if((schedule=schedules[i]).state>SCHEDULED&&schedule.name===name)return new Transition([[node]],active_root,name,+i);return null}function d3_brush_src_constant(x){return function(){return x}}function src_event(target,type,selection){this.target=target,this.type=type,this.selection=selection}function noevent_nopropagation(){on_event.stopImmediatePropagation()}function src_noevent(){on_event.preventDefault(),on_event.stopImmediatePropagation()}var MODE_DRAG={name:"drag"},MODE_SPACE={name:"space"},MODE_HANDLE={name:"handle"},MODE_CENTER={name:"center"};function number1(e){return[+e[0],+e[1]]}function number2(e){return[number1(e[0]),number1(e[1])]}var X={name:"x",handles:["w","e"].map(type),input:function(x,e){return null==x?null:[[+x[0],e[0][1]],[+x[1],e[1][1]]]},output:function(xy){return xy&&[xy[0][0],xy[1][0]]}},Y={name:"y",handles:["n","s"].map(type),input:function(y,e){return null==y?null:[[e[0][0],+y[0]],[e[1][0],+y[1]]]},output:function(xy){return xy&&[xy[0][1],xy[1][1]]}},XY={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(type),input:function(xy){return null==xy?null:number2(xy)},output:function(xy){return xy}},cursors={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},flipX={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},flipY={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},signsX={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},signsY={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function type(t){return{type:t}}function defaultFilter(){return!on_event.ctrlKey&&!on_event.button}function defaultExtent(){var svg=this.ownerSVGElement||this;return svg.hasAttribute("viewBox")?[[(svg=svg.viewBox.baseVal).x,svg.y],[svg.x+svg.width,svg.y+svg.height]]:[[0,0],[svg.width.baseVal.value,svg.height.baseVal.value]]}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function local(node){for(;!node.__brush;)if(!(node=node.parentNode))return;return node.__brush}function brushSelection(node){var state=node.__brush;return state?state.dim.output(state.selection):null}function brushX(){return brush_brush(X)}function brushY(){return brush_brush(Y)}function brush(){return brush_brush(XY)}function brush_brush(dim){var touchending,extent=defaultExtent,filter=defaultFilter,touchable=defaultTouchable,keys=!0,listeners=src_dispatch("start","brush","end"),handleSize=6;function brush(group){var overlay=group.property("__brush",initialize).selectAll(".overlay").data([type("overlay")]);overlay.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",cursors.overlay).merge(overlay).each((function(){var extent=local(this).extent;src_select(this).attr("x",extent[0][0]).attr("y",extent[0][1]).attr("width",extent[1][0]-extent[0][0]).attr("height",extent[1][1]-extent[0][1])})),group.selectAll(".selection").data([type("selection")]).enter().append("rect").attr("class","selection").attr("cursor",cursors.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var handle=group.selectAll(".handle").data(dim.handles,(function(d){return d.type}));handle.exit().remove(),handle.enter().append("rect").attr("class",(function(d){return"handle handle--"+d.type})).attr("cursor",(function(d){return cursors[d.type]})),group.each(redraw).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",started).filter(touchable).on("touchstart.brush",started).on("touchmove.brush",touchmoved).on("touchend.brush touchcancel.brush",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function redraw(){var group=src_select(this),selection=local(this).selection;selection?(group.selectAll(".selection").style("display",null).attr("x",selection[0][0]).attr("y",selection[0][1]).attr("width",selection[1][0]-selection[0][0]).attr("height",selection[1][1]-selection[0][1]),group.selectAll(".handle").style("display",null).attr("x",(function(d){return"e"===d.type[d.type.length-1]?selection[1][0]-handleSize/2:selection[0][0]-handleSize/2})).attr("y",(function(d){return"s"===d.type[0]?selection[1][1]-handleSize/2:selection[0][1]-handleSize/2})).attr("width",(function(d){return"n"===d.type||"s"===d.type?selection[1][0]-selection[0][0]+handleSize:handleSize})).attr("height",(function(d){return"e"===d.type||"w"===d.type?selection[1][1]-selection[0][1]+handleSize:handleSize}))):group.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function emitter(that,args,clean){var emit=that.__brush.emitter;return!emit||clean&&emit.clean?new Emitter(that,args,clean):emit}function Emitter(that,args,clean){this.that=that,this.args=args,this.state=that.__brush,this.active=0,this.clean=clean}function started(){if((!touchending||on_event.touches)&&filter.apply(this,arguments)){var w0,w1,n0,n1,e0,e1,s0,s1,moving,lockX,lockY,that=this,type=on_event.target.__data__.type,mode="selection"===(keys&&on_event.metaKey?type="overlay":type)?MODE_DRAG:keys&&on_event.altKey?MODE_CENTER:MODE_HANDLE,signX=dim===Y?null:signsX[type],signY=dim===X?null:signsY[type],state=local(that),extent=state.extent,selection=state.selection,W=extent[0][0],N=extent[0][1],E=extent[1][0],S=extent[1][1],dx=0,dy=0,shifting=signX&&signY&&keys&&on_event.shiftKey,pointer=on_event.touches?function toucher(identifier){return function(target){return touch(target,on_event.touches,identifier)}}(on_event.changedTouches[0].identifier):mouse,point0=pointer(that),point=point0,emit=emitter(that,arguments,!0).beforestart();"overlay"===type?(selection&&(moving=!0),state.selection=selection=[[w0=dim===Y?W:point0[0],n0=dim===X?N:point0[1]],[e0=dim===Y?E:w0,s0=dim===X?S:n0]]):(w0=selection[0][0],n0=selection[0][1],e0=selection[1][0],s0=selection[1][1]),w1=w0,n1=n0,e1=e0,s1=s0;var group=src_select(that).attr("pointer-events","none"),overlay=group.selectAll(".overlay").attr("cursor",cursors[type]);if(on_event.touches)emit.moved=moved,emit.ended=ended;else{var view=src_select(on_event.view).on("mousemove.brush",moved,!0).on("mouseup.brush",ended,!0);keys&&view.on("keydown.brush",(function keydowned(){switch(on_event.keyCode){case 16:shifting=signX&&signY;break;case 18:mode===MODE_HANDLE&&(signX&&(e0=e1-dx*signX,w0=w1+dx*signX),signY&&(s0=s1-dy*signY,n0=n1+dy*signY),mode=MODE_CENTER,move());break;case 32:mode!==MODE_HANDLE&&mode!==MODE_CENTER||(signX<0?e0=e1-dx:signX>0&&(w0=w1-dx),signY<0?s0=s1-dy:signY>0&&(n0=n1-dy),mode=MODE_SPACE,overlay.attr("cursor",cursors.selection),move());break;default:return}src_noevent()}),!0).on("keyup.brush",(function keyupped(){switch(on_event.keyCode){case 16:shifting&&(lockX=lockY=shifting=!1,move());break;case 18:mode===MODE_CENTER&&(signX<0?e0=e1:signX>0&&(w0=w1),signY<0?s0=s1:signY>0&&(n0=n1),mode=MODE_HANDLE,move());break;case 32:mode===MODE_SPACE&&(on_event.altKey?(signX&&(e0=e1-dx*signX,w0=w1+dx*signX),signY&&(s0=s1-dy*signY,n0=n1+dy*signY),mode=MODE_CENTER):(signX<0?e0=e1:signX>0&&(w0=w1),signY<0?s0=s1:signY>0&&(n0=n1),mode=MODE_HANDLE),overlay.attr("cursor",cursors[type]),move());break;default:return}src_noevent()}),!0),nodrag(on_event.view)}noevent_nopropagation(),interrupt(that),redraw.call(that),emit.start()}function moved(){var point1=pointer(that);!shifting||lockX||lockY||(Math.abs(point1[0]-point[0])>Math.abs(point1[1]-point[1])?lockY=!0:lockX=!0),point=point1,moving=!0,src_noevent(),move()}function move(){var t;switch(dx=point[0]-point0[0],dy=point[1]-point0[1],mode){case MODE_SPACE:case MODE_DRAG:signX&&(dx=Math.max(W-w0,Math.min(E-e0,dx)),w1=w0+dx,e1=e0+dx),signY&&(dy=Math.max(N-n0,Math.min(S-s0,dy)),n1=n0+dy,s1=s0+dy);break;case MODE_HANDLE:signX<0?(dx=Math.max(W-w0,Math.min(E-w0,dx)),w1=w0+dx,e1=e0):signX>0&&(dx=Math.max(W-e0,Math.min(E-e0,dx)),w1=w0,e1=e0+dx),signY<0?(dy=Math.max(N-n0,Math.min(S-n0,dy)),n1=n0+dy,s1=s0):signY>0&&(dy=Math.max(N-s0,Math.min(S-s0,dy)),n1=n0,s1=s0+dy);break;case MODE_CENTER:signX&&(w1=Math.max(W,Math.min(E,w0-dx*signX)),e1=Math.max(W,Math.min(E,e0+dx*signX))),signY&&(n1=Math.max(N,Math.min(S,n0-dy*signY)),s1=Math.max(N,Math.min(S,s0+dy*signY)))}e1<w1&&(signX*=-1,t=w0,w0=e0,e0=t,t=w1,w1=e1,e1=t,type in flipX&&overlay.attr("cursor",cursors[type=flipX[type]])),s1<n1&&(signY*=-1,t=n0,n0=s0,s0=t,t=n1,n1=s1,s1=t,type in flipY&&overlay.attr("cursor",cursors[type=flipY[type]])),state.selection&&(selection=state.selection),lockX&&(w1=selection[0][0],e1=selection[1][0]),lockY&&(n1=selection[0][1],s1=selection[1][1]),selection[0][0]===w1&&selection[0][1]===n1&&selection[1][0]===e1&&selection[1][1]===s1||(state.selection=[[w1,n1],[e1,s1]],redraw.call(that),emit.brush())}function ended(){if(noevent_nopropagation(),on_event.touches){if(on_event.touches.length)return;touchending&&clearTimeout(touchending),touchending=setTimeout((function(){touchending=null}),500)}else yesdrag(on_event.view,moving),view.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);group.attr("pointer-events","all"),overlay.attr("cursor",cursors.overlay),state.selection&&(selection=state.selection),function brush_empty(extent){return extent[0][0]===extent[1][0]||extent[0][1]===extent[1][1]}(selection)&&(state.selection=null,redraw.call(that)),emit.end()}}function touchmoved(){emitter(this,arguments).moved()}function touchended(){emitter(this,arguments).ended()}function initialize(){var state=this.__brush||{selection:null};return state.extent=number2(extent.apply(this,arguments)),state.dim=dim,state}return brush.move=function(group,selection){group.selection?group.on("start.brush",(function(){emitter(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){emitter(this,arguments).end()})).tween("brush",(function(){var that=this,state=that.__brush,emit=emitter(that,arguments),selection0=state.selection,selection1=dim.input("function"==typeof selection?selection.apply(this,arguments):selection,state.extent),i=value(selection0,selection1);function tween(t){state.selection=1===t&&null===selection1?null:i(t),redraw.call(that),emit.brush()}return null!==selection0&&null!==selection1?tween:tween(1)})):group.each((function(){var args=arguments,state=this.__brush,selection1=dim.input("function"==typeof selection?selection.apply(this,args):selection,state.extent),emit=emitter(this,args).beforestart();interrupt(this),state.selection=null===selection1?null:selection1,redraw.call(this),emit.start().brush().end()}))},brush.clear=function(group){brush.move(group,null)},Emitter.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(type){customEvent(new src_event(brush,type,dim.output(this.state.selection)),listeners.apply,listeners,[type,this.that,this.args])}},brush.extent=function(_){return arguments.length?(extent="function"==typeof _?_:d3_brush_src_constant(number2(_)),brush):extent},brush.filter=function(_){return arguments.length?(filter="function"==typeof _?_:d3_brush_src_constant(!!_),brush):filter},brush.touchable=function(_){return arguments.length?(touchable="function"==typeof _?_:d3_brush_src_constant(!!_),brush):touchable},brush.handleSize=function(_){return arguments.length?(handleSize=+_,brush):handleSize},brush.keyModifiers=function(_){return arguments.length?(keys=!!_,brush):keys},brush.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?brush:value},brush}var cos=Math.cos,sin=Math.sin,pi=Math.PI,halfPi=pi/2,tau=2*pi,math_max=Math.max;function chord(){var padAngle=0,sortGroups=null,sortSubgroups=null,sortChords=null;function chord(matrix){var k,x,x0,dx,i,j,n=matrix.length,groupSums=[],groupIndex=src_range(n),subgroupIndex=[],chords=[],groups=chords.groups=new Array(n),subgroups=new Array(n*n);for(k=0,i=-1;++i<n;){for(x=0,j=-1;++j<n;)x+=matrix[i][j];groupSums.push(x),subgroupIndex.push(src_range(n)),k+=x}for(sortGroups&&groupIndex.sort((function(a,b){return sortGroups(groupSums[a],groupSums[b])})),sortSubgroups&&subgroupIndex.forEach((function(d,i){d.sort((function(a,b){return sortSubgroups(matrix[i][a],matrix[i][b])}))})),dx=(k=math_max(0,tau-padAngle*n)/k)?padAngle:tau/n,x=0,i=-1;++i<n;){for(x0=x,j=-1;++j<n;){var di=groupIndex[i],dj=subgroupIndex[di][j],v=matrix[di][dj],a0=x,a1=x+=v*k;subgroups[dj*n+di]={index:di,subindex:dj,startAngle:a0,endAngle:a1,value:v}}groups[di]={index:di,startAngle:x0,endAngle:x,value:groupSums[di]},x+=dx}for(i=-1;++i<n;)for(j=i-1;++j<n;){var source=subgroups[j*n+i],target=subgroups[i*n+j];(source.value||target.value)&&chords.push(source.value<target.value?{source:target,target:source}:{source,target})}return sortChords?chords.sort(sortChords):chords}return chord.padAngle=function(_){return arguments.length?(padAngle=math_max(0,_),chord):padAngle},chord.sortGroups=function(_){return arguments.length?(sortGroups=_,chord):sortGroups},chord.sortSubgroups=function(_){return arguments.length?(sortSubgroups=_,chord):sortSubgroups},chord.sortChords=function(_){return arguments.length?(null==_?sortChords=null:(sortChords=function compareValue(compare){return function(a,b){return compare(a.source.value+a.target.value,b.source.value+b.target.value)}}(_))._=_,chord):sortChords&&sortChords._},chord}var src_array_slice=Array.prototype.slice;function d3_chord_src_constant(x){return function(){return x}}var path_pi=Math.PI,path_tau=2*path_pi,tauEpsilon=path_tau-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}Path.prototype=path.prototype={constructor:Path,moveTo:function(x,y){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(x,y){this._+="L"+(this._x1=+x)+","+(this._y1=+y)},quadraticCurveTo:function(x1,y1,x,y){this._+="Q"+ +x1+","+ +y1+","+(this._x1=+x)+","+(this._y1=+y)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._+="C"+ +x1+","+ +y1+","+ +x2+","+ +y2+","+(this._x1=+x)+","+(this._y1=+y)},arcTo:function(x1,y1,x2,y2,r){x1=+x1,y1=+y1,x2=+x2,y2=+y2,r=+r;var x0=this._x1,y0=this._y1,x21=x2-x1,y21=y2-y1,x01=x0-x1,y01=y0-y1,l01_2=x01*x01+y01*y01;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=x1)+","+(this._y1=y1);else if(l01_2>1e-6)if(Math.abs(y01*x21-y21*x01)>1e-6&&r){var x20=x2-x0,y20=y2-y0,l21_2=x21*x21+y21*y21,l20_2=x20*x20+y20*y20,l21=Math.sqrt(l21_2),l01=Math.sqrt(l01_2),l=r*Math.tan((path_pi-Math.acos((l21_2+l01_2-l20_2)/(2*l21*l01)))/2),t01=l/l01,t21=l/l21;Math.abs(t01-1)>1e-6&&(this._+="L"+(x1+t01*x01)+","+(y1+t01*y01)),this._+="A"+r+","+r+",0,0,"+ +(y01*x20>x01*y20)+","+(this._x1=x1+t21*x21)+","+(this._y1=y1+t21*y21)}else this._+="L"+(this._x1=x1)+","+(this._y1=y1);else;},arc:function(x,y,r,a0,a1,ccw){x=+x,y=+y,ccw=!!ccw;var dx=(r=+r)*Math.cos(a0),dy=r*Math.sin(a0),x0=x+dx,y0=y+dy,cw=1^ccw,da=ccw?a0-a1:a1-a0;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+x0+","+y0:(Math.abs(this._x1-x0)>1e-6||Math.abs(this._y1-y0)>1e-6)&&(this._+="L"+x0+","+y0),r&&(da<0&&(da=da%path_tau+path_tau),da>tauEpsilon?this._+="A"+r+","+r+",0,1,"+cw+","+(x-dx)+","+(y-dy)+"A"+r+","+r+",0,1,"+cw+","+(this._x1=x0)+","+(this._y1=y0):da>1e-6&&(this._+="A"+r+","+r+",0,"+ +(da>=path_pi)+","+cw+","+(this._x1=x+r*Math.cos(a1))+","+(this._y1=y+r*Math.sin(a1))))},rect:function(x,y,w,h){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)+"h"+ +w+"v"+ +h+"h"+-w+"Z"},toString:function(){return this._}};const src_path=path;function defaultSource(d){return d.source}function defaultTarget(d){return d.target}function defaultRadius(d){return d.radius}function defaultStartAngle(d){return d.startAngle}function defaultEndAngle(d){return d.endAngle}function ribbon(){var source=defaultSource,target=defaultTarget,radius=defaultRadius,startAngle=defaultStartAngle,endAngle=defaultEndAngle,context=null;function ribbon(){var buffer,argv=src_array_slice.call(arguments),s=source.apply(this,argv),t=target.apply(this,argv),sr=+radius.apply(this,(argv[0]=s,argv)),sa0=startAngle.apply(this,argv)-halfPi,sa1=endAngle.apply(this,argv)-halfPi,sx0=sr*cos(sa0),sy0=sr*sin(sa0),tr=+radius.apply(this,(argv[0]=t,argv)),ta0=startAngle.apply(this,argv)-halfPi,ta1=endAngle.apply(this,argv)-halfPi;if(context||(context=buffer=src_path()),context.moveTo(sx0,sy0),context.arc(0,0,sr,sa0,sa1),sa0===ta0&&sa1===ta1||(context.quadraticCurveTo(0,0,tr*cos(ta0),tr*sin(ta0)),context.arc(0,0,tr,ta0,ta1)),context.quadraticCurveTo(0,0,sx0,sy0),context.closePath(),buffer)return context=null,buffer+""||null}return ribbon.radius=function(_){return arguments.length?(radius="function"==typeof _?_:d3_chord_src_constant(+_),ribbon):radius},ribbon.startAngle=function(_){return arguments.length?(startAngle="function"==typeof _?_:d3_chord_src_constant(+_),ribbon):startAngle},ribbon.endAngle=function(_){return arguments.length?(endAngle="function"==typeof _?_:d3_chord_src_constant(+_),ribbon):endAngle},ribbon.source=function(_){return arguments.length?(source=_,ribbon):source},ribbon.target=function(_){return arguments.length?(target=_,ribbon):target},ribbon.context=function(_){return arguments.length?(context=null==_?null:_,ribbon):context},ribbon}function Map(){}function map_map(object,f){var map=new Map;if(object instanceof Map)object.each((function(value,key){map.set(key,value)}));else if(Array.isArray(object)){var o,i=-1,n=object.length;if(null==f)for(;++i<n;)map.set(i,object[i]);else for(;++i<n;)map.set(f(o=object[i],i,object),o)}else if(object)for(var key in object)map.set(key,object[key]);return map}Map.prototype=map_map.prototype={constructor:Map,has:function(key){return"$"+key in this},get:function(key){return this["$"+key]},set:function(key,value){return this["$"+key]=value,this},remove:function(key){var property="$"+key;return property in this&&delete this[property]},clear:function(){for(var property in this)"$"===property[0]&&delete this[property]},keys:function(){var keys=[];for(var property in this)"$"===property[0]&&keys.push(property.slice(1));return keys},values:function(){var values=[];for(var property in this)"$"===property[0]&&values.push(this[property]);return values},entries:function(){var entries=[];for(var property in this)"$"===property[0]&&entries.push({key:property.slice(1),value:this[property]});return entries},size:function(){var size=0;for(var property in this)"$"===property[0]&&++size;return size},empty:function(){for(var property in this)if("$"===property[0])return!1;return!0},each:function(f){for(var property in this)"$"===property[0]&&f(this[property],property.slice(1),this)}};const src_map=map_map;function nest(){var sortValues,rollup,nest,keys=[],sortKeys=[];function apply(array,depth,createResult,setResult){if(depth>=keys.length)return null!=sortValues&&array.sort(sortValues),null!=rollup?rollup(array):array;for(var keyValue,value,values,i=-1,n=array.length,key=keys[depth++],valuesByKey=src_map(),result=createResult();++i<n;)(values=valuesByKey.get(keyValue=key(value=array[i])+""))?values.push(value):valuesByKey.set(keyValue,[value]);return valuesByKey.each((function(values,key){setResult(result,key,apply(values,depth,createResult,setResult))})),result}function entries(map,depth){if(++depth>keys.length)return map;var array,sortKey=sortKeys[depth-1];return null!=rollup&&depth>=keys.length?array=map.entries():(array=[],map.each((function(v,k){array.push({key:k,values:entries(v,depth)})}))),null!=sortKey?array.sort((function(a,b){return sortKey(a.key,b.key)})):array}return nest={object:function(array){return apply(array,0,createObject,setObject)},map:function(array){return apply(array,0,createMap,setMap)},entries:function(array){return entries(apply(array,0,createMap,setMap),0)},key:function(d){return keys.push(d),nest},sortKeys:function(order){return sortKeys[keys.length-1]=order,nest},sortValues:function(order){return sortValues=order,nest},rollup:function(f){return rollup=f,nest}}}function createObject(){return{}}function setObject(object,key,value){object[key]=value}function createMap(){return src_map()}function setMap(map,key,value){map.set(key,value)}function Set(){}var proto=src_map.prototype;function set_set(object,f){var set=new Set;if(object instanceof Set)object.each((function(value){set.add(value)}));else if(object){var i=-1,n=object.length;if(null==f)for(;++i<n;)set.add(object[i]);else for(;++i<n;)set.add(f(object[i],i,object))}return set}Set.prototype=set_set.prototype={constructor:Set,has:proto.has,add:function(value){return this["$"+(value+="")]=value,this},remove:proto.remove,clear:proto.clear,values:proto.keys,size:proto.size,empty:proto.empty,each:proto.each};const src_set=set_set;function keys(map){var keys=[];for(var key in map)keys.push(key);return keys}function values(map){var values=[];for(var key in map)values.push(map[key]);return values}function entries(map){var entries=[];for(var key in map)entries.push({key,value:map[key]});return entries}var deg2rad=Math.PI/180,rad2deg=180/Math.PI,Xn=.96422,Yn=1,Zn=.82521,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl)return hcl2lab(o);o instanceof Rgb||(o=rgbConvert(o));var x,z,r=rgb2lrgb(o.r),g=rgb2lrgb(o.g),b=rgb2lrgb(o.b),y=xyz2lab((.2225045*r+.7168786*g+.0606169*b)/Yn);return r===g&&g===b?x=z=y:(x=xyz2lab((.4360747*r+.3850649*g+.1430804*b)/Xn),z=xyz2lab((.0139322*r+.0971045*g+.7141733*b)/Zn)),new Lab(116*y-16,500*(x-y),200*(y-z),o.opacity)}function gray(l,opacity){return new Lab(l,0,0,null==opacity?1:opacity)}function lab(l,a,b,opacity){return 1===arguments.length?labConvert(l):new Lab(l,a,b,null==opacity?1:opacity)}function Lab(l,a,b,opacity){this.l=+l,this.a=+a,this.b=+b,this.opacity=+opacity}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t>t1?t*t*t:t2*(t-t0)}function lrgb2rgb(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function rgb2lrgb(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function hclConvert(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);if(o instanceof Lab||(o=labConvert(o)),0===o.a&&0===o.b)return new Hcl(NaN,0<o.l&&o.l<100?0:NaN,o.l,o.opacity);var h=Math.atan2(o.b,o.a)*rad2deg;return new Hcl(h<0?h+360:h,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}function lch(l,c,h,opacity){return 1===arguments.length?hclConvert(l):new Hcl(h,c,l,null==opacity?1:opacity)}function hcl(h,c,l,opacity){return 1===arguments.length?hclConvert(h):new Hcl(h,c,l,null==opacity?1:opacity)}function Hcl(h,c,l,opacity){this.h=+h,this.c=+c,this.l=+l,this.opacity=+opacity}function hcl2lab(o){if(isNaN(o.h))return new Lab(o.l,0,0,o.opacity);var h=o.h*deg2rad;return new Lab(o.l,Math.cos(h)*o.c,Math.sin(h)*o.c,o.opacity)}src_define(Lab,lab,extend(Color,{brighter:function(k){return new Lab(this.l+18*(null==k?1:k),this.a,this.b,this.opacity)},darker:function(k){return new Lab(this.l-18*(null==k?1:k),this.a,this.b,this.opacity)},rgb:function(){var y=(this.l+16)/116,x=isNaN(this.a)?y:y+this.a/500,z=isNaN(this.b)?y:y-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(x=Xn*lab2xyz(x))-1.6168667*(y=Yn*lab2xyz(y))-.4906146*(z=Zn*lab2xyz(z))),lrgb2rgb(-.9787684*x+1.9161415*y+.033454*z),lrgb2rgb(.0719453*x-.2289914*y+1.4052427*z),this.opacity)}})),src_define(Hcl,hcl,extend(Color,{brighter:function(k){return new Hcl(this.h,this.c,this.l+18*(null==k?1:k),this.opacity)},darker:function(k){return new Hcl(this.h,this.c,this.l-18*(null==k?1:k),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}));var A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;function cubehelix_cubehelix(h,s,l,opacity){return 1===arguments.length?function cubehelixConvert(o){if(o instanceof Cubehelix)return new Cubehelix(o.h,o.s,o.l,o.opacity);o instanceof Rgb||(o=rgbConvert(o));var r=o.r/255,g=o.g/255,b=o.b/255,l=(BC_DA*b+ED*r-EB*g)/(BC_DA+ED-EB),bl=b-l,k=(E*(g-l)-C*bl)/D,s=Math.sqrt(k*k+bl*bl)/(E*l*(1-l)),h=s?Math.atan2(k,bl)*rad2deg-120:NaN;return new Cubehelix(h<0?h+360:h,s,l,o.opacity)}(h):new Cubehelix(h,s,l,null==opacity?1:opacity)}function Cubehelix(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}src_define(Cubehelix,cubehelix_cubehelix,extend(Color,{brighter:function(k){return k=null==k?brighter:Math.pow(brighter,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},darker:function(k){return k=null==k?.7:Math.pow(.7,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=isNaN(this.h)?0:(this.h+120)*deg2rad,l=+this.l,a=isNaN(this.s)?0:this.s*l*(1-l),cosh=Math.cos(h),sinh=Math.sin(h);return new Rgb(255*(l+a*(A*cosh+B*sinh)),255*(l+a*(C*cosh+D*sinh)),255*(l+a*(E*cosh)),this.opacity)}}));var d3_contour_src_array_slice=Array.prototype.slice;function src_ascending(a,b){return a-b}function d3_contour_src_constant(x){return function(){return x}}function contains(ring,hole){for(var c,i=-1,n=hole.length;++i<n;)if(c=ringContains(ring,hole[i]))return c;return 0}function ringContains(ring,point){for(var x=point[0],y=point[1],contains=-1,i=0,n=ring.length,j=n-1;i<n;j=i++){var pi=ring[i],xi=pi[0],yi=pi[1],pj=ring[j],xj=pj[0],yj=pj[1];if(segmentContains(pi,pj,point))return 0;yi>y!=yj>y&&x<(xj-xi)*(y-yi)/(yj-yi)+xi&&(contains=-contains)}return contains}function segmentContains(a,b,c){var i;return function collinear(a,b,c){return(b[0]-a[0])*(c[1]-a[1])===(c[0]-a[0])*(b[1]-a[1])}(a,b,c)&&function within(p,q,r){return p<=q&&q<=r||r<=q&&q<=p}(a[i=+(a[0]===b[0])],c[i],b[i])}function src_noop(){}var cases=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function contours(){var dx=1,dy=1,threshold=sturges,smooth=smoothLinear;function contours(values){var tz=threshold(values);if(Array.isArray(tz))tz=tz.slice().sort(src_ascending);else{var domain=extent(values),start=domain[0],stop=domain[1];tz=tickStep(start,stop,tz),tz=src_range(Math.floor(start/tz)*tz,Math.floor(stop/tz)*tz,tz)}return tz.map((function(value){return contour(values,value)}))}function contour(values,value){var polygons=[],holes=[];return function isorings(values,value,callback){var x,y,t0,t1,t2,t3,fragmentByStart=new Array,fragmentByEnd=new Array;x=y=-1,t1=values[0]>=value,cases[t1<<1].forEach(stitch);for(;++x<dx-1;)t0=t1,t1=values[x+1]>=value,cases[t0|t1<<1].forEach(stitch);cases[t1|0].forEach(stitch);for(;++y<dy-1;){for(x=-1,t1=values[y*dx+dx]>=value,t2=values[y*dx]>=value,cases[t1<<1|t2<<2].forEach(stitch);++x<dx-1;)t0=t1,t1=values[y*dx+dx+x+1]>=value,t3=t2,t2=values[y*dx+x+1]>=value,cases[t0|t1<<1|t2<<2|t3<<3].forEach(stitch);cases[t1|t2<<3].forEach(stitch)}x=-1,t2=values[y*dx]>=value,cases[t2<<2].forEach(stitch);for(;++x<dx-1;)t3=t2,t2=values[y*dx+x+1]>=value,cases[t2<<2|t3<<3].forEach(stitch);function stitch(line){var f,g,start=[line[0][0]+x,line[0][1]+y],end=[line[1][0]+x,line[1][1]+y],startIndex=index(start),endIndex=index(end);(f=fragmentByEnd[startIndex])?(g=fragmentByStart[endIndex])?(delete fragmentByEnd[f.end],delete fragmentByStart[g.start],f===g?(f.ring.push(end),callback(f.ring)):fragmentByStart[f.start]=fragmentByEnd[g.end]={start:f.start,end:g.end,ring:f.ring.concat(g.ring)}):(delete fragmentByEnd[f.end],f.ring.push(end),fragmentByEnd[f.end=endIndex]=f):(f=fragmentByStart[endIndex])?(g=fragmentByEnd[startIndex])?(delete fragmentByStart[f.start],delete fragmentByEnd[g.end],f===g?(f.ring.push(end),callback(f.ring)):fragmentByStart[g.start]=fragmentByEnd[f.end]={start:g.start,end:f.end,ring:g.ring.concat(f.ring)}):(delete fragmentByStart[f.start],f.ring.unshift(start),fragmentByStart[f.start=startIndex]=f):fragmentByStart[startIndex]=fragmentByEnd[endIndex]={start:startIndex,end:endIndex,ring:[start,end]}}cases[t2<<3].forEach(stitch)}(values,value,(function(ring){smooth(ring,values,value),function src_area(ring){for(var i=0,n=ring.length,area=ring[n-1][1]*ring[0][0]-ring[n-1][0]*ring[0][1];++i<n;)area+=ring[i-1][1]*ring[i][0]-ring[i-1][0]*ring[i][1];return area}(ring)>0?polygons.push([ring]):holes.push(ring)})),holes.forEach((function(hole){for(var polygon,i=0,n=polygons.length;i<n;++i)if(-1!==contains((polygon=polygons[i])[0],hole))return void polygon.push(hole)})),{type:"MultiPolygon",value,coordinates:polygons}}function index(point){return 2*point[0]+point[1]*(dx+1)*4}function smoothLinear(ring,values,value){ring.forEach((function(point){var v0,x=point[0],y=point[1],xt=0|x,yt=0|y,v1=values[yt*dx+xt];x>0&&x<dx&&xt===x&&(v0=values[yt*dx+xt-1],point[0]=x+(value-v0)/(v1-v0)-.5),y>0&&y<dy&&yt===y&&(v0=values[(yt-1)*dx+xt],point[1]=y+(value-v0)/(v1-v0)-.5)}))}return contours.contour=contour,contours.size=function(_){if(!arguments.length)return[dx,dy];var _0=Math.ceil(_[0]),_1=Math.ceil(_[1]);if(!(_0>0&&_1>0))throw new Error("invalid size");return dx=_0,dy=_1,contours},contours.thresholds=function(_){return arguments.length?(threshold="function"==typeof _?_:Array.isArray(_)?d3_contour_src_constant(d3_contour_src_array_slice.call(_)):d3_contour_src_constant(_),contours):threshold},contours.smooth=function(_){return arguments.length?(smooth=_?smoothLinear:src_noop,contours):smooth===smoothLinear},contours}function blurX(source,target,r){for(var n=source.width,m=source.height,w=1+(r<<1),j=0;j<m;++j)for(var i=0,sr=0;i<n+r;++i)i<n&&(sr+=source.data[i+j*n]),i>=r&&(i>=w&&(sr-=source.data[i-w+j*n]),target.data[i-r+j*n]=sr/Math.min(i+1,n-1+w-i,w))}function blurY(source,target,r){for(var n=source.width,m=source.height,w=1+(r<<1),i=0;i<n;++i)for(var j=0,sr=0;j<m+r;++j)j<m&&(sr+=source.data[i+j*n]),j>=r&&(j>=w&&(sr-=source.data[i+(j-w)*n]),target.data[i+(j-r)*n]=sr/Math.min(j+1,m-1+w-j,w))}function defaultX(d){return d[0]}function defaultY(d){return d[1]}function defaultWeight(){return 1}function density(){var x=defaultX,y=defaultY,weight=defaultWeight,dx=960,dy=500,r=20,k=2,o=3*r,n=dx+2*o>>k,m=dy+2*o>>k,threshold=d3_contour_src_constant(20);function density(data){var values0=new Float32Array(n*m),values1=new Float32Array(n*m);data.forEach((function(d,i,data){var xi=+x(d,i,data)+o>>k,yi=+y(d,i,data)+o>>k,wi=+weight(d,i,data);xi>=0&&xi<n&&yi>=0&&yi<m&&(values0[xi+yi*n]+=wi)})),blurX({width:n,height:m,data:values0},{width:n,height:m,data:values1},r>>k),blurY({width:n,height:m,data:values1},{width:n,height:m,data:values0},r>>k),blurX({width:n,height:m,data:values0},{width:n,height:m,data:values1},r>>k),blurY({width:n,height:m,data:values1},{width:n,height:m,data:values0},r>>k),blurX({width:n,height:m,data:values0},{width:n,height:m,data:values1},r>>k),blurY({width:n,height:m,data:values1},{width:n,height:m,data:values0},r>>k);var tz=threshold(values0);if(!Array.isArray(tz)){var stop=max(values0);tz=tickStep(0,stop,tz),(tz=src_range(0,Math.floor(stop/tz)*tz,tz)).shift()}return contours().thresholds(tz).size([n,m])(values0).map(transform)}function transform(geometry){return geometry.value*=Math.pow(2,-2*k),geometry.coordinates.forEach(transformPolygon),geometry}function transformPolygon(coordinates){coordinates.forEach(transformRing)}function transformRing(coordinates){coordinates.forEach(transformPoint)}function transformPoint(coordinates){coordinates[0]=coordinates[0]*Math.pow(2,k)-o,coordinates[1]=coordinates[1]*Math.pow(2,k)-o}function resize(){return n=dx+2*(o=3*r)>>k,m=dy+2*o>>k,density}return density.x=function(_){return arguments.length?(x="function"==typeof _?_:d3_contour_src_constant(+_),density):x},density.y=function(_){return arguments.length?(y="function"==typeof _?_:d3_contour_src_constant(+_),density):y},density.weight=function(_){return arguments.length?(weight="function"==typeof _?_:d3_contour_src_constant(+_),density):weight},density.size=function(_){if(!arguments.length)return[dx,dy];var _0=Math.ceil(_[0]),_1=Math.ceil(_[1]);if(!(_0>=0||_0>=0))throw new Error("invalid size");return dx=_0,dy=_1,resize()},density.cellSize=function(_){if(!arguments.length)return 1<<k;if(!((_=+_)>=1))throw new Error("invalid cell size");return k=Math.floor(Math.log(_)/Math.LN2),resize()},density.thresholds=function(_){return arguments.length?(threshold="function"==typeof _?_:Array.isArray(_)?d3_contour_src_constant(d3_contour_src_array_slice.call(_)):d3_contour_src_constant(_),density):threshold},density.bandwidth=function(_){if(!arguments.length)return Math.sqrt(r*(r+1));if(!((_=+_)>=0))throw new Error("invalid bandwidth");return r=Math.round((Math.sqrt(4*_*_+1)-1)/2),resize()},density}function d3_drag_src_constant(x){return function(){return x}}function DragEvent(target,type,subject,id,active,x,y,dx,dy,dispatch){this.target=target,this.type=type,this.subject=subject,this.identifier=id,this.active=active,this.x=x,this.y=y,this.dx=dx,this.dy=dy,this._=dispatch}function drag_defaultFilter(){return!on_event.ctrlKey&&!on_event.button}function defaultContainer(){return this.parentNode}function defaultSubject(d){return null==d?{x:on_event.x,y:on_event.y}:d}function drag_defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var mousedownx,mousedowny,mousemoving,touchending,filter=drag_defaultFilter,container=defaultContainer,subject=defaultSubject,touchable=drag_defaultTouchable,gestures={},listeners=src_dispatch("start","drag","end"),active=0,clickDistance2=0;function drag(selection){selection.on("mousedown.drag",mousedowned).filter(touchable).on("touchstart.drag",touchstarted).on("touchmove.drag",touchmoved).on("touchend.drag touchcancel.drag",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mousedowned(){if(!touchending&&filter.apply(this,arguments)){var gesture=beforestart("mouse",container.apply(this,arguments),mouse,this,arguments);gesture&&(src_select(on_event.view).on("mousemove.drag",mousemoved,!0).on("mouseup.drag",mouseupped,!0),nodrag(on_event.view),nopropagation(),mousemoving=!1,mousedownx=on_event.clientX,mousedowny=on_event.clientY,gesture("start"))}}function mousemoved(){if(noevent(),!mousemoving){var dx=on_event.clientX-mousedownx,dy=on_event.clientY-mousedowny;mousemoving=dx*dx+dy*dy>clickDistance2}gestures.mouse("drag")}function mouseupped(){src_select(on_event.view).on("mousemove.drag mouseup.drag",null),yesdrag(on_event.view,mousemoving),noevent(),gestures.mouse("end")}function touchstarted(){if(filter.apply(this,arguments)){var i,gesture,touches=on_event.changedTouches,c=container.apply(this,arguments),n=touches.length;for(i=0;i<n;++i)(gesture=beforestart(touches[i].identifier,c,touch,this,arguments))&&(nopropagation(),gesture("start"))}}function touchmoved(){var i,gesture,touches=on_event.changedTouches,n=touches.length;for(i=0;i<n;++i)(gesture=gestures[touches[i].identifier])&&(noevent(),gesture("drag"))}function touchended(){var i,gesture,touches=on_event.changedTouches,n=touches.length;for(touchending&&clearTimeout(touchending),touchending=setTimeout((function(){touchending=null}),500),i=0;i<n;++i)(gesture=gestures[touches[i].identifier])&&(nopropagation(),gesture("end"))}function beforestart(id,container,point,that,args){var s,dx,dy,p=point(container,id),sublisteners=listeners.copy();if(customEvent(new DragEvent(drag,"beforestart",s,id,active,p[0],p[1],0,0,sublisteners),(function(){return null!=(on_event.subject=s=subject.apply(that,args))&&(dx=s.x-p[0]||0,dy=s.y-p[1]||0,!0)})))return function gesture(type){var n,p0=p;switch(type){case"start":gestures[id]=gesture,n=active++;break;case"end":delete gestures[id],--active;case"drag":p=point(container,id),n=active}customEvent(new DragEvent(drag,type,s,id,n,p[0]+dx,p[1]+dy,p[0]-p0[0],p[1]-p0[1],sublisteners),sublisteners.apply,sublisteners,[type,that,args])}}return drag.filter=function(_){return arguments.length?(filter="function"==typeof _?_:d3_drag_src_constant(!!_),drag):filter},drag.container=function(_){return arguments.length?(container="function"==typeof _?_:d3_drag_src_constant(_),drag):container},drag.subject=function(_){return arguments.length?(subject="function"==typeof _?_:d3_drag_src_constant(_),drag):subject},drag.touchable=function(_){return arguments.length?(touchable="function"==typeof _?_:d3_drag_src_constant(!!_),drag):touchable},drag.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?drag:value},drag.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,drag):Math.sqrt(clickDistance2)},drag}DragEvent.prototype.on=function(){var value=this._.on.apply(this._,arguments);return value===this._?this:value};var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13;function objectConverter(columns){return new Function("d","return {"+columns.map((function(name,i){return JSON.stringify(name)+": d["+i+'] || ""'})).join(",")+"}")}function inferColumns(rows){var columnSet=Object.create(null),columns=[];return rows.forEach((function(row){for(var column in row)column in columnSet||columns.push(columnSet[column]=column)})),columns}function pad(value,width){var s=value+"",length=s.length;return length<width?new Array(width-length+1).join(0)+s:s}function formatDate(date){var hours=date.getUTCHours(),minutes=date.getUTCMinutes(),seconds=date.getUTCSeconds(),milliseconds=date.getUTCMilliseconds();return isNaN(date)?"Invalid Date":function formatYear(year){return year<0?"-"+pad(-year,6):year>9999?"+"+pad(year,6):pad(year,4)}(date.getUTCFullYear())+"-"+pad(date.getUTCMonth()+1,2)+"-"+pad(date.getUTCDate(),2)+(milliseconds?"T"+pad(hours,2)+":"+pad(minutes,2)+":"+pad(seconds,2)+"."+pad(milliseconds,3)+"Z":seconds?"T"+pad(hours,2)+":"+pad(minutes,2)+":"+pad(seconds,2)+"Z":minutes||hours?"T"+pad(hours,2)+":"+pad(minutes,2)+"Z":"")}function dsv(delimiter){var reFormat=new RegExp('["'+delimiter+"\n\r]"),DELIMITER=delimiter.charCodeAt(0);function parseRows(text,f){var t,rows=[],N=text.length,I=0,n=0,eof=N<=0,eol=!1;function token(){if(eof)return EOF;if(eol)return eol=!1,EOL;var i,c,j=I;if(text.charCodeAt(j)===QUOTE){for(;I++<N&&text.charCodeAt(I)!==QUOTE||text.charCodeAt(++I)===QUOTE;);return(i=I)>=N?eof=!0:(c=text.charCodeAt(I++))===NEWLINE?eol=!0:c===RETURN&&(eol=!0,text.charCodeAt(I)===NEWLINE&&++I),text.slice(j+1,i-1).replace(/""/g,'"')}for(;I<N;){if((c=text.charCodeAt(i=I++))===NEWLINE)eol=!0;else if(c===RETURN)eol=!0,text.charCodeAt(I)===NEWLINE&&++I;else if(c!==DELIMITER)continue;return text.slice(j,i)}return eof=!0,text.slice(j,N)}for(text.charCodeAt(N-1)===NEWLINE&&--N,text.charCodeAt(N-1)===RETURN&&--N;(t=token())!==EOF;){for(var row=[];t!==EOL&&t!==EOF;)row.push(t),t=token();f&&null==(row=f(row,n++))||rows.push(row)}return rows}function preformatBody(rows,columns){return rows.map((function(row){return columns.map((function(column){return formatValue(row[column])})).join(delimiter)}))}function formatRow(row){return row.map(formatValue).join(delimiter)}function formatValue(value){return null==value?"":value instanceof Date?formatDate(value):reFormat.test(value+="")?'"'+value.replace(/"/g,'""')+'"':value}return{parse:function parse(text,f){var convert,columns,rows=parseRows(text,(function(row,i){if(convert)return convert(row,i-1);columns=row,convert=f?function customConverter(columns,f){var object=objectConverter(columns);return function(row,i){return f(object(row),i,columns)}}(row,f):objectConverter(row)}));return rows.columns=columns||[],rows},parseRows,format:function format(rows,columns){return null==columns&&(columns=inferColumns(rows)),[columns.map(formatValue).join(delimiter)].concat(preformatBody(rows,columns)).join("\n")},formatBody:function formatBody(rows,columns){return null==columns&&(columns=inferColumns(rows)),preformatBody(rows,columns).join("\n")},formatRows:function formatRows(rows){return rows.map(formatRow).join("\n")},formatRow,formatValue}}var csv=dsv(","),csvParse=csv.parse,csvParseRows=csv.parseRows,csvFormat=csv.format,csvFormatBody=csv.formatBody,csvFormatRows=csv.formatRows,csvFormatRow=csv.formatRow,csvFormatValue=csv.formatValue,tsv=dsv("\t"),tsvParse=tsv.parse,tsvParseRows=tsv.parseRows,tsvFormat=tsv.format,tsvFormatBody=tsv.formatBody,tsvFormatRows=tsv.formatRows,tsvFormatRow=tsv.formatRow,tsvFormatValue=tsv.formatValue;function autoType(object){for(var key in object){var number,m,value=object[key].trim();if(value)if("true"===value)value=!0;else if("false"===value)value=!1;else if("NaN"===value)value=NaN;else if(isNaN(number=+value)){if(!(m=value.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;fixtz&&m[4]&&!m[7]&&(value=value.replace(/-/g,"/").replace(/T/," ")),value=new Date(value)}else value=number;else value=null;object[key]=value}return object}var fixtz=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function linear_linear(t){return+t}function quadIn(t){return t*t}function quadOut(t){return t*(2-t)}function quadInOut(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var polyIn=function custom(e){function polyIn(t){return Math.pow(t,e)}return e=+e,polyIn.exponent=custom,polyIn}(3),polyOut=function custom(e){function polyOut(t){return 1-Math.pow(1-t,e)}return e=+e,polyOut.exponent=custom,polyOut}(3),polyInOut=function custom(e){function polyInOut(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,polyInOut.exponent=custom,polyInOut}(3),sin_pi=Math.PI,sin_halfPi=sin_pi/2;function sinIn(t){return 1===+t?1:1-Math.cos(t*sin_halfPi)}function sinOut(t){return Math.sin(t*sin_halfPi)}function sinInOut(t){return(1-Math.cos(sin_pi*t))/2}function tpmt(x){return 1.0009775171065494*(Math.pow(2,-10*x)-.0009765625)}function expIn(t){return tpmt(1-+t)}function expOut(t){return 1-tpmt(t)}function expInOut(t){return((t*=2)<=1?tpmt(1-t):2-tpmt(t-1))/2}function circleIn(t){return 1-Math.sqrt(1-t*t)}function circleOut(t){return Math.sqrt(1- --t*t)}function circleInOut(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var b1=4/11,b2=6/11,b3=8/11,b4=3/4,b5=9/11,b6=10/11,b7=15/16,b8=21/22,b9=63/64,b0=1/b1/b1;function bounceIn(t){return 1-bounceOut(1-t)}function bounceOut(t){return(t=+t)<b1?b0*t*t:t<b3?b0*(t-=b2)*t+b4:t<b6?b0*(t-=b5)*t+b7:b0*(t-=b8)*t+b9}function bounceInOut(t){return((t*=2)<=1?1-bounceOut(1-t):bounceOut(t-1)+1)/2}var backIn=function custom(s){function backIn(t){return(t=+t)*t*(s*(t-1)+t)}return s=+s,backIn.overshoot=custom,backIn}(1.70158),backOut=function custom(s){function backOut(t){return--t*t*((t+1)*s+t)+1}return s=+s,backOut.overshoot=custom,backOut}(1.70158),backInOut=function custom(s){function backInOut(t){return((t*=2)<1?t*t*((s+1)*t-s):(t-=2)*t*((s+1)*t+s)+2)/2}return s=+s,backInOut.overshoot=custom,backInOut}(1.70158),elastic_tau=2*Math.PI,elasticIn=function custom(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=elastic_tau);function elasticIn(t){return a*tpmt(- --t)*Math.sin((s-t)/p)}return elasticIn.amplitude=function(a){return custom(a,p*elastic_tau)},elasticIn.period=function(p){return custom(a,p)},elasticIn}(1,.3),elasticOut=function custom(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=elastic_tau);function elasticOut(t){return 1-a*tpmt(t=+t)*Math.sin((t+s)/p)}return elasticOut.amplitude=function(a){return custom(a,p*elastic_tau)},elasticOut.period=function(p){return custom(a,p)},elasticOut}(1,.3),elasticInOut=function custom(a,p){var s=Math.asin(1/(a=Math.max(1,a)))*(p/=elastic_tau);function elasticInOut(t){return((t=2*t-1)<0?a*tpmt(-t)*Math.sin((s-t)/p):2-a*tpmt(t)*Math.sin((s+t)/p))/2}return elasticInOut.amplitude=function(a){return custom(a,p*elastic_tau)},elasticInOut.period=function(p){return custom(a,p)},elasticInOut}(1,.3);function responseBlob(response){if(!response.ok)throw new Error(response.status+" "+response.statusText);return response.blob()}function blob(input,init){return fetch(input,init).then(responseBlob)}function responseArrayBuffer(response){if(!response.ok)throw new Error(response.status+" "+response.statusText);return response.arrayBuffer()}function buffer(input,init){return fetch(input,init).then(responseArrayBuffer)}function responseText(response){if(!response.ok)throw new Error(response.status+" "+response.statusText);return response.text()}function src_text(input,init){return fetch(input,init).then(responseText)}function dsvParse(parse){return function(input,init,row){return 2===arguments.length&&"function"==typeof init&&(row=init,init=void 0),src_text(input,init).then((function(response){return parse(response,row)}))}}function dsv_dsv(delimiter,input,init,row){3===arguments.length&&"function"==typeof init&&(row=init,init=void 0);var format=dsv(delimiter);return src_text(input,init).then((function(response){return format.parse(response,row)}))}var dsv_csv=dsvParse(csvParse),dsv_tsv=dsvParse(tsvParse);function src_image(input,init){return new Promise((function(resolve,reject){var image=new Image;for(var key in init)image[key]=init[key];image.onerror=reject,image.onload=function(){resolve(image)},image.src=input}))}function responseJson(response){if(!response.ok)throw new Error(response.status+" "+response.statusText);if(204!==response.status&&205!==response.status)return response.json()}function json(input,init){return fetch(input,init).then(responseJson)}function parser(type){return function(input,init){return src_text(input,init).then((function(text){return(new DOMParser).parseFromString(text,type)}))}}const xml=parser("application/xml");var xml_html=parser("text/html"),svg=parser("image/svg+xml");function src_center(x,y){var nodes;function force(){var i,node,n=nodes.length,sx=0,sy=0;for(i=0;i<n;++i)sx+=(node=nodes[i]).x,sy+=node.y;for(sx=sx/n-x,sy=sy/n-y,i=0;i<n;++i)(node=nodes[i]).x-=sx,node.y-=sy}return null==x&&(x=0),null==y&&(y=0),force.initialize=function(_){nodes=_},force.x=function(_){return arguments.length?(x=+_,force):x},force.y=function(_){return arguments.length?(y=+_,force):y},force}function d3_force_src_constant(x){return function(){return x}}function jiggle(){return 1e-6*(Math.random()-.5)}function add_add(tree,x,y,d){if(isNaN(x)||isNaN(y))return tree;var parent,xm,ym,xp,yp,right,bottom,i,j,node=tree._root,leaf={data:d},x0=tree._x0,y0=tree._y0,x1=tree._x1,y1=tree._y1;if(!node)return tree._root=leaf,tree;for(;node.length;)if((right=x>=(xm=(x0+x1)/2))?x0=xm:x1=xm,(bottom=y>=(ym=(y0+y1)/2))?y0=ym:y1=ym,parent=node,!(node=node[i=bottom<<1|right]))return parent[i]=leaf,tree;if(xp=+tree._x.call(null,node.data),yp=+tree._y.call(null,node.data),x===xp&&y===yp)return leaf.next=node,parent?parent[i]=leaf:tree._root=leaf,tree;do{parent=parent?parent[i]=new Array(4):tree._root=new Array(4),(right=x>=(xm=(x0+x1)/2))?x0=xm:x1=xm,(bottom=y>=(ym=(y0+y1)/2))?y0=ym:y1=ym}while((i=bottom<<1|right)==(j=(yp>=ym)<<1|xp>=xm));return parent[j]=node,parent[i]=leaf,tree}function quad(node,x0,y0,x1,y1){this.node=node,this.x0=x0,this.y0=y0,this.x1=x1,this.y1=y1}function x_defaultX(d){return d[0]}function y_defaultY(d){return d[1]}function quadtree(nodes,x,y){var tree=new Quadtree(null==x?x_defaultX:x,null==y?y_defaultY:y,NaN,NaN,NaN,NaN);return null==nodes?tree:tree.addAll(nodes)}function Quadtree(x,y,x0,y0,x1,y1){this._x=x,this._y=y,this._x0=x0,this._y0=y0,this._x1=x1,this._y1=y1,this._root=void 0}function leaf_copy(leaf){for(var copy={data:leaf.data},next=copy;leaf=leaf.next;)next=next.next={data:leaf.data};return copy}var treeProto=quadtree.prototype=Quadtree.prototype;function collide_x(d){return d.x+d.vx}function collide_y(d){return d.y+d.vy}function collide(radius){var nodes,radii,strength=1,iterations=1;function force(){for(var i,tree,node,xi,yi,ri,ri2,n=nodes.length,k=0;k<iterations;++k)for(tree=quadtree(nodes,collide_x,collide_y).visitAfter(prepare),i=0;i<n;++i)node=nodes[i],ri=radii[node.index],ri2=ri*ri,xi=node.x+node.vx,yi=node.y+node.vy,tree.visit(apply);function apply(quad,x0,y0,x1,y1){var data=quad.data,rj=quad.r,r=ri+rj;if(!data)return x0>xi+r||x1<xi-r||y0>yi+r||y1<yi-r;if(data.index>node.index){var x=xi-data.x-data.vx,y=yi-data.y-data.vy,l=x*x+y*y;l<r*r&&(0===x&&(l+=(x=jiggle())*x),0===y&&(l+=(y=jiggle())*y),l=(r-(l=Math.sqrt(l)))/l*strength,node.vx+=(x*=l)*(r=(rj*=rj)/(ri2+rj)),node.vy+=(y*=l)*r,data.vx-=x*(r=1-r),data.vy-=y*r)}}}function prepare(quad){if(quad.data)return quad.r=radii[quad.data.index];for(var i=quad.r=0;i<4;++i)quad[i]&&quad[i].r>quad.r&&(quad.r=quad[i].r)}function initialize(){if(nodes){var i,node,n=nodes.length;for(radii=new Array(n),i=0;i<n;++i)node=nodes[i],radii[node.index]=+radius(node,i,nodes)}}return"function"!=typeof radius&&(radius=d3_force_src_constant(null==radius?1:+radius)),force.initialize=function(_){nodes=_,initialize()},force.iterations=function(_){return arguments.length?(iterations=+_,force):iterations},force.strength=function(_){return arguments.length?(strength=+_,force):strength},force.radius=function(_){return arguments.length?(radius="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):radius},force}function index(d){return d.index}function link_find(nodeById,nodeId){var node=nodeById.get(nodeId);if(!node)throw new Error("missing: "+nodeId);return node}function src_link(links){var strengths,distances,nodes,count,bias,id=index,strength=function defaultStrength(link){return 1/Math.min(count[link.source.index],count[link.target.index])},distance=d3_force_src_constant(30),iterations=1;function force(alpha){for(var k=0,n=links.length;k<iterations;++k)for(var link,source,target,x,y,l,b,i=0;i<n;++i)source=(link=links[i]).source,x=(target=link.target).x+target.vx-source.x-source.vx||jiggle(),y=target.y+target.vy-source.y-source.vy||jiggle(),x*=l=((l=Math.sqrt(x*x+y*y))-distances[i])/l*alpha*strengths[i],y*=l,target.vx-=x*(b=bias[i]),target.vy-=y*b,source.vx+=x*(b=1-b),source.vy+=y*b}function initialize(){if(nodes){var i,link,n=nodes.length,m=links.length,nodeById=src_map(nodes,id);for(i=0,count=new Array(n);i<m;++i)(link=links[i]).index=i,"object"!=typeof link.source&&(link.source=link_find(nodeById,link.source)),"object"!=typeof link.target&&(link.target=link_find(nodeById,link.target)),count[link.source.index]=(count[link.source.index]||0)+1,count[link.target.index]=(count[link.target.index]||0)+1;for(i=0,bias=new Array(m);i<m;++i)link=links[i],bias[i]=count[link.source.index]/(count[link.source.index]+count[link.target.index]);strengths=new Array(m),initializeStrength(),distances=new Array(m),initializeDistance()}}function initializeStrength(){if(nodes)for(var i=0,n=links.length;i<n;++i)strengths[i]=+strength(links[i],i,links)}function initializeDistance(){if(nodes)for(var i=0,n=links.length;i<n;++i)distances[i]=+distance(links[i],i,links)}return null==links&&(links=[]),force.initialize=function(_){nodes=_,initialize()},force.links=function(_){return arguments.length?(links=_,initialize(),force):links},force.id=function(_){return arguments.length?(id=_,force):id},force.iterations=function(_){return arguments.length?(iterations=+_,force):iterations},force.strength=function(_){return arguments.length?(strength="function"==typeof _?_:d3_force_src_constant(+_),initializeStrength(),force):strength},force.distance=function(_){return arguments.length?(distance="function"==typeof _?_:d3_force_src_constant(+_),initializeDistance(),force):distance},force}function simulation_x(d){return d.x}function simulation_y(d){return d.y}treeProto.copy=function(){var nodes,child,copy=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),node=this._root;if(!node)return copy;if(!node.length)return copy._root=leaf_copy(node),copy;for(nodes=[{source:node,target:copy._root=new Array(4)}];node=nodes.pop();)for(var i=0;i<4;++i)(child=node.source[i])&&(child.length?nodes.push({source:child,target:node.target[i]=new Array(4)}):node.target[i]=leaf_copy(child));return copy},treeProto.add=function add(d){var x=+this._x.call(null,d),y=+this._y.call(null,d);return add_add(this.cover(x,y),x,y,d)},treeProto.addAll=function addAll(data){var d,i,x,y,n=data.length,xz=new Array(n),yz=new Array(n),x0=1/0,y0=1/0,x1=-1/0,y1=-1/0;for(i=0;i<n;++i)isNaN(x=+this._x.call(null,d=data[i]))||isNaN(y=+this._y.call(null,d))||(xz[i]=x,yz[i]=y,x<x0&&(x0=x),x>x1&&(x1=x),y<y0&&(y0=y),y>y1&&(y1=y));if(x0>x1||y0>y1)return this;for(this.cover(x0,y0).cover(x1,y1),i=0;i<n;++i)add_add(this,xz[i],yz[i],data[i]);return this},treeProto.cover=function cover(x,y){if(isNaN(x=+x)||isNaN(y=+y))return this;var x0=this._x0,y0=this._y0,x1=this._x1,y1=this._y1;if(isNaN(x0))x1=(x0=Math.floor(x))+1,y1=(y0=Math.floor(y))+1;else{for(var parent,i,z=x1-x0,node=this._root;x0>x||x>=x1||y0>y||y>=y1;)switch(i=(y<y0)<<1|x<x0,(parent=new Array(4))[i]=node,node=parent,z*=2,i){case 0:x1=x0+z,y1=y0+z;break;case 1:x0=x1-z,y1=y0+z;break;case 2:x1=x0+z,y0=y1-z;break;case 3:x0=x1-z,y0=y1-z}this._root&&this._root.length&&(this._root=node)}return this._x0=x0,this._y0=y0,this._x1=x1,this._y1=y1,this},treeProto.data=function src_data(){var data=[];return this.visit((function(node){if(!node.length)do{data.push(node.data)}while(node=node.next)})),data},treeProto.extent=function src_extent(_){return arguments.length?this.cover(+_[0][0],+_[0][1]).cover(+_[1][0],+_[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},treeProto.find=function find(x,y,radius){var data,x1,y1,x2,y2,q,i,x0=this._x0,y0=this._y0,x3=this._x1,y3=this._y1,quads=[],node=this._root;for(node&&quads.push(new quad(node,x0,y0,x3,y3)),null==radius?radius=1/0:(x0=x-radius,y0=y-radius,x3=x+radius,y3=y+radius,radius*=radius);q=quads.pop();)if(!(!(node=q.node)||(x1=q.x0)>x3||(y1=q.y0)>y3||(x2=q.x1)<x0||(y2=q.y1)<y0))if(node.length){var xm=(x1+x2)/2,ym=(y1+y2)/2;quads.push(new quad(node[3],xm,ym,x2,y2),new quad(node[2],x1,ym,xm,y2),new quad(node[1],xm,y1,x2,ym),new quad(node[0],x1,y1,xm,ym)),(i=(y>=ym)<<1|x>=xm)&&(q=quads[quads.length-1],quads[quads.length-1]=quads[quads.length-1-i],quads[quads.length-1-i]=q)}else{var dx=x-+this._x.call(null,node.data),dy=y-+this._y.call(null,node.data),d2=dx*dx+dy*dy;if(d2<radius){var d=Math.sqrt(radius=d2);x0=x-d,y0=y-d,x3=x+d,y3=y+d,data=node.data}}return data},treeProto.remove=function src_remove(d){if(isNaN(x=+this._x.call(null,d))||isNaN(y=+this._y.call(null,d)))return this;var parent,retainer,previous,next,x,y,xm,ym,right,bottom,i,j,node=this._root,x0=this._x0,y0=this._y0,x1=this._x1,y1=this._y1;if(!node)return this;if(node.length)for(;;){if((right=x>=(xm=(x0+x1)/2))?x0=xm:x1=xm,(bottom=y>=(ym=(y0+y1)/2))?y0=ym:y1=ym,parent=node,!(node=node[i=bottom<<1|right]))return this;if(!node.length)break;(parent[i+1&3]||parent[i+2&3]||parent[i+3&3])&&(retainer=parent,j=i)}for(;node.data!==d;)if(previous=node,!(node=node.next))return this;return(next=node.next)&&delete node.next,previous?(next?previous.next=next:delete previous.next,this):parent?(next?parent[i]=next:delete parent[i],(node=parent[0]||parent[1]||parent[2]||parent[3])&&node===(parent[3]||parent[2]||parent[1]||parent[0])&&!node.length&&(retainer?retainer[j]=node:this._root=node),this):(this._root=next,this)},treeProto.removeAll=function removeAll(data){for(var i=0,n=data.length;i<n;++i)this.remove(data[i]);return this},treeProto.root=function src_root(){return this._root},treeProto.size=function src_size(){var size=0;return this.visit((function(node){if(!node.length)do{++size}while(node=node.next)})),size},treeProto.visit=function visit(callback){var q,child,x0,y0,x1,y1,quads=[],node=this._root;for(node&&quads.push(new quad(node,this._x0,this._y0,this._x1,this._y1));q=quads.pop();)if(!callback(node=q.node,x0=q.x0,y0=q.y0,x1=q.x1,y1=q.y1)&&node.length){var xm=(x0+x1)/2,ym=(y0+y1)/2;(child=node[3])&&quads.push(new quad(child,xm,ym,x1,y1)),(child=node[2])&&quads.push(new quad(child,x0,ym,xm,y1)),(child=node[1])&&quads.push(new quad(child,xm,y0,x1,ym)),(child=node[0])&&quads.push(new quad(child,x0,y0,xm,ym))}return this},treeProto.visitAfter=function visitAfter(callback){var q,quads=[],next=[];for(this._root&&quads.push(new quad(this._root,this._x0,this._y0,this._x1,this._y1));q=quads.pop();){var node=q.node;if(node.length){var child,x0=q.x0,y0=q.y0,x1=q.x1,y1=q.y1,xm=(x0+x1)/2,ym=(y0+y1)/2;(child=node[0])&&quads.push(new quad(child,x0,y0,xm,ym)),(child=node[1])&&quads.push(new quad(child,xm,y0,x1,ym)),(child=node[2])&&quads.push(new quad(child,x0,ym,xm,y1)),(child=node[3])&&quads.push(new quad(child,xm,ym,x1,y1))}next.push(q)}for(;q=next.pop();)callback(q.node,q.x0,q.y0,q.x1,q.y1);return this},treeProto.x=function x(_){return arguments.length?(this._x=_,this):this._x},treeProto.y=function y(_){return arguments.length?(this._y=_,this):this._y};var initialRadius=10,initialAngle=Math.PI*(3-Math.sqrt(5));function simulation(nodes){var simulation,alpha=1,alphaMin=.001,alphaDecay=1-Math.pow(alphaMin,1/300),alphaTarget=0,velocityDecay=.6,forces=src_map(),stepper=timer(step),event=src_dispatch("tick","end");function step(){tick(),event.call("tick",simulation),alpha<alphaMin&&(stepper.stop(),event.call("end",simulation))}function tick(iterations){var i,node,n=nodes.length;void 0===iterations&&(iterations=1);for(var k=0;k<iterations;++k)for(alpha+=(alphaTarget-alpha)*alphaDecay,forces.each((function(force){force(alpha)})),i=0;i<n;++i)null==(node=nodes[i]).fx?node.x+=node.vx*=velocityDecay:(node.x=node.fx,node.vx=0),null==node.fy?node.y+=node.vy*=velocityDecay:(node.y=node.fy,node.vy=0);return simulation}function initializeNodes(){for(var node,i=0,n=nodes.length;i<n;++i){if((node=nodes[i]).index=i,null!=node.fx&&(node.x=node.fx),null!=node.fy&&(node.y=node.fy),isNaN(node.x)||isNaN(node.y)){var radius=initialRadius*Math.sqrt(i),angle=i*initialAngle;node.x=radius*Math.cos(angle),node.y=radius*Math.sin(angle)}(isNaN(node.vx)||isNaN(node.vy))&&(node.vx=node.vy=0)}}function initializeForce(force){return force.initialize&&force.initialize(nodes),force}return null==nodes&&(nodes=[]),initializeNodes(),simulation={tick,restart:function(){return stepper.restart(step),simulation},stop:function(){return stepper.stop(),simulation},nodes:function(_){return arguments.length?(nodes=_,initializeNodes(),forces.each(initializeForce),simulation):nodes},alpha:function(_){return arguments.length?(alpha=+_,simulation):alpha},alphaMin:function(_){return arguments.length?(alphaMin=+_,simulation):alphaMin},alphaDecay:function(_){return arguments.length?(alphaDecay=+_,simulation):+alphaDecay},alphaTarget:function(_){return arguments.length?(alphaTarget=+_,simulation):alphaTarget},velocityDecay:function(_){return arguments.length?(velocityDecay=1-_,simulation):1-velocityDecay},force:function(name,_){return arguments.length>1?(null==_?forces.remove(name):forces.set(name,initializeForce(_)),simulation):forces.get(name)},find:function(x,y,radius){var dx,dy,d2,node,closest,i=0,n=nodes.length;for(null==radius?radius=1/0:radius*=radius,i=0;i<n;++i)(d2=(dx=x-(node=nodes[i]).x)*dx+(dy=y-node.y)*dy)<radius&&(closest=node,radius=d2);return closest},on:function(name,_){return arguments.length>1?(event.on(name,_),simulation):event.on(name)}}}function manyBody(){var nodes,node,alpha,strengths,strength=d3_force_src_constant(-30),distanceMin2=1,distanceMax2=1/0,theta2=.81;function force(_){var i,n=nodes.length,tree=quadtree(nodes,simulation_x,simulation_y).visitAfter(accumulate);for(alpha=_,i=0;i<n;++i)node=nodes[i],tree.visit(apply)}function initialize(){if(nodes){var i,node,n=nodes.length;for(strengths=new Array(n),i=0;i<n;++i)node=nodes[i],strengths[node.index]=+strength(node,i,nodes)}}function accumulate(quad){var q,c,x,y,i,strength=0,weight=0;if(quad.length){for(x=y=i=0;i<4;++i)(q=quad[i])&&(c=Math.abs(q.value))&&(strength+=q.value,weight+=c,x+=c*q.x,y+=c*q.y);quad.x=x/weight,quad.y=y/weight}else{(q=quad).x=q.data.x,q.y=q.data.y;do{strength+=strengths[q.data.index]}while(q=q.next)}quad.value=strength}function apply(quad,x1,_,x2){if(!quad.value)return!0;var x=quad.x-node.x,y=quad.y-node.y,w=x2-x1,l=x*x+y*y;if(w*w/theta2<l)return l<distanceMax2&&(0===x&&(l+=(x=jiggle())*x),0===y&&(l+=(y=jiggle())*y),l<distanceMin2&&(l=Math.sqrt(distanceMin2*l)),node.vx+=x*quad.value*alpha/l,node.vy+=y*quad.value*alpha/l),!0;if(!(quad.length||l>=distanceMax2)){(quad.data!==node||quad.next)&&(0===x&&(l+=(x=jiggle())*x),0===y&&(l+=(y=jiggle())*y),l<distanceMin2&&(l=Math.sqrt(distanceMin2*l)));do{quad.data!==node&&(w=strengths[quad.data.index]*alpha/l,node.vx+=x*w,node.vy+=y*w)}while(quad=quad.next)}}return force.initialize=function(_){nodes=_,initialize()},force.strength=function(_){return arguments.length?(strength="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):strength},force.distanceMin=function(_){return arguments.length?(distanceMin2=_*_,force):Math.sqrt(distanceMin2)},force.distanceMax=function(_){return arguments.length?(distanceMax2=_*_,force):Math.sqrt(distanceMax2)},force.theta=function(_){return arguments.length?(theta2=_*_,force):Math.sqrt(theta2)},force}function radial(radius,x,y){var nodes,strengths,radiuses,strength=d3_force_src_constant(.1);function force(alpha){for(var i=0,n=nodes.length;i<n;++i){var node=nodes[i],dx=node.x-x||1e-6,dy=node.y-y||1e-6,r=Math.sqrt(dx*dx+dy*dy),k=(radiuses[i]-r)*strengths[i]*alpha/r;node.vx+=dx*k,node.vy+=dy*k}}function initialize(){if(nodes){var i,n=nodes.length;for(strengths=new Array(n),radiuses=new Array(n),i=0;i<n;++i)radiuses[i]=+radius(nodes[i],i,nodes),strengths[i]=isNaN(radiuses[i])?0:+strength(nodes[i],i,nodes)}}return"function"!=typeof radius&&(radius=d3_force_src_constant(+radius)),null==x&&(x=0),null==y&&(y=0),force.initialize=function(_){nodes=_,initialize()},force.strength=function(_){return arguments.length?(strength="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):strength},force.radius=function(_){return arguments.length?(radius="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):radius},force.x=function(_){return arguments.length?(x=+_,force):x},force.y=function(_){return arguments.length?(y=+_,force):y},force}function src_x(x){var nodes,strengths,xz,strength=d3_force_src_constant(.1);function force(alpha){for(var node,i=0,n=nodes.length;i<n;++i)(node=nodes[i]).vx+=(xz[i]-node.x)*strengths[i]*alpha}function initialize(){if(nodes){var i,n=nodes.length;for(strengths=new Array(n),xz=new Array(n),i=0;i<n;++i)strengths[i]=isNaN(xz[i]=+x(nodes[i],i,nodes))?0:+strength(nodes[i],i,nodes)}}return"function"!=typeof x&&(x=d3_force_src_constant(null==x?0:+x)),force.initialize=function(_){nodes=_,initialize()},force.strength=function(_){return arguments.length?(strength="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):strength},force.x=function(_){return arguments.length?(x="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):x},force}function src_y(y){var nodes,strengths,yz,strength=d3_force_src_constant(.1);function force(alpha){for(var node,i=0,n=nodes.length;i<n;++i)(node=nodes[i]).vy+=(yz[i]-node.y)*strengths[i]*alpha}function initialize(){if(nodes){var i,n=nodes.length;for(strengths=new Array(n),yz=new Array(n),i=0;i<n;++i)strengths[i]=isNaN(yz[i]=+y(nodes[i],i,nodes))?0:+strength(nodes[i],i,nodes)}}return"function"!=typeof y&&(y=d3_force_src_constant(null==y?0:+y)),force.initialize=function(_){nodes=_,initialize()},force.strength=function(_){return arguments.length?(strength="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):strength},force.y=function(_){return arguments.length?(y="function"==typeof _?_:d3_force_src_constant(+_),initialize(),force):y},force}function formatDecimalParts(x,p){if((i=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e"))<0)return null;var i,coefficient=x.slice(0,i);return[coefficient.length>1?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(i+1)]}function src_exponent(x){return(x=formatDecimalParts(Math.abs(x)))?x[1]:NaN}var prefixExponent,re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(specifier){if(!(match=re.exec(specifier)))throw new Error("invalid format: "+specifier);var match;return new FormatSpecifier({fill:match[1],align:match[2],sign:match[3],symbol:match[4],zero:match[5],width:match[6],comma:match[7],precision:match[8]&&match[8].slice(1),trim:match[9],type:match[10]})}function FormatSpecifier(specifier){this.fill=void 0===specifier.fill?" ":specifier.fill+"",this.align=void 0===specifier.align?">":specifier.align+"",this.sign=void 0===specifier.sign?"-":specifier.sign+"",this.symbol=void 0===specifier.symbol?"":specifier.symbol+"",this.zero=!!specifier.zero,this.width=void 0===specifier.width?void 0:+specifier.width,this.comma=!!specifier.comma,this.precision=void 0===specifier.precision?void 0:+specifier.precision,this.trim=!!specifier.trim,this.type=void 0===specifier.type?"":specifier.type+""}function formatRounded(x,p){var d=formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1];return exponent<0?"0."+new Array(-exponent).join("0")+coefficient:coefficient.length>exponent+1?coefficient.slice(0,exponent+1)+"."+coefficient.slice(exponent+1):coefficient+new Array(exponent-coefficient.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const formatTypes={"%":function(x,p){return(100*x).toFixed(p)},b:function(x){return Math.round(x).toString(2)},c:function(x){return x+""},d:function formatDecimal(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)},e:function(x,p){return x.toExponential(p)},f:function(x,p){return x.toFixed(p)},g:function(x,p){return x.toPrecision(p)},o:function(x){return Math.round(x).toString(8)},p:function(x,p){return formatRounded(100*x,p)},r:formatRounded,s:function formatPrefixAuto(x,p){var d=formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1],i=exponent-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(exponent/3))))+1,n=coefficient.length;return i===n?coefficient:i>n?coefficient+new Array(i-n+1).join("0"):i>0?coefficient.slice(0,i)+"."+coefficient.slice(i):"0."+new Array(1-i).join("0")+formatDecimalParts(x,Math.max(0,p+i-1))[0]},X:function(x){return Math.round(x).toString(16).toUpperCase()},x:function(x){return Math.round(x).toString(16)}};function d3_format_src_identity(x){return x}var defaultLocale_locale,format,formatPrefix,locale_map=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function locale(locale){var group=void 0===locale.grouping||void 0===locale.thousands?d3_format_src_identity:function formatGroup(grouping,thousands){return function(value,width){for(var i=value.length,t=[],j=0,g=grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=grouping[j=(j+1)%grouping.length];return t.reverse().join(thousands)}}(locale_map.call(locale.grouping,Number),locale.thousands+""),currencyPrefix=void 0===locale.currency?"":locale.currency[0]+"",currencySuffix=void 0===locale.currency?"":locale.currency[1]+"",decimal=void 0===locale.decimal?".":locale.decimal+"",numerals=void 0===locale.numerals?d3_format_src_identity:function formatNumerals(numerals){return function(value){return value.replace(/[0-9]/g,(function(i){return numerals[+i]}))}}(locale_map.call(locale.numerals,String)),percent=void 0===locale.percent?"%":locale.percent+"",minus=void 0===locale.minus?"-":locale.minus+"",nan=void 0===locale.nan?"NaN":locale.nan+"";function newFormat(specifier){var fill=(specifier=formatSpecifier(specifier)).fill,align=specifier.align,sign=specifier.sign,symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,trim=specifier.trim,type=specifier.type;"n"===type?(comma=!0,type="g"):formatTypes[type]||(void 0===precision&&(precision=12),trim=!0,type="g"),(zero||"0"===fill&&"="===align)&&(zero=!0,fill="0",align="=");var prefix="$"===symbol?currencyPrefix:"#"===symbol&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix="$"===symbol?currencySuffix:/[%p]/.test(type)?percent:"",formatType=formatTypes[type],maybeSuffix=/[defgprs%]/.test(type);function format(value){var i,n,c,valuePrefix=prefix,valueSuffix=suffix;if("c"===type)valueSuffix=formatType(value)+valueSuffix,value="";else{var valueNegative=(value=+value)<0||1/value<0;if(value=isNaN(value)?nan:formatType(Math.abs(value),precision),trim&&(value=function formatTrim(s){out:for(var i1,n=s.length,i=1,i0=-1;i<n;++i)switch(s[i]){case".":i0=i1=i;break;case"0":0===i0&&(i0=i),i1=i;break;default:if(!+s[i])break out;i0>0&&(i0=0)}return i0>0?s.slice(0,i0)+s.slice(i1+1):s}(value)),valueNegative&&0===+value&&"+"!==sign&&(valueNegative=!1),valuePrefix=(valueNegative?"("===sign?sign:minus:"-"===sign||"("===sign?"":sign)+valuePrefix,valueSuffix=("s"===type?prefixes[8+prefixExponent/3]:"")+valueSuffix+(valueNegative&&"("===sign?")":""),maybeSuffix)for(i=-1,n=value.length;++i<n;)if(48>(c=value.charCodeAt(i))||c>57){valueSuffix=(46===c?decimal+value.slice(i+1):value.slice(i))+valueSuffix,value=value.slice(0,i);break}}comma&&!zero&&(value=group(value,1/0));var length=valuePrefix.length+value.length+valueSuffix.length,padding=length<width?new Array(width-length+1).join(fill):"";switch(comma&&zero&&(value=group(padding+value,padding.length?width-valueSuffix.length:1/0),padding=""),align){case"<":value=valuePrefix+value+valueSuffix+padding;break;case"=":value=valuePrefix+padding+value+valueSuffix;break;case"^":value=padding.slice(0,length=padding.length>>1)+valuePrefix+value+valueSuffix+padding.slice(length);break;default:value=padding+valuePrefix+value+valueSuffix}return numerals(value)}return precision=void 0===precision?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision)),format.toString=function(){return specifier+""},format}return{format:newFormat,formatPrefix:function formatPrefix(specifier,value){var f=newFormat(((specifier=formatSpecifier(specifier)).type="f",specifier)),e=3*Math.max(-8,Math.min(8,Math.floor(src_exponent(value)/3))),k=Math.pow(10,-e),prefix=prefixes[8+e/3];return function(value){return f(k*value)+prefix}}}}function defaultLocale(definition){return defaultLocale_locale=locale(definition),format=defaultLocale_locale.format,formatPrefix=defaultLocale_locale.formatPrefix,defaultLocale_locale}function precisionFixed(step){return Math.max(0,-src_exponent(Math.abs(step)))}function precisionPrefix(step,value){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(src_exponent(value)/3)))-src_exponent(Math.abs(step)))}function precisionRound(step,max){return step=Math.abs(step),max=Math.abs(max)-step,Math.max(0,src_exponent(max)-src_exponent(step))+1}function adder(){return new Adder}function Adder(){this.reset()}defaultLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(y){adder_add(temp,y,this.t),adder_add(this,temp.s,this.s),this.s?this.t+=temp.t:this.s=temp.t},valueOf:function(){return this.s}};var temp=new Adder;function adder_add(adder,a,b){var x=adder.s=a+b,bv=x-a,av=x-bv;adder.t=a-av+(b-bv)}var math_epsilon=1e-6,epsilon2=1e-12,math_pi=Math.PI,math_halfPi=math_pi/2,quarterPi=math_pi/4,math_tau=2*math_pi,math_degrees=180/math_pi,radians=math_pi/180,abs=Math.abs,atan=Math.atan,atan2=Math.atan2,math_cos=Math.cos,ceil=Math.ceil,exp=Math.exp,log=(Math.floor,Math.log),pow=Math.pow,math_sin=Math.sin,sign=Math.sign||function(x){return x>0?1:x<0?-1:0},sqrt=Math.sqrt,tan=Math.tan;function acos(x){return x>1?0:x<-1?math_pi:Math.acos(x)}function asin(x){return x>1?math_halfPi:x<-1?-math_halfPi:Math.asin(x)}function haversin(x){return(x=math_sin(x/2))*x}function noop_noop(){}function streamGeometry(geometry,stream){geometry&&streamGeometryType.hasOwnProperty(geometry.type)&&streamGeometryType[geometry.type](geometry,stream)}var streamObjectType={Feature:function(object,stream){streamGeometry(object.geometry,stream)},FeatureCollection:function(object,stream){for(var features=object.features,i=-1,n=features.length;++i<n;)streamGeometry(features[i].geometry,stream)}},streamGeometryType={Sphere:function(object,stream){stream.sphere()},Point:function(object,stream){object=object.coordinates,stream.point(object[0],object[1],object[2])},MultiPoint:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)object=coordinates[i],stream.point(object[0],object[1],object[2])},LineString:function(object,stream){streamLine(object.coordinates,stream,0)},MultiLineString:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)streamLine(coordinates[i],stream,0)},Polygon:function(object,stream){streamPolygon(object.coordinates,stream)},MultiPolygon:function(object,stream){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)streamPolygon(coordinates[i],stream)},GeometryCollection:function(object,stream){for(var geometries=object.geometries,i=-1,n=geometries.length;++i<n;)streamGeometry(geometries[i],stream)}};function streamLine(coordinates,stream,closed){var coordinate,i=-1,n=coordinates.length-closed;for(stream.lineStart();++i<n;)coordinate=coordinates[i],stream.point(coordinate[0],coordinate[1],coordinate[2]);stream.lineEnd()}function streamPolygon(coordinates,stream){var i=-1,n=coordinates.length;for(stream.polygonStart();++i<n;)streamLine(coordinates[i],stream,1);stream.polygonEnd()}function stream(object,stream){object&&streamObjectType.hasOwnProperty(object.type)?streamObjectType[object.type](object,stream):streamGeometry(object,stream)}var lambda00,phi00,lambda0,cosPhi0,sinPhi0,areaRingSum=adder(),areaSum=adder(),areaStream={point:noop_noop,lineStart:noop_noop,lineEnd:noop_noop,polygonStart:function(){areaRingSum.reset(),areaStream.lineStart=areaRingStart,areaStream.lineEnd=areaRingEnd},polygonEnd:function(){var areaRing=+areaRingSum;areaSum.add(areaRing<0?math_tau+areaRing:areaRing),this.lineStart=this.lineEnd=this.point=noop_noop},sphere:function(){areaSum.add(math_tau)}};function areaRingStart(){areaStream.point=areaPointFirst}function areaRingEnd(){areaPoint(lambda00,phi00)}function areaPointFirst(lambda,phi){areaStream.point=areaPoint,lambda00=lambda,phi00=phi,lambda0=lambda*=radians,cosPhi0=math_cos(phi=(phi*=radians)/2+quarterPi),sinPhi0=math_sin(phi)}function areaPoint(lambda,phi){var dLambda=(lambda*=radians)-lambda0,sdLambda=dLambda>=0?1:-1,adLambda=sdLambda*dLambda,cosPhi=math_cos(phi=(phi*=radians)/2+quarterPi),sinPhi=math_sin(phi),k=sinPhi0*sinPhi,u=cosPhi0*cosPhi+k*math_cos(adLambda),v=k*sdLambda*math_sin(adLambda);areaRingSum.add(atan2(v,u)),lambda0=lambda,cosPhi0=cosPhi,sinPhi0=sinPhi}function d3_geo_src_area(object){return areaSum.reset(),stream(object,areaStream),2*areaSum}function spherical(cartesian){return[atan2(cartesian[1],cartesian[0]),asin(cartesian[2])]}function cartesian(spherical){var lambda=spherical[0],phi=spherical[1],cosPhi=math_cos(phi);return[cosPhi*math_cos(lambda),cosPhi*math_sin(lambda),math_sin(phi)]}function cartesianDot(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function cartesianCross(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function cartesianAddInPlace(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function cartesianScale(vector,k){return[vector[0]*k,vector[1]*k,vector[2]*k]}function cartesianNormalizeInPlace(d){var l=sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);d[0]/=l,d[1]/=l,d[2]/=l}var bounds_lambda0,phi0,lambda1,phi1,lambda2,bounds_lambda00,bounds_phi00,p0,ranges,range,W0,W1,X0,Y0,Z0,X1,Y1,Z1,X2,Y2,Z2,centroid_lambda00,centroid_phi00,x0,y0,z0,deltaSum=adder(),boundsStream={point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){boundsStream.point=boundsRingPoint,boundsStream.lineStart=boundsRingStart,boundsStream.lineEnd=boundsRingEnd,deltaSum.reset(),areaStream.polygonStart()},polygonEnd:function(){areaStream.polygonEnd(),boundsStream.point=boundsPoint,boundsStream.lineStart=boundsLineStart,boundsStream.lineEnd=boundsLineEnd,areaRingSum<0?(bounds_lambda0=-(lambda1=180),phi0=-(phi1=90)):deltaSum>math_epsilon?phi1=90:deltaSum<-math_epsilon&&(phi0=-90),range[0]=bounds_lambda0,range[1]=lambda1},sphere:function(){bounds_lambda0=-(lambda1=180),phi0=-(phi1=90)}};function boundsPoint(lambda,phi){ranges.push(range=[bounds_lambda0=lambda,lambda1=lambda]),phi<phi0&&(phi0=phi),phi>phi1&&(phi1=phi)}function linePoint(lambda,phi){var p=cartesian([lambda*radians,phi*radians]);if(p0){var normal=cartesianCross(p0,p),inflection=cartesianCross([normal[1],-normal[0],0],normal);cartesianNormalizeInPlace(inflection),inflection=spherical(inflection);var phii,delta=lambda-lambda2,sign=delta>0?1:-1,lambdai=inflection[0]*math_degrees*sign,antimeridian=abs(delta)>180;antimeridian^(sign*lambda2<lambdai&&lambdai<sign*lambda)?(phii=inflection[1]*math_degrees)>phi1&&(phi1=phii):antimeridian^(sign*lambda2<(lambdai=(lambdai+360)%360-180)&&lambdai<sign*lambda)?(phii=-inflection[1]*math_degrees)<phi0&&(phi0=phii):(phi<phi0&&(phi0=phi),phi>phi1&&(phi1=phi)),antimeridian?lambda<lambda2?angle(bounds_lambda0,lambda)>angle(bounds_lambda0,lambda1)&&(lambda1=lambda):angle(lambda,lambda1)>angle(bounds_lambda0,lambda1)&&(bounds_lambda0=lambda):lambda1>=bounds_lambda0?(lambda<bounds_lambda0&&(bounds_lambda0=lambda),lambda>lambda1&&(lambda1=lambda)):lambda>lambda2?angle(bounds_lambda0,lambda)>angle(bounds_lambda0,lambda1)&&(lambda1=lambda):angle(lambda,lambda1)>angle(bounds_lambda0,lambda1)&&(bounds_lambda0=lambda)}else ranges.push(range=[bounds_lambda0=lambda,lambda1=lambda]);phi<phi0&&(phi0=phi),phi>phi1&&(phi1=phi),p0=p,lambda2=lambda}function boundsLineStart(){boundsStream.point=linePoint}function boundsLineEnd(){range[0]=bounds_lambda0,range[1]=lambda1,boundsStream.point=boundsPoint,p0=null}function boundsRingPoint(lambda,phi){if(p0){var delta=lambda-lambda2;deltaSum.add(abs(delta)>180?delta+(delta>0?360:-360):delta)}else bounds_lambda00=lambda,bounds_phi00=phi;areaStream.point(lambda,phi),linePoint(lambda,phi)}function boundsRingStart(){areaStream.lineStart()}function boundsRingEnd(){boundsRingPoint(bounds_lambda00,bounds_phi00),areaStream.lineEnd(),abs(deltaSum)>math_epsilon&&(bounds_lambda0=-(lambda1=180)),range[0]=bounds_lambda0,range[1]=lambda1,p0=null}function angle(lambda0,lambda1){return(lambda1-=lambda0)<0?lambda1+360:lambda1}function rangeCompare(a,b){return a[0]-b[0]}function rangeContains(range,x){return range[0]<=range[1]?range[0]<=x&&x<=range[1]:x<range[0]||range[1]<x}function bounds(feature){var i,n,a,b,merged,deltaMax,delta;if(phi1=lambda1=-(bounds_lambda0=phi0=1/0),ranges=[],stream(feature,boundsStream),n=ranges.length){for(ranges.sort(rangeCompare),i=1,merged=[a=ranges[0]];i<n;++i)rangeContains(a,(b=ranges[i])[0])||rangeContains(a,b[1])?(angle(a[0],b[1])>angle(a[0],a[1])&&(a[1]=b[1]),angle(b[0],a[1])>angle(a[0],a[1])&&(a[0]=b[0])):merged.push(a=b);for(deltaMax=-1/0,i=0,a=merged[n=merged.length-1];i<=n;a=b,++i)b=merged[i],(delta=angle(a[1],b[0]))>deltaMax&&(deltaMax=delta,bounds_lambda0=b[0],lambda1=a[1])}return ranges=range=null,bounds_lambda0===1/0||phi0===1/0?[[NaN,NaN],[NaN,NaN]]:[[bounds_lambda0,phi0],[lambda1,phi1]]}var centroidStream={sphere:noop_noop,point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){centroidStream.lineStart=centroidRingStart,centroidStream.lineEnd=centroidRingEnd},polygonEnd:function(){centroidStream.lineStart=centroidLineStart,centroidStream.lineEnd=centroidLineEnd}};function centroidPoint(lambda,phi){lambda*=radians;var cosPhi=math_cos(phi*=radians);centroidPointCartesian(cosPhi*math_cos(lambda),cosPhi*math_sin(lambda),math_sin(phi))}function centroidPointCartesian(x,y,z){++W0,X0+=(x-X0)/W0,Y0+=(y-Y0)/W0,Z0+=(z-Z0)/W0}function centroidLineStart(){centroidStream.point=centroidLinePointFirst}function centroidLinePointFirst(lambda,phi){lambda*=radians;var cosPhi=math_cos(phi*=radians);x0=cosPhi*math_cos(lambda),y0=cosPhi*math_sin(lambda),z0=math_sin(phi),centroidStream.point=centroidLinePoint,centroidPointCartesian(x0,y0,z0)}function centroidLinePoint(lambda,phi){lambda*=radians;var cosPhi=math_cos(phi*=radians),x=cosPhi*math_cos(lambda),y=cosPhi*math_sin(lambda),z=math_sin(phi),w=atan2(sqrt((w=y0*z-z0*y)*w+(w=z0*x-x0*z)*w+(w=x0*y-y0*x)*w),x0*x+y0*y+z0*z);W1+=w,X1+=w*(x0+(x0=x)),Y1+=w*(y0+(y0=y)),Z1+=w*(z0+(z0=z)),centroidPointCartesian(x0,y0,z0)}function centroidLineEnd(){centroidStream.point=centroidPoint}function centroidRingStart(){centroidStream.point=centroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(centroid_lambda00,centroid_phi00),centroidStream.point=centroidPoint}function centroidRingPointFirst(lambda,phi){centroid_lambda00=lambda,centroid_phi00=phi,lambda*=radians,phi*=radians,centroidStream.point=centroidRingPoint;var cosPhi=math_cos(phi);x0=cosPhi*math_cos(lambda),y0=cosPhi*math_sin(lambda),z0=math_sin(phi),centroidPointCartesian(x0,y0,z0)}function centroidRingPoint(lambda,phi){lambda*=radians;var cosPhi=math_cos(phi*=radians),x=cosPhi*math_cos(lambda),y=cosPhi*math_sin(lambda),z=math_sin(phi),cx=y0*z-z0*y,cy=z0*x-x0*z,cz=x0*y-y0*x,m=sqrt(cx*cx+cy*cy+cz*cz),w=asin(m),v=m&&-w/m;X2+=v*cx,Y2+=v*cy,Z2+=v*cz,W1+=w,X1+=w*(x0+(x0=x)),Y1+=w*(y0+(y0=y)),Z1+=w*(z0+(z0=z)),centroidPointCartesian(x0,y0,z0)}function centroid(object){W0=W1=X0=Y0=Z0=X1=Y1=Z1=X2=Y2=Z2=0,stream(object,centroidStream);var x=X2,y=Y2,z=Z2,m=x*x+y*y+z*z;return m<epsilon2&&(x=X1,y=Y1,z=Z1,W1<math_epsilon&&(x=X0,y=Y0,z=Z0),(m=x*x+y*y+z*z)<epsilon2)?[NaN,NaN]:[atan2(y,x)*math_degrees,asin(z/sqrt(m))*math_degrees]}function d3_geo_src_constant(x){return function(){return x}}function compose(a,b){function compose(x,y){return x=a(x,y),b(x[0],x[1])}return a.invert&&b.invert&&(compose.invert=function(x,y){return(x=b.invert(x,y))&&a.invert(x[0],x[1])}),compose}function rotationIdentity(lambda,phi){return[abs(lambda)>math_pi?lambda+Math.round(-lambda/math_tau)*math_tau:lambda,phi]}function rotateRadians(deltaLambda,deltaPhi,deltaGamma){return(deltaLambda%=math_tau)?deltaPhi||deltaGamma?compose(rotationLambda(deltaLambda),rotationPhiGamma(deltaPhi,deltaGamma)):rotationLambda(deltaLambda):deltaPhi||deltaGamma?rotationPhiGamma(deltaPhi,deltaGamma):rotationIdentity}function forwardRotationLambda(deltaLambda){return function(lambda,phi){return[(lambda+=deltaLambda)>math_pi?lambda-math_tau:lambda<-math_pi?lambda+math_tau:lambda,phi]}}function rotationLambda(deltaLambda){var rotation=forwardRotationLambda(deltaLambda);return rotation.invert=forwardRotationLambda(-deltaLambda),rotation}function rotationPhiGamma(deltaPhi,deltaGamma){var cosDeltaPhi=math_cos(deltaPhi),sinDeltaPhi=math_sin(deltaPhi),cosDeltaGamma=math_cos(deltaGamma),sinDeltaGamma=math_sin(deltaGamma);function rotation(lambda,phi){var cosPhi=math_cos(phi),x=math_cos(lambda)*cosPhi,y=math_sin(lambda)*cosPhi,z=math_sin(phi),k=z*cosDeltaPhi+x*sinDeltaPhi;return[atan2(y*cosDeltaGamma-k*sinDeltaGamma,x*cosDeltaPhi-z*sinDeltaPhi),asin(k*cosDeltaGamma+y*sinDeltaGamma)]}return rotation.invert=function(lambda,phi){var cosPhi=math_cos(phi),x=math_cos(lambda)*cosPhi,y=math_sin(lambda)*cosPhi,z=math_sin(phi),k=z*cosDeltaGamma-y*sinDeltaGamma;return[atan2(y*cosDeltaGamma+z*sinDeltaGamma,x*cosDeltaPhi+k*sinDeltaPhi),asin(k*cosDeltaPhi-x*sinDeltaPhi)]},rotation}function rotation(rotate){function forward(coordinates){return(coordinates=rotate(coordinates[0]*radians,coordinates[1]*radians))[0]*=math_degrees,coordinates[1]*=math_degrees,coordinates}return rotate=rotateRadians(rotate[0]*radians,rotate[1]*radians,rotate.length>2?rotate[2]*radians:0),forward.invert=function(coordinates){return(coordinates=rotate.invert(coordinates[0]*radians,coordinates[1]*radians))[0]*=math_degrees,coordinates[1]*=math_degrees,coordinates},forward}function circleStream(stream,radius,delta,direction,t0,t1){if(delta){var cosRadius=math_cos(radius),sinRadius=math_sin(radius),step=direction*delta;null==t0?(t0=radius+direction*math_tau,t1=radius-step/2):(t0=circleRadius(cosRadius,t0),t1=circleRadius(cosRadius,t1),(direction>0?t0<t1:t0>t1)&&(t0+=direction*math_tau));for(var point,t=t0;direction>0?t>t1:t<t1;t-=step)point=spherical([cosRadius,-sinRadius*math_cos(t),-sinRadius*math_sin(t)]),stream.point(point[0],point[1])}}function circleRadius(cosRadius,point){(point=cartesian(point))[0]-=cosRadius,cartesianNormalizeInPlace(point);var radius=acos(-point[1]);return((-point[2]<0?-radius:radius)+math_tau-math_epsilon)%math_tau}function circle(){var ring,rotate,center=d3_geo_src_constant([0,0]),radius=d3_geo_src_constant(90),precision=d3_geo_src_constant(6),stream={point:function point(x,y){ring.push(x=rotate(x,y)),x[0]*=math_degrees,x[1]*=math_degrees}};function circle(){var c=center.apply(this,arguments),r=radius.apply(this,arguments)*radians,p=precision.apply(this,arguments)*radians;return ring=[],rotate=rotateRadians(-c[0]*radians,-c[1]*radians,0).invert,circleStream(stream,r,p,1),c={type:"Polygon",coordinates:[ring]},ring=rotate=null,c}return circle.center=function(_){return arguments.length?(center="function"==typeof _?_:d3_geo_src_constant([+_[0],+_[1]]),circle):center},circle.radius=function(_){return arguments.length?(radius="function"==typeof _?_:d3_geo_src_constant(+_),circle):radius},circle.precision=function(_){return arguments.length?(precision="function"==typeof _?_:d3_geo_src_constant(+_),circle):precision},circle}function clip_buffer(){var line,lines=[];return{point:function(x,y,m){line.push([x,y,m])},lineStart:function(){lines.push(line=[])},lineEnd:noop_noop,rejoin:function(){lines.length>1&&lines.push(lines.pop().concat(lines.shift()))},result:function(){var result=lines;return lines=[],line=null,result}}}function pointEqual(a,b){return abs(a[0]-b[0])<math_epsilon&&abs(a[1]-b[1])<math_epsilon}function Intersection(point,points,other,entry){this.x=point,this.z=points,this.o=other,this.e=entry,this.v=!1,this.n=this.p=null}function rejoin(segments,compareIntersection,startInside,interpolate,stream){var i,n,subject=[],clip=[];if(segments.forEach((function(segment){if(!((n=segment.length-1)<=0)){var n,x,p0=segment[0],p1=segment[n];if(pointEqual(p0,p1)){if(!p0[2]&&!p1[2]){for(stream.lineStart(),i=0;i<n;++i)stream.point((p0=segment[i])[0],p0[1]);return void stream.lineEnd()}p1[0]+=2*math_epsilon}subject.push(x=new Intersection(p0,segment,null,!0)),clip.push(x.o=new Intersection(p0,null,x,!1)),subject.push(x=new Intersection(p1,segment,null,!1)),clip.push(x.o=new Intersection(p1,null,x,!0))}})),subject.length){for(clip.sort(compareIntersection),rejoin_link(subject),rejoin_link(clip),i=0,n=clip.length;i<n;++i)clip[i].e=startInside=!startInside;for(var points,point,start=subject[0];;){for(var current=start,isSubject=!0;current.v;)if((current=current.n)===start)return;points=current.z,stream.lineStart();do{if(current.v=current.o.v=!0,current.e){if(isSubject)for(i=0,n=points.length;i<n;++i)stream.point((point=points[i])[0],point[1]);else interpolate(current.x,current.n.x,1,stream);current=current.n}else{if(isSubject)for(points=current.p.z,i=points.length-1;i>=0;--i)stream.point((point=points[i])[0],point[1]);else interpolate(current.x,current.p.x,-1,stream);current=current.p}points=(current=current.o).z,isSubject=!isSubject}while(!current.v);stream.lineEnd()}}}function rejoin_link(array){if(n=array.length){for(var n,b,i=0,a=array[0];++i<n;)a.n=b=array[i],b.p=a,a=b;a.n=b=array[0],b.p=a}}rotationIdentity.invert=rotationIdentity;var polygonContains_sum=adder();function longitude(point){return abs(point[0])<=math_pi?point[0]:sign(point[0])*((abs(point[0])+math_pi)%math_tau-math_pi)}function polygonContains(polygon,point){var lambda=longitude(point),phi=point[1],sinPhi=math_sin(phi),normal=[math_sin(lambda),-math_cos(lambda),0],angle=0,winding=0;polygonContains_sum.reset(),1===sinPhi?phi=math_halfPi+math_epsilon:-1===sinPhi&&(phi=-math_halfPi-math_epsilon);for(var i=0,n=polygon.length;i<n;++i)if(m=(ring=polygon[i]).length)for(var ring,m,point0=ring[m-1],lambda0=longitude(point0),phi0=point0[1]/2+quarterPi,sinPhi0=math_sin(phi0),cosPhi0=math_cos(phi0),j=0;j<m;++j,lambda0=lambda1,sinPhi0=sinPhi1,cosPhi0=cosPhi1,point0=point1){var point1=ring[j],lambda1=longitude(point1),phi1=point1[1]/2+quarterPi,sinPhi1=math_sin(phi1),cosPhi1=math_cos(phi1),delta=lambda1-lambda0,sign=delta>=0?1:-1,absDelta=sign*delta,antimeridian=absDelta>math_pi,k=sinPhi0*sinPhi1;if(polygonContains_sum.add(atan2(k*sign*math_sin(absDelta),cosPhi0*cosPhi1+k*math_cos(absDelta))),angle+=antimeridian?delta+sign*math_tau:delta,antimeridian^lambda0>=lambda^lambda1>=lambda){var arc=cartesianCross(cartesian(point0),cartesian(point1));cartesianNormalizeInPlace(arc);var intersection=cartesianCross(normal,arc);cartesianNormalizeInPlace(intersection);var phiArc=(antimeridian^delta>=0?-1:1)*asin(intersection[2]);(phi>phiArc||phi===phiArc&&(arc[0]||arc[1]))&&(winding+=antimeridian^delta>=0?1:-1)}}return(angle<-math_epsilon||angle<math_epsilon&&polygonContains_sum<-math_epsilon)^1&winding}function clip(pointVisible,clipLine,interpolate,start){return function(sink){var polygon,segments,ring,line=clipLine(sink),ringBuffer=clip_buffer(),ringSink=clipLine(ringBuffer),polygonStarted=!1,clip={point,lineStart,lineEnd,polygonStart:function(){clip.point=pointRing,clip.lineStart=ringStart,clip.lineEnd=ringEnd,segments=[],polygon=[]},polygonEnd:function(){clip.point=point,clip.lineStart=lineStart,clip.lineEnd=lineEnd,segments=merge(segments);var startInside=polygonContains(polygon,start);segments.length?(polygonStarted||(sink.polygonStart(),polygonStarted=!0),rejoin(segments,compareIntersection,startInside,interpolate,sink)):startInside&&(polygonStarted||(sink.polygonStart(),polygonStarted=!0),sink.lineStart(),interpolate(null,null,1,sink),sink.lineEnd()),polygonStarted&&(sink.polygonEnd(),polygonStarted=!1),segments=polygon=null},sphere:function(){sink.polygonStart(),sink.lineStart(),interpolate(null,null,1,sink),sink.lineEnd(),sink.polygonEnd()}};function point(lambda,phi){pointVisible(lambda,phi)&&sink.point(lambda,phi)}function pointLine(lambda,phi){line.point(lambda,phi)}function lineStart(){clip.point=pointLine,line.lineStart()}function lineEnd(){clip.point=point,line.lineEnd()}function pointRing(lambda,phi){ring.push([lambda,phi]),ringSink.point(lambda,phi)}function ringStart(){ringSink.lineStart(),ring=[]}function ringEnd(){pointRing(ring[0][0],ring[0][1]),ringSink.lineEnd();var i,m,segment,point,clean=ringSink.clean(),ringSegments=ringBuffer.result(),n=ringSegments.length;if(ring.pop(),polygon.push(ring),ring=null,n)if(1&clean){if((m=(segment=ringSegments[0]).length-1)>0){for(polygonStarted||(sink.polygonStart(),polygonStarted=!0),sink.lineStart(),i=0;i<m;++i)sink.point((point=segment[i])[0],point[1]);sink.lineEnd()}}else n>1&&2&clean&&ringSegments.push(ringSegments.pop().concat(ringSegments.shift())),segments.push(ringSegments.filter(validSegment))}return clip}}function validSegment(segment){return segment.length>1}function compareIntersection(a,b){return((a=a.x)[0]<0?a[1]-math_halfPi-math_epsilon:math_halfPi-a[1])-((b=b.x)[0]<0?b[1]-math_halfPi-math_epsilon:math_halfPi-b[1])}const antimeridian=clip((function(){return!0}),(function clipAntimeridianLine(stream){var clean,lambda0=NaN,phi0=NaN,sign0=NaN;return{lineStart:function(){stream.lineStart(),clean=1},point:function(lambda1,phi1){var sign1=lambda1>0?math_pi:-math_pi,delta=abs(lambda1-lambda0);abs(delta-math_pi)<math_epsilon?(stream.point(lambda0,phi0=(phi0+phi1)/2>0?math_halfPi:-math_halfPi),stream.point(sign0,phi0),stream.lineEnd(),stream.lineStart(),stream.point(sign1,phi0),stream.point(lambda1,phi0),clean=0):sign0!==sign1&&delta>=math_pi&&(abs(lambda0-sign0)<math_epsilon&&(lambda0-=sign0*math_epsilon),abs(lambda1-sign1)<math_epsilon&&(lambda1-=sign1*math_epsilon),phi0=function clipAntimeridianIntersect(lambda0,phi0,lambda1,phi1){var cosPhi0,cosPhi1,sinLambda0Lambda1=math_sin(lambda0-lambda1);return abs(sinLambda0Lambda1)>math_epsilon?atan((math_sin(phi0)*(cosPhi1=math_cos(phi1))*math_sin(lambda1)-math_sin(phi1)*(cosPhi0=math_cos(phi0))*math_sin(lambda0))/(cosPhi0*cosPhi1*sinLambda0Lambda1)):(phi0+phi1)/2}(lambda0,phi0,lambda1,phi1),stream.point(sign0,phi0),stream.lineEnd(),stream.lineStart(),stream.point(sign1,phi0),clean=0),stream.point(lambda0=lambda1,phi0=phi1),sign0=sign1},lineEnd:function(){stream.lineEnd(),lambda0=phi0=NaN},clean:function(){return 2-clean}}}),(function clipAntimeridianInterpolate(from,to,direction,stream){var phi;if(null==from)phi=direction*math_halfPi,stream.point(-math_pi,phi),stream.point(0,phi),stream.point(math_pi,phi),stream.point(math_pi,0),stream.point(math_pi,-phi),stream.point(0,-phi),stream.point(-math_pi,-phi),stream.point(-math_pi,0),stream.point(-math_pi,phi);else if(abs(from[0]-to[0])>math_epsilon){var lambda=from[0]<to[0]?math_pi:-math_pi;phi=direction*lambda/2,stream.point(-lambda,phi),stream.point(0,phi),stream.point(lambda,phi)}else stream.point(to[0],to[1])}),[-math_pi,-math_halfPi]);function clip_circle(radius){var cr=math_cos(radius),delta=6*radians,smallRadius=cr>0,notHemisphere=abs(cr)>math_epsilon;function visible(lambda,phi){return math_cos(lambda)*math_cos(phi)>cr}function intersect(a,b,two){var n1=[1,0,0],n2=cartesianCross(cartesian(a),cartesian(b)),n2n2=cartesianDot(n2,n2),n1n2=n2[0],determinant=n2n2-n1n2*n1n2;if(!determinant)return!two&&a;var c1=cr*n2n2/determinant,c2=-cr*n1n2/determinant,n1xn2=cartesianCross(n1,n2),A=cartesianScale(n1,c1);cartesianAddInPlace(A,cartesianScale(n2,c2));var u=n1xn2,w=cartesianDot(A,u),uu=cartesianDot(u,u),t2=w*w-uu*(cartesianDot(A,A)-1);if(!(t2<0)){var t=sqrt(t2),q=cartesianScale(u,(-w-t)/uu);if(cartesianAddInPlace(q,A),q=spherical(q),!two)return q;var z,lambda0=a[0],lambda1=b[0],phi0=a[1],phi1=b[1];lambda1<lambda0&&(z=lambda0,lambda0=lambda1,lambda1=z);var delta=lambda1-lambda0,polar=abs(delta-math_pi)<math_epsilon;if(!polar&&phi1<phi0&&(z=phi0,phi0=phi1,phi1=z),polar||delta<math_epsilon?polar?phi0+phi1>0^q[1]<(abs(q[0]-lambda0)<math_epsilon?phi0:phi1):phi0<=q[1]&&q[1]<=phi1:delta>math_pi^(lambda0<=q[0]&&q[0]<=lambda1)){var q1=cartesianScale(u,(-w+t)/uu);return cartesianAddInPlace(q1,A),[q,spherical(q1)]}}}function code(lambda,phi){var r=smallRadius?radius:math_pi-radius,code=0;return lambda<-r?code|=1:lambda>r&&(code|=2),phi<-r?code|=4:phi>r&&(code|=8),code}return clip(visible,(function clipLine(stream){var point0,c0,v0,v00,clean;return{lineStart:function(){v00=v0=!1,clean=1},point:function(lambda,phi){var point2,point1=[lambda,phi],v=visible(lambda,phi),c=smallRadius?v?0:code(lambda,phi):v?code(lambda+(lambda<0?math_pi:-math_pi),phi):0;if(!point0&&(v00=v0=v)&&stream.lineStart(),v!==v0&&(!(point2=intersect(point0,point1))||pointEqual(point0,point2)||pointEqual(point1,point2))&&(point1[2]=1),v!==v0)clean=0,v?(stream.lineStart(),point2=intersect(point1,point0),stream.point(point2[0],point2[1])):(point2=intersect(point0,point1),stream.point(point2[0],point2[1],2),stream.lineEnd()),point0=point2;else if(notHemisphere&&point0&&smallRadius^v){var t;c&c0||!(t=intersect(point1,point0,!0))||(clean=0,smallRadius?(stream.lineStart(),stream.point(t[0][0],t[0][1]),stream.point(t[1][0],t[1][1]),stream.lineEnd()):(stream.point(t[1][0],t[1][1]),stream.lineEnd(),stream.lineStart(),stream.point(t[0][0],t[0][1],3)))}!v||point0&&pointEqual(point0,point1)||stream.point(point1[0],point1[1]),point0=point1,v0=v,c0=c},lineEnd:function(){v0&&stream.lineEnd(),point0=null},clean:function(){return clean|(v00&&v0)<<1}}}),(function interpolate(from,to,direction,stream){circleStream(stream,radius,delta,direction,from,to)}),smallRadius?[0,-radius]:[-math_pi,radius-math_pi])}var clipMax=1e9,clipMin=-clipMax;function clipRectangle(x0,y0,x1,y1){function visible(x,y){return x0<=x&&x<=x1&&y0<=y&&y<=y1}function interpolate(from,to,direction,stream){var a=0,a1=0;if(null==from||(a=corner(from,direction))!==(a1=corner(to,direction))||comparePoint(from,to)<0^direction>0)do{stream.point(0===a||3===a?x0:x1,a>1?y1:y0)}while((a=(a+direction+4)%4)!==a1);else stream.point(to[0],to[1])}function corner(p,direction){return abs(p[0]-x0)<math_epsilon?direction>0?0:3:abs(p[0]-x1)<math_epsilon?direction>0?2:1:abs(p[1]-y0)<math_epsilon?direction>0?1:0:direction>0?3:2}function compareIntersection(a,b){return comparePoint(a.x,b.x)}function comparePoint(a,b){var ca=corner(a,1),cb=corner(b,1);return ca!==cb?ca-cb:0===ca?b[1]-a[1]:1===ca?a[0]-b[0]:2===ca?a[1]-b[1]:b[0]-a[0]}return function(stream){var segments,polygon,ring,x__,y__,v__,x_,y_,v_,first,clean,activeStream=stream,bufferStream=clip_buffer(),clipStream={point,lineStart:function lineStart(){clipStream.point=linePoint,polygon&&polygon.push(ring=[]);first=!0,v_=!1,x_=y_=NaN},lineEnd:function lineEnd(){segments&&(linePoint(x__,y__),v__&&v_&&bufferStream.rejoin(),segments.push(bufferStream.result()));clipStream.point=point,v_&&activeStream.lineEnd()},polygonStart:function polygonStart(){activeStream=bufferStream,segments=[],polygon=[],clean=!0},polygonEnd:function polygonEnd(){var startInside=function polygonInside(){for(var winding=0,i=0,n=polygon.length;i<n;++i)for(var a0,a1,ring=polygon[i],j=1,m=ring.length,point=ring[0],b0=point[0],b1=point[1];j<m;++j)a0=b0,a1=b1,b0=(point=ring[j])[0],b1=point[1],a1<=y1?b1>y1&&(b0-a0)*(y1-a1)>(b1-a1)*(x0-a0)&&++winding:b1<=y1&&(b0-a0)*(y1-a1)<(b1-a1)*(x0-a0)&&--winding;return winding}(),cleanInside=clean&&startInside,visible=(segments=merge(segments)).length;(cleanInside||visible)&&(stream.polygonStart(),cleanInside&&(stream.lineStart(),interpolate(null,null,1,stream),stream.lineEnd()),visible&&rejoin(segments,compareIntersection,startInside,interpolate,stream),stream.polygonEnd());activeStream=stream,segments=polygon=ring=null}};function point(x,y){visible(x,y)&&activeStream.point(x,y)}function linePoint(x,y){var v=visible(x,y);if(polygon&&ring.push([x,y]),first)x__=x,y__=y,v__=v,first=!1,v&&(activeStream.lineStart(),activeStream.point(x,y));else if(v&&v_)activeStream.point(x,y);else{var a=[x_=Math.max(clipMin,Math.min(clipMax,x_)),y_=Math.max(clipMin,Math.min(clipMax,y_))],b=[x=Math.max(clipMin,Math.min(clipMax,x)),y=Math.max(clipMin,Math.min(clipMax,y))];!function line(a,b,x0,y0,x1,y1){var r,ax=a[0],ay=a[1],t0=0,t1=1,dx=b[0]-ax,dy=b[1]-ay;if(r=x0-ax,dx||!(r>0)){if(r/=dx,dx<0){if(r<t0)return;r<t1&&(t1=r)}else if(dx>0){if(r>t1)return;r>t0&&(t0=r)}if(r=x1-ax,dx||!(r<0)){if(r/=dx,dx<0){if(r>t1)return;r>t0&&(t0=r)}else if(dx>0){if(r<t0)return;r<t1&&(t1=r)}if(r=y0-ay,dy||!(r>0)){if(r/=dy,dy<0){if(r<t0)return;r<t1&&(t1=r)}else if(dy>0){if(r>t1)return;r>t0&&(t0=r)}if(r=y1-ay,dy||!(r<0)){if(r/=dy,dy<0){if(r>t1)return;r>t0&&(t0=r)}else if(dy>0){if(r<t0)return;r<t1&&(t1=r)}return t0>0&&(a[0]=ax+t0*dx,a[1]=ay+t0*dy),t1<1&&(b[0]=ax+t1*dx,b[1]=ay+t1*dy),!0}}}}}(a,b,x0,y0,x1,y1)?v&&(activeStream.lineStart(),activeStream.point(x,y),clean=!1):(v_||(activeStream.lineStart(),activeStream.point(a[0],a[1])),activeStream.point(b[0],b[1]),v||activeStream.lineEnd(),clean=!1)}x_=x,y_=y,v_=v}return clipStream}}function clip_extent(){var cache,cacheStream,clip,x0=0,y0=0,x1=960,y1=500;return clip={stream:function(stream){return cache&&cacheStream===stream?cache:cache=clipRectangle(x0,y0,x1,y1)(cacheStream=stream)},extent:function(_){return arguments.length?(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1],cache=cacheStream=null,clip):[[x0,y0],[x1,y1]]}}}var length_lambda0,length_sinPhi0,length_cosPhi0,lengthSum=adder(),lengthStream={sphere:noop_noop,point:noop_noop,lineStart:function lengthLineStart(){lengthStream.point=lengthPointFirst,lengthStream.lineEnd=lengthLineEnd},lineEnd:noop_noop,polygonStart:noop_noop,polygonEnd:noop_noop};function lengthLineEnd(){lengthStream.point=lengthStream.lineEnd=noop_noop}function lengthPointFirst(lambda,phi){length_lambda0=lambda*=radians,length_sinPhi0=math_sin(phi*=radians),length_cosPhi0=math_cos(phi),lengthStream.point=lengthPoint}function lengthPoint(lambda,phi){lambda*=radians;var sinPhi=math_sin(phi*=radians),cosPhi=math_cos(phi),delta=abs(lambda-length_lambda0),cosDelta=math_cos(delta),x=cosPhi*math_sin(delta),y=length_cosPhi0*sinPhi-length_sinPhi0*cosPhi*cosDelta,z=length_sinPhi0*sinPhi+length_cosPhi0*cosPhi*cosDelta;lengthSum.add(atan2(sqrt(x*x+y*y),z)),length_lambda0=lambda,length_sinPhi0=sinPhi,length_cosPhi0=cosPhi}function src_length(object){return lengthSum.reset(),stream(object,lengthStream),+lengthSum}var coordinates=[null,null],distance_object={type:"LineString",coordinates};function distance(a,b){return coordinates[0]=a,coordinates[1]=b,src_length(distance_object)}var containsObjectType={Feature:function(object,point){return containsGeometry(object.geometry,point)},FeatureCollection:function(object,point){for(var features=object.features,i=-1,n=features.length;++i<n;)if(containsGeometry(features[i].geometry,point))return!0;return!1}},containsGeometryType={Sphere:function(){return!0},Point:function(object,point){return containsPoint(object.coordinates,point)},MultiPoint:function(object,point){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)if(containsPoint(coordinates[i],point))return!0;return!1},LineString:function(object,point){return containsLine(object.coordinates,point)},MultiLineString:function(object,point){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)if(containsLine(coordinates[i],point))return!0;return!1},Polygon:function(object,point){return containsPolygon(object.coordinates,point)},MultiPolygon:function(object,point){for(var coordinates=object.coordinates,i=-1,n=coordinates.length;++i<n;)if(containsPolygon(coordinates[i],point))return!0;return!1},GeometryCollection:function(object,point){for(var geometries=object.geometries,i=-1,n=geometries.length;++i<n;)if(containsGeometry(geometries[i],point))return!0;return!1}};function containsGeometry(geometry,point){return!(!geometry||!containsGeometryType.hasOwnProperty(geometry.type))&&containsGeometryType[geometry.type](geometry,point)}function containsPoint(coordinates,point){return 0===distance(coordinates,point)}function containsLine(coordinates,point){for(var ao,bo,ab,i=0,n=coordinates.length;i<n;i++){if(0===(bo=distance(coordinates[i],point)))return!0;if(i>0&&(ab=distance(coordinates[i],coordinates[i-1]))>0&&ao<=ab&&bo<=ab&&(ao+bo-ab)*(1-Math.pow((ao-bo)/ab,2))<epsilon2*ab)return!0;ao=bo}return!1}function containsPolygon(coordinates,point){return!!polygonContains(coordinates.map(ringRadians),pointRadians(point))}function ringRadians(ring){return(ring=ring.map(pointRadians)).pop(),ring}function pointRadians(point){return[point[0]*radians,point[1]*radians]}function src_contains(object,point){return(object&&containsObjectType.hasOwnProperty(object.type)?containsObjectType[object.type]:containsGeometry)(object,point)}function graticuleX(y0,y1,dy){var y=src_range(y0,y1-math_epsilon,dy).concat(y1);return function(x){return y.map((function(y){return[x,y]}))}}function graticuleY(x0,x1,dx){var x=src_range(x0,x1-math_epsilon,dx).concat(x1);return function(y){return x.map((function(x){return[x,y]}))}}function graticule(){var x1,x0,X1,X0,y1,y0,Y1,Y0,x,y,X,Y,dx=10,dy=dx,DX=90,DY=360,precision=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return src_range(ceil(X0/DX)*DX,X1,DX).map(X).concat(src_range(ceil(Y0/DY)*DY,Y1,DY).map(Y)).concat(src_range(ceil(x0/dx)*dx,x1,dx).filter((function(x){return abs(x%DX)>math_epsilon})).map(x)).concat(src_range(ceil(y0/dy)*dy,y1,dy).filter((function(y){return abs(y%DY)>math_epsilon})).map(y))}return graticule.lines=function(){return lines().map((function(coordinates){return{type:"LineString",coordinates}}))},graticule.outline=function(){return{type:"Polygon",coordinates:[X(X0).concat(Y(Y1).slice(1),X(X1).reverse().slice(1),Y(Y0).reverse().slice(1))]}},graticule.extent=function(_){return arguments.length?graticule.extentMajor(_).extentMinor(_):graticule.extentMinor()},graticule.extentMajor=function(_){return arguments.length?(X0=+_[0][0],X1=+_[1][0],Y0=+_[0][1],Y1=+_[1][1],X0>X1&&(_=X0,X0=X1,X1=_),Y0>Y1&&(_=Y0,Y0=Y1,Y1=_),graticule.precision(precision)):[[X0,Y0],[X1,Y1]]},graticule.extentMinor=function(_){return arguments.length?(x0=+_[0][0],x1=+_[1][0],y0=+_[0][1],y1=+_[1][1],x0>x1&&(_=x0,x0=x1,x1=_),y0>y1&&(_=y0,y0=y1,y1=_),graticule.precision(precision)):[[x0,y0],[x1,y1]]},graticule.step=function(_){return arguments.length?graticule.stepMajor(_).stepMinor(_):graticule.stepMinor()},graticule.stepMajor=function(_){return arguments.length?(DX=+_[0],DY=+_[1],graticule):[DX,DY]},graticule.stepMinor=function(_){return arguments.length?(dx=+_[0],dy=+_[1],graticule):[dx,dy]},graticule.precision=function(_){return arguments.length?(precision=+_,x=graticuleX(y0,y1,90),y=graticuleY(x0,x1,precision),X=graticuleX(Y0,Y1,90),Y=graticuleY(X0,X1,precision),graticule):precision},graticule.extentMajor([[-180,-90+math_epsilon],[180,90-math_epsilon]]).extentMinor([[-180,-80-math_epsilon],[180,80+math_epsilon]])}function graticule10(){return graticule()()}function src_interpolate(a,b){var x0=a[0]*radians,y0=a[1]*radians,x1=b[0]*radians,y1=b[1]*radians,cy0=math_cos(y0),sy0=math_sin(y0),cy1=math_cos(y1),sy1=math_sin(y1),kx0=cy0*math_cos(x0),ky0=cy0*math_sin(x0),kx1=cy1*math_cos(x1),ky1=cy1*math_sin(x1),d=2*asin(sqrt(haversin(y1-y0)+cy0*cy1*haversin(x1-x0))),k=math_sin(d),interpolate=d?function(t){var B=math_sin(t*=d)/k,A=math_sin(d-t)/k,x=A*kx0+B*kx1,y=A*ky0+B*ky1,z=A*sy0+B*sy1;return[atan2(y,x)*math_degrees,atan2(z,sqrt(x*x+y*y))*math_degrees]}:function(){return[x0*math_degrees,y0*math_degrees]};return interpolate.distance=d,interpolate}function d3_geo_src_identity(x){return x}var x00,y00,area_x0,area_y0,area_areaSum=adder(),area_areaRingSum=adder(),area_areaStream={point:noop_noop,lineStart:noop_noop,lineEnd:noop_noop,polygonStart:function(){area_areaStream.lineStart=area_areaRingStart,area_areaStream.lineEnd=area_areaRingEnd},polygonEnd:function(){area_areaStream.lineStart=area_areaStream.lineEnd=area_areaStream.point=noop_noop,area_areaSum.add(abs(area_areaRingSum)),area_areaRingSum.reset()},result:function(){var area=area_areaSum/2;return area_areaSum.reset(),area}};function area_areaRingStart(){area_areaStream.point=area_areaPointFirst}function area_areaPointFirst(x,y){area_areaStream.point=area_areaPoint,x00=area_x0=x,y00=area_y0=y}function area_areaPoint(x,y){area_areaRingSum.add(area_y0*x-area_x0*y),area_x0=x,area_y0=y}function area_areaRingEnd(){area_areaPoint(x00,y00)}const path_area=area_areaStream;var bounds_x0=1/0,bounds_y0=bounds_x0,x1=-bounds_x0,y1=x1,bounds_boundsStream={point:function bounds_boundsPoint(x,y){x<bounds_x0&&(bounds_x0=x);x>x1&&(x1=x);y<bounds_y0&&(bounds_y0=y);y>y1&&(y1=y)},lineStart:noop_noop,lineEnd:noop_noop,polygonStart:noop_noop,polygonEnd:noop_noop,result:function(){var bounds=[[bounds_x0,bounds_y0],[x1,y1]];return x1=y1=-(bounds_y0=bounds_x0=1/0),bounds}};const path_bounds=bounds_boundsStream;var centroid_x00,centroid_y00,centroid_x0,centroid_y0,centroid_X0=0,centroid_Y0=0,centroid_Z0=0,centroid_X1=0,centroid_Y1=0,centroid_Z1=0,centroid_X2=0,centroid_Y2=0,centroid_Z2=0,centroid_centroidStream={point:centroid_centroidPoint,lineStart:centroid_centroidLineStart,lineEnd:centroid_centroidLineEnd,polygonStart:function(){centroid_centroidStream.lineStart=centroid_centroidRingStart,centroid_centroidStream.lineEnd=centroid_centroidRingEnd},polygonEnd:function(){centroid_centroidStream.point=centroid_centroidPoint,centroid_centroidStream.lineStart=centroid_centroidLineStart,centroid_centroidStream.lineEnd=centroid_centroidLineEnd},result:function(){var centroid=centroid_Z2?[centroid_X2/centroid_Z2,centroid_Y2/centroid_Z2]:centroid_Z1?[centroid_X1/centroid_Z1,centroid_Y1/centroid_Z1]:centroid_Z0?[centroid_X0/centroid_Z0,centroid_Y0/centroid_Z0]:[NaN,NaN];return centroid_X0=centroid_Y0=centroid_Z0=centroid_X1=centroid_Y1=centroid_Z1=centroid_X2=centroid_Y2=centroid_Z2=0,centroid}};function centroid_centroidPoint(x,y){centroid_X0+=x,centroid_Y0+=y,++centroid_Z0}function centroid_centroidLineStart(){centroid_centroidStream.point=centroidPointFirstLine}function centroidPointFirstLine(x,y){centroid_centroidStream.point=centroidPointLine,centroid_centroidPoint(centroid_x0=x,centroid_y0=y)}function centroidPointLine(x,y){var dx=x-centroid_x0,dy=y-centroid_y0,z=sqrt(dx*dx+dy*dy);centroid_X1+=z*(centroid_x0+x)/2,centroid_Y1+=z*(centroid_y0+y)/2,centroid_Z1+=z,centroid_centroidPoint(centroid_x0=x,centroid_y0=y)}function centroid_centroidLineEnd(){centroid_centroidStream.point=centroid_centroidPoint}function centroid_centroidRingStart(){centroid_centroidStream.point=centroidPointFirstRing}function centroid_centroidRingEnd(){centroidPointRing(centroid_x00,centroid_y00)}function centroidPointFirstRing(x,y){centroid_centroidStream.point=centroidPointRing,centroid_centroidPoint(centroid_x00=centroid_x0=x,centroid_y00=centroid_y0=y)}function centroidPointRing(x,y){var dx=x-centroid_x0,dy=y-centroid_y0,z=sqrt(dx*dx+dy*dy);centroid_X1+=z*(centroid_x0+x)/2,centroid_Y1+=z*(centroid_y0+y)/2,centroid_Z1+=z,centroid_X2+=(z=centroid_y0*x-centroid_x0*y)*(centroid_x0+x),centroid_Y2+=z*(centroid_y0+y),centroid_Z2+=3*z,centroid_centroidPoint(centroid_x0=x,centroid_y0=y)}const path_centroid=centroid_centroidStream;function PathContext(context){this._context=context}PathContext.prototype={_radius:4.5,pointRadius:function(_){return this._radius=_,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(x,y){switch(this._point){case 0:this._context.moveTo(x,y),this._point=1;break;case 1:this._context.lineTo(x,y);break;default:this._context.moveTo(x+this._radius,y),this._context.arc(x,y,this._radius,0,math_tau)}},result:noop_noop};var lengthRing,measure_x00,measure_y00,measure_x0,measure_y0,measure_lengthSum=adder(),measure_lengthStream={point:noop_noop,lineStart:function(){measure_lengthStream.point=measure_lengthPointFirst},lineEnd:function(){lengthRing&&measure_lengthPoint(measure_x00,measure_y00),measure_lengthStream.point=noop_noop},polygonStart:function(){lengthRing=!0},polygonEnd:function(){lengthRing=null},result:function(){var length=+measure_lengthSum;return measure_lengthSum.reset(),length}};function measure_lengthPointFirst(x,y){measure_lengthStream.point=measure_lengthPoint,measure_x00=measure_x0=x,measure_y00=measure_y0=y}function measure_lengthPoint(x,y){measure_x0-=x,measure_y0-=y,measure_lengthSum.add(sqrt(measure_x0*measure_x0+measure_y0*measure_y0)),measure_x0=x,measure_y0=y}const measure=measure_lengthStream;function PathString(){this._string=[]}function string_circle(radius){return"m0,"+radius+"a"+radius+","+radius+" 0 1,1 0,"+-2*radius+"a"+radius+","+radius+" 0 1,1 0,"+2*radius+"z"}function d3_geo_src_path(projection,context){var projectionStream,contextStream,pointRadius=4.5;function path(object){return object&&("function"==typeof pointRadius&&contextStream.pointRadius(+pointRadius.apply(this,arguments)),stream(object,projectionStream(contextStream))),contextStream.result()}return path.area=function(object){return stream(object,projectionStream(path_area)),path_area.result()},path.measure=function(object){return stream(object,projectionStream(measure)),measure.result()},path.bounds=function(object){return stream(object,projectionStream(path_bounds)),path_bounds.result()},path.centroid=function(object){return stream(object,projectionStream(path_centroid)),path_centroid.result()},path.projection=function(_){return arguments.length?(projectionStream=null==_?(projection=null,d3_geo_src_identity):(projection=_).stream,path):projection},path.context=function(_){return arguments.length?(contextStream=null==_?(context=null,new PathString):new PathContext(context=_),"function"!=typeof pointRadius&&contextStream.pointRadius(pointRadius),path):context},path.pointRadius=function(_){return arguments.length?(pointRadius="function"==typeof _?_:(contextStream.pointRadius(+_),+_),path):pointRadius},path.projection(projection).context(context)}function transform(methods){return{stream:transformer(methods)}}function transformer(methods){return function(stream){var s=new TransformStream;for(var key in methods)s[key]=methods[key];return s.stream=stream,s}}function TransformStream(){}function fit(projection,fitBounds,object){var clip=projection.clipExtent&&projection.clipExtent();return projection.scale(150).translate([0,0]),null!=clip&&projection.clipExtent(null),stream(object,projection.stream(path_bounds)),fitBounds(path_bounds.result()),null!=clip&&projection.clipExtent(clip),projection}function fitExtent(projection,extent,object){return fit(projection,(function(b){var w=extent[1][0]-extent[0][0],h=extent[1][1]-extent[0][1],k=Math.min(w/(b[1][0]-b[0][0]),h/(b[1][1]-b[0][1])),x=+extent[0][0]+(w-k*(b[1][0]+b[0][0]))/2,y=+extent[0][1]+(h-k*(b[1][1]+b[0][1]))/2;projection.scale(150*k).translate([x,y])}),object)}function fitSize(projection,size,object){return fitExtent(projection,[[0,0],size],object)}function fitWidth(projection,width,object){return fit(projection,(function(b){var w=+width,k=w/(b[1][0]-b[0][0]),x=(w-k*(b[1][0]+b[0][0]))/2,y=-k*b[0][1];projection.scale(150*k).translate([x,y])}),object)}function fitHeight(projection,height,object){return fit(projection,(function(b){var h=+height,k=h/(b[1][1]-b[0][1]),x=-k*b[0][0],y=(h-k*(b[1][1]+b[0][1]))/2;projection.scale(150*k).translate([x,y])}),object)}PathString.prototype={_radius:4.5,_circle:string_circle(4.5),pointRadius:function(_){return(_=+_)!==this._radius&&(this._radius=_,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(x,y){switch(this._point){case 0:this._string.push("M",x,",",y),this._point=1;break;case 1:this._string.push("L",x,",",y);break;default:null==this._circle&&(this._circle=string_circle(this._radius)),this._string.push("M",x,",",y,this._circle)}},result:function(){if(this._string.length){var result=this._string.join("");return this._string=[],result}return null}},TransformStream.prototype={constructor:TransformStream,point:function(x,y){this.stream.point(x,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var maxDepth=16,cosMinDistance=math_cos(30*radians);function resample(project,delta2){return+delta2?function resample_resample(project,delta2){function resampleLineTo(x0,y0,lambda0,a0,b0,c0,x1,y1,lambda1,a1,b1,c1,depth,stream){var dx=x1-x0,dy=y1-y0,d2=dx*dx+dy*dy;if(d2>4*delta2&&depth--){var a=a0+a1,b=b0+b1,c=c0+c1,m=sqrt(a*a+b*b+c*c),phi2=asin(c/=m),lambda2=abs(abs(c)-1)<math_epsilon||abs(lambda0-lambda1)<math_epsilon?(lambda0+lambda1)/2:atan2(b,a),p=project(lambda2,phi2),x2=p[0],y2=p[1],dx2=x2-x0,dy2=y2-y0,dz=dy*dx2-dx*dy2;(dz*dz/d2>delta2||abs((dx*dx2+dy*dy2)/d2-.5)>.3||a0*a1+b0*b1+c0*c1<cosMinDistance)&&(resampleLineTo(x0,y0,lambda0,a0,b0,c0,x2,y2,lambda2,a/=m,b/=m,c,depth,stream),stream.point(x2,y2),resampleLineTo(x2,y2,lambda2,a,b,c,x1,y1,lambda1,a1,b1,c1,depth,stream))}}return function(stream){var lambda00,x00,y00,a00,b00,c00,lambda0,x0,y0,a0,b0,c0,resampleStream={point,lineStart,lineEnd,polygonStart:function(){stream.polygonStart(),resampleStream.lineStart=ringStart},polygonEnd:function(){stream.polygonEnd(),resampleStream.lineStart=lineStart}};function point(x,y){x=project(x,y),stream.point(x[0],x[1])}function lineStart(){x0=NaN,resampleStream.point=linePoint,stream.lineStart()}function linePoint(lambda,phi){var c=cartesian([lambda,phi]),p=project(lambda,phi);resampleLineTo(x0,y0,lambda0,a0,b0,c0,x0=p[0],y0=p[1],lambda0=lambda,a0=c[0],b0=c[1],c0=c[2],maxDepth,stream),stream.point(x0,y0)}function lineEnd(){resampleStream.point=point,stream.lineEnd()}function ringStart(){lineStart(),resampleStream.point=ringPoint,resampleStream.lineEnd=ringEnd}function ringPoint(lambda,phi){linePoint(lambda00=lambda,phi),x00=x0,y00=y0,a00=a0,b00=b0,c00=c0,resampleStream.point=linePoint}function ringEnd(){resampleLineTo(x0,y0,lambda0,a0,b0,c0,x00,y00,lambda00,a00,b00,c00,maxDepth,stream),resampleStream.lineEnd=lineEnd,lineEnd()}return resampleStream}}(project,delta2):function resampleNone(project){return transformer({point:function(x,y){x=project(x,y),this.stream.point(x[0],x[1])}})}(project)}var transformRadians=transformer({point:function(x,y){this.stream.point(x*radians,y*radians)}});function scaleTranslate(k,dx,dy,sx,sy){function transform(x,y){return[dx+k*(x*=sx),dy-k*(y*=sy)]}return transform.invert=function(x,y){return[(x-dx)/k*sx,(dy-y)/k*sy]},transform}function scaleTranslateRotate(k,dx,dy,sx,sy,alpha){var cosAlpha=math_cos(alpha),sinAlpha=math_sin(alpha),a=cosAlpha*k,b=sinAlpha*k,ai=cosAlpha/k,bi=sinAlpha/k,ci=(sinAlpha*dy-cosAlpha*dx)/k,fi=(sinAlpha*dx+cosAlpha*dy)/k;function transform(x,y){return[a*(x*=sx)-b*(y*=sy)+dx,dy-b*x-a*y]}return transform.invert=function(x,y){return[sx*(ai*x-bi*y+ci),sy*(fi-bi*x-ai*y)]},transform}function projection(project){return projectionMutator((function(){return project}))()}function projectionMutator(projectAt){var project,rotate,y0,x1,y1,projectResample,projectTransform,projectRotateTransform,cache,cacheStream,k=150,x=480,y=250,lambda=0,phi=0,deltaLambda=0,deltaPhi=0,deltaGamma=0,alpha=0,sx=1,sy=1,theta=null,preclip=antimeridian,x0=null,postclip=d3_geo_src_identity,delta2=.5;function projection(point){return projectRotateTransform(point[0]*radians,point[1]*radians)}function invert(point){return(point=projectRotateTransform.invert(point[0],point[1]))&&[point[0]*math_degrees,point[1]*math_degrees]}function recenter(){var center=scaleTranslateRotate(k,0,0,sx,sy,alpha).apply(null,project(lambda,phi)),transform=(alpha?scaleTranslateRotate:scaleTranslate)(k,x-center[0],y-center[1],sx,sy,alpha);return rotate=rotateRadians(deltaLambda,deltaPhi,deltaGamma),projectTransform=compose(project,transform),projectRotateTransform=compose(rotate,projectTransform),projectResample=resample(projectTransform,delta2),reset()}function reset(){return cache=cacheStream=null,projection}return projection.stream=function(stream){return cache&&cacheStream===stream?cache:cache=transformRadians(function transformRotate(rotate){return transformer({point:function(x,y){var r=rotate(x,y);return this.stream.point(r[0],r[1])}})}(rotate)(preclip(projectResample(postclip(cacheStream=stream)))))},projection.preclip=function(_){return arguments.length?(preclip=_,theta=void 0,reset()):preclip},projection.postclip=function(_){return arguments.length?(postclip=_,x0=y0=x1=y1=null,reset()):postclip},projection.clipAngle=function(_){return arguments.length?(preclip=+_?clip_circle(theta=_*radians):(theta=null,antimeridian),reset()):theta*math_degrees},projection.clipExtent=function(_){return arguments.length?(postclip=null==_?(x0=y0=x1=y1=null,d3_geo_src_identity):clipRectangle(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):null==x0?null:[[x0,y0],[x1,y1]]},projection.scale=function(_){return arguments.length?(k=+_,recenter()):k},projection.translate=function(_){return arguments.length?(x=+_[0],y=+_[1],recenter()):[x,y]},projection.center=function(_){return arguments.length?(lambda=_[0]%360*radians,phi=_[1]%360*radians,recenter()):[lambda*math_degrees,phi*math_degrees]},projection.rotate=function(_){return arguments.length?(deltaLambda=_[0]%360*radians,deltaPhi=_[1]%360*radians,deltaGamma=_.length>2?_[2]%360*radians:0,recenter()):[deltaLambda*math_degrees,deltaPhi*math_degrees,deltaGamma*math_degrees]},projection.angle=function(_){return arguments.length?(alpha=_%360*radians,recenter()):alpha*math_degrees},projection.reflectX=function(_){return arguments.length?(sx=_?-1:1,recenter()):sx<0},projection.reflectY=function(_){return arguments.length?(sy=_?-1:1,recenter()):sy<0},projection.precision=function(_){return arguments.length?(projectResample=resample(projectTransform,delta2=_*_),reset()):sqrt(delta2)},projection.fitExtent=function(extent,object){return fitExtent(projection,extent,object)},projection.fitSize=function(size,object){return fitSize(projection,size,object)},projection.fitWidth=function(width,object){return fitWidth(projection,width,object)},projection.fitHeight=function(height,object){return fitHeight(projection,height,object)},function(){return project=projectAt.apply(this,arguments),projection.invert=project.invert&&invert,recenter()}}function conicProjection(projectAt){var phi0=0,phi1=math_pi/3,m=projectionMutator(projectAt),p=m(phi0,phi1);return p.parallels=function(_){return arguments.length?m(phi0=_[0]*radians,phi1=_[1]*radians):[phi0*math_degrees,phi1*math_degrees]},p}function conicEqualAreaRaw(y0,y1){var sy0=math_sin(y0),n=(sy0+math_sin(y1))/2;if(abs(n)<math_epsilon)return function cylindricalEqualAreaRaw(phi0){var cosPhi0=math_cos(phi0);function forward(lambda,phi){return[lambda*cosPhi0,math_sin(phi)/cosPhi0]}return forward.invert=function(x,y){return[x/cosPhi0,asin(y*cosPhi0)]},forward}(y0);var c=1+sy0*(2*n-sy0),r0=sqrt(c)/n;function project(x,y){var r=sqrt(c-2*n*math_sin(y))/n;return[r*math_sin(x*=n),r0-r*math_cos(x)]}return project.invert=function(x,y){var r0y=r0-y,l=atan2(x,abs(r0y))*sign(r0y);return r0y*n<0&&(l-=math_pi*sign(x)*sign(r0y)),[l/n,asin((c-(x*x+r0y*r0y)*n*n)/(2*n))]},project}function conicEqualArea(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function albers(){return conicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function albersUsa(){var cache,cacheStream,lower48Point,alaskaPoint,hawaiiPoint,point,lower48=albers(),alaska=conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),hawaii=conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),pointStream={point:function(x,y){point=[x,y]}};function albersUsa(coordinates){var x=coordinates[0],y=coordinates[1];return point=null,lower48Point.point(x,y),point||(alaskaPoint.point(x,y),point)||(hawaiiPoint.point(x,y),point)}function reset(){return cache=cacheStream=null,albersUsa}return albersUsa.invert=function(coordinates){var k=lower48.scale(),t=lower48.translate(),x=(coordinates[0]-t[0])/k,y=(coordinates[1]-t[1])/k;return(y>=.12&&y<.234&&x>=-.425&&x<-.214?alaska:y>=.166&&y<.234&&x>=-.214&&x<-.115?hawaii:lower48).invert(coordinates)},albersUsa.stream=function(stream){return cache&&cacheStream===stream?cache:cache=function multiplex(streams){var n=streams.length;return{point:function(x,y){for(var i=-1;++i<n;)streams[i].point(x,y)},sphere:function(){for(var i=-1;++i<n;)streams[i].sphere()},lineStart:function(){for(var i=-1;++i<n;)streams[i].lineStart()},lineEnd:function(){for(var i=-1;++i<n;)streams[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<n;)streams[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<n;)streams[i].polygonEnd()}}}([lower48.stream(cacheStream=stream),alaska.stream(stream),hawaii.stream(stream)])},albersUsa.precision=function(_){return arguments.length?(lower48.precision(_),alaska.precision(_),hawaii.precision(_),reset()):lower48.precision()},albersUsa.scale=function(_){return arguments.length?(lower48.scale(_),alaska.scale(.35*_),hawaii.scale(_),albersUsa.translate(lower48.translate())):lower48.scale()},albersUsa.translate=function(_){if(!arguments.length)return lower48.translate();var k=lower48.scale(),x=+_[0],y=+_[1];return lower48Point=lower48.translate(_).clipExtent([[x-.455*k,y-.238*k],[x+.455*k,y+.238*k]]).stream(pointStream),alaskaPoint=alaska.translate([x-.307*k,y+.201*k]).clipExtent([[x-.425*k+math_epsilon,y+.12*k+math_epsilon],[x-.214*k-math_epsilon,y+.234*k-math_epsilon]]).stream(pointStream),hawaiiPoint=hawaii.translate([x-.205*k,y+.212*k]).clipExtent([[x-.214*k+math_epsilon,y+.166*k+math_epsilon],[x-.115*k-math_epsilon,y+.234*k-math_epsilon]]).stream(pointStream),reset()},albersUsa.fitExtent=function(extent,object){return fitExtent(albersUsa,extent,object)},albersUsa.fitSize=function(size,object){return fitSize(albersUsa,size,object)},albersUsa.fitWidth=function(width,object){return fitWidth(albersUsa,width,object)},albersUsa.fitHeight=function(height,object){return fitHeight(albersUsa,height,object)},albersUsa.scale(1070)}function azimuthalRaw(scale){return function(x,y){var cx=math_cos(x),cy=math_cos(y),k=scale(cx*cy);return[k*cy*math_sin(x),k*math_sin(y)]}}function azimuthalInvert(angle){return function(x,y){var z=sqrt(x*x+y*y),c=angle(z),sc=math_sin(c),cc=math_cos(c);return[atan2(x*sc,z*cc),asin(z&&y*sc/z)]}}var azimuthalEqualAreaRaw=azimuthalRaw((function(cxcy){return sqrt(2/(1+cxcy))}));function azimuthalEqualArea(){return projection(azimuthalEqualAreaRaw).scale(124.75).clipAngle(179.999)}azimuthalEqualAreaRaw.invert=azimuthalInvert((function(z){return 2*asin(z/2)}));var azimuthalEquidistantRaw=azimuthalRaw((function(c){return(c=acos(c))&&c/math_sin(c)}));function azimuthalEquidistant(){return projection(azimuthalEquidistantRaw).scale(79.4188).clipAngle(179.999)}function mercatorRaw(lambda,phi){return[lambda,log(tan((math_halfPi+phi)/2))]}function mercator(){return mercatorProjection(mercatorRaw).scale(961/math_tau)}function mercatorProjection(project){var y0,x1,y1,m=projection(project),center=m.center,scale=m.scale,translate=m.translate,clipExtent=m.clipExtent,x0=null;function reclip(){var k=math_pi*scale(),t=m(rotation(m.rotate()).invert([0,0]));return clipExtent(null==x0?[[t[0]-k,t[1]-k],[t[0]+k,t[1]+k]]:project===mercatorRaw?[[Math.max(t[0]-k,x0),y0],[Math.min(t[0]+k,x1),y1]]:[[x0,Math.max(t[1]-k,y0)],[x1,Math.min(t[1]+k,y1)]])}return m.scale=function(_){return arguments.length?(scale(_),reclip()):scale()},m.translate=function(_){return arguments.length?(translate(_),reclip()):translate()},m.center=function(_){return arguments.length?(center(_),reclip()):center()},m.clipExtent=function(_){return arguments.length?(null==_?x0=y0=x1=y1=null:(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reclip()):null==x0?null:[[x0,y0],[x1,y1]]},reclip()}function tany(y){return tan((math_halfPi+y)/2)}function conicConformalRaw(y0,y1){var cy0=math_cos(y0),n=y0===y1?math_sin(y0):log(cy0/math_cos(y1))/log(tany(y1)/tany(y0)),f=cy0*pow(tany(y0),n)/n;if(!n)return mercatorRaw;function project(x,y){f>0?y<-math_halfPi+math_epsilon&&(y=-math_halfPi+math_epsilon):y>math_halfPi-math_epsilon&&(y=math_halfPi-math_epsilon);var r=f/pow(tany(y),n);return[r*math_sin(n*x),f-r*math_cos(n*x)]}return project.invert=function(x,y){var fy=f-y,r=sign(n)*sqrt(x*x+fy*fy),l=atan2(x,abs(fy))*sign(fy);return fy*n<0&&(l-=math_pi*sign(x)*sign(fy)),[l/n,2*atan(pow(f/r,1/n))-math_halfPi]},project}function conicConformal(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(lambda,phi){return[lambda,phi]}function equirectangular(){return projection(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(y0,y1){var cy0=math_cos(y0),n=y0===y1?math_sin(y0):(cy0-math_cos(y1))/(y1-y0),g=cy0/n+y0;if(abs(n)<math_epsilon)return equirectangularRaw;function project(x,y){var gy=g-y,nx=n*x;return[gy*math_sin(nx),g-gy*math_cos(nx)]}return project.invert=function(x,y){var gy=g-y,l=atan2(x,abs(gy))*sign(gy);return gy*n<0&&(l-=math_pi*sign(x)*sign(gy)),[l/n,g-sign(n)*sqrt(x*x+gy*gy)]},project}function conicEquidistant(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])}azimuthalEquidistantRaw.invert=azimuthalInvert((function(z){return z})),mercatorRaw.invert=function(x,y){return[x,2*atan(exp(y))-math_halfPi]},equirectangularRaw.invert=equirectangularRaw;var A1=1.340264,A2=-.081106,A3=893e-6,A4=.003796,M=sqrt(3)/2;function equalEarthRaw(lambda,phi){var l=asin(M*math_sin(phi)),l2=l*l,l6=l2*l2*l2;return[lambda*math_cos(l)/(M*(A1+3*A2*l2+l6*(7*A3+9*A4*l2))),l*(A1+A2*l2+l6*(A3+A4*l2))]}function equalEarth(){return projection(equalEarthRaw).scale(177.158)}function gnomonicRaw(x,y){var cy=math_cos(y),k=math_cos(x)*cy;return[cy*math_sin(x)/k,math_sin(y)/k]}function gnomonic(){return projection(gnomonicRaw).scale(144.049).clipAngle(60)}function projection_identity(){var ca,sa,y0,x1,y1,cache,cacheStream,k=1,tx=0,ty=0,sx=1,sy=1,alpha=0,x0=null,kx=1,ky=1,transform=transformer({point:function(x,y){var p=projection([x,y]);this.stream.point(p[0],p[1])}}),postclip=d3_geo_src_identity;function reset(){return kx=k*sx,ky=k*sy,cache=cacheStream=null,projection}function projection(p){var x=p[0]*kx,y=p[1]*ky;if(alpha){var t=y*ca-x*sa;x=x*ca+y*sa,y=t}return[x+tx,y+ty]}return projection.invert=function(p){var x=p[0]-tx,y=p[1]-ty;if(alpha){var t=y*ca+x*sa;x=x*ca-y*sa,y=t}return[x/kx,y/ky]},projection.stream=function(stream){return cache&&cacheStream===stream?cache:cache=transform(postclip(cacheStream=stream))},projection.postclip=function(_){return arguments.length?(postclip=_,x0=y0=x1=y1=null,reset()):postclip},projection.clipExtent=function(_){return arguments.length?(postclip=null==_?(x0=y0=x1=y1=null,d3_geo_src_identity):clipRectangle(x0=+_[0][0],y0=+_[0][1],x1=+_[1][0],y1=+_[1][1]),reset()):null==x0?null:[[x0,y0],[x1,y1]]},projection.scale=function(_){return arguments.length?(k=+_,reset()):k},projection.translate=function(_){return arguments.length?(tx=+_[0],ty=+_[1],reset()):[tx,ty]},projection.angle=function(_){return arguments.length?(sa=math_sin(alpha=_%360*radians),ca=math_cos(alpha),reset()):alpha*math_degrees},projection.reflectX=function(_){return arguments.length?(sx=_?-1:1,reset()):sx<0},projection.reflectY=function(_){return arguments.length?(sy=_?-1:1,reset()):sy<0},projection.fitExtent=function(extent,object){return fitExtent(projection,extent,object)},projection.fitSize=function(size,object){return fitSize(projection,size,object)},projection.fitWidth=function(width,object){return fitWidth(projection,width,object)},projection.fitHeight=function(height,object){return fitHeight(projection,height,object)},projection}function naturalEarth1Raw(lambda,phi){var phi2=phi*phi,phi4=phi2*phi2;return[lambda*(.8707-.131979*phi2+phi4*(phi4*(.003971*phi2-.001529*phi4)-.013791)),phi*(1.007226+phi2*(.015085+phi4*(.028874*phi2-.044475-.005916*phi4)))]}function naturalEarth1(){return projection(naturalEarth1Raw).scale(175.295)}function orthographicRaw(x,y){return[math_cos(y)*math_sin(x),math_sin(y)]}function orthographic(){return projection(orthographicRaw).scale(249.5).clipAngle(90+math_epsilon)}function stereographicRaw(x,y){var cy=math_cos(y),k=1+math_cos(x)*cy;return[cy*math_sin(x)/k,math_sin(y)/k]}function stereographic(){return projection(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(lambda,phi){return[log(tan((math_halfPi+phi)/2)),-lambda]}function transverseMercator(){var m=mercatorProjection(transverseMercatorRaw),center=m.center,rotate=m.rotate;return m.center=function(_){return arguments.length?center([-_[1],_[0]]):[(_=center())[1],-_[0]]},m.rotate=function(_){return arguments.length?rotate([_[0],_[1],_.length>2?_[2]+90:90]):[(_=rotate())[0],_[1],_[2]-90]},rotate([0,0,90]).scale(159.155)}function defaultSeparation(a,b){return a.parent===b.parent?1:2}function meanXReduce(x,c){return x+c.x}function maxYReduce(y,c){return Math.max(y,c.y)}function cluster(){var separation=defaultSeparation,dx=1,dy=1,nodeSize=!1;function cluster(root){var previousNode,x=0;root.eachAfter((function(node){var children=node.children;children?(node.x=function meanX(children){return children.reduce(meanXReduce,0)/children.length}(children),node.y=function maxY(children){return 1+children.reduce(maxYReduce,0)}(children)):(node.x=previousNode?x+=separation(node,previousNode):0,node.y=0,previousNode=node)}));var left=function leafLeft(node){for(var children;children=node.children;)node=children[0];return node}(root),right=function leafRight(node){for(var children;children=node.children;)node=children[children.length-1];return node}(root),x0=left.x-separation(left,right)/2,x1=right.x+separation(right,left)/2;return root.eachAfter(nodeSize?function(node){node.x=(node.x-root.x)*dx,node.y=(root.y-node.y)*dy}:function(node){node.x=(node.x-x0)/(x1-x0)*dx,node.y=(1-(root.y?node.y/root.y:1))*dy})}return cluster.separation=function(x){return arguments.length?(separation=x,cluster):separation},cluster.size=function(x){return arguments.length?(nodeSize=!1,dx=+x[0],dy=+x[1],cluster):nodeSize?null:[dx,dy]},cluster.nodeSize=function(x){return arguments.length?(nodeSize=!0,dx=+x[0],dy=+x[1],cluster):nodeSize?[dx,dy]:null},cluster}function count(node){var sum=0,children=node.children,i=children&&children.length;if(i)for(;--i>=0;)sum+=children[i].value;else sum=1;node.value=sum}function hierarchy(data,children){var node,child,childs,i,n,root=new Node(data),valued=+data.value&&(root.value=data.value),nodes=[root];for(null==children&&(children=defaultChildren);node=nodes.pop();)if(valued&&(node.value=+node.data.value),(childs=children(node.data))&&(n=childs.length))for(node.children=new Array(n),i=n-1;i>=0;--i)nodes.push(child=node.children[i]=new Node(childs[i])),child.parent=node,child.depth=node.depth+1;return root.eachBefore(computeHeight)}function defaultChildren(d){return d.children}function copyData(node){node.data=node.data.data}function computeHeight(node){var height=0;do{node.height=height}while((node=node.parent)&&node.height<++height)}function Node(data){this.data=data,this.depth=this.height=0,this.parent=null}equalEarthRaw.invert=function(x,y){for(var delta,l=y,l2=l*l,l6=l2*l2*l2,i=0;i<12&&(l6=(l2=(l-=delta=(l*(A1+A2*l2+l6*(A3+A4*l2))-y)/(A1+3*A2*l2+l6*(7*A3+9*A4*l2)))*l)*l2*l2,!(abs(delta)<epsilon2));++i);return[M*x*(A1+3*A2*l2+l6*(7*A3+9*A4*l2))/math_cos(l),asin(math_sin(l)/M)]},gnomonicRaw.invert=azimuthalInvert(atan),naturalEarth1Raw.invert=function(x,y){var delta,phi=y,i=25;do{var phi2=phi*phi,phi4=phi2*phi2;phi-=delta=(phi*(1.007226+phi2*(.015085+phi4*(.028874*phi2-.044475-.005916*phi4)))-y)/(1.007226+phi2*(.045255+phi4*(.259866*phi2-.311325-.005916*11*phi4)))}while(abs(delta)>math_epsilon&&--i>0);return[x/(.8707+(phi2=phi*phi)*(phi2*(phi2*phi2*phi2*(.003971-.001529*phi2)-.013791)-.131979)),phi]},orthographicRaw.invert=azimuthalInvert(asin),stereographicRaw.invert=azimuthalInvert((function(z){return 2*atan(z)})),transverseMercatorRaw.invert=function(x,y){return[-y,2*atan(exp(x))-math_halfPi]},Node.prototype=hierarchy.prototype={constructor:Node,count:function hierarchy_count(){return this.eachAfter(count)},each:function hierarchy_each(callback){var current,children,i,n,node=this,next=[node];do{for(current=next.reverse(),next=[];node=current.pop();)if(callback(node),children=node.children)for(i=0,n=children.length;i<n;++i)next.push(children[i])}while(next.length);return this},eachAfter:function eachAfter(callback){for(var children,i,n,node=this,nodes=[node],next=[];node=nodes.pop();)if(next.push(node),children=node.children)for(i=0,n=children.length;i<n;++i)nodes.push(children[i]);for(;node=next.pop();)callback(node);return this},eachBefore:function eachBefore(callback){for(var children,i,node=this,nodes=[node];node=nodes.pop();)if(callback(node),children=node.children)for(i=children.length-1;i>=0;--i)nodes.push(children[i]);return this},sum:function hierarchy_sum(value){return this.eachAfter((function(node){for(var sum=+value(node.data)||0,children=node.children,i=children&&children.length;--i>=0;)sum+=children[i].value;node.value=sum}))},sort:function hierarchy_sort(compare){return this.eachBefore((function(node){node.children&&node.children.sort(compare)}))},path:function hierarchy_path(end){for(var start=this,ancestor=function leastCommonAncestor(a,b){if(a===b)return a;var aNodes=a.ancestors(),bNodes=b.ancestors(),c=null;a=aNodes.pop(),b=bNodes.pop();for(;a===b;)c=a,a=aNodes.pop(),b=bNodes.pop();return c}(start,end),nodes=[start];start!==ancestor;)start=start.parent,nodes.push(start);for(var k=nodes.length;end!==ancestor;)nodes.splice(k,0,end),end=end.parent;return nodes},ancestors:function ancestors(){for(var node=this,nodes=[node];node=node.parent;)nodes.push(node);return nodes},descendants:function descendants(){var nodes=[];return this.each((function(node){nodes.push(node)})),nodes},leaves:function leaves(){var leaves=[];return this.eachBefore((function(node){node.children||leaves.push(node)})),leaves},links:function links(){var root=this,links=[];return root.each((function(node){node!==root&&links.push({source:node.parent,target:node})})),links},copy:function node_copy(){return hierarchy(this).eachBefore(copyData)}};var d3_hierarchy_src_array_slice=Array.prototype.slice;function enclose(circles){for(var p,e,i=0,n=(circles=function array_shuffle(array){for(var t,i,m=array.length;m;)i=Math.random()*m--|0,t=array[m],array[m]=array[i],array[i]=t;return array}(d3_hierarchy_src_array_slice.call(circles))).length,B=[];i<n;)p=circles[i],e&&enclosesWeak(e,p)?++i:(e=encloseBasis(B=extendBasis(B,p)),i=0);return e}function extendBasis(B,p){var i,j;if(enclosesWeakAll(p,B))return[p];for(i=0;i<B.length;++i)if(enclosesNot(p,B[i])&&enclosesWeakAll(encloseBasis2(B[i],p),B))return[B[i],p];for(i=0;i<B.length-1;++i)for(j=i+1;j<B.length;++j)if(enclosesNot(encloseBasis2(B[i],B[j]),p)&&enclosesNot(encloseBasis2(B[i],p),B[j])&&enclosesNot(encloseBasis2(B[j],p),B[i])&&enclosesWeakAll(encloseBasis3(B[i],B[j],p),B))return[B[i],B[j],p];throw new Error}function enclosesNot(a,b){var dr=a.r-b.r,dx=b.x-a.x,dy=b.y-a.y;return dr<0||dr*dr<dx*dx+dy*dy}function enclosesWeak(a,b){var dr=a.r-b.r+1e-6,dx=b.x-a.x,dy=b.y-a.y;return dr>0&&dr*dr>dx*dx+dy*dy}function enclosesWeakAll(a,B){for(var i=0;i<B.length;++i)if(!enclosesWeak(a,B[i]))return!1;return!0}function encloseBasis(B){switch(B.length){case 1:return function encloseBasis1(a){return{x:a.x,y:a.y,r:a.r}}(B[0]);case 2:return encloseBasis2(B[0],B[1]);case 3:return encloseBasis3(B[0],B[1],B[2])}}function encloseBasis2(a,b){var x1=a.x,y1=a.y,r1=a.r,x2=b.x,y2=b.y,r2=b.r,x21=x2-x1,y21=y2-y1,r21=r2-r1,l=Math.sqrt(x21*x21+y21*y21);return{x:(x1+x2+x21/l*r21)/2,y:(y1+y2+y21/l*r21)/2,r:(l+r1+r2)/2}}function encloseBasis3(a,b,c){var x1=a.x,y1=a.y,r1=a.r,x2=b.x,y2=b.y,r2=b.r,x3=c.x,y3=c.y,r3=c.r,a2=x1-x2,a3=x1-x3,b2=y1-y2,b3=y1-y3,c2=r2-r1,c3=r3-r1,d1=x1*x1+y1*y1-r1*r1,d2=d1-x2*x2-y2*y2+r2*r2,d3=d1-x3*x3-y3*y3+r3*r3,ab=a3*b2-a2*b3,xa=(b2*d3-b3*d2)/(2*ab)-x1,xb=(b3*c2-b2*c3)/ab,ya=(a3*d2-a2*d3)/(2*ab)-y1,yb=(a2*c3-a3*c2)/ab,A=xb*xb+yb*yb-1,B=2*(r1+xa*xb+ya*yb),C=xa*xa+ya*ya-r1*r1,r=-(A?(B+Math.sqrt(B*B-4*A*C))/(2*A):C/B);return{x:x1+xa+xb*r,y:y1+ya+yb*r,r}}function place(b,a,c){var x,a2,y,b2,dx=b.x-a.x,dy=b.y-a.y,d2=dx*dx+dy*dy;d2?(a2=a.r+c.r,a2*=a2,b2=b.r+c.r,a2>(b2*=b2)?(x=(d2+b2-a2)/(2*d2),y=Math.sqrt(Math.max(0,b2/d2-x*x)),c.x=b.x-x*dx-y*dy,c.y=b.y-x*dy+y*dx):(x=(d2+a2-b2)/(2*d2),y=Math.sqrt(Math.max(0,a2/d2-x*x)),c.x=a.x+x*dx-y*dy,c.y=a.y+x*dy+y*dx)):(c.x=a.x+c.r,c.y=a.y)}function intersects(a,b){var dr=a.r+b.r-1e-6,dx=b.x-a.x,dy=b.y-a.y;return dr>0&&dr*dr>dx*dx+dy*dy}function score(node){var a=node._,b=node.next._,ab=a.r+b.r,dx=(a.x*b.r+b.x*a.r)/ab,dy=(a.y*b.r+b.y*a.r)/ab;return dx*dx+dy*dy}function siblings_Node(circle){this._=circle,this.next=null,this.previous=null}function packEnclose(circles){if(!(n=circles.length))return 0;var a,b,c,n,aa,ca,i,j,k,sj,sk;if((a=circles[0]).x=0,a.y=0,!(n>1))return a.r;if(b=circles[1],a.x=-b.r,b.x=a.r,b.y=0,!(n>2))return a.r+b.r;place(b,a,c=circles[2]),a=new siblings_Node(a),b=new siblings_Node(b),c=new siblings_Node(c),a.next=c.previous=b,b.next=a.previous=c,c.next=b.previous=a;pack:for(i=3;i<n;++i){place(a._,b._,c=circles[i]),c=new siblings_Node(c),j=b.next,k=a.previous,sj=b._.r,sk=a._.r;do{if(sj<=sk){if(intersects(j._,c._)){b=j,a.next=b,b.previous=a,--i;continue pack}sj+=j._.r,j=j.next}else{if(intersects(k._,c._)){(a=k).next=b,b.previous=a,--i;continue pack}sk+=k._.r,k=k.previous}}while(j!==k.next);for(c.previous=a,c.next=b,a.next=b.previous=b=c,aa=score(a);(c=c.next)!==b;)(ca=score(c))<aa&&(a=c,aa=ca);b=a.next}for(a=[b._],c=b;(c=c.next)!==b;)a.push(c._);for(c=enclose(a),i=0;i<n;++i)(a=circles[i]).x-=c.x,a.y-=c.y;return c.r}function siblings(circles){return packEnclose(circles),circles}function required(f){if("function"!=typeof f)throw new Error;return f}function constantZero(){return 0}function d3_hierarchy_src_constant(x){return function(){return x}}function pack_defaultRadius(d){return Math.sqrt(d.value)}function pack(){var radius=null,dx=1,dy=1,padding=constantZero;function pack(root){return root.x=dx/2,root.y=dy/2,radius?root.eachBefore(radiusLeaf(radius)).eachAfter(packChildren(padding,.5)).eachBefore(translateChild(1)):root.eachBefore(radiusLeaf(pack_defaultRadius)).eachAfter(packChildren(constantZero,1)).eachAfter(packChildren(padding,root.r/Math.min(dx,dy))).eachBefore(translateChild(Math.min(dx,dy)/(2*root.r))),root}return pack.radius=function(x){return arguments.length?(radius=function optional(f){return null==f?null:required(f)}(x),pack):radius},pack.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],pack):[dx,dy]},pack.padding=function(x){return arguments.length?(padding="function"==typeof x?x:d3_hierarchy_src_constant(+x),pack):padding},pack}function radiusLeaf(radius){return function(node){node.children||(node.r=Math.max(0,+radius(node)||0))}}function packChildren(padding,k){return function(node){if(children=node.children){var children,i,e,n=children.length,r=padding(node)*k||0;if(r)for(i=0;i<n;++i)children[i].r+=r;if(e=packEnclose(children),r)for(i=0;i<n;++i)children[i].r-=r;node.r=e+r}}}function translateChild(k){return function(node){var parent=node.parent;node.r*=k,parent&&(node.x=parent.x+k*node.x,node.y=parent.y+k*node.y)}}function treemap_round(node){node.x0=Math.round(node.x0),node.y0=Math.round(node.y0),node.x1=Math.round(node.x1),node.y1=Math.round(node.y1)}function dice(parent,x0,y0,x1,y1){for(var node,nodes=parent.children,i=-1,n=nodes.length,k=parent.value&&(x1-x0)/parent.value;++i<n;)(node=nodes[i]).y0=y0,node.y1=y1,node.x0=x0,node.x1=x0+=node.value*k}function partition(){var dx=1,dy=1,padding=0,round=!1;function partition(root){var n=root.height+1;return root.x0=root.y0=padding,root.x1=dx,root.y1=dy/n,root.eachBefore(function positionNode(dy,n){return function(node){node.children&&dice(node,node.x0,dy*(node.depth+1)/n,node.x1,dy*(node.depth+2)/n);var x0=node.x0,y0=node.y0,x1=node.x1-padding,y1=node.y1-padding;x1<x0&&(x0=x1=(x0+x1)/2),y1<y0&&(y0=y1=(y0+y1)/2),node.x0=x0,node.y0=y0,node.x1=x1,node.y1=y1}}(dy,n)),round&&root.eachBefore(treemap_round),root}return partition.round=function(x){return arguments.length?(round=!!x,partition):round},partition.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],partition):[dx,dy]},partition.padding=function(x){return arguments.length?(padding=+x,partition):padding},partition}var stratify_keyPrefix="$",preroot={depth:-1},ambiguous={};function defaultId(d){return d.id}function defaultParentId(d){return d.parentId}function stratify(){var id=defaultId,parentId=defaultParentId;function stratify(data){var d,i,root,parent,node,nodeId,nodeKey,n=data.length,nodes=new Array(n),nodeByKey={};for(i=0;i<n;++i)d=data[i],node=nodes[i]=new Node(d),null!=(nodeId=id(d,i,data))&&(nodeId+="")&&(nodeByKey[nodeKey=stratify_keyPrefix+(node.id=nodeId)]=nodeKey in nodeByKey?ambiguous:node);for(i=0;i<n;++i)if(node=nodes[i],null!=(nodeId=parentId(data[i],i,data))&&(nodeId+="")){if(!(parent=nodeByKey[stratify_keyPrefix+nodeId]))throw new Error("missing: "+nodeId);if(parent===ambiguous)throw new Error("ambiguous: "+nodeId);parent.children?parent.children.push(node):parent.children=[node],node.parent=parent}else{if(root)throw new Error("multiple roots");root=node}if(!root)throw new Error("no root");if(root.parent=preroot,root.eachBefore((function(node){node.depth=node.parent.depth+1,--n})).eachBefore(computeHeight),root.parent=null,n>0)throw new Error("cycle");return root}return stratify.id=function(x){return arguments.length?(id=required(x),stratify):id},stratify.parentId=function(x){return arguments.length?(parentId=required(x),stratify):parentId},stratify}function tree_defaultSeparation(a,b){return a.parent===b.parent?1:2}function nextLeft(v){var children=v.children;return children?children[0]:v.t}function nextRight(v){var children=v.children;return children?children[children.length-1]:v.t}function moveSubtree(wm,wp,shift){var change=shift/(wp.i-wm.i);wp.c-=change,wp.s+=shift,wm.c+=change,wp.z+=shift,wp.m+=shift}function nextAncestor(vim,v,ancestor){return vim.a.parent===v.parent?vim.a:ancestor}function TreeNode(node,i){this._=node,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=i}function tree(){var separation=tree_defaultSeparation,dx=1,dy=1,nodeSize=null;function tree(root){var t=function treeRoot(root){for(var node,child,children,i,n,tree=new TreeNode(root,0),nodes=[tree];node=nodes.pop();)if(children=node._.children)for(node.children=new Array(n=children.length),i=n-1;i>=0;--i)nodes.push(child=node.children[i]=new TreeNode(children[i],i)),child.parent=node;return(tree.parent=new TreeNode(null,0)).children=[tree],tree}(root);if(t.eachAfter(firstWalk),t.parent.m=-t.z,t.eachBefore(secondWalk),nodeSize)root.eachBefore(sizeNode);else{var left=root,right=root,bottom=root;root.eachBefore((function(node){node.x<left.x&&(left=node),node.x>right.x&&(right=node),node.depth>bottom.depth&&(bottom=node)}));var s=left===right?1:separation(left,right)/2,tx=s-left.x,kx=dx/(right.x+s+tx),ky=dy/(bottom.depth||1);root.eachBefore((function(node){node.x=(node.x+tx)*kx,node.y=node.depth*ky}))}return root}function firstWalk(v){var children=v.children,siblings=v.parent.children,w=v.i?siblings[v.i-1]:null;if(children){!function executeShifts(v){for(var w,shift=0,change=0,children=v.children,i=children.length;--i>=0;)(w=children[i]).z+=shift,w.m+=shift,shift+=w.s+(change+=w.c)}(v);var midpoint=(children[0].z+children[children.length-1].z)/2;w?(v.z=w.z+separation(v._,w._),v.m=v.z-midpoint):v.z=midpoint}else w&&(v.z=w.z+separation(v._,w._));v.parent.A=function apportion(v,w,ancestor){if(w){for(var shift,vip=v,vop=v,vim=w,vom=vip.parent.children[0],sip=vip.m,sop=vop.m,sim=vim.m,som=vom.m;vim=nextRight(vim),vip=nextLeft(vip),vim&&vip;)vom=nextLeft(vom),(vop=nextRight(vop)).a=v,(shift=vim.z+sim-vip.z-sip+separation(vim._,vip._))>0&&(moveSubtree(nextAncestor(vim,v,ancestor),v,shift),sip+=shift,sop+=shift),sim+=vim.m,sip+=vip.m,som+=vom.m,sop+=vop.m;vim&&!nextRight(vop)&&(vop.t=vim,vop.m+=sim-sop),vip&&!nextLeft(vom)&&(vom.t=vip,vom.m+=sip-som,ancestor=v)}return ancestor}(v,w,v.parent.A||siblings[0])}function secondWalk(v){v._.x=v.z+v.parent.m,v.m+=v.parent.m}function sizeNode(node){node.x*=dx,node.y=node.depth*dy}return tree.separation=function(x){return arguments.length?(separation=x,tree):separation},tree.size=function(x){return arguments.length?(nodeSize=!1,dx=+x[0],dy=+x[1],tree):nodeSize?null:[dx,dy]},tree.nodeSize=function(x){return arguments.length?(nodeSize=!0,dx=+x[0],dy=+x[1],tree):nodeSize?[dx,dy]:null},tree}function treemap_slice(parent,x0,y0,x1,y1){for(var node,nodes=parent.children,i=-1,n=nodes.length,k=parent.value&&(y1-y0)/parent.value;++i<n;)(node=nodes[i]).x0=x0,node.x1=x1,node.y0=y0,node.y1=y0+=node.value*k}TreeNode.prototype=Object.create(Node.prototype);var phi=(1+Math.sqrt(5))/2;function squarifyRatio(ratio,parent,x0,y0,x1,y1){for(var row,nodeValue,dx,dy,sumValue,minValue,maxValue,newRatio,minRatio,alpha,beta,rows=[],nodes=parent.children,i0=0,i1=0,n=nodes.length,value=parent.value;i0<n;){dx=x1-x0,dy=y1-y0;do{sumValue=nodes[i1++].value}while(!sumValue&&i1<n);for(minValue=maxValue=sumValue,beta=sumValue*sumValue*(alpha=Math.max(dy/dx,dx/dy)/(value*ratio)),minRatio=Math.max(maxValue/beta,beta/minValue);i1<n;++i1){if(sumValue+=nodeValue=nodes[i1].value,nodeValue<minValue&&(minValue=nodeValue),nodeValue>maxValue&&(maxValue=nodeValue),beta=sumValue*sumValue*alpha,(newRatio=Math.max(maxValue/beta,beta/minValue))>minRatio){sumValue-=nodeValue;break}minRatio=newRatio}rows.push(row={value:sumValue,dice:dx<dy,children:nodes.slice(i0,i1)}),row.dice?dice(row,x0,y0,x1,value?y0+=dy*sumValue/value:y1):treemap_slice(row,x0,y0,value?x0+=dx*sumValue/value:x1,y1),value-=sumValue,i0=i1}return rows}const squarify=function custom(ratio){function squarify(parent,x0,y0,x1,y1){squarifyRatio(ratio,parent,x0,y0,x1,y1)}return squarify.ratio=function(x){return custom((x=+x)>1?x:1)},squarify}(phi);function treemap(){var tile=squarify,round=!1,dx=1,dy=1,paddingStack=[0],paddingInner=constantZero,paddingTop=constantZero,paddingRight=constantZero,paddingBottom=constantZero,paddingLeft=constantZero;function treemap(root){return root.x0=root.y0=0,root.x1=dx,root.y1=dy,root.eachBefore(positionNode),paddingStack=[0],round&&root.eachBefore(treemap_round),root}function positionNode(node){var p=paddingStack[node.depth],x0=node.x0+p,y0=node.y0+p,x1=node.x1-p,y1=node.y1-p;x1<x0&&(x0=x1=(x0+x1)/2),y1<y0&&(y0=y1=(y0+y1)/2),node.x0=x0,node.y0=y0,node.x1=x1,node.y1=y1,node.children&&(p=paddingStack[node.depth+1]=paddingInner(node)/2,x0+=paddingLeft(node)-p,y0+=paddingTop(node)-p,(x1-=paddingRight(node)-p)<x0&&(x0=x1=(x0+x1)/2),(y1-=paddingBottom(node)-p)<y0&&(y0=y1=(y0+y1)/2),tile(node,x0,y0,x1,y1))}return treemap.round=function(x){return arguments.length?(round=!!x,treemap):round},treemap.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],treemap):[dx,dy]},treemap.tile=function(x){return arguments.length?(tile=required(x),treemap):tile},treemap.padding=function(x){return arguments.length?treemap.paddingInner(x).paddingOuter(x):treemap.paddingInner()},treemap.paddingInner=function(x){return arguments.length?(paddingInner="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingInner},treemap.paddingOuter=function(x){return arguments.length?treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x):treemap.paddingTop()},treemap.paddingTop=function(x){return arguments.length?(paddingTop="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingTop},treemap.paddingRight=function(x){return arguments.length?(paddingRight="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingRight},treemap.paddingBottom=function(x){return arguments.length?(paddingBottom="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingBottom},treemap.paddingLeft=function(x){return arguments.length?(paddingLeft="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingLeft},treemap}function binary(parent,x0,y0,x1,y1){var i,sum,nodes=parent.children,n=nodes.length,sums=new Array(n+1);for(sums[0]=sum=i=0;i<n;++i)sums[i+1]=sum+=nodes[i].value;!function partition(i,j,value,x0,y0,x1,y1){if(i>=j-1){var node=nodes[i];return node.x0=x0,node.y0=y0,node.x1=x1,void(node.y1=y1)}var valueOffset=sums[i],valueTarget=value/2+valueOffset,k=i+1,hi=j-1;for(;k<hi;){var mid=k+hi>>>1;sums[mid]<valueTarget?k=mid+1:hi=mid}valueTarget-sums[k-1]<sums[k]-valueTarget&&i+1<k&&--k;var valueLeft=sums[k]-valueOffset,valueRight=value-valueLeft;if(x1-x0>y1-y0){var xk=(x0*valueRight+x1*valueLeft)/value;partition(i,k,valueLeft,x0,y0,xk,y1),partition(k,j,valueRight,xk,y0,x1,y1)}else{var yk=(y0*valueRight+y1*valueLeft)/value;partition(i,k,valueLeft,x0,y0,x1,yk),partition(k,j,valueRight,x0,yk,x1,y1)}}(0,n,parent.value,x0,y0,x1,y1)}function sliceDice(parent,x0,y0,x1,y1){(1&parent.depth?treemap_slice:dice)(parent,x0,y0,x1,y1)}const resquarify=function custom(ratio){function resquarify(parent,x0,y0,x1,y1){if((rows=parent._squarify)&&rows.ratio===ratio)for(var rows,row,nodes,i,n,j=-1,m=rows.length,value=parent.value;++j<m;){for(nodes=(row=rows[j]).children,i=row.value=0,n=nodes.length;i<n;++i)row.value+=nodes[i].value;row.dice?dice(row,x0,y0,x1,y0+=(y1-y0)*row.value/value):treemap_slice(row,x0,y0,x0+=(x1-x0)*row.value/value,y1),value-=row.value}else parent._squarify=rows=squarifyRatio(ratio,parent,x0,y0,x1,y1),rows.ratio=ratio}return resquarify.ratio=function(x){return custom((x=+x)>1?x:1)},resquarify}(phi);function discrete(range){var n=range.length;return function(t){return range[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}function src_hue(a,b){var i=hue(+a,+b);return function(t){var x=i(t);return x-360*Math.floor(x/360)}}function round(a,b){return a=+a,b=+b,function(t){return Math.round(a*(1-t)+b*t)}}var rho=Math.SQRT2,rho2=2,rho4=4,zoom_epsilon2=1e-12;function cosh(x){return((x=Math.exp(x))+1/x)/2}function src_zoom(p0,p1){var i,S,ux0=p0[0],uy0=p0[1],w0=p0[2],ux1=p1[0],uy1=p1[1],w1=p1[2],dx=ux1-ux0,dy=uy1-uy0,d2=dx*dx+dy*dy;if(d2<zoom_epsilon2)S=Math.log(w1/w0)/rho,i=function(t){return[ux0+t*dx,uy0+t*dy,w0*Math.exp(rho*t*S)]};else{var d1=Math.sqrt(d2),b0=(w1*w1-w0*w0+rho4*d2)/(2*w0*rho2*d1),b1=(w1*w1-w0*w0-rho4*d2)/(2*w1*rho2*d1),r0=Math.log(Math.sqrt(b0*b0+1)-b0),r1=Math.log(Math.sqrt(b1*b1+1)-b1);S=(r1-r0)/rho,i=function(t){var s=t*S,coshr0=cosh(r0),u=w0/(rho2*d1)*(coshr0*function tanh(x){return((x=Math.exp(2*x))-1)/(x+1)}(rho*s+r0)-function sinh(x){return((x=Math.exp(x))-1/x)/2}(r0));return[ux0+u*dx,uy0+u*dy,w0*coshr0/cosh(rho*s+r0)]}}return i.duration=1e3*S,i}function hsl_hsl(hue){return function(start,end){var h=hue((start=hsl(start)).h,(end=hsl(end)).h),s=nogamma(start.s,end.s),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(t),start.opacity=opacity(t),start+""}}}const src_hsl=hsl_hsl(hue);var hslLong=hsl_hsl(nogamma);function lab_lab(start,end){var l=nogamma((start=lab(start)).l,(end=lab(end)).l),a=nogamma(start.a,end.a),b=nogamma(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.l=l(t),start.a=a(t),start.b=b(t),start.opacity=opacity(t),start+""}}function hcl_hcl(hue){return function(start,end){var h=hue((start=hcl(start)).h,(end=hcl(end)).h),c=nogamma(start.c,end.c),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.h=h(t),start.c=c(t),start.l=l(t),start.opacity=opacity(t),start+""}}}const src_hcl=hcl_hcl(hue);var hclLong=hcl_hcl(nogamma);function cubehelix(hue){return function cubehelixGamma(y){function cubehelix(start,end){var h=hue((start=cubehelix_cubehelix(start)).h,(end=cubehelix_cubehelix(end)).h),s=nogamma(start.s,end.s),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(Math.pow(t,y)),start.opacity=opacity(t),start+""}}return y=+y,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}const src_cubehelix=cubehelix(hue);var cubehelixLong=cubehelix(nogamma);function piecewise(interpolate,values){for(var i=0,n=values.length-1,v=values[0],I=new Array(n<0?0:n);i<n;)I[i]=interpolate(v,v=values[++i]);return function(t){var i=Math.max(0,Math.min(n-1,Math.floor(t*=n)));return I[i](t-i)}}function quantize(interpolator,n){for(var samples=new Array(n),i=0;i<n;++i)samples[i]=interpolator(i/(n-1));return samples}function d3_polygon_src_area(polygon){for(var a,i=-1,n=polygon.length,b=polygon[n-1],area=0;++i<n;)a=b,b=polygon[i],area+=a[1]*b[0]-a[0]*b[1];return area/2}function src_centroid(polygon){for(var a,c,i=-1,n=polygon.length,x=0,y=0,b=polygon[n-1],k=0;++i<n;)a=b,b=polygon[i],k+=c=a[0]*b[1]-b[0]*a[1],x+=(a[0]+b[0])*c,y+=(a[1]+b[1])*c;return[x/(k*=3),y/k]}function src_cross(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function lexicographicOrder(a,b){return a[0]-b[0]||a[1]-b[1]}function computeUpperHullIndexes(points){for(var n=points.length,indexes=[0,1],size=2,i=2;i<n;++i){for(;size>1&&src_cross(points[indexes[size-2]],points[indexes[size-1]],points[i])<=0;)--size;indexes[size++]=i}return indexes.slice(0,size)}function hull(points){if((n=points.length)<3)return null;var i,n,sortedPoints=new Array(n),flippedPoints=new Array(n);for(i=0;i<n;++i)sortedPoints[i]=[+points[i][0],+points[i][1],i];for(sortedPoints.sort(lexicographicOrder),i=0;i<n;++i)flippedPoints[i]=[sortedPoints[i][0],-sortedPoints[i][1]];var upperIndexes=computeUpperHullIndexes(sortedPoints),lowerIndexes=computeUpperHullIndexes(flippedPoints),skipLeft=lowerIndexes[0]===upperIndexes[0],skipRight=lowerIndexes[lowerIndexes.length-1]===upperIndexes[upperIndexes.length-1],hull=[];for(i=upperIndexes.length-1;i>=0;--i)hull.push(points[sortedPoints[upperIndexes[i]][2]]);for(i=+skipLeft;i<lowerIndexes.length-skipRight;++i)hull.push(points[sortedPoints[lowerIndexes[i]][2]]);return hull}function d3_polygon_src_contains(polygon,point){for(var x1,y1,n=polygon.length,p=polygon[n-1],x=point[0],y=point[1],x0=p[0],y0=p[1],inside=!1,i=0;i<n;++i)x1=(p=polygon[i])[0],(y1=p[1])>y!=y0>y&&x<(x0-x1)*(y-y1)/(y0-y1)+x1&&(inside=!inside),x0=x1,y0=y1;return inside}function d3_polygon_src_length(polygon){for(var xa,ya,i=-1,n=polygon.length,b=polygon[n-1],xb=b[0],yb=b[1],perimeter=0;++i<n;)xa=xb,ya=yb,xa-=xb=(b=polygon[i])[0],ya-=yb=b[1],perimeter+=Math.sqrt(xa*xa+ya*ya);return perimeter}function src_defaultSource(){return Math.random()}const uniform=function sourceRandomUniform(source){function randomUniform(min,max){return min=null==min?0:+min,max=null==max?1:+max,1===arguments.length?(max=min,min=0):max-=min,function(){return source()*max+min}}return randomUniform.source=sourceRandomUniform,randomUniform}(src_defaultSource),normal=function sourceRandomNormal(source){function randomNormal(mu,sigma){var x,r;return mu=null==mu?0:+mu,sigma=null==sigma?1:+sigma,function(){var y;if(null!=x)y=x,x=null;else do{x=2*source()-1,y=2*source()-1,r=x*x+y*y}while(!r||r>1);return mu+sigma*y*Math.sqrt(-2*Math.log(r)/r)}}return randomNormal.source=sourceRandomNormal,randomNormal}(src_defaultSource),logNormal=function sourceRandomLogNormal(source){function randomLogNormal(){var randomNormal=normal.source(source).apply(this,arguments);return function(){return Math.exp(randomNormal())}}return randomLogNormal.source=sourceRandomLogNormal,randomLogNormal}(src_defaultSource),irwinHall=function sourceRandomIrwinHall(source){function randomIrwinHall(n){return function(){for(var sum=0,i=0;i<n;++i)sum+=source();return sum}}return randomIrwinHall.source=sourceRandomIrwinHall,randomIrwinHall}(src_defaultSource),bates=function sourceRandomBates(source){function randomBates(n){var randomIrwinHall=irwinHall.source(source)(n);return function(){return randomIrwinHall()/n}}return randomBates.source=sourceRandomBates,randomBates}(src_defaultSource),src_exponential=function sourceRandomExponential(source){function randomExponential(lambda){return function(){return-Math.log(1-source())/lambda}}return randomExponential.source=sourceRandomExponential,randomExponential}(src_defaultSource);function initRange(domain,range){switch(arguments.length){case 0:break;case 1:this.range(domain);break;default:this.range(range).domain(domain)}return this}function initInterpolator(domain,interpolator){switch(arguments.length){case 0:break;case 1:this.interpolator(domain);break;default:this.interpolator(interpolator).domain(domain)}return this}var src_array_array=Array.prototype,array_map=src_array_array.map,d3_scale_src_array_slice=src_array_array.slice,implicit={name:"implicit"};function ordinal(){var index=src_map(),domain=[],range=[],unknown=implicit;function scale(d){var key=d+"",i=index.get(key);if(!i){if(unknown!==implicit)return unknown;index.set(key,i=domain.push(d))}return range[(i-1)%range.length]}return scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[],index=src_map();for(var d,key,i=-1,n=_.length;++i<n;)index.has(key=(d=_[i])+"")||index.set(key,domain.push(d));return scale},scale.range=function(_){return arguments.length?(range=d3_scale_src_array_slice.call(_),scale):range.slice()},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.copy=function(){return ordinal(domain,range).unknown(unknown)},initRange.apply(scale,arguments),scale}function band(){var step,bandwidth,scale=ordinal().unknown(void 0),domain=scale.domain,ordinalRange=scale.range,range=[0,1],round=!1,paddingInner=0,paddingOuter=0,align=.5;function rescale(){var n=domain().length,reverse=range[1]<range[0],start=range[reverse-0],stop=range[1-reverse];step=(stop-start)/Math.max(1,n-paddingInner+2*paddingOuter),round&&(step=Math.floor(step)),start+=(stop-start-step*(n-paddingInner))*align,bandwidth=step*(1-paddingInner),round&&(start=Math.round(start),bandwidth=Math.round(bandwidth));var values=src_range(n).map((function(i){return start+step*i}));return ordinalRange(reverse?values.reverse():values)}return delete scale.unknown,scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()},scale.range=function(_){return arguments.length?(range=[+_[0],+_[1]],rescale()):range.slice()},scale.rangeRound=function(_){return range=[+_[0],+_[1]],round=!0,rescale()},scale.bandwidth=function(){return bandwidth},scale.step=function(){return step},scale.round=function(_){return arguments.length?(round=!!_,rescale()):round},scale.padding=function(_){return arguments.length?(paddingInner=Math.min(1,paddingOuter=+_),rescale()):paddingInner},scale.paddingInner=function(_){return arguments.length?(paddingInner=Math.min(1,_),rescale()):paddingInner},scale.paddingOuter=function(_){return arguments.length?(paddingOuter=+_,rescale()):paddingOuter},scale.align=function(_){return arguments.length?(align=Math.max(0,Math.min(1,_)),rescale()):align},scale.copy=function(){return band(domain(),range).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align)},initRange.apply(rescale(),arguments)}function pointish(scale){var copy=scale.copy;return scale.padding=scale.paddingOuter,delete scale.paddingInner,delete scale.paddingOuter,scale.copy=function(){return pointish(copy())},scale}function band_point(){return pointish(band.apply(null,arguments).paddingInner(1))}function d3_scale_src_number(x){return+x}var unit=[0,1];function continuous_identity(x){return x}function normalize(a,b){return(b-=a=+a)?function(x){return(x-a)/b}:function d3_scale_src_constant(x){return function(){return x}}(isNaN(b)?NaN:.5)}function clamper(domain){var t,a=domain[0],b=domain[domain.length-1];return a>b&&(t=a,a=b,b=t),function(x){return Math.max(a,Math.min(b,x))}}function bimap(domain,range,interpolate){var d0=domain[0],d1=domain[1],r0=range[0],r1=range[1];return d1<d0?(d0=normalize(d1,d0),r0=interpolate(r1,r0)):(d0=normalize(d0,d1),r0=interpolate(r0,r1)),function(x){return r0(d0(x))}}function polymap(domain,range,interpolate){var j=Math.min(domain.length,range.length)-1,d=new Array(j),r=new Array(j),i=-1;for(domain[j]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());++i<j;)d[i]=normalize(domain[i],domain[i+1]),r[i]=interpolate(range[i],range[i+1]);return function(x){var i=bisect(domain,x,1,j)-1;return r[i](d[i](x))}}function copy(source,target){return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}function continuous_transformer(){var transform,untransform,unknown,piecewise,output,input,domain=unit,range=unit,interpolate=value,clamp=continuous_identity;function rescale(){return piecewise=Math.min(domain.length,range.length)>2?polymap:bimap,output=input=null,scale}function scale(x){return isNaN(x=+x)?unknown:(output||(output=piecewise(domain.map(transform),range,interpolate)))(transform(clamp(x)))}return scale.invert=function(y){return clamp(untransform((input||(input=piecewise(range,domain.map(transform),src_number)))(y)))},scale.domain=function(_){return arguments.length?(domain=array_map.call(_,d3_scale_src_number),clamp===continuous_identity||(clamp=clamper(domain)),rescale()):domain.slice()},scale.range=function(_){return arguments.length?(range=d3_scale_src_array_slice.call(_),rescale()):range.slice()},scale.rangeRound=function(_){return range=d3_scale_src_array_slice.call(_),interpolate=round,rescale()},scale.clamp=function(_){return arguments.length?(clamp=_?clamper(domain):continuous_identity,scale):clamp!==continuous_identity},scale.interpolate=function(_){return arguments.length?(interpolate=_,rescale()):interpolate},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},function(t,u){return transform=t,untransform=u,rescale()}}function continuous(transform,untransform){return continuous_transformer()(transform,untransform)}function tickFormat(start,stop,count,specifier){var precision,step=tickStep(start,stop,count);switch((specifier=formatSpecifier(null==specifier?",f":specifier)).type){case"s":var value=Math.max(Math.abs(start),Math.abs(stop));return null!=specifier.precision||isNaN(precision=precisionPrefix(step,value))||(specifier.precision=precision),formatPrefix(specifier,value);case"":case"e":case"g":case"p":case"r":null!=specifier.precision||isNaN(precision=precisionRound(step,Math.max(Math.abs(start),Math.abs(stop))))||(specifier.precision=precision-("e"===specifier.type));break;case"f":case"%":null!=specifier.precision||isNaN(precision=precisionFixed(step))||(specifier.precision=precision-2*("%"===specifier.type))}return format(specifier)}function linearish(scale){var domain=scale.domain;return scale.ticks=function(count){var d=domain();return ticks(d[0],d[d.length-1],null==count?10:count)},scale.tickFormat=function(count,specifier){var d=domain();return tickFormat(d[0],d[d.length-1],null==count?10:count,specifier)},scale.nice=function(count){null==count&&(count=10);var step,d=domain(),i0=0,i1=d.length-1,start=d[i0],stop=d[i1];return stop<start&&(step=start,start=stop,stop=step,step=i0,i0=i1,i1=step),(step=tickIncrement(start,stop,count))>0?step=tickIncrement(start=Math.floor(start/step)*step,stop=Math.ceil(stop/step)*step,count):step<0&&(step=tickIncrement(start=Math.ceil(start*step)/step,stop=Math.floor(stop*step)/step,count)),step>0?(d[i0]=Math.floor(start/step)*step,d[i1]=Math.ceil(stop/step)*step,domain(d)):step<0&&(d[i0]=Math.ceil(start*step)/step,d[i1]=Math.floor(stop*step)/step,domain(d)),scale},scale}function src_linear_linear(){var scale=continuous(continuous_identity,continuous_identity);return scale.copy=function(){return copy(scale,src_linear_linear())},initRange.apply(scale,arguments),linearish(scale)}function identity_identity(domain){var unknown;function scale(x){return isNaN(x=+x)?unknown:x}return scale.invert=scale,scale.domain=scale.range=function(_){return arguments.length?(domain=array_map.call(_,d3_scale_src_number),scale):domain.slice()},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.copy=function(){return identity_identity(domain).unknown(unknown)},domain=arguments.length?array_map.call(domain,d3_scale_src_number):[0,1],linearish(scale)}function nice(domain,interval){var t,i0=0,i1=(domain=domain.slice()).length-1,x0=domain[i0],x1=domain[i1];return x1<x0&&(t=i0,i0=i1,i1=t,t=x0,x0=x1,x1=t),domain[i0]=interval.floor(x0),domain[i1]=interval.ceil(x1),domain}function transformLog(x){return Math.log(x)}function transformExp(x){return Math.exp(x)}function transformLogn(x){return-Math.log(-x)}function transformExpn(x){return-Math.exp(-x)}function pow10(x){return isFinite(x)?+("1e"+x):x<0?0:x}function reflect(f){return function(x){return-f(-x)}}function loggish(transform){var logs,pows,scale=transform(transformLog,transformExp),domain=scale.domain,base=10;function rescale(){return logs=function logp(base){return base===Math.E?Math.log:10===base&&Math.log10||2===base&&Math.log2||(base=Math.log(base),function(x){return Math.log(x)/base})}(base),pows=function powp(base){return 10===base?pow10:base===Math.E?Math.exp:function(x){return Math.pow(base,x)}}(base),domain()[0]<0?(logs=reflect(logs),pows=reflect(pows),transform(transformLogn,transformExpn)):transform(transformLog,transformExp),scale}return scale.base=function(_){return arguments.length?(base=+_,rescale()):base},scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()},scale.ticks=function(count){var r,d=domain(),u=d[0],v=d[d.length-1];(r=v<u)&&(i=u,u=v,v=i);var p,k,t,i=logs(u),j=logs(v),n=null==count?10:+count,z=[];if(!(base%1)&&j-i<n){if(i=Math.round(i)-1,j=Math.round(j)+1,u>0){for(;i<j;++i)for(k=1,p=pows(i);k<base;++k)if(!((t=p*k)<u)){if(t>v)break;z.push(t)}}else for(;i<j;++i)for(k=base-1,p=pows(i);k>=1;--k)if(!((t=p*k)<u)){if(t>v)break;z.push(t)}}else z=ticks(i,j,Math.min(j-i,n)).map(pows);return r?z.reverse():z},scale.tickFormat=function(count,specifier){if(null==specifier&&(specifier=10===base?".0e":","),"function"!=typeof specifier&&(specifier=format(specifier)),count===1/0)return specifier;null==count&&(count=10);var k=Math.max(1,base*count/scale.ticks().length);return function(d){var i=d/pows(Math.round(logs(d)));return i*base<base-.5&&(i*=base),i<=k?specifier(d):""}},scale.nice=function(){return domain(nice(domain(),{floor:function(x){return pows(Math.floor(logs(x)))},ceil:function(x){return pows(Math.ceil(logs(x)))}}))},scale}function log_log(){var scale=loggish(continuous_transformer()).domain([1,10]);return scale.copy=function(){return copy(scale,log_log()).base(scale.base())},initRange.apply(scale,arguments),scale}function transformSymlog(c){return function(x){return Math.sign(x)*Math.log1p(Math.abs(x/c))}}function transformSymexp(c){return function(x){return Math.sign(x)*Math.expm1(Math.abs(x))*c}}function symlogish(transform){var c=1,scale=transform(transformSymlog(c),transformSymexp(c));return scale.constant=function(_){return arguments.length?transform(transformSymlog(c=+_),transformSymexp(c)):c},linearish(scale)}function symlog(){var scale=symlogish(continuous_transformer());return scale.copy=function(){return copy(scale,symlog()).constant(scale.constant())},initRange.apply(scale,arguments)}function transformPow(exponent){return function(x){return x<0?-Math.pow(-x,exponent):Math.pow(x,exponent)}}function transformSqrt(x){return x<0?-Math.sqrt(-x):Math.sqrt(x)}function transformSquare(x){return x<0?-x*x:x*x}function powish(transform){var scale=transform(continuous_identity,continuous_identity),exponent=1;return scale.exponent=function(_){return arguments.length?(exponent=+_,function rescale(){return 1===exponent?transform(continuous_identity,continuous_identity):.5===exponent?transform(transformSqrt,transformSquare):transform(transformPow(exponent),transformPow(1/exponent))}()):exponent},linearish(scale)}function pow_pow(){var scale=powish(continuous_transformer());return scale.copy=function(){return copy(scale,pow_pow()).exponent(scale.exponent())},initRange.apply(scale,arguments),scale}function pow_sqrt(){return pow_pow.apply(null,arguments).exponent(.5)}function quantile_quantile(){var unknown,domain=[],range=[],thresholds=[];function rescale(){var i=0,n=Math.max(1,range.length);for(thresholds=new Array(n-1);++i<n;)thresholds[i-1]=quantile(domain,i/n);return scale}function scale(x){return isNaN(x=+x)?unknown:range[bisect(thresholds,x)]}return scale.invertExtent=function(y){var i=range.indexOf(y);return i<0?[NaN,NaN]:[i>0?thresholds[i-1]:domain[0],i<thresholds.length?thresholds[i]:domain[domain.length-1]]},scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[];for(var d,i=0,n=_.length;i<n;++i)null==(d=_[i])||isNaN(d=+d)||domain.push(d);return domain.sort(ascending),rescale()},scale.range=function(_){return arguments.length?(range=d3_scale_src_array_slice.call(_),rescale()):range.slice()},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.quantiles=function(){return thresholds.slice()},scale.copy=function(){return quantile_quantile().domain(domain).range(range).unknown(unknown)},initRange.apply(scale,arguments)}function quantize_quantize(){var unknown,x0=0,x1=1,n=1,domain=[.5],range=[0,1];function scale(x){return x<=x?range[bisect(domain,x,0,n)]:unknown}function rescale(){var i=-1;for(domain=new Array(n);++i<n;)domain[i]=((i+1)*x1-(i-n)*x0)/(n+1);return scale}return scale.domain=function(_){return arguments.length?(x0=+_[0],x1=+_[1],rescale()):[x0,x1]},scale.range=function(_){return arguments.length?(n=(range=d3_scale_src_array_slice.call(_)).length-1,rescale()):range.slice()},scale.invertExtent=function(y){var i=range.indexOf(y);return i<0?[NaN,NaN]:i<1?[x0,domain[0]]:i>=n?[domain[n-1],x1]:[domain[i-1],domain[i]]},scale.unknown=function(_){return arguments.length?(unknown=_,scale):scale},scale.thresholds=function(){return domain.slice()},scale.copy=function(){return quantize_quantize().domain([x0,x1]).range(range).unknown(unknown)},initRange.apply(linearish(scale),arguments)}function threshold(){var unknown,domain=[.5],range=[0,1],n=1;function scale(x){return x<=x?range[bisect(domain,x,0,n)]:unknown}return scale.domain=function(_){return arguments.length?(domain=d3_scale_src_array_slice.call(_),n=Math.min(domain.length,range.length-1),scale):domain.slice()},scale.range=function(_){return arguments.length?(range=d3_scale_src_array_slice.call(_),n=Math.min(domain.length,range.length-1),scale):range.slice()},scale.invertExtent=function(y){var i=range.indexOf(y);return[domain[i-1],domain[i]]},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.copy=function(){return threshold().domain(domain).range(range).unknown(unknown)},initRange.apply(scale,arguments)}var interval_t0=new Date,interval_t1=new Date;function newInterval(floori,offseti,count,field){function interval(date){return floori(date=0===arguments.length?new Date:new Date(+date)),date}return interval.floor=function(date){return floori(date=new Date(+date)),date},interval.ceil=function(date){return floori(date=new Date(date-1)),offseti(date,1),floori(date),date},interval.round=function(date){var d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1},interval.offset=function(date,step){return offseti(date=new Date(+date),null==step?1:Math.floor(step)),date},interval.range=function(start,stop,step){var previous,range=[];if(start=interval.ceil(start),step=null==step?1:Math.floor(step),!(start<stop&&step>0))return range;do{range.push(previous=new Date(+start)),offseti(start,step),floori(start)}while(previous<start&&start<stop);return range},interval.filter=function(test){return newInterval((function(date){if(date>=date)for(;floori(date),!test(date);)date.setTime(date-1)}),(function(date,step){if(date>=date)if(step<0)for(;++step<=0;)for(;offseti(date,-1),!test(date););else for(;--step>=0;)for(;offseti(date,1),!test(date););}))},count&&(interval.count=function(start,end){return interval_t0.setTime(+start),interval_t1.setTime(+end),floori(interval_t0),floori(interval_t1),Math.floor(count(interval_t0,interval_t1))},interval.every=function(step){return step=Math.floor(step),isFinite(step)&&step>0?step>1?interval.filter(field?function(d){return field(d)%step===0}:function(d){return interval.count(0,d)%step===0}):interval:null}),interval}var year=newInterval((function(date){date.setMonth(0,1),date.setHours(0,0,0,0)}),(function(date,step){date.setFullYear(date.getFullYear()+step)}),(function(start,end){return end.getFullYear()-start.getFullYear()}),(function(date){return date.getFullYear()}));year.every=function(k){return isFinite(k=Math.floor(k))&&k>0?newInterval((function(date){date.setFullYear(Math.floor(date.getFullYear()/k)*k),date.setMonth(0,1),date.setHours(0,0,0,0)}),(function(date,step){date.setFullYear(date.getFullYear()+step*k)})):null};const src_year=year;var years=year.range,month=newInterval((function(date){date.setDate(1),date.setHours(0,0,0,0)}),(function(date,step){date.setMonth(date.getMonth()+step)}),(function(start,end){return end.getMonth()-start.getMonth()+12*(end.getFullYear()-start.getFullYear())}),(function(date){return date.getMonth()}));const src_month=month;var months=month.range;function weekday(i){return newInterval((function(date){date.setDate(date.getDate()-(date.getDay()+7-i)%7),date.setHours(0,0,0,0)}),(function(date,step){date.setDate(date.getDate()+7*step)}),(function(start,end){return(end-start-6e4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/6048e5}))}var sunday=weekday(0),monday=weekday(1),tuesday=weekday(2),wednesday=weekday(3),thursday=weekday(4),friday=weekday(5),saturday=weekday(6),sundays=sunday.range,mondays=monday.range,tuesdays=tuesday.range,wednesdays=wednesday.range,thursdays=thursday.range,fridays=friday.range,saturdays=saturday.range,day=newInterval((function(date){date.setHours(0,0,0,0)}),(function(date,step){date.setDate(date.getDate()+step)}),(function(start,end){return(end-start-6e4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/864e5}),(function(date){return date.getDate()-1}));const src_day=day;var days=day.range,hour=newInterval((function(date){date.setTime(date-date.getMilliseconds()-1e3*date.getSeconds()-6e4*date.getMinutes())}),(function(date,step){date.setTime(+date+36e5*step)}),(function(start,end){return(end-start)/36e5}),(function(date){return date.getHours()}));const src_hour=hour;var hours=hour.range,minute=newInterval((function(date){date.setTime(date-date.getMilliseconds()-1e3*date.getSeconds())}),(function(date,step){date.setTime(+date+6e4*step)}),(function(start,end){return(end-start)/6e4}),(function(date){return date.getMinutes()}));const src_minute=minute;var minutes=minute.range,second=newInterval((function(date){date.setTime(date-date.getMilliseconds())}),(function(date,step){date.setTime(+date+1e3*step)}),(function(start,end){return(end-start)/1e3}),(function(date){return date.getUTCSeconds()}));const src_second=second;var seconds=second.range,millisecond=newInterval((function(){}),(function(date,step){date.setTime(+date+step)}),(function(start,end){return end-start}));millisecond.every=function(k){return k=Math.floor(k),isFinite(k)&&k>0?k>1?newInterval((function(date){date.setTime(Math.floor(date/k)*k)}),(function(date,step){date.setTime(+date+step*k)}),(function(start,end){return(end-start)/k})):millisecond:null};const src_millisecond=millisecond;var milliseconds=millisecond.range;function utcWeekday(i){return newInterval((function(date){date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7),date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCDate(date.getUTCDate()+7*step)}),(function(start,end){return(end-start)/6048e5}))}var utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6),utcSundays=utcSunday.range,utcMondays=utcMonday.range,utcTuesdays=utcTuesday.range,utcWednesdays=utcWednesday.range,utcThursdays=utcThursday.range,utcFridays=utcFriday.range,utcSaturdays=utcSaturday.range,utcDay=newInterval((function(date){date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCDate(date.getUTCDate()+step)}),(function(start,end){return(end-start)/864e5}),(function(date){return date.getUTCDate()-1}));const src_utcDay=utcDay;var utcDays=utcDay.range,utcYear=newInterval((function(date){date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step)}),(function(start,end){return end.getUTCFullYear()-start.getUTCFullYear()}),(function(date){return date.getUTCFullYear()}));utcYear.every=function(k){return isFinite(k=Math.floor(k))&&k>0?newInterval((function(date){date.setUTCFullYear(Math.floor(date.getUTCFullYear()/k)*k),date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCFullYear(date.getUTCFullYear()+step*k)})):null};const src_utcYear=utcYear;var utcYears=utcYear.range;function localDate(d){if(0<=d.y&&d.y<100){var date=new Date(-1,d.m,d.d,d.H,d.M,d.S,d.L);return date.setFullYear(d.y),date}return new Date(d.y,d.m,d.d,d.H,d.M,d.S,d.L)}function utcDate(d){if(0<=d.y&&d.y<100){var date=new Date(Date.UTC(-1,d.m,d.d,d.H,d.M,d.S,d.L));return date.setUTCFullYear(d.y),date}return new Date(Date.UTC(d.y,d.m,d.d,d.H,d.M,d.S,d.L))}function newDate(y,m,d){return{y,m,d,H:0,M:0,S:0,L:0}}function formatLocale(locale){var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_weekdays=locale.days,locale_shortWeekdays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths,periodRe=formatRe(locale_periods),periodLookup=formatLookup(locale_periods),weekdayRe=formatRe(locale_weekdays),weekdayLookup=formatLookup(locale_weekdays),shortWeekdayRe=formatRe(locale_shortWeekdays),shortWeekdayLookup=formatLookup(locale_shortWeekdays),monthRe=formatRe(locale_months),monthLookup=formatLookup(locale_months),shortMonthRe=formatRe(locale_shortMonths),shortMonthLookup=formatLookup(locale_shortMonths),formats={a:function formatShortWeekday(d){return locale_shortWeekdays[d.getDay()]},A:function formatWeekday(d){return locale_weekdays[d.getDay()]},b:function formatShortMonth(d){return locale_shortMonths[d.getMonth()]},B:function formatMonth(d){return locale_months[d.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function formatPeriod(d){return locale_periods[+(d.getHours()>=12)]},q:function formatQuarter(d){return 1+~~(d.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:locale_formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},utcFormats={a:function formatUTCShortWeekday(d){return locale_shortWeekdays[d.getUTCDay()]},A:function formatUTCWeekday(d){return locale_weekdays[d.getUTCDay()]},b:function formatUTCShortMonth(d){return locale_shortMonths[d.getUTCMonth()]},B:function formatUTCMonth(d){return locale_months[d.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function formatUTCPeriod(d){return locale_periods[+(d.getUTCHours()>=12)]},q:function formatUTCQuarter(d){return 1+~~(d.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},parses={a:function parseShortWeekday(d,string,i){var n=shortWeekdayRe.exec(string.slice(i));return n?(d.w=shortWeekdayLookup[n[0].toLowerCase()],i+n[0].length):-1},A:function parseWeekday(d,string,i){var n=weekdayRe.exec(string.slice(i));return n?(d.w=weekdayLookup[n[0].toLowerCase()],i+n[0].length):-1},b:function parseShortMonth(d,string,i){var n=shortMonthRe.exec(string.slice(i));return n?(d.m=shortMonthLookup[n[0].toLowerCase()],i+n[0].length):-1},B:function parseMonth(d,string,i){var n=monthRe.exec(string.slice(i));return n?(d.m=monthLookup[n[0].toLowerCase()],i+n[0].length):-1},c:function parseLocaleDateTime(d,string,i){return parseSpecifier(d,locale_dateTime,string,i)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function parsePeriod(d,string,i){var n=periodRe.exec(string.slice(i));return n?(d.p=periodLookup[n[0].toLowerCase()],i+n[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function parseLocaleDate(d,string,i){return parseSpecifier(d,locale_date,string,i)},X:function parseLocaleTime(d,string,i){return parseSpecifier(d,locale_time,string,i)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(specifier,formats){return function(date){var c,pad,format,string=[],i=-1,j=0,n=specifier.length;for(date instanceof Date||(date=new Date(+date));++i<n;)37===specifier.charCodeAt(i)&&(string.push(specifier.slice(j,i)),null!=(pad=pads[c=specifier.charAt(++i)])?c=specifier.charAt(++i):pad="e"===c?" ":"0",(format=formats[c])&&(c=format(date,pad)),string.push(c),j=i+1);return string.push(specifier.slice(j,i)),string.join("")}}function newParse(specifier,Z){return function(string){var week,day,d=newDate(1900,void 0,1);if(parseSpecifier(d,specifier,string+="",0)!=string.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(1e3*d.s+("L"in d?d.L:0));if(Z&&!("Z"in d)&&(d.Z=0),"p"in d&&(d.H=d.H%12+12*d.p),void 0===d.m&&(d.m="q"in d?d.q:0),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(day=(week=utcDate(newDate(d.y,0,1))).getUTCDay(),week=day>4||0===day?utcMonday.ceil(week):utcMonday(week),week=src_utcDay.offset(week,7*(d.V-1)),d.y=week.getUTCFullYear(),d.m=week.getUTCMonth(),d.d=week.getUTCDate()+(d.w+6)%7):(day=(week=localDate(newDate(d.y,0,1))).getDay(),week=day>4||0===day?monday.ceil(week):monday(week),week=src_day.offset(week,7*(d.V-1)),d.y=week.getFullYear(),d.m=week.getMonth(),d.d=week.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),day="Z"in d?utcDate(newDate(d.y,0,1)).getUTCDay():localDate(newDate(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(day+5)%7:d.w+7*d.U-(day+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,utcDate(d)):localDate(d)}}function parseSpecifier(d,specifier,string,j){for(var c,parse,i=0,n=specifier.length,m=string.length;i<n;){if(j>=m)return-1;if(37===(c=specifier.charCodeAt(i++))){if(c=specifier.charAt(i++),!(parse=parses[c in pads?specifier.charAt(i++):c])||(j=parse(d,string,j))<0)return-1}else if(c!=string.charCodeAt(j++))return-1}return j}return formats.x=newFormat(locale_date,formats),formats.X=newFormat(locale_time,formats),formats.c=newFormat(locale_dateTime,formats),utcFormats.x=newFormat(locale_date,utcFormats),utcFormats.X=newFormat(locale_time,utcFormats),utcFormats.c=newFormat(locale_dateTime,utcFormats),{format:function(specifier){var f=newFormat(specifier+="",formats);return f.toString=function(){return specifier},f},parse:function(specifier){var p=newParse(specifier+="",!1);return p.toString=function(){return specifier},p},utcFormat:function(specifier){var f=newFormat(specifier+="",utcFormats);return f.toString=function(){return specifier},f},utcParse:function(specifier){var p=newParse(specifier+="",!0);return p.toString=function(){return specifier},p}}}var src_defaultLocale_locale,timeFormat,timeParse,utcFormat,utcParse,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function locale_pad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function requote(s){return s.replace(requoteRe,"\\$&")}function formatRe(names){return new RegExp("^(?:"+names.map(requote).join("|")+")","i")}function formatLookup(names){for(var map={},i=-1,n=names.length;++i<n;)map[names[i].toLowerCase()]=i;return map}function parseWeekdayNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.w=+n[0],i+n[0].length):-1}function parseWeekdayNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.u=+n[0],i+n[0].length):-1}function parseWeekNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.U=+n[0],i+n[0].length):-1}function parseWeekNumberISO(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.V=+n[0],i+n[0].length):-1}function parseWeekNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.W=+n[0],i+n[0].length):-1}function parseFullYear(d,string,i){var n=numberRe.exec(string.slice(i,i+4));return n?(d.y=+n[0],i+n[0].length):-1}function parseYear(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function parseZone(d,string,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string.slice(i,i+6));return n?(d.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function parseQuarter(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.q=3*n[0]-3,i+n[0].length):-1}function parseMonthNumber(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.m=n[0]-1,i+n[0].length):-1}function parseDayOfMonth(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.d=+n[0],i+n[0].length):-1}function parseDayOfYear(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.m=0,d.d=+n[0],i+n[0].length):-1}function parseHour24(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.H=+n[0],i+n[0].length):-1}function parseMinutes(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.M=+n[0],i+n[0].length):-1}function parseSeconds(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.S=+n[0],i+n[0].length):-1}function parseMilliseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.L=+n[0],i+n[0].length):-1}function parseMicroseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+6));return n?(d.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function parseLiteralPercent(d,string,i){var n=percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function parseUnixTimestamp(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.Q=+n[0],i+n[0].length):-1}function parseUnixTimestampSeconds(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.s=+n[0],i+n[0].length):-1}function formatDayOfMonth(d,p){return locale_pad(d.getDate(),p,2)}function formatHour24(d,p){return locale_pad(d.getHours(),p,2)}function formatHour12(d,p){return locale_pad(d.getHours()%12||12,p,2)}function formatDayOfYear(d,p){return locale_pad(1+src_day.count(src_year(d),d),p,3)}function formatMilliseconds(d,p){return locale_pad(d.getMilliseconds(),p,3)}function formatMicroseconds(d,p){return formatMilliseconds(d,p)+"000"}function formatMonthNumber(d,p){return locale_pad(d.getMonth()+1,p,2)}function formatMinutes(d,p){return locale_pad(d.getMinutes(),p,2)}function formatSeconds(d,p){return locale_pad(d.getSeconds(),p,2)}function formatWeekdayNumberMonday(d){var day=d.getDay();return 0===day?7:day}function formatWeekNumberSunday(d,p){return locale_pad(sunday.count(src_year(d)-1,d),p,2)}function dISO(d){var day=d.getDay();return day>=4||0===day?thursday(d):thursday.ceil(d)}function formatWeekNumberISO(d,p){return d=dISO(d),locale_pad(thursday.count(src_year(d),d)+(4===src_year(d).getDay()),p,2)}function formatWeekdayNumberSunday(d){return d.getDay()}function formatWeekNumberMonday(d,p){return locale_pad(monday.count(src_year(d)-1,d),p,2)}function locale_formatYear(d,p){return locale_pad(d.getFullYear()%100,p,2)}function formatYearISO(d,p){return locale_pad((d=dISO(d)).getFullYear()%100,p,2)}function formatFullYear(d,p){return locale_pad(d.getFullYear()%1e4,p,4)}function formatFullYearISO(d,p){var day=d.getDay();return locale_pad((d=day>=4||0===day?thursday(d):thursday.ceil(d)).getFullYear()%1e4,p,4)}function formatZone(d){var z=d.getTimezoneOffset();return(z>0?"-":(z*=-1,"+"))+locale_pad(z/60|0,"0",2)+locale_pad(z%60,"0",2)}function formatUTCDayOfMonth(d,p){return locale_pad(d.getUTCDate(),p,2)}function formatUTCHour24(d,p){return locale_pad(d.getUTCHours(),p,2)}function formatUTCHour12(d,p){return locale_pad(d.getUTCHours()%12||12,p,2)}function formatUTCDayOfYear(d,p){return locale_pad(1+src_utcDay.count(src_utcYear(d),d),p,3)}function formatUTCMilliseconds(d,p){return locale_pad(d.getUTCMilliseconds(),p,3)}function formatUTCMicroseconds(d,p){return formatUTCMilliseconds(d,p)+"000"}function formatUTCMonthNumber(d,p){return locale_pad(d.getUTCMonth()+1,p,2)}function formatUTCMinutes(d,p){return locale_pad(d.getUTCMinutes(),p,2)}function formatUTCSeconds(d,p){return locale_pad(d.getUTCSeconds(),p,2)}function formatUTCWeekdayNumberMonday(d){var dow=d.getUTCDay();return 0===dow?7:dow}function formatUTCWeekNumberSunday(d,p){return locale_pad(utcSunday.count(src_utcYear(d)-1,d),p,2)}function UTCdISO(d){var day=d.getUTCDay();return day>=4||0===day?utcThursday(d):utcThursday.ceil(d)}function formatUTCWeekNumberISO(d,p){return d=UTCdISO(d),locale_pad(utcThursday.count(src_utcYear(d),d)+(4===src_utcYear(d).getUTCDay()),p,2)}function formatUTCWeekdayNumberSunday(d){return d.getUTCDay()}function formatUTCWeekNumberMonday(d,p){return locale_pad(utcMonday.count(src_utcYear(d)-1,d),p,2)}function formatUTCYear(d,p){return locale_pad(d.getUTCFullYear()%100,p,2)}function formatUTCYearISO(d,p){return locale_pad((d=UTCdISO(d)).getUTCFullYear()%100,p,2)}function formatUTCFullYear(d,p){return locale_pad(d.getUTCFullYear()%1e4,p,4)}function formatUTCFullYearISO(d,p){var day=d.getUTCDay();return locale_pad((d=day>=4||0===day?utcThursday(d):utcThursday.ceil(d)).getUTCFullYear()%1e4,p,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(d){return+d}function formatUnixTimestampSeconds(d){return Math.floor(+d/1e3)}function defaultLocale_defaultLocale(definition){return src_defaultLocale_locale=formatLocale(definition),timeFormat=src_defaultLocale_locale.format,timeParse=src_defaultLocale_locale.parse,utcFormat=src_defaultLocale_locale.utcFormat,utcParse=src_defaultLocale_locale.utcParse,src_defaultLocale_locale}defaultLocale_defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var time_durationSecond=1e3,time_durationMinute=60*time_durationSecond,time_durationHour=60*time_durationMinute,time_durationDay=24*time_durationHour,time_durationWeek=7*time_durationDay,durationMonth=30*time_durationDay,durationYear=365*time_durationDay;function time_date(t){return new Date(t)}function time_number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(year,month,week,day,hour,minute,second,millisecond,format){var scale=continuous(continuous_identity,continuous_identity),invert=scale.invert,domain=scale.domain,formatMillisecond=format(".%L"),formatSecond=format(":%S"),formatMinute=format("%I:%M"),formatHour=format("%I %p"),formatDay=format("%a %d"),formatWeek=format("%b %d"),formatMonth=format("%B"),formatYear=format("%Y"),tickIntervals=[[second,1,time_durationSecond],[second,5,5*time_durationSecond],[second,15,15*time_durationSecond],[second,30,30*time_durationSecond],[minute,1,time_durationMinute],[minute,5,5*time_durationMinute],[minute,15,15*time_durationMinute],[minute,30,30*time_durationMinute],[hour,1,time_durationHour],[hour,3,3*time_durationHour],[hour,6,6*time_durationHour],[hour,12,12*time_durationHour],[day,1,time_durationDay],[day,2,2*time_durationDay],[week,1,time_durationWeek],[month,1,durationMonth],[month,3,3*durationMonth],[year,1,durationYear]];function tickFormat(date){return(second(date)<date?formatMillisecond:minute(date)<date?formatSecond:hour(date)<date?formatMinute:day(date)<date?formatHour:month(date)<date?week(date)<date?formatDay:formatWeek:year(date)<date?formatMonth:formatYear)(date)}function tickInterval(interval,start,stop,step){if(null==interval&&(interval=10),"number"==typeof interval){var target=Math.abs(stop-start)/interval,i=bisector((function(i){return i[2]})).right(tickIntervals,target);i===tickIntervals.length?(step=tickStep(start/durationYear,stop/durationYear,interval),interval=year):i?(step=(i=tickIntervals[target/tickIntervals[i-1][2]<tickIntervals[i][2]/target?i-1:i])[1],interval=i[0]):(step=Math.max(tickStep(start,stop,interval),1),interval=millisecond)}return null==step?interval:interval.every(step)}return scale.invert=function(y){return new Date(invert(y))},scale.domain=function(_){return arguments.length?domain(array_map.call(_,time_number)):domain().map(time_date)},scale.ticks=function(interval,step){var t,d=domain(),t0=d[0],t1=d[d.length-1],r=t1<t0;return r&&(t=t0,t0=t1,t1=t),t=(t=tickInterval(interval,t0,t1,step))?t.range(t0,t1+1):[],r?t.reverse():t},scale.tickFormat=function(count,specifier){return null==specifier?tickFormat:format(specifier)},scale.nice=function(interval,step){var d=domain();return(interval=tickInterval(interval,d[0],d[d.length-1],step))?domain(nice(d,interval)):scale},scale.copy=function(){return copy(scale,calendar(year,month,week,day,hour,minute,second,millisecond,format))},scale}function time(){return initRange.apply(calendar(src_year,src_month,sunday,src_day,src_hour,src_minute,src_second,src_millisecond,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var utcMonth=newInterval((function(date){date.setUTCDate(1),date.setUTCHours(0,0,0,0)}),(function(date,step){date.setUTCMonth(date.getUTCMonth()+step)}),(function(start,end){return end.getUTCMonth()-start.getUTCMonth()+12*(end.getUTCFullYear()-start.getUTCFullYear())}),(function(date){return date.getUTCMonth()}));const src_utcMonth=utcMonth;var utcMonths=utcMonth.range,utcHour=newInterval((function(date){date.setUTCMinutes(0,0,0)}),(function(date,step){date.setTime(+date+36e5*step)}),(function(start,end){return(end-start)/36e5}),(function(date){return date.getUTCHours()}));const src_utcHour=utcHour;var utcHours=utcHour.range,utcMinute=newInterval((function(date){date.setUTCSeconds(0,0)}),(function(date,step){date.setTime(+date+6e4*step)}),(function(start,end){return(end-start)/6e4}),(function(date){return date.getUTCMinutes()}));const src_utcMinute=utcMinute;var utcMinutes=utcMinute.range;function utcTime(){return initRange.apply(calendar(src_utcYear,src_utcMonth,utcSunday,src_utcDay,src_utcHour,src_utcMinute,src_second,src_millisecond,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sequential_transformer(){var t0,t1,k10,transform,unknown,x0=0,x1=1,interpolator=continuous_identity,clamp=!1;function scale(x){return isNaN(x=+x)?unknown:interpolator(0===k10?.5:(x=(transform(x)-t0)*k10,clamp?Math.max(0,Math.min(1,x)):x))}return scale.domain=function(_){return arguments.length?(t0=transform(x0=+_[0]),t1=transform(x1=+_[1]),k10=t0===t1?0:1/(t1-t0),scale):[x0,x1]},scale.clamp=function(_){return arguments.length?(clamp=!!_,scale):clamp},scale.interpolator=function(_){return arguments.length?(interpolator=_,scale):interpolator},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},function(t){return transform=t,t0=t(x0),t1=t(x1),k10=t0===t1?0:1/(t1-t0),scale}}function sequential_copy(source,target){return target.domain(source.domain()).interpolator(source.interpolator()).clamp(source.clamp()).unknown(source.unknown())}function sequential(){var scale=linearish(sequential_transformer()(continuous_identity));return scale.copy=function(){return sequential_copy(scale,sequential())},initInterpolator.apply(scale,arguments)}function sequentialLog(){var scale=loggish(sequential_transformer()).domain([1,10]);return scale.copy=function(){return sequential_copy(scale,sequentialLog()).base(scale.base())},initInterpolator.apply(scale,arguments)}function sequentialSymlog(){var scale=symlogish(sequential_transformer());return scale.copy=function(){return sequential_copy(scale,sequentialSymlog()).constant(scale.constant())},initInterpolator.apply(scale,arguments)}function sequentialPow(){var scale=powish(sequential_transformer());return scale.copy=function(){return sequential_copy(scale,sequentialPow()).exponent(scale.exponent())},initInterpolator.apply(scale,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var domain=[],interpolator=continuous_identity;function scale(x){if(!isNaN(x=+x))return interpolator((bisect(domain,x)-1)/(domain.length-1))}return scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[];for(var d,i=0,n=_.length;i<n;++i)null==(d=_[i])||isNaN(d=+d)||domain.push(d);return domain.sort(ascending),scale},scale.interpolator=function(_){return arguments.length?(interpolator=_,scale):interpolator},scale.copy=function(){return sequentialQuantile(interpolator).domain(domain)},initInterpolator.apply(scale,arguments)}function diverging_transformer(){var t0,t1,t2,k10,k21,transform,unknown,x0=0,x1=.5,x2=1,interpolator=continuous_identity,clamp=!1;function scale(x){return isNaN(x=+x)?unknown:(x=.5+((x=+transform(x))-t1)*(x<t1?k10:k21),interpolator(clamp?Math.max(0,Math.min(1,x)):x))}return scale.domain=function(_){return arguments.length?(t0=transform(x0=+_[0]),t1=transform(x1=+_[1]),t2=transform(x2=+_[2]),k10=t0===t1?0:.5/(t1-t0),k21=t1===t2?0:.5/(t2-t1),scale):[x0,x1,x2]},scale.clamp=function(_){return arguments.length?(clamp=!!_,scale):clamp},scale.interpolator=function(_){return arguments.length?(interpolator=_,scale):interpolator},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},function(t){return transform=t,t0=t(x0),t1=t(x1),t2=t(x2),k10=t0===t1?0:.5/(t1-t0),k21=t1===t2?0:.5/(t2-t1),scale}}function diverging(){var scale=linearish(diverging_transformer()(continuous_identity));return scale.copy=function(){return sequential_copy(scale,diverging())},initInterpolator.apply(scale,arguments)}function divergingLog(){var scale=loggish(diverging_transformer()).domain([.1,1,10]);return scale.copy=function(){return sequential_copy(scale,divergingLog()).base(scale.base())},initInterpolator.apply(scale,arguments)}function divergingSymlog(){var scale=symlogish(diverging_transformer());return scale.copy=function(){return sequential_copy(scale,divergingSymlog()).constant(scale.constant())},initInterpolator.apply(scale,arguments)}function divergingPow(){var scale=powish(diverging_transformer());return scale.copy=function(){return sequential_copy(scale,divergingPow()).exponent(scale.exponent())},initInterpolator.apply(scale,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}function colors(specifier){for(var n=specifier.length/6|0,colors=new Array(n),i=0;i<n;)colors[i]="#"+specifier.slice(6*i,6*++i);return colors}const category10=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Accent=colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Dark2=colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Paired=colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Pastel1=colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Pastel2=colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Set1=colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Set2=colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Set3=colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Tableau10=colors("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function ramp(scheme){return rgbBasis(scheme[scheme.length-1])}var scheme=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors);const BrBG=ramp(scheme);var PRGn_scheme=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors);const PRGn=ramp(PRGn_scheme);var PiYG_scheme=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors);const PiYG=ramp(PiYG_scheme);var PuOr_scheme=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors);const PuOr=ramp(PuOr_scheme);var RdBu_scheme=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors);const RdBu=ramp(RdBu_scheme);var RdGy_scheme=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors);const RdGy=ramp(RdGy_scheme);var RdYlBu_scheme=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors);const RdYlBu=ramp(RdYlBu_scheme);var RdYlGn_scheme=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors);const RdYlGn=ramp(RdYlGn_scheme);var Spectral_scheme=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors);const Spectral=ramp(Spectral_scheme);var BuGn_scheme=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors);const BuGn=ramp(BuGn_scheme);var BuPu_scheme=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors);const BuPu=ramp(BuPu_scheme);var GnBu_scheme=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors);const GnBu=ramp(GnBu_scheme);var OrRd_scheme=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors);const OrRd=ramp(OrRd_scheme);var PuBuGn_scheme=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors);const PuBuGn=ramp(PuBuGn_scheme);var PuBu_scheme=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors);const PuBu=ramp(PuBu_scheme);var PuRd_scheme=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors);const PuRd=ramp(PuRd_scheme);var RdPu_scheme=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors);const RdPu=ramp(RdPu_scheme);var YlGnBu_scheme=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors);const YlGnBu=ramp(YlGnBu_scheme);var YlGn_scheme=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors);const YlGn=ramp(YlGn_scheme);var YlOrBr_scheme=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors);const YlOrBr=ramp(YlOrBr_scheme);var YlOrRd_scheme=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors);const YlOrRd=ramp(YlOrRd_scheme);var Blues_scheme=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors);const Blues=ramp(Blues_scheme);var Greens_scheme=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors);const Greens=ramp(Greens_scheme);var Greys_scheme=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors);const Greys=ramp(Greys_scheme);var Purples_scheme=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors);const Purples=ramp(Purples_scheme);var Reds_scheme=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors);const Reds=ramp(Reds_scheme);var Oranges_scheme=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors);const Oranges=ramp(Oranges_scheme);function cividis(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const sequential_multi_cubehelix=cubehelixLong(cubehelix_cubehelix(300,.5,0),cubehelix_cubehelix(-240,.5,1));var warm=cubehelixLong(cubehelix_cubehelix(-100,.75,.35),cubehelix_cubehelix(80,1.5,.8)),cool=cubehelixLong(cubehelix_cubehelix(260,.75,.35),cubehelix_cubehelix(80,1.5,.8)),c=cubehelix_cubehelix();function rainbow(t){(t<0||t>1)&&(t-=Math.floor(t));var ts=Math.abs(t-.5);return c.h=360*t-100,c.s=1.5-1.5*ts,c.l=.8-.9*ts,c+""}var sinebow_c=color_rgb(),pi_1_3=Math.PI/3,pi_2_3=2*Math.PI/3;function sinebow(t){var x;return t=(.5-t)*Math.PI,sinebow_c.r=255*(x=Math.sin(t))*x,sinebow_c.g=255*(x=Math.sin(t+pi_1_3))*x,sinebow_c.b=255*(x=Math.sin(t+pi_2_3))*x,sinebow_c+""}function turbo(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function viridis_ramp(range){var n=range.length;return function(t){return range[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}const viridis=viridis_ramp(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var magma=viridis_ramp(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),inferno=viridis_ramp(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),plasma=viridis_ramp(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function src_create(name){return src_select(creator(name).call(document.documentElement))}var nextId=0;function local_local(){return new Local}function Local(){this._="@"+(++nextId).toString(36)}function src_selectAll(selector){return"string"==typeof selector?new Selection([document.querySelectorAll(selector)],[document.documentElement]):new Selection([null==selector?[]:selector],root)}function touches(node,touches){null==touches&&(touches=sourceEvent().touches);for(var i=0,n=touches?touches.length:0,points=new Array(n);i<n;++i)points[i]=point(node,touches[i]);return points}function d3_shape_src_constant(x){return function constant(){return x}}Local.prototype=local_local.prototype={constructor:Local,get:function(node){for(var id=this._;!(id in node);)if(!(node=node.parentNode))return;return node[id]},set:function(node,value){return node[this._]=value},remove:function(node){return this._ in node&&delete node[this._]},toString:function(){return this._}};var math_abs=Math.abs,math_atan2=Math.atan2,src_math_cos=Math.cos,src_math_max=Math.max,math_min=Math.min,src_math_sin=Math.sin,math_sqrt=Math.sqrt,src_math_epsilon=1e-12,src_math_pi=Math.PI,src_math_halfPi=src_math_pi/2,src_math_tau=2*src_math_pi;function math_asin(x){return x>=1?src_math_halfPi:x<=-1?-src_math_halfPi:Math.asin(x)}function arcInnerRadius(d){return d.innerRadius}function arcOuterRadius(d){return d.outerRadius}function arcStartAngle(d){return d.startAngle}function arcEndAngle(d){return d.endAngle}function arcPadAngle(d){return d&&d.padAngle}function cornerTangents(x0,y0,x1,y1,r1,rc,cw){var x01=x0-x1,y01=y0-y1,lo=(cw?rc:-rc)/math_sqrt(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x11=x0+ox,y11=y0+oy,x10=x1+ox,y10=y1+oy,x00=(x11+x10)/2,y00=(y11+y10)/2,dx=x10-x11,dy=y10-y11,d2=dx*dx+dy*dy,r=r1-rc,D=x11*y10-x10*y11,d=(dy<0?-1:1)*math_sqrt(src_math_max(0,r*r*d2-D*D)),cx0=(D*dy-dx*d)/d2,cy0=(-D*dx-dy*d)/d2,cx1=(D*dy+dx*d)/d2,cy1=(-D*dx+dy*d)/d2,dx0=cx0-x00,dy0=cy0-y00,dx1=cx1-x00,dy1=cy1-y00;return dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1&&(cx0=cx1,cy0=cy1),{cx:cx0,cy:cy0,x01:-ox,y01:-oy,x11:cx0*(r1/r-1),y11:cy0*(r1/r-1)}}function arc(){var innerRadius=arcInnerRadius,outerRadius=arcOuterRadius,cornerRadius=d3_shape_src_constant(0),padRadius=null,startAngle=arcStartAngle,endAngle=arcEndAngle,padAngle=arcPadAngle,context=null;function arc(){var buffer,r,r0=+innerRadius.apply(this,arguments),r1=+outerRadius.apply(this,arguments),a0=startAngle.apply(this,arguments)-src_math_halfPi,a1=endAngle.apply(this,arguments)-src_math_halfPi,da=math_abs(a1-a0),cw=a1>a0;if(context||(context=buffer=src_path()),r1<r0&&(r=r1,r1=r0,r0=r),r1>src_math_epsilon)if(da>src_math_tau-src_math_epsilon)context.moveTo(r1*src_math_cos(a0),r1*src_math_sin(a0)),context.arc(0,0,r1,a0,a1,!cw),r0>src_math_epsilon&&(context.moveTo(r0*src_math_cos(a1),r0*src_math_sin(a1)),context.arc(0,0,r0,a1,a0,cw));else{var t0,t1,a01=a0,a11=a1,a00=a0,a10=a1,da0=da,da1=da,ap=padAngle.apply(this,arguments)/2,rp=ap>src_math_epsilon&&(padRadius?+padRadius.apply(this,arguments):math_sqrt(r0*r0+r1*r1)),rc=math_min(math_abs(r1-r0)/2,+cornerRadius.apply(this,arguments)),rc0=rc,rc1=rc;if(rp>src_math_epsilon){var p0=math_asin(rp/r0*src_math_sin(ap)),p1=math_asin(rp/r1*src_math_sin(ap));(da0-=2*p0)>src_math_epsilon?(a00+=p0*=cw?1:-1,a10-=p0):(da0=0,a00=a10=(a0+a1)/2),(da1-=2*p1)>src_math_epsilon?(a01+=p1*=cw?1:-1,a11-=p1):(da1=0,a01=a11=(a0+a1)/2)}var x01=r1*src_math_cos(a01),y01=r1*src_math_sin(a01),x10=r0*src_math_cos(a10),y10=r0*src_math_sin(a10);if(rc>src_math_epsilon){var oc,x11=r1*src_math_cos(a11),y11=r1*src_math_sin(a11),x00=r0*src_math_cos(a00),y00=r0*src_math_sin(a00);if(da<src_math_pi&&(oc=function intersect(x0,y0,x1,y1,x2,y2,x3,y3){var x10=x1-x0,y10=y1-y0,x32=x3-x2,y32=y3-y2,t=y32*x10-x32*y10;if(!(t*t<src_math_epsilon))return[x0+(t=(x32*(y0-y2)-y32*(x0-x2))/t)*x10,y0+t*y10]}(x01,y01,x00,y00,x11,y11,x10,y10))){var ax=x01-oc[0],ay=y01-oc[1],bx=x11-oc[0],by=y11-oc[1],kc=1/src_math_sin(function math_acos(x){return x>1?0:x<-1?src_math_pi:Math.acos(x)}((ax*bx+ay*by)/(math_sqrt(ax*ax+ay*ay)*math_sqrt(bx*bx+by*by)))/2),lc=math_sqrt(oc[0]*oc[0]+oc[1]*oc[1]);rc0=math_min(rc,(r0-lc)/(kc-1)),rc1=math_min(rc,(r1-lc)/(kc+1))}}da1>src_math_epsilon?rc1>src_math_epsilon?(t0=cornerTangents(x00,y00,x01,y01,r1,rc1,cw),t1=cornerTangents(x11,y11,x10,y10,r1,rc1,cw),context.moveTo(t0.cx+t0.x01,t0.cy+t0.y01),rc1<rc?context.arc(t0.cx,t0.cy,rc1,math_atan2(t0.y01,t0.x01),math_atan2(t1.y01,t1.x01),!cw):(context.arc(t0.cx,t0.cy,rc1,math_atan2(t0.y01,t0.x01),math_atan2(t0.y11,t0.x11),!cw),context.arc(0,0,r1,math_atan2(t0.cy+t0.y11,t0.cx+t0.x11),math_atan2(t1.cy+t1.y11,t1.cx+t1.x11),!cw),context.arc(t1.cx,t1.cy,rc1,math_atan2(t1.y11,t1.x11),math_atan2(t1.y01,t1.x01),!cw))):(context.moveTo(x01,y01),context.arc(0,0,r1,a01,a11,!cw)):context.moveTo(x01,y01),r0>src_math_epsilon&&da0>src_math_epsilon?rc0>src_math_epsilon?(t0=cornerTangents(x10,y10,x11,y11,r0,-rc0,cw),t1=cornerTangents(x01,y01,x00,y00,r0,-rc0,cw),context.lineTo(t0.cx+t0.x01,t0.cy+t0.y01),rc0<rc?context.arc(t0.cx,t0.cy,rc0,math_atan2(t0.y01,t0.x01),math_atan2(t1.y01,t1.x01),!cw):(context.arc(t0.cx,t0.cy,rc0,math_atan2(t0.y01,t0.x01),math_atan2(t0.y11,t0.x11),!cw),context.arc(0,0,r0,math_atan2(t0.cy+t0.y11,t0.cx+t0.x11),math_atan2(t1.cy+t1.y11,t1.cx+t1.x11),cw),context.arc(t1.cx,t1.cy,rc0,math_atan2(t1.y11,t1.x11),math_atan2(t1.y01,t1.x01),!cw))):context.arc(0,0,r0,a10,a00,cw):context.lineTo(x10,y10)}else context.moveTo(0,0);if(context.closePath(),buffer)return context=null,buffer+""||null}return arc.centroid=function(){var r=(+innerRadius.apply(this,arguments)+ +outerRadius.apply(this,arguments))/2,a=(+startAngle.apply(this,arguments)+ +endAngle.apply(this,arguments))/2-src_math_pi/2;return[src_math_cos(a)*r,src_math_sin(a)*r]},arc.innerRadius=function(_){return arguments.length?(innerRadius="function"==typeof _?_:d3_shape_src_constant(+_),arc):innerRadius},arc.outerRadius=function(_){return arguments.length?(outerRadius="function"==typeof _?_:d3_shape_src_constant(+_),arc):outerRadius},arc.cornerRadius=function(_){return arguments.length?(cornerRadius="function"==typeof _?_:d3_shape_src_constant(+_),arc):cornerRadius},arc.padRadius=function(_){return arguments.length?(padRadius=null==_?null:"function"==typeof _?_:d3_shape_src_constant(+_),arc):padRadius},arc.startAngle=function(_){return arguments.length?(startAngle="function"==typeof _?_:d3_shape_src_constant(+_),arc):startAngle},arc.endAngle=function(_){return arguments.length?(endAngle="function"==typeof _?_:d3_shape_src_constant(+_),arc):endAngle},arc.padAngle=function(_){return arguments.length?(padAngle="function"==typeof _?_:d3_shape_src_constant(+_),arc):padAngle},arc.context=function(_){return arguments.length?(context=null==_?null:_,arc):context},arc}function Linear(context){this._context=context}function curve_linear(context){return new Linear(context)}function point_x(p){return p[0]}function point_y(p){return p[1]}function src_line(){var x=point_x,y=point_y,defined=d3_shape_src_constant(!0),context=null,curve=curve_linear,output=null;function line(data){var i,d,buffer,n=data.length,defined0=!1;for(null==context&&(output=curve(buffer=src_path())),i=0;i<=n;++i)!(i<n&&defined(d=data[i],i,data))===defined0&&((defined0=!defined0)?output.lineStart():output.lineEnd()),defined0&&output.point(+x(d,i,data),+y(d,i,data));if(buffer)return output=null,buffer+""||null}return line.x=function(_){return arguments.length?(x="function"==typeof _?_:d3_shape_src_constant(+_),line):x},line.y=function(_){return arguments.length?(y="function"==typeof _?_:d3_shape_src_constant(+_),line):y},line.defined=function(_){return arguments.length?(defined="function"==typeof _?_:d3_shape_src_constant(!!_),line):defined},line.curve=function(_){return arguments.length?(curve=_,null!=context&&(output=curve(context)),line):curve},line.context=function(_){return arguments.length?(null==_?context=output=null:output=curve(context=_),line):context},line}function d3_shape_src_area(){var x0=point_x,x1=null,y0=d3_shape_src_constant(0),y1=point_y,defined=d3_shape_src_constant(!0),context=null,curve=curve_linear,output=null;function area(data){var i,j,k,d,buffer,n=data.length,defined0=!1,x0z=new Array(n),y0z=new Array(n);for(null==context&&(output=curve(buffer=src_path())),i=0;i<=n;++i){if(!(i<n&&defined(d=data[i],i,data))===defined0)if(defined0=!defined0)j=i,output.areaStart(),output.lineStart();else{for(output.lineEnd(),output.lineStart(),k=i-1;k>=j;--k)output.point(x0z[k],y0z[k]);output.lineEnd(),output.areaEnd()}defined0&&(x0z[i]=+x0(d,i,data),y0z[i]=+y0(d,i,data),output.point(x1?+x1(d,i,data):x0z[i],y1?+y1(d,i,data):y0z[i]))}if(buffer)return output=null,buffer+""||null}function arealine(){return src_line().defined(defined).curve(curve).context(context)}return area.x=function(_){return arguments.length?(x0="function"==typeof _?_:d3_shape_src_constant(+_),x1=null,area):x0},area.x0=function(_){return arguments.length?(x0="function"==typeof _?_:d3_shape_src_constant(+_),area):x0},area.x1=function(_){return arguments.length?(x1=null==_?null:"function"==typeof _?_:d3_shape_src_constant(+_),area):x1},area.y=function(_){return arguments.length?(y0="function"==typeof _?_:d3_shape_src_constant(+_),y1=null,area):y0},area.y0=function(_){return arguments.length?(y0="function"==typeof _?_:d3_shape_src_constant(+_),area):y0},area.y1=function(_){return arguments.length?(y1=null==_?null:"function"==typeof _?_:d3_shape_src_constant(+_),area):y1},area.lineX0=area.lineY0=function(){return arealine().x(x0).y(y0)},area.lineY1=function(){return arealine().x(x0).y(y1)},area.lineX1=function(){return arealine().x(x1).y(y0)},area.defined=function(_){return arguments.length?(defined="function"==typeof _?_:d3_shape_src_constant(!!_),area):defined},area.curve=function(_){return arguments.length?(curve=_,null!=context&&(output=curve(context)),area):curve},area.context=function(_){return arguments.length?(null==_?context=output=null:output=curve(context=_),area):context},area}function src_descending(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function d3_shape_src_identity(d){return d}function pie(){var value=d3_shape_src_identity,sortValues=src_descending,sort=null,startAngle=d3_shape_src_constant(0),endAngle=d3_shape_src_constant(src_math_tau),padAngle=d3_shape_src_constant(0);function pie(data){var i,j,k,a1,v,n=data.length,sum=0,index=new Array(n),arcs=new Array(n),a0=+startAngle.apply(this,arguments),da=Math.min(src_math_tau,Math.max(-src_math_tau,endAngle.apply(this,arguments)-a0)),p=Math.min(Math.abs(da)/n,padAngle.apply(this,arguments)),pa=p*(da<0?-1:1);for(i=0;i<n;++i)(v=arcs[index[i]=i]=+value(data[i],i,data))>0&&(sum+=v);for(null!=sortValues?index.sort((function(i,j){return sortValues(arcs[i],arcs[j])})):null!=sort&&index.sort((function(i,j){return sort(data[i],data[j])})),i=0,k=sum?(da-n*pa)/sum:0;i<n;++i,a0=a1)j=index[i],a1=a0+((v=arcs[j])>0?v*k:0)+pa,arcs[j]={data:data[j],index:i,value:v,startAngle:a0,endAngle:a1,padAngle:p};return arcs}return pie.value=function(_){return arguments.length?(value="function"==typeof _?_:d3_shape_src_constant(+_),pie):value},pie.sortValues=function(_){return arguments.length?(sortValues=_,sort=null,pie):sortValues},pie.sort=function(_){return arguments.length?(sort=_,sortValues=null,pie):sort},pie.startAngle=function(_){return arguments.length?(startAngle="function"==typeof _?_:d3_shape_src_constant(+_),pie):startAngle},pie.endAngle=function(_){return arguments.length?(endAngle="function"==typeof _?_:d3_shape_src_constant(+_),pie):endAngle},pie.padAngle=function(_){return arguments.length?(padAngle="function"==typeof _?_:d3_shape_src_constant(+_),pie):padAngle},pie}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:this._context.lineTo(x,y)}}};var curveRadialLinear=curveRadial(curve_linear);function Radial(curve){this._curve=curve}function curveRadial(curve){function radial(context){return new Radial(curve(context))}return radial._curve=curve,radial}function lineRadial(l){var c=l.curve;return l.angle=l.x,delete l.x,l.radius=l.y,delete l.y,l.curve=function(_){return arguments.length?c(curveRadial(_)):c()._curve},l}function src_lineRadial(){return lineRadial(src_line().curve(curveRadialLinear))}function areaRadial(){var a=d3_shape_src_area().curve(curveRadialLinear),c=a.curve,x0=a.lineX0,x1=a.lineX1,y0=a.lineY0,y1=a.lineY1;return a.angle=a.x,delete a.x,a.startAngle=a.x0,delete a.x0,a.endAngle=a.x1,delete a.x1,a.radius=a.y,delete a.y,a.innerRadius=a.y0,delete a.y0,a.outerRadius=a.y1,delete a.y1,a.lineStartAngle=function(){return lineRadial(x0())},delete a.lineX0,a.lineEndAngle=function(){return lineRadial(x1())},delete a.lineX1,a.lineInnerRadius=function(){return lineRadial(y0())},delete a.lineY0,a.lineOuterRadius=function(){return lineRadial(y1())},delete a.lineY1,a.curve=function(_){return arguments.length?c(curveRadial(_)):c()._curve},a}function pointRadial(x,y){return[(y=+y)*Math.cos(x-=Math.PI/2),y*Math.sin(x)]}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,r){this._curve.point(r*Math.sin(a),r*-Math.cos(a))}};var d3_shape_src_array_slice=Array.prototype.slice;function linkSource(d){return d.source}function linkTarget(d){return d.target}function link_link(curve){var source=linkSource,target=linkTarget,x=point_x,y=point_y,context=null;function link(){var buffer,argv=d3_shape_src_array_slice.call(arguments),s=source.apply(this,argv),t=target.apply(this,argv);if(context||(context=buffer=src_path()),curve(context,+x.apply(this,(argv[0]=s,argv)),+y.apply(this,argv),+x.apply(this,(argv[0]=t,argv)),+y.apply(this,argv)),buffer)return context=null,buffer+""||null}return link.source=function(_){return arguments.length?(source=_,link):source},link.target=function(_){return arguments.length?(target=_,link):target},link.x=function(_){return arguments.length?(x="function"==typeof _?_:d3_shape_src_constant(+_),link):x},link.y=function(_){return arguments.length?(y="function"==typeof _?_:d3_shape_src_constant(+_),link):y},link.context=function(_){return arguments.length?(context=null==_?null:_,link):context},link}function curveHorizontal(context,x0,y0,x1,y1){context.moveTo(x0,y0),context.bezierCurveTo(x0=(x0+x1)/2,y0,x0,y1,x1,y1)}function curveVertical(context,x0,y0,x1,y1){context.moveTo(x0,y0),context.bezierCurveTo(x0,y0=(y0+y1)/2,x1,y0,x1,y1)}function link_curveRadial(context,x0,y0,x1,y1){var p0=pointRadial(x0,y0),p1=pointRadial(x0,y0=(y0+y1)/2),p2=pointRadial(x1,y0),p3=pointRadial(x1,y1);context.moveTo(p0[0],p0[1]),context.bezierCurveTo(p1[0],p1[1],p2[0],p2[1],p3[0],p3[1])}function linkHorizontal(){return link_link(curveHorizontal)}function linkVertical(){return link_link(curveVertical)}function linkRadial(){var l=link_link(link_curveRadial);return l.angle=l.x,delete l.x,l.radius=l.y,delete l.y,l}const symbol_circle={draw:function(context,size){var r=Math.sqrt(size/src_math_pi);context.moveTo(r,0),context.arc(0,0,r,0,src_math_tau)}},symbol_cross={draw:function(context,size){var r=Math.sqrt(size/5)/2;context.moveTo(-3*r,-r),context.lineTo(-r,-r),context.lineTo(-r,-3*r),context.lineTo(r,-3*r),context.lineTo(r,-r),context.lineTo(3*r,-r),context.lineTo(3*r,r),context.lineTo(r,r),context.lineTo(r,3*r),context.lineTo(-r,3*r),context.lineTo(-r,r),context.lineTo(-3*r,r),context.closePath()}};var tan30=Math.sqrt(1/3),tan30_2=2*tan30;const diamond={draw:function(context,size){var y=Math.sqrt(size/tan30_2),x=y*tan30;context.moveTo(0,-y),context.lineTo(x,0),context.lineTo(0,y),context.lineTo(-x,0),context.closePath()}};var kr=Math.sin(src_math_pi/10)/Math.sin(7*src_math_pi/10),kx=Math.sin(src_math_tau/10)*kr,ky=-Math.cos(src_math_tau/10)*kr;const star={draw:function(context,size){var r=Math.sqrt(.8908130915292852*size),x=kx*r,y=ky*r;context.moveTo(0,-r),context.lineTo(x,y);for(var i=1;i<5;++i){var a=src_math_tau*i/5,c=Math.cos(a),s=Math.sin(a);context.lineTo(s*r,-c*r),context.lineTo(c*x-s*y,s*x+c*y)}context.closePath()}},square={draw:function(context,size){var w=Math.sqrt(size),x=-w/2;context.rect(x,x,w,w)}};var sqrt3=Math.sqrt(3);const triangle={draw:function(context,size){var y=-Math.sqrt(size/(3*sqrt3));context.moveTo(0,2*y),context.lineTo(-sqrt3*y,-y),context.lineTo(sqrt3*y,-y),context.closePath()}};var s=Math.sqrt(3)/2,k=1/Math.sqrt(12),a=3*(k/2+1);const wye={draw:function(context,size){var r=Math.sqrt(size/a),x0=r/2,y0=r*k,x1=x0,y1=r*k+r,x2=-x1,y2=y1;context.moveTo(x0,y0),context.lineTo(x1,y1),context.lineTo(x2,y2),context.lineTo(-.5*x0-s*y0,s*x0+-.5*y0),context.lineTo(-.5*x1-s*y1,s*x1+-.5*y1),context.lineTo(-.5*x2-s*y2,s*x2+-.5*y2),context.lineTo(-.5*x0+s*y0,-.5*y0-s*x0),context.lineTo(-.5*x1+s*y1,-.5*y1-s*x1),context.lineTo(-.5*x2+s*y2,-.5*y2-s*x2),context.closePath()}};var symbols=[symbol_circle,symbol_cross,diamond,square,star,triangle,wye];function symbol(){var type=d3_shape_src_constant(symbol_circle),size=d3_shape_src_constant(64),context=null;function symbol(){var buffer;if(context||(context=buffer=src_path()),type.apply(this,arguments).draw(context,+size.apply(this,arguments)),buffer)return context=null,buffer+""||null}return symbol.type=function(_){return arguments.length?(type="function"==typeof _?_:d3_shape_src_constant(_),symbol):type},symbol.size=function(_){return arguments.length?(size="function"==typeof _?_:d3_shape_src_constant(+_),symbol):size},symbol.context=function(_){return arguments.length?(context=null==_?null:_,symbol):context},symbol}function d3_shape_src_noop(){}function basis_point(that,x,y){that._context.bezierCurveTo((2*that._x0+that._x1)/3,(2*that._y0+that._y1)/3,(that._x0+2*that._x1)/3,(that._y0+2*that._y1)/3,(that._x0+4*that._x1+x)/6,(that._y0+4*that._y1+y)/6)}function Basis(context){this._context=context}function curve_basis(context){return new Basis(context)}function BasisClosed(context){this._context=context}function curve_basisClosed(context){return new BasisClosed(context)}function BasisOpen(context){this._context=context}function basisOpen(context){return new BasisOpen(context)}function Bundle(context,beta){this._basis=new Basis(context),this._beta=beta}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:basis_point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:basis_point(this,x,y)}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y}},BasisClosed.prototype={areaStart:d3_shape_src_noop,areaEnd:d3_shape_src_noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._x2=x,this._y2=y;break;case 1:this._point=2,this._x3=x,this._y3=y;break;case 2:this._point=3,this._x4=x,this._y4=y,this._context.moveTo((this._x0+4*this._x1+x)/6,(this._y0+4*this._y1+y)/6);break;default:basis_point(this,x,y)}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y}},BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var x0=(this._x0+4*this._x1+x)/6,y0=(this._y0+4*this._y1+y)/6;this._line?this._context.lineTo(x0,y0):this._context.moveTo(x0,y0);break;case 3:this._point=4;default:basis_point(this,x,y)}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y}},Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var x=this._x,y=this._y,j=x.length-1;if(j>0)for(var t,x0=x[0],y0=y[0],dx=x[j]-x0,dy=y[j]-y0,i=-1;++i<=j;)t=i/j,this._basis.point(this._beta*x[i]+(1-this._beta)*(x0+t*dx),this._beta*y[i]+(1-this._beta)*(y0+t*dy));this._x=this._y=null,this._basis.lineEnd()},point:function(x,y){this._x.push(+x),this._y.push(+y)}};const bundle=function custom(beta){function bundle(context){return 1===beta?new Basis(context):new Bundle(context,beta)}return bundle.beta=function(beta){return custom(+beta)},bundle}(.85);function cardinal_point(that,x,y){that._context.bezierCurveTo(that._x1+that._k*(that._x2-that._x0),that._y1+that._k*(that._y2-that._y0),that._x2+that._k*(that._x1-x),that._y2+that._k*(that._y1-y),that._x2,that._y2)}function Cardinal(context,tension){this._context=context,this._k=(1-tension)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cardinal_point(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2,this._x1=x,this._y1=y;break;case 2:this._point=3;default:cardinal_point(this,x,y)}this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const cardinal=function custom(tension){function cardinal(context){return new Cardinal(context,tension)}return cardinal.tension=function(tension){return custom(+tension)},cardinal}(0);function CardinalClosed(context,tension){this._context=context,this._k=(1-tension)/6}CardinalClosed.prototype={areaStart:d3_shape_src_noop,areaEnd:d3_shape_src_noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._x3=x,this._y3=y;break;case 1:this._point=2,this._context.moveTo(this._x4=x,this._y4=y);break;case 2:this._point=3,this._x5=x,this._y5=y;break;default:cardinal_point(this,x,y)}this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const cardinalClosed=function custom(tension){function cardinal(context){return new CardinalClosed(context,tension)}return cardinal.tension=function(tension){return custom(+tension)},cardinal}(0);function CardinalOpen(context,tension){this._context=context,this._k=(1-tension)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cardinal_point(this,x,y)}this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const cardinalOpen=function custom(tension){function cardinal(context){return new CardinalOpen(context,tension)}return cardinal.tension=function(tension){return custom(+tension)},cardinal}(0);function catmullRom_point(that,x,y){var x1=that._x1,y1=that._y1,x2=that._x2,y2=that._y2;if(that._l01_a>src_math_epsilon){var a=2*that._l01_2a+3*that._l01_a*that._l12_a+that._l12_2a,n=3*that._l01_a*(that._l01_a+that._l12_a);x1=(x1*a-that._x0*that._l12_2a+that._x2*that._l01_2a)/n,y1=(y1*a-that._y0*that._l12_2a+that._y2*that._l01_2a)/n}if(that._l23_a>src_math_epsilon){var b=2*that._l23_2a+3*that._l23_a*that._l12_a+that._l12_2a,m=3*that._l23_a*(that._l23_a+that._l12_a);x2=(x2*b+that._x1*that._l23_2a-x*that._l12_2a)/m,y2=(y2*b+that._y1*that._l23_2a-y*that._l12_2a)/m}that._context.bezierCurveTo(x1,y1,x2,y2,that._x2,that._y2)}function CatmullRom(context,alpha){this._context=context,this._alpha=alpha}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){if(x=+x,y=+y,this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3;default:catmullRom_point(this,x,y)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const catmullRom=function custom(alpha){function catmullRom(context){return alpha?new CatmullRom(context,alpha):new Cardinal(context,0)}return catmullRom.alpha=function(alpha){return custom(+alpha)},catmullRom}(.5);function CatmullRomClosed(context,alpha){this._context=context,this._alpha=alpha}CatmullRomClosed.prototype={areaStart:d3_shape_src_noop,areaEnd:d3_shape_src_noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(x,y){if(x=+x,y=+y,this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=x,this._y3=y;break;case 1:this._point=2,this._context.moveTo(this._x4=x,this._y4=y);break;case 2:this._point=3,this._x5=x,this._y5=y;break;default:catmullRom_point(this,x,y)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const catmullRomClosed=function custom(alpha){function catmullRom(context){return alpha?new CatmullRomClosed(context,alpha):new CardinalClosed(context,0)}return catmullRom.alpha=function(alpha){return custom(+alpha)},catmullRom}(.5);function CatmullRomOpen(context,alpha){this._context=context,this._alpha=alpha}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){if(x=+x,y=+y,this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:catmullRom_point(this,x,y)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const catmullRomOpen=function custom(alpha){function catmullRom(context){return alpha?new CatmullRomOpen(context,alpha):new CardinalOpen(context,0)}return catmullRom.alpha=function(alpha){return custom(+alpha)},catmullRom}(.5);function LinearClosed(context){this._context=context}function linearClosed(context){return new LinearClosed(context)}function monotone_sign(x){return x<0?-1:1}function slope3(that,x2,y2){var h0=that._x1-that._x0,h1=x2-that._x1,s0=(that._y1-that._y0)/(h0||h1<0&&-0),s1=(y2-that._y1)/(h1||h0<0&&-0),p=(s0*h1+s1*h0)/(h0+h1);return(monotone_sign(s0)+monotone_sign(s1))*Math.min(Math.abs(s0),Math.abs(s1),.5*Math.abs(p))||0}function slope2(that,t){var h=that._x1-that._x0;return h?(3*(that._y1-that._y0)/h-t)/2:t}function monotone_point(that,t0,t1){var x0=that._x0,y0=that._y0,x1=that._x1,y1=that._y1,dx=(x1-x0)/3;that._context.bezierCurveTo(x0+dx,y0+dx*t0,x1-dx,y1-dx*t1,x1,y1)}function MonotoneX(context){this._context=context}function MonotoneY(context){this._context=new ReflectContext(context)}function ReflectContext(context){this._context=context}function monotoneX(context){return new MonotoneX(context)}function monotoneY(context){return new MonotoneY(context)}function Natural(context){this._context=context}function controlPoints(x){var i,m,n=x.length-1,a=new Array(n),b=new Array(n),r=new Array(n);for(a[0]=0,b[0]=2,r[0]=x[0]+2*x[1],i=1;i<n-1;++i)a[i]=1,b[i]=4,r[i]=4*x[i]+2*x[i+1];for(a[n-1]=2,b[n-1]=7,r[n-1]=8*x[n-1]+x[n],i=1;i<n;++i)m=a[i]/b[i-1],b[i]-=m,r[i]-=m*r[i-1];for(a[n-1]=r[n-1]/b[n-1],i=n-2;i>=0;--i)a[i]=(r[i]-a[i+1])/b[i];for(b[n-1]=(x[n]+a[n-1])/2,i=0;i<n-1;++i)b[i]=2*x[i+1]-a[i+1];return[a,b]}function natural(context){return new Natural(context)}function Step(context,t){this._context=context,this._t=t}function step(context){return new Step(context,.5)}function stepBefore(context){return new Step(context,0)}function stepAfter(context){return new Step(context,1)}function offset_none(series,order){if((n=series.length)>1)for(var j,s0,n,i=1,s1=series[order[0]],m=s1.length;i<n;++i)for(s0=s1,s1=series[order[i]],j=0;j<m;++j)s1[j][1]+=s1[j][0]=isNaN(s0[j][1])?s0[j][0]:s0[j][1]}function order_none(series){for(var n=series.length,o=new Array(n);--n>=0;)o[n]=n;return o}function stackValue(d,key){return d[key]}function stack(){var keys=d3_shape_src_constant([]),order=order_none,offset=offset_none,value=stackValue;function stack(data){var i,oz,kz=keys.apply(this,arguments),m=data.length,n=kz.length,sz=new Array(n);for(i=0;i<n;++i){for(var sij,ki=kz[i],si=sz[i]=new Array(m),j=0;j<m;++j)si[j]=sij=[0,+value(data[j],ki,j,data)],sij.data=data[j];si.key=ki}for(i=0,oz=order(sz);i<n;++i)sz[oz[i]].index=i;return offset(sz,oz),sz}return stack.keys=function(_){return arguments.length?(keys="function"==typeof _?_:d3_shape_src_constant(d3_shape_src_array_slice.call(_)),stack):keys},stack.value=function(_){return arguments.length?(value="function"==typeof _?_:d3_shape_src_constant(+_),stack):value},stack.order=function(_){return arguments.length?(order=null==_?order_none:"function"==typeof _?_:d3_shape_src_constant(d3_shape_src_array_slice.call(_)),stack):order},stack.offset=function(_){return arguments.length?(offset=null==_?offset_none:_,stack):offset},stack}function expand(series,order){if((n=series.length)>0){for(var i,n,y,j=0,m=series[0].length;j<m;++j){for(y=i=0;i<n;++i)y+=series[i][j][1]||0;if(y)for(i=0;i<n;++i)series[i][j][1]/=y}offset_none(series,order)}}function offset_diverging(series,order){if((n=series.length)>0)for(var i,d,dy,yp,yn,n,j=0,m=series[order[0]].length;j<m;++j)for(yp=yn=0,i=0;i<n;++i)(dy=(d=series[order[i]][j])[1]-d[0])>0?(d[0]=yp,d[1]=yp+=dy):dy<0?(d[1]=yn,d[0]=yn+=dy):(d[0]=0,d[1]=dy)}function silhouette(series,order){if((n=series.length)>0){for(var n,j=0,s0=series[order[0]],m=s0.length;j<m;++j){for(var i=0,y=0;i<n;++i)y+=series[i][j][1]||0;s0[j][1]+=s0[j][0]=-y/2}offset_none(series,order)}}function wiggle(series,order){if((n=series.length)>0&&(m=(s0=series[order[0]]).length)>0){for(var s0,m,n,y=0,j=1;j<m;++j){for(var i=0,s1=0,s2=0;i<n;++i){for(var si=series[order[i]],sij0=si[j][1]||0,s3=(sij0-(si[j-1][1]||0))/2,k=0;k<i;++k){var sk=series[order[k]];s3+=(sk[j][1]||0)-(sk[j-1][1]||0)}s1+=sij0,s2+=s3*sij0}s0[j-1][1]+=s0[j-1][0]=y,s1&&(y-=s2/s1)}s0[j-1][1]+=s0[j-1][0]=y,offset_none(series,order)}}function appearance(series){var peaks=series.map(peak);return order_none(series).sort((function(a,b){return peaks[a]-peaks[b]}))}function peak(series){for(var vi,i=-1,j=0,n=series.length,vj=-1/0;++i<n;)(vi=+series[i][1])>vj&&(vj=vi,j=i);return j}function order_ascending(series){var sums=series.map(ascending_sum);return order_none(series).sort((function(a,b){return sums[a]-sums[b]}))}function ascending_sum(series){for(var v,s=0,i=-1,n=series.length;++i<n;)(v=+series[i][1])&&(s+=v);return s}function order_descending(series){return order_ascending(series).reverse()}function insideOut(series){var i,j,n=series.length,sums=series.map(ascending_sum),order=appearance(series),top=0,bottom=0,tops=[],bottoms=[];for(i=0;i<n;++i)j=order[i],top<bottom?(top+=sums[j],tops.push(j)):(bottom+=sums[j],bottoms.push(j));return bottoms.reverse().concat(tops)}function reverse(series){return order_none(series).reverse()}LinearClosed.prototype={areaStart:d3_shape_src_noop,areaEnd:d3_shape_src_noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(x,y){x=+x,y=+y,this._point?this._context.lineTo(x,y):(this._point=1,this._context.moveTo(x,y))}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:monotone_point(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){var t1=NaN;if(y=+y,(x=+x)!==this._x1||y!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3,monotone_point(this,slope2(this,t1=slope3(this,x,y)),t1);break;default:monotone_point(this,this._t0,t1=slope3(this,x,y))}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y,this._t0=t1}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(x,y){MonotoneX.prototype.point.call(this,y,x)},ReflectContext.prototype={moveTo:function(x,y){this._context.moveTo(y,x)},closePath:function(){this._context.closePath()},lineTo:function(x,y){this._context.lineTo(y,x)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._context.bezierCurveTo(y1,x1,y2,x2,y,x)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var x=this._x,y=this._y,n=x.length;if(n)if(this._line?this._context.lineTo(x[0],y[0]):this._context.moveTo(x[0],y[0]),2===n)this._context.lineTo(x[1],y[1]);else for(var px=controlPoints(x),py=controlPoints(y),i0=0,i1=1;i1<n;++i0,++i1)this._context.bezierCurveTo(px[0][i0],py[0][i0],px[1][i0],py[1][i0],x[i1],y[i1]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(x,y){this._x.push(+x),this._y.push(+y)}},Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,y),this._context.lineTo(x,y);else{var x1=this._x*(1-this._t)+x*this._t;this._context.lineTo(x1,this._y),this._context.lineTo(x1,y)}}this._x=x,this._y=y}};var formatIso=Date.prototype.toISOString?function formatIsoNative(date){return date.toISOString()}:utcFormat("%Y-%m-%dT%H:%M:%S.%LZ");const isoFormat=formatIso;var parseIso=+new Date("2000-01-01T00:00:00.000Z")?function parseIsoNative(string){var date=new Date(string);return isNaN(date)?null:date}:utcParse("%Y-%m-%dT%H:%M:%S.%LZ");const isoParse=parseIso;function src_interval(callback,delay,time){var t=new Timer,total=delay;return null==delay?(t.restart(callback,delay,time),t):(delay=+delay,time=null==time?now():+time,t.restart((function tick(elapsed){elapsed+=total,t.restart(tick,total+=delay,time),callback(elapsed)}),delay,time),t)}function d3_voronoi_src_constant(x){return function(){return x}}function src_point_x(d){return d[0]}function src_point_y(d){return d[1]}function RedBlackTree(){this._=null}function RedBlackNode(node){node.U=node.C=node.L=node.R=node.P=node.N=null}function RedBlackRotateLeft(tree,node){var p=node,q=node.R,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.R=q.L,p.R&&(p.R.U=p),q.L=p}function RedBlackRotateRight(tree,node){var p=node,q=node.L,parent=p.U;parent?parent.L===p?parent.L=q:parent.R=q:tree._=q,q.U=parent,p.U=q,p.L=q.R,p.L&&(p.L.U=p),q.R=p}function RedBlackFirst(node){for(;node.L;)node=node.L;return node}RedBlackTree.prototype={constructor:RedBlackTree,insert:function(after,node){var parent,grandpa,uncle;if(after){if(node.P=after,node.N=after.N,after.N&&(after.N.P=node),after.N=node,after.R){for(after=after.R;after.L;)after=after.L;after.L=node}else after.R=node;parent=after}else this._?(after=RedBlackFirst(this._),node.P=null,node.N=after,after.P=after.L=node,parent=after):(node.P=node.N=null,this._=node,parent=null);for(node.L=node.R=null,node.U=parent,node.C=!0,after=node;parent&&parent.C;)parent===(grandpa=parent.U).L?(uncle=grandpa.R)&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.R&&(RedBlackRotateLeft(this,parent),parent=(after=parent).U),parent.C=!1,grandpa.C=!0,RedBlackRotateRight(this,grandpa)):(uncle=grandpa.L)&&uncle.C?(parent.C=uncle.C=!1,grandpa.C=!0,after=grandpa):(after===parent.L&&(RedBlackRotateRight(this,parent),parent=(after=parent).U),parent.C=!1,grandpa.C=!0,RedBlackRotateLeft(this,grandpa)),parent=after.U;this._.C=!1},remove:function(node){node.N&&(node.N.P=node.P),node.P&&(node.P.N=node.N),node.N=node.P=null;var sibling,next,red,parent=node.U,left=node.L,right=node.R;if(next=left?right?RedBlackFirst(right):left:right,parent?parent.L===node?parent.L=next:parent.R=next:this._=next,left&&right?(red=next.C,next.C=node.C,next.L=left,left.U=next,next!==right?(parent=next.U,next.U=node.U,node=next.R,parent.L=node,next.R=right,right.U=next):(next.U=parent,parent=next,node=next.R)):(red=node.C,node=next),node&&(node.U=parent),!red)if(node&&node.C)node.C=!1;else{do{if(node===this._)break;if(node===parent.L){if((sibling=parent.R).C&&(sibling.C=!1,parent.C=!0,RedBlackRotateLeft(this,parent),sibling=parent.R),sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){sibling.R&&sibling.R.C||(sibling.L.C=!1,sibling.C=!0,RedBlackRotateRight(this,sibling),sibling=parent.R),sibling.C=parent.C,parent.C=sibling.R.C=!1,RedBlackRotateLeft(this,parent),node=this._;break}}else if((sibling=parent.L).C&&(sibling.C=!1,parent.C=!0,RedBlackRotateRight(this,parent),sibling=parent.L),sibling.L&&sibling.L.C||sibling.R&&sibling.R.C){sibling.L&&sibling.L.C||(sibling.R.C=!1,sibling.C=!0,RedBlackRotateLeft(this,sibling),sibling=parent.L),sibling.C=parent.C,parent.C=sibling.L.C=!1,RedBlackRotateRight(this,parent),node=this._;break}sibling.C=!0,node=parent,parent=parent.U}while(!node.C);node&&(node.C=!1)}}};const src_RedBlackTree=RedBlackTree;function createEdge(left,right,v0,v1){var edge=[null,null],index=edges.push(edge)-1;return edge.left=left,edge.right=right,v0&&setEdgeEnd(edge,left,right,v0),v1&&setEdgeEnd(edge,right,left,v1),cells[left.index].halfedges.push(index),cells[right.index].halfedges.push(index),edge}function createBorderEdge(left,v0,v1){var edge=[v0,v1];return edge.left=left,edge}function setEdgeEnd(edge,left,right,vertex){edge[0]||edge[1]?edge.left===right?edge[1]=vertex:edge[0]=vertex:(edge[0]=vertex,edge.left=left,edge.right=right)}function clipEdge(edge,x0,y0,x1,y1){var r,a=edge[0],b=edge[1],ax=a[0],ay=a[1],t0=0,t1=1,dx=b[0]-ax,dy=b[1]-ay;if(r=x0-ax,dx||!(r>0)){if(r/=dx,dx<0){if(r<t0)return;r<t1&&(t1=r)}else if(dx>0){if(r>t1)return;r>t0&&(t0=r)}if(r=x1-ax,dx||!(r<0)){if(r/=dx,dx<0){if(r>t1)return;r>t0&&(t0=r)}else if(dx>0){if(r<t0)return;r<t1&&(t1=r)}if(r=y0-ay,dy||!(r>0)){if(r/=dy,dy<0){if(r<t0)return;r<t1&&(t1=r)}else if(dy>0){if(r>t1)return;r>t0&&(t0=r)}if(r=y1-ay,dy||!(r<0)){if(r/=dy,dy<0){if(r>t1)return;r>t0&&(t0=r)}else if(dy>0){if(r<t0)return;r<t1&&(t1=r)}return!(t0>0||t1<1)||(t0>0&&(edge[0]=[ax+t0*dx,ay+t0*dy]),t1<1&&(edge[1]=[ax+t1*dx,ay+t1*dy]),!0)}}}}}function connectEdge(edge,x0,y0,x1,y1){var v1=edge[1];if(v1)return!0;var fm,fb,v0=edge[0],left=edge.left,right=edge.right,lx=left[0],ly=left[1],rx=right[0],ry=right[1],fx=(lx+rx)/2,fy=(ly+ry)/2;if(ry===ly){if(fx<x0||fx>=x1)return;if(lx>rx){if(v0){if(v0[1]>=y1)return}else v0=[fx,y0];v1=[fx,y1]}else{if(v0){if(v0[1]<y0)return}else v0=[fx,y1];v1=[fx,y0]}}else if(fb=fy-(fm=(lx-rx)/(ry-ly))*fx,fm<-1||fm>1)if(lx>rx){if(v0){if(v0[1]>=y1)return}else v0=[(y0-fb)/fm,y0];v1=[(y1-fb)/fm,y1]}else{if(v0){if(v0[1]<y0)return}else v0=[(y1-fb)/fm,y1];v1=[(y0-fb)/fm,y0]}else if(ly<ry){if(v0){if(v0[0]>=x1)return}else v0=[x0,fm*x0+fb];v1=[x1,fm*x1+fb]}else{if(v0){if(v0[0]<x0)return}else v0=[x1,fm*x1+fb];v1=[x0,fm*x0+fb]}return edge[0]=v0,edge[1]=v1,!0}function cellHalfedgeAngle(cell,edge){var site=cell.site,va=edge.left,vb=edge.right;return site===vb&&(vb=va,va=site),vb?Math.atan2(vb[1]-va[1],vb[0]-va[0]):(site===va?(va=edge[1],vb=edge[0]):(va=edge[0],vb=edge[1]),Math.atan2(va[0]-vb[0],vb[1]-va[1]))}function cellHalfedgeStart(cell,edge){return edge[+(edge.left!==cell.site)]}function cellHalfedgeEnd(cell,edge){return edge[+(edge.left===cell.site)]}var firstCircle,circlePool=[];function Circle(){RedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function attachCircle(arc){var lArc=arc.P,rArc=arc.N;if(lArc&&rArc){var lSite=lArc.site,cSite=arc.site,rSite=rArc.site;if(lSite!==rSite){var bx=cSite[0],by=cSite[1],ax=lSite[0]-bx,ay=lSite[1]-by,cx=rSite[0]-bx,cy=rSite[1]-by,d=2*(ax*cy-ay*cx);if(!(d>=-Diagram_epsilon2)){var ha=ax*ax+ay*ay,hc=cx*cx+cy*cy,x=(cy*ha-ay*hc)/d,y=(ax*hc-cx*ha)/d,circle=circlePool.pop()||new Circle;circle.arc=arc,circle.site=cSite,circle.x=x+bx,circle.y=(circle.cy=y+by)+Math.sqrt(x*x+y*y),arc.circle=circle;for(var before=null,node=circles._;node;)if(circle.y<node.y||circle.y===node.y&&circle.x<=node.x){if(!node.L){before=node.P;break}node=node.L}else{if(!node.R){before=node;break}node=node.R}circles.insert(before,circle),before||(firstCircle=circle)}}}}function detachCircle(arc){var circle=arc.circle;circle&&(circle.P||(firstCircle=circle.N),circles.remove(circle),circlePool.push(circle),RedBlackNode(circle),arc.circle=null)}var beachPool=[];function Beach(){RedBlackNode(this),this.edge=this.site=this.circle=null}function createBeach(site){var beach=beachPool.pop()||new Beach;return beach.site=site,beach}function detachBeach(beach){detachCircle(beach),beaches.remove(beach),beachPool.push(beach),RedBlackNode(beach)}function removeBeach(beach){var circle=beach.circle,x=circle.x,y=circle.cy,vertex=[x,y],previous=beach.P,next=beach.N,disappearing=[beach];detachBeach(beach);for(var lArc=previous;lArc.circle&&Math.abs(x-lArc.circle.x)<Diagram_epsilon&&Math.abs(y-lArc.circle.cy)<Diagram_epsilon;)previous=lArc.P,disappearing.unshift(lArc),detachBeach(lArc),lArc=previous;disappearing.unshift(lArc),detachCircle(lArc);for(var rArc=next;rArc.circle&&Math.abs(x-rArc.circle.x)<Diagram_epsilon&&Math.abs(y-rArc.circle.cy)<Diagram_epsilon;)next=rArc.N,disappearing.push(rArc),detachBeach(rArc),rArc=next;disappearing.push(rArc),detachCircle(rArc);var iArc,nArcs=disappearing.length;for(iArc=1;iArc<nArcs;++iArc)rArc=disappearing[iArc],lArc=disappearing[iArc-1],setEdgeEnd(rArc.edge,lArc.site,rArc.site,vertex);lArc=disappearing[0],(rArc=disappearing[nArcs-1]).edge=createEdge(lArc.site,rArc.site,null,vertex),attachCircle(lArc),attachCircle(rArc)}function addBeach(site){for(var lArc,rArc,dxl,dxr,x=site[0],directrix=site[1],node=beaches._;node;)if((dxl=leftBreakPoint(node,directrix)-x)>Diagram_epsilon)node=node.L;else{if(!((dxr=x-rightBreakPoint(node,directrix))>Diagram_epsilon)){dxl>-Diagram_epsilon?(lArc=node.P,rArc=node):dxr>-Diagram_epsilon?(lArc=node,rArc=node.N):lArc=rArc=node;break}if(!node.R){lArc=node;break}node=node.R}!function createCell(site){return cells[site.index]={site,halfedges:[]}}(site);var newArc=createBeach(site);if(beaches.insert(lArc,newArc),lArc||rArc){if(lArc===rArc)return detachCircle(lArc),rArc=createBeach(lArc.site),beaches.insert(newArc,rArc),newArc.edge=rArc.edge=createEdge(lArc.site,newArc.site),attachCircle(lArc),void attachCircle(rArc);if(rArc){detachCircle(lArc),detachCircle(rArc);var lSite=lArc.site,ax=lSite[0],ay=lSite[1],bx=site[0]-ax,by=site[1]-ay,rSite=rArc.site,cx=rSite[0]-ax,cy=rSite[1]-ay,d=2*(bx*cy-by*cx),hb=bx*bx+by*by,hc=cx*cx+cy*cy,vertex=[(cy*hb-by*hc)/d+ax,(bx*hc-cx*hb)/d+ay];setEdgeEnd(rArc.edge,lSite,rSite,vertex),newArc.edge=createEdge(lSite,site,null,vertex),rArc.edge=createEdge(site,rSite,null,vertex),attachCircle(lArc),attachCircle(rArc)}else newArc.edge=createEdge(lArc.site,newArc.site)}}function leftBreakPoint(arc,directrix){var site=arc.site,rfocx=site[0],rfocy=site[1],pby2=rfocy-directrix;if(!pby2)return rfocx;var lArc=arc.P;if(!lArc)return-1/0;var lfocx=(site=lArc.site)[0],lfocy=site[1],plby2=lfocy-directrix;if(!plby2)return lfocx;var hl=lfocx-rfocx,aby2=1/pby2-1/plby2,b=hl/plby2;return aby2?(-b+Math.sqrt(b*b-2*aby2*(hl*hl/(-2*plby2)-lfocy+plby2/2+rfocy-pby2/2)))/aby2+rfocx:(rfocx+lfocx)/2}function rightBreakPoint(arc,directrix){var rArc=arc.N;if(rArc)return leftBreakPoint(rArc,directrix);var site=arc.site;return site[1]===directrix?site[0]:1/0}var beaches,cells,circles,edges,Diagram_epsilon=1e-6,Diagram_epsilon2=1e-12;function triangleArea(a,b,c){return(a[0]-c[0])*(b[1]-a[1])-(a[0]-b[0])*(c[1]-a[1])}function lexicographic(a,b){return b[1]-a[1]||b[0]-a[0]}function Diagram(sites,extent){var x,y,circle,site=sites.sort(lexicographic).pop();for(edges=[],cells=new Array(sites.length),beaches=new src_RedBlackTree,circles=new src_RedBlackTree;;)if(circle=firstCircle,site&&(!circle||site[1]<circle.y||site[1]===circle.y&&site[0]<circle.x))site[0]===x&&site[1]===y||(addBeach(site),x=site[0],y=site[1]),site=sites.pop();else{if(!circle)break;removeBeach(circle.arc)}if(function sortCellHalfedges(){for(var cell,halfedges,j,m,i=0,n=cells.length;i<n;++i)if((cell=cells[i])&&(m=(halfedges=cell.halfedges).length)){var index=new Array(m),array=new Array(m);for(j=0;j<m;++j)index[j]=j,array[j]=cellHalfedgeAngle(cell,edges[halfedges[j]]);for(index.sort((function(i,j){return array[j]-array[i]})),j=0;j<m;++j)array[j]=halfedges[index[j]];for(j=0;j<m;++j)halfedges[j]=array[j]}}(),extent){var x0=+extent[0][0],y0=+extent[0][1],x1=+extent[1][0],y1=+extent[1][1];!function clipEdges(x0,y0,x1,y1){for(var edge,i=edges.length;i--;)connectEdge(edge=edges[i],x0,y0,x1,y1)&&clipEdge(edge,x0,y0,x1,y1)&&(Math.abs(edge[0][0]-edge[1][0])>Diagram_epsilon||Math.abs(edge[0][1]-edge[1][1])>Diagram_epsilon)||delete edges[i]}(x0,y0,x1,y1),function clipCells(x0,y0,x1,y1){var iCell,cell,site,iHalfedge,halfedges,nHalfedges,start,startX,startY,end,endX,endY,nCells=cells.length,cover=!0;for(iCell=0;iCell<nCells;++iCell)if(cell=cells[iCell]){for(site=cell.site,iHalfedge=(halfedges=cell.halfedges).length;iHalfedge--;)edges[halfedges[iHalfedge]]||halfedges.splice(iHalfedge,1);for(iHalfedge=0,nHalfedges=halfedges.length;iHalfedge<nHalfedges;)endX=(end=cellHalfedgeEnd(cell,edges[halfedges[iHalfedge]]))[0],endY=end[1],startX=(start=cellHalfedgeStart(cell,edges[halfedges[++iHalfedge%nHalfedges]]))[0],startY=start[1],(Math.abs(endX-startX)>Diagram_epsilon||Math.abs(endY-startY)>Diagram_epsilon)&&(halfedges.splice(iHalfedge,0,edges.push(createBorderEdge(site,end,Math.abs(endX-x0)<Diagram_epsilon&&y1-endY>Diagram_epsilon?[x0,Math.abs(startX-x0)<Diagram_epsilon?startY:y1]:Math.abs(endY-y1)<Diagram_epsilon&&x1-endX>Diagram_epsilon?[Math.abs(startY-y1)<Diagram_epsilon?startX:x1,y1]:Math.abs(endX-x1)<Diagram_epsilon&&endY-y0>Diagram_epsilon?[x1,Math.abs(startX-x1)<Diagram_epsilon?startY:y0]:Math.abs(endY-y0)<Diagram_epsilon&&endX-x0>Diagram_epsilon?[Math.abs(startY-y0)<Diagram_epsilon?startX:x0,y0]:null))-1),++nHalfedges);nHalfedges&&(cover=!1)}if(cover){var dx,dy,d2,dc=1/0;for(iCell=0,cover=null;iCell<nCells;++iCell)(cell=cells[iCell])&&(d2=(dx=(site=cell.site)[0]-x0)*dx+(dy=site[1]-y0)*dy)<dc&&(dc=d2,cover=cell);if(cover){var v00=[x0,y0],v01=[x0,y1],v11=[x1,y1],v10=[x1,y0];cover.halfedges.push(edges.push(createBorderEdge(site=cover.site,v00,v01))-1,edges.push(createBorderEdge(site,v01,v11))-1,edges.push(createBorderEdge(site,v11,v10))-1,edges.push(createBorderEdge(site,v10,v00))-1)}}for(iCell=0;iCell<nCells;++iCell)(cell=cells[iCell])&&(cell.halfedges.length||delete cells[iCell])}(x0,y0,x1,y1)}this.edges=edges,this.cells=cells,beaches=circles=edges=cells=null}function voronoi(){var x=src_point_x,y=src_point_y,extent=null;function voronoi(data){return new Diagram(data.map((function(d,i){var s=[Math.round(x(d,i,data)/Diagram_epsilon)*Diagram_epsilon,Math.round(y(d,i,data)/Diagram_epsilon)*Diagram_epsilon];return s.index=i,s.data=d,s})),extent)}return voronoi.polygons=function(data){return voronoi(data).polygons()},voronoi.links=function(data){return voronoi(data).links()},voronoi.triangles=function(data){return voronoi(data).triangles()},voronoi.x=function(_){return arguments.length?(x="function"==typeof _?_:d3_voronoi_src_constant(+_),voronoi):x},voronoi.y=function(_){return arguments.length?(y="function"==typeof _?_:d3_voronoi_src_constant(+_),voronoi):y},voronoi.extent=function(_){return arguments.length?(extent=null==_?null:[[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]],voronoi):extent&&[[extent[0][0],extent[0][1]],[extent[1][0],extent[1][1]]]},voronoi.size=function(_){return arguments.length?(extent=null==_?null:[[0,0],[+_[0],+_[1]]],voronoi):extent&&[extent[1][0]-extent[0][0],extent[1][1]-extent[0][1]]},voronoi}function d3_zoom_src_constant(x){return function(){return x}}function ZoomEvent(target,type,transform){this.target=target,this.type=type,this.transform=transform}function Transform(k,x,y){this.k=k,this.x=x,this.y=y}Diagram.prototype={constructor:Diagram,polygons:function(){var edges=this.edges;return this.cells.map((function(cell){var polygon=cell.halfedges.map((function(i){return cellHalfedgeStart(cell,edges[i])}));return polygon.data=cell.site.data,polygon}))},triangles:function(){var triangles=[],edges=this.edges;return this.cells.forEach((function(cell,i){if(m=(halfedges=cell.halfedges).length)for(var halfedges,m,s0,site=cell.site,j=-1,e1=edges[halfedges[m-1]],s1=e1.left===site?e1.right:e1.left;++j<m;)s0=s1,s1=(e1=edges[halfedges[j]]).left===site?e1.right:e1.left,s0&&s1&&i<s0.index&&i<s1.index&&triangleArea(site,s0,s1)<0&&triangles.push([site.data,s0.data,s1.data])})),triangles},links:function(){return this.edges.filter((function(edge){return edge.right})).map((function(edge){return{source:edge.left.data,target:edge.right.data}}))},find:function(x,y,radius){for(var i0,cell,that=this,i1=that._found||0,n=that.cells.length;!(cell=that.cells[i1]);)if(++i1>=n)return null;var dx=x-cell.site[0],dy=y-cell.site[1],d2=dx*dx+dy*dy;do{cell=that.cells[i0=i1],i1=null,cell.halfedges.forEach((function(e){var edge=that.edges[e],v=edge.left;if(v!==cell.site&&v||(v=edge.right)){var vx=x-v[0],vy=y-v[1],v2=vx*vx+vy*vy;v2<d2&&(d2=v2,i1=v.index)}}))}while(null!==i1);return that._found=i0,null==radius||d2<=radius*radius?cell.site:null}},Transform.prototype={constructor:Transform,scale:function(k){return 1===k?this:new Transform(this.k*k,this.x,this.y)},translate:function(x,y){return 0===x&0===y?this:new Transform(this.k,this.x+this.k*x,this.y+this.k*y)},apply:function(point){return[point[0]*this.k+this.x,point[1]*this.k+this.y]},applyX:function(x){return x*this.k+this.x},applyY:function(y){return y*this.k+this.y},invert:function(location){return[(location[0]-this.x)/this.k,(location[1]-this.y)/this.k]},invertX:function(x){return(x-this.x)/this.k},invertY:function(y){return(y-this.y)/this.k},rescaleX:function(x){return x.copy().domain(x.range().map(this.invertX,this).map(x.invert,x))},rescaleY:function(y){return y.copy().domain(y.range().map(this.invertY,this).map(y.invert,y))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var transform_identity=new Transform(1,0,0);function transform_transform(node){for(;!node.__zoom;)if(!(node=node.parentNode))return transform_identity;return node.__zoom}function src_noevent_nopropagation(){on_event.stopImmediatePropagation()}function d3_zoom_src_noevent(){on_event.preventDefault(),on_event.stopImmediatePropagation()}function zoom_defaultFilter(){return!on_event.ctrlKey&&!on_event.button}function zoom_defaultExtent(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function defaultTransform(){return this.__zoom||transform_identity}function defaultWheelDelta(){return-on_event.deltaY*(1===on_event.deltaMode?.05:on_event.deltaMode?1:.002)}function zoom_defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(transform,extent,translateExtent){var dx0=transform.invertX(extent[0][0])-translateExtent[0][0],dx1=transform.invertX(extent[1][0])-translateExtent[1][0],dy0=transform.invertY(extent[0][1])-translateExtent[0][1],dy1=transform.invertY(extent[1][1])-translateExtent[1][1];return transform.translate(dx1>dx0?(dx0+dx1)/2:Math.min(0,dx0)||Math.max(0,dx1),dy1>dy0?(dy0+dy1)/2:Math.min(0,dy0)||Math.max(0,dy1))}function zoom(){var touchstarting,touchending,filter=zoom_defaultFilter,extent=zoom_defaultExtent,constrain=defaultConstrain,wheelDelta=defaultWheelDelta,touchable=zoom_defaultTouchable,scaleExtent=[0,1/0],translateExtent=[[-1/0,-1/0],[1/0,1/0]],duration=250,interpolate=src_zoom,listeners=src_dispatch("start","zoom","end"),clickDistance2=0;function zoom(selection){selection.property("__zoom",defaultTransform).on("wheel.zoom",wheeled).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(touchable).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(transform,k){return(k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],k)))===transform.k?transform:new Transform(k,transform.x,transform.y)}function translate(transform,p0,p1){var x=p0[0]-p1[0]*transform.k,y=p0[1]-p1[1]*transform.k;return x===transform.x&&y===transform.y?transform:new Transform(transform.k,x,y)}function centroid(extent){return[(+extent[0][0]+ +extent[1][0])/2,(+extent[0][1]+ +extent[1][1])/2]}function schedule(transition,transform,point){transition.on("start.zoom",(function(){gesture(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){gesture(this,arguments).end()})).tween("zoom",(function(){var args=arguments,g=gesture(this,args),e=extent.apply(this,args),p=null==point?centroid(e):"function"==typeof point?point.apply(this,args):point,w=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),a=this.__zoom,b="function"==typeof transform?transform.apply(this,args):transform,i=interpolate(a.invert(p).concat(w/a.k),b.invert(p).concat(w/b.k));return function(t){if(1===t)t=b;else{var l=i(t),k=w/l[2];t=new Transform(k,p[0]-l[0]*k,p[1]-l[1]*k)}g.zoom(null,t)}}))}function gesture(that,args,clean){return!clean&&that.__zooming||new Gesture(that,args)}function Gesture(that,args){this.that=that,this.args=args,this.active=0,this.extent=extent.apply(that,args),this.taps=0}function wheeled(){if(filter.apply(this,arguments)){var g=gesture(this,arguments),t=this.__zoom,k=Math.max(scaleExtent[0],Math.min(scaleExtent[1],t.k*Math.pow(2,wheelDelta.apply(this,arguments)))),p=mouse(this);if(g.wheel)g.mouse[0][0]===p[0]&&g.mouse[0][1]===p[1]||(g.mouse[1]=t.invert(g.mouse[0]=p)),clearTimeout(g.wheel);else{if(t.k===k)return;g.mouse=[p,t.invert(p)],interrupt(this),g.start()}d3_zoom_src_noevent(),g.wheel=setTimeout((function wheelidled(){g.wheel=null,g.end()}),150),g.zoom("mouse",constrain(translate(scale(t,k),g.mouse[0],g.mouse[1]),g.extent,translateExtent))}}function mousedowned(){if(!touchending&&filter.apply(this,arguments)){var g=gesture(this,arguments,!0),v=src_select(on_event.view).on("mousemove.zoom",(function mousemoved(){if(d3_zoom_src_noevent(),!g.moved){var dx=on_event.clientX-x0,dy=on_event.clientY-y0;g.moved=dx*dx+dy*dy>clickDistance2}g.zoom("mouse",constrain(translate(g.that.__zoom,g.mouse[0]=mouse(g.that),g.mouse[1]),g.extent,translateExtent))}),!0).on("mouseup.zoom",(function mouseupped(){v.on("mousemove.zoom mouseup.zoom",null),yesdrag(on_event.view,g.moved),d3_zoom_src_noevent(),g.end()}),!0),p=mouse(this),x0=on_event.clientX,y0=on_event.clientY;nodrag(on_event.view),src_noevent_nopropagation(),g.mouse=[p,this.__zoom.invert(p)],interrupt(this),g.start()}}function dblclicked(){if(filter.apply(this,arguments)){var t0=this.__zoom,p0=mouse(this),p1=t0.invert(p0),k1=t0.k*(on_event.shiftKey?.5:2),t1=constrain(translate(scale(t0,k1),p0,p1),extent.apply(this,arguments),translateExtent);d3_zoom_src_noevent(),duration>0?src_select(this).transition().duration(duration).call(schedule,t1,p0):src_select(this).call(zoom.transform,t1)}}function touchstarted(){if(filter.apply(this,arguments)){var started,i,t,p,touches=on_event.touches,n=touches.length,g=gesture(this,arguments,on_event.changedTouches.length===n);for(src_noevent_nopropagation(),i=0;i<n;++i)p=[p=touch(this,touches,(t=touches[i]).identifier),this.__zoom.invert(p),t.identifier],g.touch0?g.touch1||g.touch0[2]===p[2]||(g.touch1=p,g.taps=0):(g.touch0=p,started=!0,g.taps=1+!!touchstarting);touchstarting&&(touchstarting=clearTimeout(touchstarting)),started&&(g.taps<2&&(touchstarting=setTimeout((function(){touchstarting=null}),500)),interrupt(this),g.start())}}function touchmoved(){if(this.__zooming){var i,t,p,l,g=gesture(this,arguments),touches=on_event.changedTouches,n=touches.length;for(d3_zoom_src_noevent(),touchstarting&&(touchstarting=clearTimeout(touchstarting)),g.taps=0,i=0;i<n;++i)p=touch(this,touches,(t=touches[i]).identifier),g.touch0&&g.touch0[2]===t.identifier?g.touch0[0]=p:g.touch1&&g.touch1[2]===t.identifier&&(g.touch1[0]=p);if(t=g.that.__zoom,g.touch1){var p0=g.touch0[0],l0=g.touch0[1],p1=g.touch1[0],l1=g.touch1[1],dp=(dp=p1[0]-p0[0])*dp+(dp=p1[1]-p0[1])*dp,dl=(dl=l1[0]-l0[0])*dl+(dl=l1[1]-l0[1])*dl;t=scale(t,Math.sqrt(dp/dl)),p=[(p0[0]+p1[0])/2,(p0[1]+p1[1])/2],l=[(l0[0]+l1[0])/2,(l0[1]+l1[1])/2]}else{if(!g.touch0)return;p=g.touch0[0],l=g.touch0[1]}g.zoom("touch",constrain(translate(t,p,l),g.extent,translateExtent))}}function touchended(){if(this.__zooming){var i,t,g=gesture(this,arguments),touches=on_event.changedTouches,n=touches.length;for(src_noevent_nopropagation(),touchending&&clearTimeout(touchending),touchending=setTimeout((function(){touchending=null}),500),i=0;i<n;++i)t=touches[i],g.touch0&&g.touch0[2]===t.identifier?delete g.touch0:g.touch1&&g.touch1[2]===t.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),2===g.taps){var p=src_select(this).on("dblclick.zoom");p&&p.apply(this,arguments)}}}return zoom.transform=function(collection,transform,point){var selection=collection.selection?collection.selection():collection;selection.property("__zoom",defaultTransform),collection!==selection?schedule(collection,transform,point):selection.interrupt().each((function(){gesture(this,arguments).start().zoom(null,"function"==typeof transform?transform.apply(this,arguments):transform).end()}))},zoom.scaleBy=function(selection,k,p){zoom.scaleTo(selection,(function(){return this.__zoom.k*("function"==typeof k?k.apply(this,arguments):k)}),p)},zoom.scaleTo=function(selection,k,p){zoom.transform(selection,(function(){var e=extent.apply(this,arguments),t0=this.__zoom,p0=null==p?centroid(e):"function"==typeof p?p.apply(this,arguments):p,p1=t0.invert(p0),k1="function"==typeof k?k.apply(this,arguments):k;return constrain(translate(scale(t0,k1),p0,p1),e,translateExtent)}),p)},zoom.translateBy=function(selection,x,y){zoom.transform(selection,(function(){return constrain(this.__zoom.translate("function"==typeof x?x.apply(this,arguments):x,"function"==typeof y?y.apply(this,arguments):y),extent.apply(this,arguments),translateExtent)}))},zoom.translateTo=function(selection,x,y,p){zoom.transform(selection,(function(){var e=extent.apply(this,arguments),t=this.__zoom,p0=null==p?centroid(e):"function"==typeof p?p.apply(this,arguments):p;return constrain(transform_identity.translate(p0[0],p0[1]).scale(t.k).translate("function"==typeof x?-x.apply(this,arguments):-x,"function"==typeof y?-y.apply(this,arguments):-y),e,translateExtent)}),p)},Gesture.prototype={start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(key,transform){return this.mouse&&"mouse"!==key&&(this.mouse[1]=transform.invert(this.mouse[0])),this.touch0&&"touch"!==key&&(this.touch0[1]=transform.invert(this.touch0[0])),this.touch1&&"touch"!==key&&(this.touch1[1]=transform.invert(this.touch1[0])),this.that.__zoom=transform,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(type){customEvent(new ZoomEvent(zoom,type,this.that.__zoom),listeners.apply,listeners,[type,this.that,this.args])}},zoom.wheelDelta=function(_){return arguments.length?(wheelDelta="function"==typeof _?_:d3_zoom_src_constant(+_),zoom):wheelDelta},zoom.filter=function(_){return arguments.length?(filter="function"==typeof _?_:d3_zoom_src_constant(!!_),zoom):filter},zoom.touchable=function(_){return arguments.length?(touchable="function"==typeof _?_:d3_zoom_src_constant(!!_),zoom):touchable},zoom.extent=function(_){return arguments.length?(extent="function"==typeof _?_:d3_zoom_src_constant([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),zoom):extent},zoom.scaleExtent=function(_){return arguments.length?(scaleExtent[0]=+_[0],scaleExtent[1]=+_[1],zoom):[scaleExtent[0],scaleExtent[1]]},zoom.translateExtent=function(_){return arguments.length?(translateExtent[0][0]=+_[0][0],translateExtent[1][0]=+_[1][0],translateExtent[0][1]=+_[0][1],translateExtent[1][1]=+_[1][1],zoom):[[translateExtent[0][0],translateExtent[0][1]],[translateExtent[1][0],translateExtent[1][1]]]},zoom.constrain=function(_){return arguments.length?(constrain=_,zoom):constrain},zoom.duration=function(_){return arguments.length?(duration=+_,zoom):duration},zoom.interpolate=function(_){return arguments.length?(interpolate=_,zoom):interpolate},zoom.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?zoom:value},zoom.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,zoom):Math.sqrt(clickDistance2)},zoom}transform_transform.prototype=Transform.prototype},"./node_modules/dagre/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports={graphlib:__webpack_require__("./node_modules/dagre/lib/graphlib.js"),layout:__webpack_require__("./node_modules/dagre/lib/layout.js"),debug:__webpack_require__("./node_modules/dagre/lib/debug.js"),util:{time:__webpack_require__("./node_modules/dagre/lib/util.js").time,notime:__webpack_require__("./node_modules/dagre/lib/util.js").notime},version:__webpack_require__("./node_modules/dagre/lib/version.js")}},"./node_modules/dagre/lib/acyclic.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),greedyFAS=__webpack_require__("./node_modules/dagre/lib/greedy-fas.js");module.exports={run:function run(g){var fas="greedy"===g.graph().acyclicer?greedyFAS(g,function weightFn(g){return function(e){return g.edge(e).weight}}(g)):function dfsFAS(g){var fas=[],stack={},visited={};function dfs(v){_.has(visited,v)||(visited[v]=!0,stack[v]=!0,_.forEach(g.outEdges(v),(function(e){_.has(stack,e.w)?fas.push(e):dfs(e.w)})),delete stack[v])}return _.forEach(g.nodes(),dfs),fas}(g);_.forEach(fas,(function(e){var label=g.edge(e);g.removeEdge(e),label.forwardName=e.name,label.reversed=!0,g.setEdge(e.w,e.v,label,_.uniqueId("rev"))}))},undo:function undo(g){_.forEach(g.edges(),(function(e){var label=g.edge(e);if(label.reversed){g.removeEdge(e);var forwardName=label.forwardName;delete label.reversed,delete label.forwardName,g.setEdge(e.w,e.v,label,forwardName)}}))}}},"./node_modules/dagre/lib/add-border-segments.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),util=__webpack_require__("./node_modules/dagre/lib/util.js");function addBorderNode(g,prop,prefix,sg,sgNode,rank){var label={width:0,height:0,rank,borderType:prop},prev=sgNode[prop][rank-1],curr=util.addDummyNode(g,"border",label,prefix);sgNode[prop][rank]=curr,g.setParent(curr,sg),prev&&g.setEdge(prev,curr,{weight:1})}module.exports=function addBorderSegments(g){_.forEach(g.children(),(function dfs(v){var children=g.children(v),node=g.node(v);if(children.length&&_.forEach(children,dfs),_.has(node,"minRank")){node.borderLeft=[],node.borderRight=[];for(var rank=node.minRank,maxRank=node.maxRank+1;rank<maxRank;++rank)addBorderNode(g,"borderLeft","_bl",v,node,rank),addBorderNode(g,"borderRight","_br",v,node,rank)}}))}},"./node_modules/dagre/lib/coordinate-system.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");function swapWidthHeight(g){_.forEach(g.nodes(),(function(v){swapWidthHeightOne(g.node(v))})),_.forEach(g.edges(),(function(e){swapWidthHeightOne(g.edge(e))}))}function swapWidthHeightOne(attrs){var w=attrs.width;attrs.width=attrs.height,attrs.height=w}function reverseYOne(attrs){attrs.y=-attrs.y}function swapXYOne(attrs){var x=attrs.x;attrs.x=attrs.y,attrs.y=x}module.exports={adjust:function adjust(g){var rankDir=g.graph().rankdir.toLowerCase();"lr"!==rankDir&&"rl"!==rankDir||swapWidthHeight(g)},undo:function undo(g){var rankDir=g.graph().rankdir.toLowerCase();"bt"!==rankDir&&"rl"!==rankDir||function reverseY(g){_.forEach(g.nodes(),(function(v){reverseYOne(g.node(v))})),_.forEach(g.edges(),(function(e){var edge=g.edge(e);_.forEach(edge.points,reverseYOne),_.has(edge,"y")&&reverseYOne(edge)}))}(g);"lr"!==rankDir&&"rl"!==rankDir||(!function swapXY(g){_.forEach(g.nodes(),(function(v){swapXYOne(g.node(v))})),_.forEach(g.edges(),(function(e){var edge=g.edge(e);_.forEach(edge.points,swapXYOne),_.has(edge,"x")&&swapXYOne(edge)}))}(g),swapWidthHeight(g))}}},"./node_modules/dagre/lib/data/list.js":module=>{function List(){var sentinel={};sentinel._next=sentinel._prev=sentinel,this._sentinel=sentinel}function unlink(entry){entry._prev._next=entry._next,entry._next._prev=entry._prev,delete entry._next,delete entry._prev}function filterOutLinks(k,v){if("_next"!==k&&"_prev"!==k)return v}module.exports=List,List.prototype.dequeue=function(){var sentinel=this._sentinel,entry=sentinel._prev;if(entry!==sentinel)return unlink(entry),entry},List.prototype.enqueue=function(entry){var sentinel=this._sentinel;entry._prev&&entry._next&&unlink(entry),entry._next=sentinel._next,sentinel._next._prev=entry,sentinel._next=entry,entry._prev=sentinel},List.prototype.toString=function(){for(var strs=[],sentinel=this._sentinel,curr=sentinel._prev;curr!==sentinel;)strs.push(JSON.stringify(curr,filterOutLinks)),curr=curr._prev;return"["+strs.join(", ")+"]"}},"./node_modules/dagre/lib/debug.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),util=__webpack_require__("./node_modules/dagre/lib/util.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph;module.exports={debugOrdering:function debugOrdering(g){var layerMatrix=util.buildLayerMatrix(g),h=new Graph({compound:!0,multigraph:!0}).setGraph({});return _.forEach(g.nodes(),(function(v){h.setNode(v,{label:v}),h.setParent(v,"layer"+g.node(v).rank)})),_.forEach(g.edges(),(function(e){h.setEdge(e.v,e.w,{},e.name)})),_.forEach(layerMatrix,(function(layer,i){var layerV="layer"+i;h.setNode(layerV,{rank:"same"}),_.reduce(layer,(function(u,v){return h.setEdge(u,v,{style:"invis"}),v}))})),h}}},"./node_modules/dagre/lib/graphlib.js":(module,__unused_webpack_exports,__webpack_require__)=>{var graphlib;try{graphlib=__webpack_require__("./node_modules/graphlib/index.js")}catch(e){}graphlib||(graphlib=window.graphlib),module.exports=graphlib},"./node_modules/dagre/lib/greedy-fas.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph,List=__webpack_require__("./node_modules/dagre/lib/data/list.js");module.exports=function greedyFAS(g,weightFn){if(g.nodeCount()<=1)return[];var state=function buildState(g,weightFn){var fasGraph=new Graph,maxIn=0,maxOut=0;_.forEach(g.nodes(),(function(v){fasGraph.setNode(v,{v,in:0,out:0})})),_.forEach(g.edges(),(function(e){var prevWeight=fasGraph.edge(e.v,e.w)||0,weight=weightFn(e),edgeWeight=prevWeight+weight;fasGraph.setEdge(e.v,e.w,edgeWeight),maxOut=Math.max(maxOut,fasGraph.node(e.v).out+=weight),maxIn=Math.max(maxIn,fasGraph.node(e.w).in+=weight)}));var buckets=_.range(maxOut+maxIn+3).map((function(){return new List})),zeroIdx=maxIn+1;return _.forEach(fasGraph.nodes(),(function(v){assignBucket(buckets,zeroIdx,fasGraph.node(v))})),{graph:fasGraph,buckets,zeroIdx}}(g,weightFn||DEFAULT_WEIGHT_FN),results=function doGreedyFAS(g,buckets,zeroIdx){var entry,results=[],sources=buckets[buckets.length-1],sinks=buckets[0];for(;g.nodeCount();){for(;entry=sinks.dequeue();)removeNode(g,buckets,zeroIdx,entry);for(;entry=sources.dequeue();)removeNode(g,buckets,zeroIdx,entry);if(g.nodeCount())for(var i=buckets.length-2;i>0;--i)if(entry=buckets[i].dequeue()){results=results.concat(removeNode(g,buckets,zeroIdx,entry,!0));break}}return results}(state.graph,state.buckets,state.zeroIdx);return _.flatten(_.map(results,(function(e){return g.outEdges(e.v,e.w)})),!0)};var DEFAULT_WEIGHT_FN=_.constant(1);function removeNode(g,buckets,zeroIdx,entry,collectPredecessors){var results=collectPredecessors?[]:void 0;return _.forEach(g.inEdges(entry.v),(function(edge){var weight=g.edge(edge),uEntry=g.node(edge.v);collectPredecessors&&results.push({v:edge.v,w:edge.w}),uEntry.out-=weight,assignBucket(buckets,zeroIdx,uEntry)})),_.forEach(g.outEdges(entry.v),(function(edge){var weight=g.edge(edge),w=edge.w,wEntry=g.node(w);wEntry.in-=weight,assignBucket(buckets,zeroIdx,wEntry)})),g.removeNode(entry.v),results}function assignBucket(buckets,zeroIdx,entry){entry.out?entry.in?buckets[entry.out-entry.in+zeroIdx].enqueue(entry):buckets[buckets.length-1].enqueue(entry):buckets[0].enqueue(entry)}},"./node_modules/dagre/lib/layout.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),acyclic=__webpack_require__("./node_modules/dagre/lib/acyclic.js"),normalize=__webpack_require__("./node_modules/dagre/lib/normalize.js"),rank=__webpack_require__("./node_modules/dagre/lib/rank/index.js"),normalizeRanks=__webpack_require__("./node_modules/dagre/lib/util.js").normalizeRanks,parentDummyChains=__webpack_require__("./node_modules/dagre/lib/parent-dummy-chains.js"),removeEmptyRanks=__webpack_require__("./node_modules/dagre/lib/util.js").removeEmptyRanks,nestingGraph=__webpack_require__("./node_modules/dagre/lib/nesting-graph.js"),addBorderSegments=__webpack_require__("./node_modules/dagre/lib/add-border-segments.js"),coordinateSystem=__webpack_require__("./node_modules/dagre/lib/coordinate-system.js"),order=__webpack_require__("./node_modules/dagre/lib/order/index.js"),position=__webpack_require__("./node_modules/dagre/lib/position/index.js"),util=__webpack_require__("./node_modules/dagre/lib/util.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph;module.exports=function layout(g,opts){var time=opts&&opts.debugTiming?util.time:util.notime;time("layout",(function(){var layoutGraph=time("  buildLayoutGraph",(function(){return function buildLayoutGraph(inputGraph){var g=new Graph({multigraph:!0,compound:!0}),graph=canonicalize(inputGraph.graph());return g.setGraph(_.merge({},graphDefaults,selectNumberAttrs(graph,graphNumAttrs),_.pick(graph,graphAttrs))),_.forEach(inputGraph.nodes(),(function(v){var node=canonicalize(inputGraph.node(v));g.setNode(v,_.defaults(selectNumberAttrs(node,nodeNumAttrs),nodeDefaults)),g.setParent(v,inputGraph.parent(v))})),_.forEach(inputGraph.edges(),(function(e){var edge=canonicalize(inputGraph.edge(e));g.setEdge(e,_.merge({},edgeDefaults,selectNumberAttrs(edge,edgeNumAttrs),_.pick(edge,edgeAttrs)))})),g}(g)}));time("  runLayout",(function(){!function runLayout(g,time){time("    makeSpaceForEdgeLabels",(function(){!function makeSpaceForEdgeLabels(g){var graph=g.graph();graph.ranksep/=2,_.forEach(g.edges(),(function(e){var edge=g.edge(e);edge.minlen*=2,"c"!==edge.labelpos.toLowerCase()&&("TB"===graph.rankdir||"BT"===graph.rankdir?edge.width+=edge.labeloffset:edge.height+=edge.labeloffset)}))}(g)})),time("    removeSelfEdges",(function(){!function removeSelfEdges(g){_.forEach(g.edges(),(function(e){if(e.v===e.w){var node=g.node(e.v);node.selfEdges||(node.selfEdges=[]),node.selfEdges.push({e,label:g.edge(e)}),g.removeEdge(e)}}))}(g)})),time("    acyclic",(function(){acyclic.run(g)})),time("    nestingGraph.run",(function(){nestingGraph.run(g)})),time("    rank",(function(){rank(util.asNonCompoundGraph(g))})),time("    injectEdgeLabelProxies",(function(){!function injectEdgeLabelProxies(g){_.forEach(g.edges(),(function(e){var edge=g.edge(e);if(edge.width&&edge.height){var v=g.node(e.v),label={rank:(g.node(e.w).rank-v.rank)/2+v.rank,e};util.addDummyNode(g,"edge-proxy",label,"_ep")}}))}(g)})),time("    removeEmptyRanks",(function(){removeEmptyRanks(g)})),time("    nestingGraph.cleanup",(function(){nestingGraph.cleanup(g)})),time("    normalizeRanks",(function(){normalizeRanks(g)})),time("    assignRankMinMax",(function(){!function assignRankMinMax(g){var maxRank=0;_.forEach(g.nodes(),(function(v){var node=g.node(v);node.borderTop&&(node.minRank=g.node(node.borderTop).rank,node.maxRank=g.node(node.borderBottom).rank,maxRank=_.max(maxRank,node.maxRank))})),g.graph().maxRank=maxRank}(g)})),time("    removeEdgeLabelProxies",(function(){!function removeEdgeLabelProxies(g){_.forEach(g.nodes(),(function(v){var node=g.node(v);"edge-proxy"===node.dummy&&(g.edge(node.e).labelRank=node.rank,g.removeNode(v))}))}(g)})),time("    normalize.run",(function(){normalize.run(g)})),time("    parentDummyChains",(function(){parentDummyChains(g)})),time("    addBorderSegments",(function(){addBorderSegments(g)})),time("    order",(function(){order(g)})),time("    insertSelfEdges",(function(){!function insertSelfEdges(g){var layers=util.buildLayerMatrix(g);_.forEach(layers,(function(layer){var orderShift=0;_.forEach(layer,(function(v,i){var node=g.node(v);node.order=i+orderShift,_.forEach(node.selfEdges,(function(selfEdge){util.addDummyNode(g,"selfedge",{width:selfEdge.label.width,height:selfEdge.label.height,rank:node.rank,order:i+ ++orderShift,e:selfEdge.e,label:selfEdge.label},"_se")})),delete node.selfEdges}))}))}(g)})),time("    adjustCoordinateSystem",(function(){coordinateSystem.adjust(g)})),time("    position",(function(){position(g)})),time("    positionSelfEdges",(function(){!function positionSelfEdges(g){_.forEach(g.nodes(),(function(v){var node=g.node(v);if("selfedge"===node.dummy){var selfNode=g.node(node.e.v),x=selfNode.x+selfNode.width/2,y=selfNode.y,dx=node.x-x,dy=selfNode.height/2;g.setEdge(node.e,node.label),g.removeNode(v),node.label.points=[{x:x+2*dx/3,y:y-dy},{x:x+5*dx/6,y:y-dy},{x:x+dx,y},{x:x+5*dx/6,y:y+dy},{x:x+2*dx/3,y:y+dy}],node.label.x=node.x,node.label.y=node.y}}))}(g)})),time("    removeBorderNodes",(function(){!function removeBorderNodes(g){_.forEach(g.nodes(),(function(v){if(g.children(v).length){var node=g.node(v),t=g.node(node.borderTop),b=g.node(node.borderBottom),l=g.node(_.last(node.borderLeft)),r=g.node(_.last(node.borderRight));node.width=Math.abs(r.x-l.x),node.height=Math.abs(b.y-t.y),node.x=l.x+node.width/2,node.y=t.y+node.height/2}})),_.forEach(g.nodes(),(function(v){"border"===g.node(v).dummy&&g.removeNode(v)}))}(g)})),time("    normalize.undo",(function(){normalize.undo(g)})),time("    fixupEdgeLabelCoords",(function(){!function fixupEdgeLabelCoords(g){_.forEach(g.edges(),(function(e){var edge=g.edge(e);if(_.has(edge,"x"))switch("l"!==edge.labelpos&&"r"!==edge.labelpos||(edge.width-=edge.labeloffset),edge.labelpos){case"l":edge.x-=edge.width/2+edge.labeloffset;break;case"r":edge.x+=edge.width/2+edge.labeloffset}}))}(g)})),time("    undoCoordinateSystem",(function(){coordinateSystem.undo(g)})),time("    translateGraph",(function(){!function translateGraph(g){var minX=Number.POSITIVE_INFINITY,maxX=0,minY=Number.POSITIVE_INFINITY,maxY=0,graphLabel=g.graph(),marginX=graphLabel.marginx||0,marginY=graphLabel.marginy||0;function getExtremes(attrs){var x=attrs.x,y=attrs.y,w=attrs.width,h=attrs.height;minX=Math.min(minX,x-w/2),maxX=Math.max(maxX,x+w/2),minY=Math.min(minY,y-h/2),maxY=Math.max(maxY,y+h/2)}_.forEach(g.nodes(),(function(v){getExtremes(g.node(v))})),_.forEach(g.edges(),(function(e){var edge=g.edge(e);_.has(edge,"x")&&getExtremes(edge)})),minX-=marginX,minY-=marginY,_.forEach(g.nodes(),(function(v){var node=g.node(v);node.x-=minX,node.y-=minY})),_.forEach(g.edges(),(function(e){var edge=g.edge(e);_.forEach(edge.points,(function(p){p.x-=minX,p.y-=minY})),_.has(edge,"x")&&(edge.x-=minX),_.has(edge,"y")&&(edge.y-=minY)})),graphLabel.width=maxX-minX+marginX,graphLabel.height=maxY-minY+marginY}(g)})),time("    assignNodeIntersects",(function(){!function assignNodeIntersects(g){_.forEach(g.edges(),(function(e){var p1,p2,edge=g.edge(e),nodeV=g.node(e.v),nodeW=g.node(e.w);edge.points?(p1=edge.points[0],p2=edge.points[edge.points.length-1]):(edge.points=[],p1=nodeW,p2=nodeV),edge.points.unshift(util.intersectRect(nodeV,p1)),edge.points.push(util.intersectRect(nodeW,p2))}))}(g)})),time("    reversePoints",(function(){!function reversePointsForReversedEdges(g){_.forEach(g.edges(),(function(e){var edge=g.edge(e);edge.reversed&&edge.points.reverse()}))}(g)})),time("    acyclic.undo",(function(){acyclic.undo(g)}))}(layoutGraph,time)})),time("  updateInputGraph",(function(){!function updateInputGraph(inputGraph,layoutGraph){_.forEach(inputGraph.nodes(),(function(v){var inputLabel=inputGraph.node(v),layoutLabel=layoutGraph.node(v);inputLabel&&(inputLabel.x=layoutLabel.x,inputLabel.y=layoutLabel.y,layoutGraph.children(v).length&&(inputLabel.width=layoutLabel.width,inputLabel.height=layoutLabel.height))})),_.forEach(inputGraph.edges(),(function(e){var inputLabel=inputGraph.edge(e),layoutLabel=layoutGraph.edge(e);inputLabel.points=layoutLabel.points,_.has(layoutLabel,"x")&&(inputLabel.x=layoutLabel.x,inputLabel.y=layoutLabel.y)})),inputGraph.graph().width=layoutGraph.graph().width,inputGraph.graph().height=layoutGraph.graph().height}(g,layoutGraph)}))}))};var graphNumAttrs=["nodesep","edgesep","ranksep","marginx","marginy"],graphDefaults={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},graphAttrs=["acyclicer","ranker","rankdir","align"],nodeNumAttrs=["width","height"],nodeDefaults={width:0,height:0},edgeNumAttrs=["minlen","weight","width","height","labeloffset"],edgeDefaults={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},edgeAttrs=["labelpos"];function selectNumberAttrs(obj,attrs){return _.mapValues(_.pick(obj,attrs),Number)}function canonicalize(attrs){var newAttrs={};return _.forEach(attrs,(function(v,k){newAttrs[k.toLowerCase()]=v})),newAttrs}},"./node_modules/dagre/lib/lodash.js":(module,__unused_webpack_exports,__webpack_require__)=>{var lodash;try{lodash={cloneDeep:__webpack_require__("./node_modules/lodash/cloneDeep.js"),constant:__webpack_require__("./node_modules/lodash/constant.js"),defaults:__webpack_require__("./node_modules/lodash/defaults.js"),each:__webpack_require__("./node_modules/lodash/each.js"),filter:__webpack_require__("./node_modules/lodash/filter.js"),find:__webpack_require__("./node_modules/lodash/find.js"),flatten:__webpack_require__("./node_modules/lodash/flatten.js"),forEach:__webpack_require__("./node_modules/lodash/forEach.js"),forIn:__webpack_require__("./node_modules/lodash/forIn.js"),has:__webpack_require__("./node_modules/lodash/has.js"),isUndefined:__webpack_require__("./node_modules/lodash/isUndefined.js"),last:__webpack_require__("./node_modules/lodash/last.js"),map:__webpack_require__("./node_modules/lodash/map.js"),mapValues:__webpack_require__("./node_modules/lodash/mapValues.js"),max:__webpack_require__("./node_modules/lodash/max.js"),merge:__webpack_require__("./node_modules/lodash/merge.js"),min:__webpack_require__("./node_modules/lodash/min.js"),minBy:__webpack_require__("./node_modules/lodash/minBy.js"),now:__webpack_require__("./node_modules/lodash/now.js"),pick:__webpack_require__("./node_modules/lodash/pick.js"),range:__webpack_require__("./node_modules/lodash/range.js"),reduce:__webpack_require__("./node_modules/lodash/reduce.js"),sortBy:__webpack_require__("./node_modules/lodash/sortBy.js"),uniqueId:__webpack_require__("./node_modules/lodash/uniqueId.js"),values:__webpack_require__("./node_modules/lodash/values.js"),zipObject:__webpack_require__("./node_modules/lodash/zipObject.js")}}catch(e){}lodash||(lodash=window._),module.exports=lodash},"./node_modules/dagre/lib/nesting-graph.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),util=__webpack_require__("./node_modules/dagre/lib/util.js");function dfs(g,root,nodeSep,weight,height,depths,v){var children=g.children(v);if(children.length){var top=util.addBorderNode(g,"_bt"),bottom=util.addBorderNode(g,"_bb"),label=g.node(v);g.setParent(top,v),label.borderTop=top,g.setParent(bottom,v),label.borderBottom=bottom,_.forEach(children,(function(child){dfs(g,root,nodeSep,weight,height,depths,child);var childNode=g.node(child),childTop=childNode.borderTop?childNode.borderTop:child,childBottom=childNode.borderBottom?childNode.borderBottom:child,thisWeight=childNode.borderTop?weight:2*weight,minlen=childTop!==childBottom?1:height-depths[v]+1;g.setEdge(top,childTop,{weight:thisWeight,minlen,nestingEdge:!0}),g.setEdge(childBottom,bottom,{weight:thisWeight,minlen,nestingEdge:!0})})),g.parent(v)||g.setEdge(root,top,{weight:0,minlen:height+depths[v]})}else v!==root&&g.setEdge(root,v,{weight:0,minlen:nodeSep})}module.exports={run:function run(g){var root=util.addDummyNode(g,"root",{},"_root"),depths=function treeDepths(g){var depths={};function dfs(v,depth){var children=g.children(v);children&&children.length&&_.forEach(children,(function(child){dfs(child,depth+1)})),depths[v]=depth}return _.forEach(g.children(),(function(v){dfs(v,1)})),depths}(g),height=_.max(_.values(depths))-1,nodeSep=2*height+1;g.graph().nestingRoot=root,_.forEach(g.edges(),(function(e){g.edge(e).minlen*=nodeSep}));var weight=function sumWeights(g){return _.reduce(g.edges(),(function(acc,e){return acc+g.edge(e).weight}),0)}(g)+1;_.forEach(g.children(),(function(child){dfs(g,root,nodeSep,weight,height,depths,child)})),g.graph().nodeRankFactor=nodeSep},cleanup:function cleanup(g){var graphLabel=g.graph();g.removeNode(graphLabel.nestingRoot),delete graphLabel.nestingRoot,_.forEach(g.edges(),(function(e){g.edge(e).nestingEdge&&g.removeEdge(e)}))}}},"./node_modules/dagre/lib/normalize.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),util=__webpack_require__("./node_modules/dagre/lib/util.js");module.exports={run:function run(g){g.graph().dummyChains=[],_.forEach(g.edges(),(function(edge){!function normalizeEdge(g,e){var dummy,attrs,i,v=e.v,vRank=g.node(v).rank,w=e.w,wRank=g.node(w).rank,name=e.name,edgeLabel=g.edge(e),labelRank=edgeLabel.labelRank;if(wRank===vRank+1)return;for(g.removeEdge(e),i=0,++vRank;vRank<wRank;++i,++vRank)edgeLabel.points=[],attrs={width:0,height:0,edgeLabel,edgeObj:e,rank:vRank},dummy=util.addDummyNode(g,"edge",attrs,"_d"),vRank===labelRank&&(attrs.width=edgeLabel.width,attrs.height=edgeLabel.height,attrs.dummy="edge-label",attrs.labelpos=edgeLabel.labelpos),g.setEdge(v,dummy,{weight:edgeLabel.weight},name),0===i&&g.graph().dummyChains.push(dummy),v=dummy;g.setEdge(v,w,{weight:edgeLabel.weight},name)}(g,edge)}))},undo:function undo(g){_.forEach(g.graph().dummyChains,(function(v){var w,node=g.node(v),origLabel=node.edgeLabel;for(g.setEdge(node.edgeObj,origLabel);node.dummy;)w=g.successors(v)[0],g.removeNode(v),origLabel.points.push({x:node.x,y:node.y}),"edge-label"===node.dummy&&(origLabel.x=node.x,origLabel.y=node.y,origLabel.width=node.width,origLabel.height=node.height),v=w,node=g.node(v)}))}}},"./node_modules/dagre/lib/order/add-subgraph-constraints.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");module.exports=function addSubgraphConstraints(g,cg,vs){var rootPrev,prev={};_.forEach(vs,(function(v){for(var parent,prevChild,child=g.parent(v);child;){if((parent=g.parent(child))?(prevChild=prev[parent],prev[parent]=child):(prevChild=rootPrev,rootPrev=child),prevChild&&prevChild!==child)return void cg.setEdge(prevChild,child);child=parent}}))}},"./node_modules/dagre/lib/order/barycenter.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");module.exports=function barycenter(g,movable){return _.map(movable,(function(v){var inV=g.inEdges(v);if(inV.length){var result=_.reduce(inV,(function(acc,e){var edge=g.edge(e),nodeU=g.node(e.v);return{sum:acc.sum+edge.weight*nodeU.order,weight:acc.weight+edge.weight}}),{sum:0,weight:0});return{v,barycenter:result.sum/result.weight,weight:result.weight}}return{v}}))}},"./node_modules/dagre/lib/order/build-layer-graph.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph;module.exports=function buildLayerGraph(g,rank,relationship){var root=function createRootNode(g){var v;for(;g.hasNode(v=_.uniqueId("_root")););return v}(g),result=new Graph({compound:!0}).setGraph({root}).setDefaultNodeLabel((function(v){return g.node(v)}));return _.forEach(g.nodes(),(function(v){var node=g.node(v),parent=g.parent(v);(node.rank===rank||node.minRank<=rank&&rank<=node.maxRank)&&(result.setNode(v),result.setParent(v,parent||root),_.forEach(g[relationship](v),(function(e){var u=e.v===v?e.w:e.v,edge=result.edge(u,v),weight=_.isUndefined(edge)?0:edge.weight;result.setEdge(u,v,{weight:g.edge(e).weight+weight})})),_.has(node,"minRank")&&result.setNode(v,{borderLeft:node.borderLeft[rank],borderRight:node.borderRight[rank]}))})),result}},"./node_modules/dagre/lib/order/cross-count.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");function twoLayerCrossCount(g,northLayer,southLayer){for(var southPos=_.zipObject(southLayer,_.map(southLayer,(function(v,i){return i}))),southEntries=_.flatten(_.map(northLayer,(function(v){return _.sortBy(_.map(g.outEdges(v),(function(e){return{pos:southPos[e.w],weight:g.edge(e).weight}})),"pos")})),!0),firstIndex=1;firstIndex<southLayer.length;)firstIndex<<=1;var treeSize=2*firstIndex-1;firstIndex-=1;var tree=_.map(new Array(treeSize),(function(){return 0})),cc=0;return _.forEach(southEntries.forEach((function(entry){var index=entry.pos+firstIndex;tree[index]+=entry.weight;for(var weightSum=0;index>0;)index%2&&(weightSum+=tree[index+1]),tree[index=index-1>>1]+=entry.weight;cc+=entry.weight*weightSum}))),cc}module.exports=function crossCount(g,layering){for(var cc=0,i=1;i<layering.length;++i)cc+=twoLayerCrossCount(g,layering[i-1],layering[i]);return cc}},"./node_modules/dagre/lib/order/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),initOrder=__webpack_require__("./node_modules/dagre/lib/order/init-order.js"),crossCount=__webpack_require__("./node_modules/dagre/lib/order/cross-count.js"),sortSubgraph=__webpack_require__("./node_modules/dagre/lib/order/sort-subgraph.js"),buildLayerGraph=__webpack_require__("./node_modules/dagre/lib/order/build-layer-graph.js"),addSubgraphConstraints=__webpack_require__("./node_modules/dagre/lib/order/add-subgraph-constraints.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph,util=__webpack_require__("./node_modules/dagre/lib/util.js");function buildLayerGraphs(g,ranks,relationship){return _.map(ranks,(function(rank){return buildLayerGraph(g,rank,relationship)}))}function sweepLayerGraphs(layerGraphs,biasRight){var cg=new Graph;_.forEach(layerGraphs,(function(lg){var root=lg.graph().root,sorted=sortSubgraph(lg,root,cg,biasRight);_.forEach(sorted.vs,(function(v,i){lg.node(v).order=i})),addSubgraphConstraints(lg,cg,sorted.vs)}))}function assignOrder(g,layering){_.forEach(layering,(function(layer){_.forEach(layer,(function(v,i){g.node(v).order=i}))}))}module.exports=function order(g){var maxRank=util.maxRank(g),downLayerGraphs=buildLayerGraphs(g,_.range(1,maxRank+1),"inEdges"),upLayerGraphs=buildLayerGraphs(g,_.range(maxRank-1,-1,-1),"outEdges"),layering=initOrder(g);assignOrder(g,layering);for(var best,bestCC=Number.POSITIVE_INFINITY,i=0,lastBest=0;lastBest<4;++i,++lastBest){sweepLayerGraphs(i%2?downLayerGraphs:upLayerGraphs,i%4>=2),layering=util.buildLayerMatrix(g);var cc=crossCount(g,layering);cc<bestCC&&(lastBest=0,best=_.cloneDeep(layering),bestCC=cc)}assignOrder(g,best)}},"./node_modules/dagre/lib/order/init-order.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");module.exports=function initOrder(g){var visited={},simpleNodes=_.filter(g.nodes(),(function(v){return!g.children(v).length})),maxRank=_.max(_.map(simpleNodes,(function(v){return g.node(v).rank}))),layers=_.map(_.range(maxRank+1),(function(){return[]}));var orderedVs=_.sortBy(simpleNodes,(function(v){return g.node(v).rank}));return _.forEach(orderedVs,(function dfs(v){if(_.has(visited,v))return;visited[v]=!0;var node=g.node(v);layers[node.rank].push(v),_.forEach(g.successors(v),dfs)})),layers}},"./node_modules/dagre/lib/order/resolve-conflicts.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");module.exports=function resolveConflicts(entries,cg){var mappedEntries={};return _.forEach(entries,(function(entry,i){var tmp=mappedEntries[entry.v]={indegree:0,in:[],out:[],vs:[entry.v],i};_.isUndefined(entry.barycenter)||(tmp.barycenter=entry.barycenter,tmp.weight=entry.weight)})),_.forEach(cg.edges(),(function(e){var entryV=mappedEntries[e.v],entryW=mappedEntries[e.w];_.isUndefined(entryV)||_.isUndefined(entryW)||(entryW.indegree++,entryV.out.push(mappedEntries[e.w]))})),function doResolveConflicts(sourceSet){var entries=[];function handleIn(vEntry){return function(uEntry){uEntry.merged||(_.isUndefined(uEntry.barycenter)||_.isUndefined(vEntry.barycenter)||uEntry.barycenter>=vEntry.barycenter)&&function mergeEntries(target,source){var sum=0,weight=0;target.weight&&(sum+=target.barycenter*target.weight,weight+=target.weight);source.weight&&(sum+=source.barycenter*source.weight,weight+=source.weight);target.vs=source.vs.concat(target.vs),target.barycenter=sum/weight,target.weight=weight,target.i=Math.min(source.i,target.i),source.merged=!0}(vEntry,uEntry)}}function handleOut(vEntry){return function(wEntry){wEntry.in.push(vEntry),0===--wEntry.indegree&&sourceSet.push(wEntry)}}for(;sourceSet.length;){var entry=sourceSet.pop();entries.push(entry),_.forEach(entry.in.reverse(),handleIn(entry)),_.forEach(entry.out,handleOut(entry))}return _.map(_.filter(entries,(function(entry){return!entry.merged})),(function(entry){return _.pick(entry,["vs","i","barycenter","weight"])}))}(_.filter(mappedEntries,(function(entry){return!entry.indegree})))}},"./node_modules/dagre/lib/order/sort-subgraph.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),barycenter=__webpack_require__("./node_modules/dagre/lib/order/barycenter.js"),resolveConflicts=__webpack_require__("./node_modules/dagre/lib/order/resolve-conflicts.js"),sort=__webpack_require__("./node_modules/dagre/lib/order/sort.js");module.exports=function sortSubgraph(g,v,cg,biasRight){var movable=g.children(v),node=g.node(v),bl=node?node.borderLeft:void 0,br=node?node.borderRight:void 0,subgraphs={};bl&&(movable=_.filter(movable,(function(w){return w!==bl&&w!==br})));var barycenters=barycenter(g,movable);_.forEach(barycenters,(function(entry){if(g.children(entry.v).length){var subgraphResult=sortSubgraph(g,entry.v,cg,biasRight);subgraphs[entry.v]=subgraphResult,_.has(subgraphResult,"barycenter")&&function mergeBarycenters(target,other){_.isUndefined(target.barycenter)?(target.barycenter=other.barycenter,target.weight=other.weight):(target.barycenter=(target.barycenter*target.weight+other.barycenter*other.weight)/(target.weight+other.weight),target.weight+=other.weight)}(entry,subgraphResult)}}));var entries=resolveConflicts(barycenters,cg);!function expandSubgraphs(entries,subgraphs){_.forEach(entries,(function(entry){entry.vs=_.flatten(entry.vs.map((function(v){return subgraphs[v]?subgraphs[v].vs:v})),!0)}))}(entries,subgraphs);var result=sort(entries,biasRight);if(bl&&(result.vs=_.flatten([bl,result.vs,br],!0),g.predecessors(bl).length)){var blPred=g.node(g.predecessors(bl)[0]),brPred=g.node(g.predecessors(br)[0]);_.has(result,"barycenter")||(result.barycenter=0,result.weight=0),result.barycenter=(result.barycenter*result.weight+blPred.order+brPred.order)/(result.weight+2),result.weight+=2}return result}},"./node_modules/dagre/lib/order/sort.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),util=__webpack_require__("./node_modules/dagre/lib/util.js");function consumeUnsortable(vs,unsortable,index){for(var last;unsortable.length&&(last=_.last(unsortable)).i<=index;)unsortable.pop(),vs.push(last.vs),index++;return index}module.exports=function sort(entries,biasRight){var parts=util.partition(entries,(function(entry){return _.has(entry,"barycenter")})),sortable=parts.lhs,unsortable=_.sortBy(parts.rhs,(function(entry){return-entry.i})),vs=[],sum=0,weight=0,vsIndex=0;sortable.sort(function compareWithBias(bias){return function(entryV,entryW){return entryV.barycenter<entryW.barycenter?-1:entryV.barycenter>entryW.barycenter?1:bias?entryW.i-entryV.i:entryV.i-entryW.i}}(!!biasRight)),vsIndex=consumeUnsortable(vs,unsortable,vsIndex),_.forEach(sortable,(function(entry){vsIndex+=entry.vs.length,vs.push(entry.vs),sum+=entry.barycenter*entry.weight,weight+=entry.weight,vsIndex=consumeUnsortable(vs,unsortable,vsIndex)}));var result={vs:_.flatten(vs,!0)};weight&&(result.barycenter=sum/weight,result.weight=weight);return result}},"./node_modules/dagre/lib/parent-dummy-chains.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");module.exports=function parentDummyChains(g){var postorderNums=function postorder(g){var result={},lim=0;function dfs(v){var low=lim;_.forEach(g.children(v),dfs),result[v]={low,lim:lim++}}return _.forEach(g.children(),dfs),result}(g);_.forEach(g.graph().dummyChains,(function(v){for(var node=g.node(v),edgeObj=node.edgeObj,pathData=function findPath(g,postorderNums,v,w){var parent,lca,vPath=[],wPath=[],low=Math.min(postorderNums[v].low,postorderNums[w].low),lim=Math.max(postorderNums[v].lim,postorderNums[w].lim);parent=v;do{parent=g.parent(parent),vPath.push(parent)}while(parent&&(postorderNums[parent].low>low||lim>postorderNums[parent].lim));lca=parent,parent=w;for(;(parent=g.parent(parent))!==lca;)wPath.push(parent);return{path:vPath.concat(wPath.reverse()),lca}}(g,postorderNums,edgeObj.v,edgeObj.w),path=pathData.path,lca=pathData.lca,pathIdx=0,pathV=path[pathIdx],ascending=!0;v!==edgeObj.w;){if(node=g.node(v),ascending){for(;(pathV=path[pathIdx])!==lca&&g.node(pathV).maxRank<node.rank;)pathIdx++;pathV===lca&&(ascending=!1)}if(!ascending){for(;pathIdx<path.length-1&&g.node(pathV=path[pathIdx+1]).minRank<=node.rank;)pathIdx++;pathV=path[pathIdx]}g.setParent(v,pathV),v=g.successors(v)[0]}}))}},"./node_modules/dagre/lib/position/bk.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph,util=__webpack_require__("./node_modules/dagre/lib/util.js");function findType1Conflicts(g,layering){var conflicts={};return _.reduce(layering,(function visitLayer(prevLayer,layer){var k0=0,scanPos=0,prevLayerLength=prevLayer.length,lastNode=_.last(layer);return _.forEach(layer,(function(v,i){var w=function findOtherInnerSegmentNode(g,v){if(g.node(v).dummy)return _.find(g.predecessors(v),(function(u){return g.node(u).dummy}))}(g,v),k1=w?g.node(w).order:prevLayerLength;(w||v===lastNode)&&(_.forEach(layer.slice(scanPos,i+1),(function(scanNode){_.forEach(g.predecessors(scanNode),(function(u){var uLabel=g.node(u),uPos=uLabel.order;!(uPos<k0||k1<uPos)||uLabel.dummy&&g.node(scanNode).dummy||addConflict(conflicts,u,scanNode)}))})),scanPos=i+1,k0=k1)})),layer})),conflicts}function findType2Conflicts(g,layering){var conflicts={};function scan(south,southPos,southEnd,prevNorthBorder,nextNorthBorder){var v;_.forEach(_.range(southPos,southEnd),(function(i){v=south[i],g.node(v).dummy&&_.forEach(g.predecessors(v),(function(u){var uNode=g.node(u);uNode.dummy&&(uNode.order<prevNorthBorder||uNode.order>nextNorthBorder)&&addConflict(conflicts,u,v)}))}))}return _.reduce(layering,(function visitLayer(north,south){var nextNorthPos,prevNorthPos=-1,southPos=0;return _.forEach(south,(function(v,southLookahead){if("border"===g.node(v).dummy){var predecessors=g.predecessors(v);predecessors.length&&(nextNorthPos=g.node(predecessors[0]).order,scan(south,southPos,southLookahead,prevNorthPos,nextNorthPos),southPos=southLookahead,prevNorthPos=nextNorthPos)}scan(south,southPos,south.length,nextNorthPos,north.length)})),south})),conflicts}function addConflict(conflicts,v,w){if(v>w){var tmp=v;v=w,w=tmp}var conflictsV=conflicts[v];conflictsV||(conflicts[v]=conflictsV={}),conflictsV[w]=!0}function hasConflict(conflicts,v,w){if(v>w){var tmp=v;v=w,w=tmp}return _.has(conflicts[v],w)}function verticalAlignment(g,layering,conflicts,neighborFn){var root={},align={},pos={};return _.forEach(layering,(function(layer){_.forEach(layer,(function(v,order){root[v]=v,align[v]=v,pos[v]=order}))})),_.forEach(layering,(function(layer){var prevIdx=-1;_.forEach(layer,(function(v){var ws=neighborFn(v);if(ws.length){ws=_.sortBy(ws,(function(w){return pos[w]}));for(var mp=(ws.length-1)/2,i=Math.floor(mp),il=Math.ceil(mp);i<=il;++i){var w=ws[i];align[v]===v&&prevIdx<pos[w]&&!hasConflict(conflicts,v,w)&&(align[w]=v,align[v]=root[v]=root[w],prevIdx=pos[w])}}}))})),{root,align}}function horizontalCompaction(g,layering,root,align,reverseSep){var xs={},blockG=function buildBlockGraph(g,layering,root,reverseSep){var blockGraph=new Graph,graphLabel=g.graph(),sepFn=function sep(nodeSep,edgeSep,reverseSep){return function(g,v,w){var delta,vLabel=g.node(v),wLabel=g.node(w),sum=0;if(sum+=vLabel.width/2,_.has(vLabel,"labelpos"))switch(vLabel.labelpos.toLowerCase()){case"l":delta=-vLabel.width/2;break;case"r":delta=vLabel.width/2}if(delta&&(sum+=reverseSep?delta:-delta),delta=0,sum+=(vLabel.dummy?edgeSep:nodeSep)/2,sum+=(wLabel.dummy?edgeSep:nodeSep)/2,sum+=wLabel.width/2,_.has(wLabel,"labelpos"))switch(wLabel.labelpos.toLowerCase()){case"l":delta=wLabel.width/2;break;case"r":delta=-wLabel.width/2}return delta&&(sum+=reverseSep?delta:-delta),delta=0,sum}}(graphLabel.nodesep,graphLabel.edgesep,reverseSep);return _.forEach(layering,(function(layer){var u;_.forEach(layer,(function(v){var vRoot=root[v];if(blockGraph.setNode(vRoot),u){var uRoot=root[u],prevMax=blockGraph.edge(uRoot,vRoot);blockGraph.setEdge(uRoot,vRoot,Math.max(sepFn(g,v,u),prevMax||0))}u=v}))})),blockGraph}(g,layering,root,reverseSep),borderType=reverseSep?"borderLeft":"borderRight";function iterate(setXsFunc,nextNodesFunc){for(var stack=blockG.nodes(),elem=stack.pop(),visited={};elem;)visited[elem]?setXsFunc(elem):(visited[elem]=!0,stack.push(elem),stack=stack.concat(nextNodesFunc(elem))),elem=stack.pop()}return iterate((function pass1(elem){xs[elem]=blockG.inEdges(elem).reduce((function(acc,e){return Math.max(acc,xs[e.v]+blockG.edge(e))}),0)}),blockG.predecessors.bind(blockG)),iterate((function pass2(elem){var min=blockG.outEdges(elem).reduce((function(acc,e){return Math.min(acc,xs[e.w]-blockG.edge(e))}),Number.POSITIVE_INFINITY),node=g.node(elem);min!==Number.POSITIVE_INFINITY&&node.borderType!==borderType&&(xs[elem]=Math.max(xs[elem],min))}),blockG.successors.bind(blockG)),_.forEach(align,(function(v){xs[v]=xs[root[v]]})),xs}function findSmallestWidthAlignment(g,xss){return _.minBy(_.values(xss),(function(xs){var max=Number.NEGATIVE_INFINITY,min=Number.POSITIVE_INFINITY;return _.forIn(xs,(function(x,v){var halfWidth=function width(g,v){return g.node(v).width}(g,v)/2;max=Math.max(x+halfWidth,max),min=Math.min(x-halfWidth,min)})),max-min}))}function alignCoordinates(xss,alignTo){var alignToVals=_.values(alignTo),alignToMin=_.min(alignToVals),alignToMax=_.max(alignToVals);_.forEach(["u","d"],(function(vert){_.forEach(["l","r"],(function(horiz){var delta,alignment=vert+horiz,xs=xss[alignment];if(xs!==alignTo){var xsVals=_.values(xs);(delta="l"===horiz?alignToMin-_.min(xsVals):alignToMax-_.max(xsVals))&&(xss[alignment]=_.mapValues(xs,(function(x){return x+delta})))}}))}))}function balance(xss,align){return _.mapValues(xss.ul,(function(ignore,v){if(align)return xss[align.toLowerCase()][v];var xs=_.sortBy(_.map(xss,v));return(xs[1]+xs[2])/2}))}module.exports={positionX:function positionX(g){var adjustedLayering,layering=util.buildLayerMatrix(g),conflicts=_.merge(findType1Conflicts(g,layering),findType2Conflicts(g,layering)),xss={};_.forEach(["u","d"],(function(vert){adjustedLayering="u"===vert?layering:_.values(layering).reverse(),_.forEach(["l","r"],(function(horiz){"r"===horiz&&(adjustedLayering=_.map(adjustedLayering,(function(inner){return _.values(inner).reverse()})));var neighborFn=("u"===vert?g.predecessors:g.successors).bind(g),align=verticalAlignment(g,adjustedLayering,conflicts,neighborFn),xs=horizontalCompaction(g,adjustedLayering,align.root,align.align,"r"===horiz);"r"===horiz&&(xs=_.mapValues(xs,(function(x){return-x}))),xss[vert+horiz]=xs}))}));var smallestWidth=findSmallestWidthAlignment(g,xss);return alignCoordinates(xss,smallestWidth),balance(xss,g.graph().align)},findType1Conflicts,findType2Conflicts,addConflict,hasConflict,verticalAlignment,horizontalCompaction,alignCoordinates,findSmallestWidthAlignment,balance}},"./node_modules/dagre/lib/position/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),util=__webpack_require__("./node_modules/dagre/lib/util.js"),positionX=__webpack_require__("./node_modules/dagre/lib/position/bk.js").positionX;module.exports=function position(g){(function positionY(g){var layering=util.buildLayerMatrix(g),rankSep=g.graph().ranksep,prevY=0;_.forEach(layering,(function(layer){var maxHeight=_.max(_.map(layer,(function(v){return g.node(v).height})));_.forEach(layer,(function(v){g.node(v).y=prevY+maxHeight/2})),prevY+=maxHeight+rankSep}))})(g=util.asNonCompoundGraph(g)),_.forEach(positionX(g),(function(x,v){g.node(v).x=x}))}},"./node_modules/dagre/lib/rank/feasible-tree.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph,slack=__webpack_require__("./node_modules/dagre/lib/rank/util.js").slack;function tightTree(t,g){return _.forEach(t.nodes(),(function dfs(v){_.forEach(g.nodeEdges(v),(function(e){var edgeV=e.v,w=v===edgeV?e.w:edgeV;t.hasNode(w)||slack(g,e)||(t.setNode(w,{}),t.setEdge(v,w,{}),dfs(w))}))})),t.nodeCount()}function findMinSlackEdge(t,g){return _.minBy(g.edges(),(function(e){if(t.hasNode(e.v)!==t.hasNode(e.w))return slack(g,e)}))}function shiftRanks(t,g,delta){_.forEach(t.nodes(),(function(v){g.node(v).rank+=delta}))}module.exports=function feasibleTree(g){var edge,delta,t=new Graph({directed:!1}),start=g.nodes()[0],size=g.nodeCount();t.setNode(start,{});for(;tightTree(t,g)<size;)edge=findMinSlackEdge(t,g),delta=t.hasNode(edge.v)?slack(g,edge):-slack(g,edge),shiftRanks(t,g,delta);return t}},"./node_modules/dagre/lib/rank/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var longestPath=__webpack_require__("./node_modules/dagre/lib/rank/util.js").longestPath,feasibleTree=__webpack_require__("./node_modules/dagre/lib/rank/feasible-tree.js"),networkSimplex=__webpack_require__("./node_modules/dagre/lib/rank/network-simplex.js");module.exports=function rank(g){switch(g.graph().ranker){case"network-simplex":default:networkSimplexRanker(g);break;case"tight-tree":!function tightTreeRanker(g){longestPath(g),feasibleTree(g)}(g);break;case"longest-path":longestPathRanker(g)}};var longestPathRanker=longestPath;function networkSimplexRanker(g){networkSimplex(g)}},"./node_modules/dagre/lib/rank/network-simplex.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),feasibleTree=__webpack_require__("./node_modules/dagre/lib/rank/feasible-tree.js"),slack=__webpack_require__("./node_modules/dagre/lib/rank/util.js").slack,initRank=__webpack_require__("./node_modules/dagre/lib/rank/util.js").longestPath,preorder=__webpack_require__("./node_modules/dagre/lib/graphlib.js").alg.preorder,postorder=__webpack_require__("./node_modules/dagre/lib/graphlib.js").alg.postorder,simplify=__webpack_require__("./node_modules/dagre/lib/util.js").simplify;function networkSimplex(g){g=simplify(g),initRank(g);var e,t=feasibleTree(g);for(initLowLimValues(t),initCutValues(t,g);e=leaveEdge(t);)exchangeEdges(t,g,e,enterEdge(t,g,e))}function initCutValues(t,g){var vs=postorder(t,t.nodes());vs=vs.slice(0,vs.length-1),_.forEach(vs,(function(v){!function assignCutValue(t,g,child){var childLab=t.node(child),parent=childLab.parent;t.edge(child,parent).cutvalue=calcCutValue(t,g,child)}(t,g,v)}))}function calcCutValue(t,g,child){var parent=t.node(child).parent,childIsTail=!0,graphEdge=g.edge(child,parent),cutValue=0;return graphEdge||(childIsTail=!1,graphEdge=g.edge(parent,child)),cutValue=graphEdge.weight,_.forEach(g.nodeEdges(child),(function(e){var isOutEdge=e.v===child,other=isOutEdge?e.w:e.v;if(other!==parent){var pointsToHead=isOutEdge===childIsTail,otherWeight=g.edge(e).weight;if(cutValue+=pointsToHead?otherWeight:-otherWeight,function isTreeEdge(tree,u,v){return tree.hasEdge(u,v)}(t,child,other)){var otherCutValue=t.edge(child,other).cutvalue;cutValue+=pointsToHead?-otherCutValue:otherCutValue}}})),cutValue}function initLowLimValues(tree,root){arguments.length<2&&(root=tree.nodes()[0]),dfsAssignLowLim(tree,{},1,root)}function dfsAssignLowLim(tree,visited,nextLim,v,parent){var low=nextLim,label=tree.node(v);return visited[v]=!0,_.forEach(tree.neighbors(v),(function(w){_.has(visited,w)||(nextLim=dfsAssignLowLim(tree,visited,nextLim,w,v))})),label.low=low,label.lim=nextLim++,parent?label.parent=parent:delete label.parent,nextLim}function leaveEdge(tree){return _.find(tree.edges(),(function(e){return tree.edge(e).cutvalue<0}))}function enterEdge(t,g,edge){var v=edge.v,w=edge.w;g.hasEdge(v,w)||(v=edge.w,w=edge.v);var vLabel=t.node(v),wLabel=t.node(w),tailLabel=vLabel,flip=!1;vLabel.lim>wLabel.lim&&(tailLabel=wLabel,flip=!0);var candidates=_.filter(g.edges(),(function(edge){return flip===isDescendant(t,t.node(edge.v),tailLabel)&&flip!==isDescendant(t,t.node(edge.w),tailLabel)}));return _.minBy(candidates,(function(edge){return slack(g,edge)}))}function exchangeEdges(t,g,e,f){var v=e.v,w=e.w;t.removeEdge(v,w),t.setEdge(f.v,f.w,{}),initLowLimValues(t),initCutValues(t,g),function updateRanks(t,g){var root=_.find(t.nodes(),(function(v){return!g.node(v).parent})),vs=preorder(t,root);vs=vs.slice(1),_.forEach(vs,(function(v){var parent=t.node(v).parent,edge=g.edge(v,parent),flipped=!1;edge||(edge=g.edge(parent,v),flipped=!0),g.node(v).rank=g.node(parent).rank+(flipped?edge.minlen:-edge.minlen)}))}(t,g)}function isDescendant(tree,vLabel,rootLabel){return rootLabel.low<=vLabel.lim&&vLabel.lim<=rootLabel.lim}module.exports=networkSimplex,networkSimplex.initLowLimValues=initLowLimValues,networkSimplex.initCutValues=initCutValues,networkSimplex.calcCutValue=calcCutValue,networkSimplex.leaveEdge=leaveEdge,networkSimplex.enterEdge=enterEdge,networkSimplex.exchangeEdges=exchangeEdges},"./node_modules/dagre/lib/rank/util.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");module.exports={longestPath:function longestPath(g){var visited={};_.forEach(g.sources(),(function dfs(v){var label=g.node(v);if(_.has(visited,v))return label.rank;visited[v]=!0;var rank=_.min(_.map(g.outEdges(v),(function(e){return dfs(e.w)-g.edge(e).minlen})));return rank!==Number.POSITIVE_INFINITY&&null!=rank||(rank=0),label.rank=rank}))},slack:function slack(g,e){return g.node(e.w).rank-g.node(e.v).rank-g.edge(e).minlen}}},"./node_modules/dagre/lib/util.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var console=__webpack_require__("./node_modules/console-browserify/index.js"),_=__webpack_require__("./node_modules/dagre/lib/lodash.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph;function addDummyNode(g,type,attrs,name){var v;do{v=_.uniqueId(name)}while(g.hasNode(v));return attrs.dummy=type,g.setNode(v,attrs),v}function maxRank(g){return _.max(_.map(g.nodes(),(function(v){var rank=g.node(v).rank;if(!_.isUndefined(rank))return rank})))}module.exports={addDummyNode,simplify:function simplify(g){var simplified=(new Graph).setGraph(g.graph());return _.forEach(g.nodes(),(function(v){simplified.setNode(v,g.node(v))})),_.forEach(g.edges(),(function(e){var simpleLabel=simplified.edge(e.v,e.w)||{weight:0,minlen:1},label=g.edge(e);simplified.setEdge(e.v,e.w,{weight:simpleLabel.weight+label.weight,minlen:Math.max(simpleLabel.minlen,label.minlen)})})),simplified},asNonCompoundGraph:function asNonCompoundGraph(g){var simplified=new Graph({multigraph:g.isMultigraph()}).setGraph(g.graph());return _.forEach(g.nodes(),(function(v){g.children(v).length||simplified.setNode(v,g.node(v))})),_.forEach(g.edges(),(function(e){simplified.setEdge(e,g.edge(e))})),simplified},successorWeights:function successorWeights(g){var weightMap=_.map(g.nodes(),(function(v){var sucs={};return _.forEach(g.outEdges(v),(function(e){sucs[e.w]=(sucs[e.w]||0)+g.edge(e).weight})),sucs}));return _.zipObject(g.nodes(),weightMap)},predecessorWeights:function predecessorWeights(g){var weightMap=_.map(g.nodes(),(function(v){var preds={};return _.forEach(g.inEdges(v),(function(e){preds[e.v]=(preds[e.v]||0)+g.edge(e).weight})),preds}));return _.zipObject(g.nodes(),weightMap)},intersectRect:function intersectRect(rect,point){var sx,sy,x=rect.x,y=rect.y,dx=point.x-x,dy=point.y-y,w=rect.width/2,h=rect.height/2;if(!dx&&!dy)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(dy)*w>Math.abs(dx)*h?(dy<0&&(h=-h),sx=h*dx/dy,sy=h):(dx<0&&(w=-w),sx=w,sy=w*dy/dx);return{x:x+sx,y:y+sy}},buildLayerMatrix:function buildLayerMatrix(g){var layering=_.map(_.range(maxRank(g)+1),(function(){return[]}));return _.forEach(g.nodes(),(function(v){var node=g.node(v),rank=node.rank;_.isUndefined(rank)||(layering[rank][node.order]=v)})),layering},normalizeRanks:function normalizeRanks(g){var min=_.min(_.map(g.nodes(),(function(v){return g.node(v).rank})));_.forEach(g.nodes(),(function(v){var node=g.node(v);_.has(node,"rank")&&(node.rank-=min)}))},removeEmptyRanks:function removeEmptyRanks(g){var offset=_.min(_.map(g.nodes(),(function(v){return g.node(v).rank}))),layers=[];_.forEach(g.nodes(),(function(v){var rank=g.node(v).rank-offset;layers[rank]||(layers[rank]=[]),layers[rank].push(v)}));var delta=0,nodeRankFactor=g.graph().nodeRankFactor;_.forEach(layers,(function(vs,i){_.isUndefined(vs)&&i%nodeRankFactor!==0?--delta:delta&&_.forEach(vs,(function(v){g.node(v).rank+=delta}))}))},addBorderNode:function addBorderNode(g,prefix,rank,order){var node={width:0,height:0};arguments.length>=4&&(node.rank=rank,node.order=order);return addDummyNode(g,"border",node,prefix)},maxRank,partition:function partition(collection,fn){var result={lhs:[],rhs:[]};return _.forEach(collection,(function(value){fn(value)?result.lhs.push(value):result.rhs.push(value)})),result},time:function time(name,fn){var start=_.now();try{return fn()}finally{console.log(name+" time: "+(_.now()-start)+"ms")}},notime:function notime(name,fn){return fn()}}},"./node_modules/dagre/lib/version.js":module=>{module.exports="0.8.5"},"./node_modules/graphlib/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var lib=__webpack_require__("./node_modules/graphlib/lib/index.js");module.exports={Graph:lib.Graph,json:__webpack_require__("./node_modules/graphlib/lib/json.js"),alg:__webpack_require__("./node_modules/graphlib/lib/alg/index.js"),version:lib.version}},"./node_modules/graphlib/lib/alg/components.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js");module.exports=function components(g){var cmpt,visited={},cmpts=[];function dfs(v){_.has(visited,v)||(visited[v]=!0,cmpt.push(v),_.each(g.successors(v),dfs),_.each(g.predecessors(v),dfs))}return _.each(g.nodes(),(function(v){cmpt=[],dfs(v),cmpt.length&&cmpts.push(cmpt)})),cmpts}},"./node_modules/graphlib/lib/alg/dfs.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js");function doDfs(g,v,postorder,visited,navigation,acc){_.has(visited,v)||(visited[v]=!0,postorder||acc.push(v),_.each(navigation(v),(function(w){doDfs(g,w,postorder,visited,navigation,acc)})),postorder&&acc.push(v))}module.exports=function dfs(g,vs,order){_.isArray(vs)||(vs=[vs]);var navigation=(g.isDirected()?g.successors:g.neighbors).bind(g),acc=[],visited={};return _.each(vs,(function(v){if(!g.hasNode(v))throw new Error("Graph does not have node: "+v);doDfs(g,v,"post"===order,visited,navigation,acc)})),acc}},"./node_modules/graphlib/lib/alg/dijkstra-all.js":(module,__unused_webpack_exports,__webpack_require__)=>{var dijkstra=__webpack_require__("./node_modules/graphlib/lib/alg/dijkstra.js"),_=__webpack_require__("./node_modules/graphlib/lib/lodash.js");module.exports=function dijkstraAll(g,weightFunc,edgeFunc){return _.transform(g.nodes(),(function(acc,v){acc[v]=dijkstra(g,v,weightFunc,edgeFunc)}),{})}},"./node_modules/graphlib/lib/alg/dijkstra.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js"),PriorityQueue=__webpack_require__("./node_modules/graphlib/lib/data/priority-queue.js");module.exports=function dijkstra(g,source,weightFn,edgeFn){return function runDijkstra(g,source,weightFn,edgeFn){var v,vEntry,results={},pq=new PriorityQueue,updateNeighbors=function(edge){var w=edge.v!==v?edge.v:edge.w,wEntry=results[w],weight=weightFn(edge),distance=vEntry.distance+weight;if(weight<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+edge+" Weight: "+weight);distance<wEntry.distance&&(wEntry.distance=distance,wEntry.predecessor=v,pq.decrease(w,distance))};g.nodes().forEach((function(v){var distance=v===source?0:Number.POSITIVE_INFINITY;results[v]={distance},pq.add(v,distance)}));for(;pq.size()>0&&(v=pq.removeMin(),(vEntry=results[v]).distance!==Number.POSITIVE_INFINITY);)edgeFn(v).forEach(updateNeighbors);return results}(g,String(source),weightFn||DEFAULT_WEIGHT_FUNC,edgeFn||function(v){return g.outEdges(v)})};var DEFAULT_WEIGHT_FUNC=_.constant(1)},"./node_modules/graphlib/lib/alg/find-cycles.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js"),tarjan=__webpack_require__("./node_modules/graphlib/lib/alg/tarjan.js");module.exports=function findCycles(g){return _.filter(tarjan(g),(function(cmpt){return cmpt.length>1||1===cmpt.length&&g.hasEdge(cmpt[0],cmpt[0])}))}},"./node_modules/graphlib/lib/alg/floyd-warshall.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js");module.exports=function floydWarshall(g,weightFn,edgeFn){return function runFloydWarshall(g,weightFn,edgeFn){var results={},nodes=g.nodes();return nodes.forEach((function(v){results[v]={},results[v][v]={distance:0},nodes.forEach((function(w){v!==w&&(results[v][w]={distance:Number.POSITIVE_INFINITY})})),edgeFn(v).forEach((function(edge){var w=edge.v===v?edge.w:edge.v,d=weightFn(edge);results[v][w]={distance:d,predecessor:v}}))})),nodes.forEach((function(k){var rowK=results[k];nodes.forEach((function(i){var rowI=results[i];nodes.forEach((function(j){var ik=rowI[k],kj=rowK[j],ij=rowI[j],altDistance=ik.distance+kj.distance;altDistance<ij.distance&&(ij.distance=altDistance,ij.predecessor=kj.predecessor)}))}))})),results}(g,weightFn||DEFAULT_WEIGHT_FUNC,edgeFn||function(v){return g.outEdges(v)})};var DEFAULT_WEIGHT_FUNC=_.constant(1)},"./node_modules/graphlib/lib/alg/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports={components:__webpack_require__("./node_modules/graphlib/lib/alg/components.js"),dijkstra:__webpack_require__("./node_modules/graphlib/lib/alg/dijkstra.js"),dijkstraAll:__webpack_require__("./node_modules/graphlib/lib/alg/dijkstra-all.js"),findCycles:__webpack_require__("./node_modules/graphlib/lib/alg/find-cycles.js"),floydWarshall:__webpack_require__("./node_modules/graphlib/lib/alg/floyd-warshall.js"),isAcyclic:__webpack_require__("./node_modules/graphlib/lib/alg/is-acyclic.js"),postorder:__webpack_require__("./node_modules/graphlib/lib/alg/postorder.js"),preorder:__webpack_require__("./node_modules/graphlib/lib/alg/preorder.js"),prim:__webpack_require__("./node_modules/graphlib/lib/alg/prim.js"),tarjan:__webpack_require__("./node_modules/graphlib/lib/alg/tarjan.js"),topsort:__webpack_require__("./node_modules/graphlib/lib/alg/topsort.js")}},"./node_modules/graphlib/lib/alg/is-acyclic.js":(module,__unused_webpack_exports,__webpack_require__)=>{var topsort=__webpack_require__("./node_modules/graphlib/lib/alg/topsort.js");module.exports=function isAcyclic(g){try{topsort(g)}catch(e){if(e instanceof topsort.CycleException)return!1;throw e}return!0}},"./node_modules/graphlib/lib/alg/postorder.js":(module,__unused_webpack_exports,__webpack_require__)=>{var dfs=__webpack_require__("./node_modules/graphlib/lib/alg/dfs.js");module.exports=function postorder(g,vs){return dfs(g,vs,"post")}},"./node_modules/graphlib/lib/alg/preorder.js":(module,__unused_webpack_exports,__webpack_require__)=>{var dfs=__webpack_require__("./node_modules/graphlib/lib/alg/dfs.js");module.exports=function preorder(g,vs){return dfs(g,vs,"pre")}},"./node_modules/graphlib/lib/alg/prim.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js"),Graph=__webpack_require__("./node_modules/graphlib/lib/graph.js"),PriorityQueue=__webpack_require__("./node_modules/graphlib/lib/data/priority-queue.js");module.exports=function prim(g,weightFunc){var v,result=new Graph,parents={},pq=new PriorityQueue;function updateNeighbors(edge){var w=edge.v===v?edge.w:edge.v,pri=pq.priority(w);if(void 0!==pri){var edgeWeight=weightFunc(edge);edgeWeight<pri&&(parents[w]=v,pq.decrease(w,edgeWeight))}}if(0===g.nodeCount())return result;_.each(g.nodes(),(function(v){pq.add(v,Number.POSITIVE_INFINITY),result.setNode(v)})),pq.decrease(g.nodes()[0],0);var init=!1;for(;pq.size()>0;){if(v=pq.removeMin(),_.has(parents,v))result.setEdge(v,parents[v]);else{if(init)throw new Error("Input graph is not connected: "+g);init=!0}g.nodeEdges(v).forEach(updateNeighbors)}return result}},"./node_modules/graphlib/lib/alg/tarjan.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js");module.exports=function tarjan(g){var index=0,stack=[],visited={},results=[];function dfs(v){var entry=visited[v]={onStack:!0,lowlink:index,index:index++};if(stack.push(v),g.successors(v).forEach((function(w){_.has(visited,w)?visited[w].onStack&&(entry.lowlink=Math.min(entry.lowlink,visited[w].index)):(dfs(w),entry.lowlink=Math.min(entry.lowlink,visited[w].lowlink))})),entry.lowlink===entry.index){var w,cmpt=[];do{w=stack.pop(),visited[w].onStack=!1,cmpt.push(w)}while(v!==w);results.push(cmpt)}}return g.nodes().forEach((function(v){_.has(visited,v)||dfs(v)})),results}},"./node_modules/graphlib/lib/alg/topsort.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js");function topsort(g){var visited={},stack={},results=[];if(_.each(g.sinks(),(function visit(node){if(_.has(stack,node))throw new CycleException;_.has(visited,node)||(stack[node]=!0,visited[node]=!0,_.each(g.predecessors(node),visit),delete stack[node],results.push(node))})),_.size(visited)!==g.nodeCount())throw new CycleException;return results}function CycleException(){}module.exports=topsort,topsort.CycleException=CycleException,CycleException.prototype=new Error},"./node_modules/graphlib/lib/data/priority-queue.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js");function PriorityQueue(){this._arr=[],this._keyIndices={}}module.exports=PriorityQueue,PriorityQueue.prototype.size=function(){return this._arr.length},PriorityQueue.prototype.keys=function(){return this._arr.map((function(x){return x.key}))},PriorityQueue.prototype.has=function(key){return _.has(this._keyIndices,key)},PriorityQueue.prototype.priority=function(key){var index=this._keyIndices[key];if(void 0!==index)return this._arr[index].priority},PriorityQueue.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},PriorityQueue.prototype.add=function(key,priority){var keyIndices=this._keyIndices;if(key=String(key),!_.has(keyIndices,key)){var arr=this._arr,index=arr.length;return keyIndices[key]=index,arr.push({key,priority}),this._decrease(index),!0}return!1},PriorityQueue.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var min=this._arr.pop();return delete this._keyIndices[min.key],this._heapify(0),min.key},PriorityQueue.prototype.decrease=function(key,priority){var index=this._keyIndices[key];if(priority>this._arr[index].priority)throw new Error("New priority is greater than current priority. Key: "+key+" Old: "+this._arr[index].priority+" New: "+priority);this._arr[index].priority=priority,this._decrease(index)},PriorityQueue.prototype._heapify=function(i){var arr=this._arr,l=2*i,r=l+1,largest=i;l<arr.length&&(largest=arr[l].priority<arr[largest].priority?l:largest,r<arr.length&&(largest=arr[r].priority<arr[largest].priority?r:largest),largest!==i&&(this._swap(i,largest),this._heapify(largest)))},PriorityQueue.prototype._decrease=function(index){for(var parent,arr=this._arr,priority=arr[index].priority;0!==index&&!(arr[parent=index>>1].priority<priority);)this._swap(index,parent),index=parent},PriorityQueue.prototype._swap=function(i,j){var arr=this._arr,keyIndices=this._keyIndices,origArrI=arr[i],origArrJ=arr[j];arr[i]=origArrJ,arr[j]=origArrI,keyIndices[origArrJ.key]=i,keyIndices[origArrI.key]=j}},"./node_modules/graphlib/lib/graph.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js");module.exports=Graph;var GRAPH_NODE="\0";function Graph(opts){this._isDirected=!_.has(opts,"directed")||opts.directed,this._isMultigraph=!!_.has(opts,"multigraph")&&opts.multigraph,this._isCompound=!!_.has(opts,"compound")&&opts.compound,this._label=void 0,this._defaultNodeLabelFn=_.constant(void 0),this._defaultEdgeLabelFn=_.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[GRAPH_NODE]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function incrementOrInitEntry(map,k){map[k]?map[k]++:map[k]=1}function decrementOrRemoveEntry(map,k){--map[k]||delete map[k]}function edgeArgsToId(isDirected,v_,w_,name){var v=""+v_,w=""+w_;if(!isDirected&&v>w){var tmp=v;v=w,w=tmp}return v+""+w+""+(_.isUndefined(name)?"\0":name)}function edgeObjToId(isDirected,edgeObj){return edgeArgsToId(isDirected,edgeObj.v,edgeObj.w,edgeObj.name)}Graph.prototype._nodeCount=0,Graph.prototype._edgeCount=0,Graph.prototype.isDirected=function(){return this._isDirected},Graph.prototype.isMultigraph=function(){return this._isMultigraph},Graph.prototype.isCompound=function(){return this._isCompound},Graph.prototype.setGraph=function(label){return this._label=label,this},Graph.prototype.graph=function(){return this._label},Graph.prototype.setDefaultNodeLabel=function(newDefault){return _.isFunction(newDefault)||(newDefault=_.constant(newDefault)),this._defaultNodeLabelFn=newDefault,this},Graph.prototype.nodeCount=function(){return this._nodeCount},Graph.prototype.nodes=function(){return _.keys(this._nodes)},Graph.prototype.sources=function(){var self=this;return _.filter(this.nodes(),(function(v){return _.isEmpty(self._in[v])}))},Graph.prototype.sinks=function(){var self=this;return _.filter(this.nodes(),(function(v){return _.isEmpty(self._out[v])}))},Graph.prototype.setNodes=function(vs,value){var args=arguments,self=this;return _.each(vs,(function(v){args.length>1?self.setNode(v,value):self.setNode(v)})),this},Graph.prototype.setNode=function(v,value){return _.has(this._nodes,v)?(arguments.length>1&&(this._nodes[v]=value),this):(this._nodes[v]=arguments.length>1?value:this._defaultNodeLabelFn(v),this._isCompound&&(this._parent[v]=GRAPH_NODE,this._children[v]={},this._children[GRAPH_NODE][v]=!0),this._in[v]={},this._preds[v]={},this._out[v]={},this._sucs[v]={},++this._nodeCount,this)},Graph.prototype.node=function(v){return this._nodes[v]},Graph.prototype.hasNode=function(v){return _.has(this._nodes,v)},Graph.prototype.removeNode=function(v){var self=this;if(_.has(this._nodes,v)){var removeEdge=function(e){self.removeEdge(self._edgeObjs[e])};delete this._nodes[v],this._isCompound&&(this._removeFromParentsChildList(v),delete this._parent[v],_.each(this.children(v),(function(child){self.setParent(child)})),delete this._children[v]),_.each(_.keys(this._in[v]),removeEdge),delete this._in[v],delete this._preds[v],_.each(_.keys(this._out[v]),removeEdge),delete this._out[v],delete this._sucs[v],--this._nodeCount}return this},Graph.prototype.setParent=function(v,parent){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(_.isUndefined(parent))parent=GRAPH_NODE;else{for(var ancestor=parent+="";!_.isUndefined(ancestor);ancestor=this.parent(ancestor))if(ancestor===v)throw new Error("Setting "+parent+" as parent of "+v+" would create a cycle");this.setNode(parent)}return this.setNode(v),this._removeFromParentsChildList(v),this._parent[v]=parent,this._children[parent][v]=!0,this},Graph.prototype._removeFromParentsChildList=function(v){delete this._children[this._parent[v]][v]},Graph.prototype.parent=function(v){if(this._isCompound){var parent=this._parent[v];if(parent!==GRAPH_NODE)return parent}},Graph.prototype.children=function(v){if(_.isUndefined(v)&&(v=GRAPH_NODE),this._isCompound){var children=this._children[v];if(children)return _.keys(children)}else{if(v===GRAPH_NODE)return this.nodes();if(this.hasNode(v))return[]}},Graph.prototype.predecessors=function(v){var predsV=this._preds[v];if(predsV)return _.keys(predsV)},Graph.prototype.successors=function(v){var sucsV=this._sucs[v];if(sucsV)return _.keys(sucsV)},Graph.prototype.neighbors=function(v){var preds=this.predecessors(v);if(preds)return _.union(preds,this.successors(v))},Graph.prototype.isLeaf=function(v){return 0===(this.isDirected()?this.successors(v):this.neighbors(v)).length},Graph.prototype.filterNodes=function(filter){var copy=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});copy.setGraph(this.graph());var self=this;_.each(this._nodes,(function(value,v){filter(v)&&copy.setNode(v,value)})),_.each(this._edgeObjs,(function(e){copy.hasNode(e.v)&&copy.hasNode(e.w)&&copy.setEdge(e,self.edge(e))}));var parents={};function findParent(v){var parent=self.parent(v);return void 0===parent||copy.hasNode(parent)?(parents[v]=parent,parent):parent in parents?parents[parent]:findParent(parent)}return this._isCompound&&_.each(copy.nodes(),(function(v){copy.setParent(v,findParent(v))})),copy},Graph.prototype.setDefaultEdgeLabel=function(newDefault){return _.isFunction(newDefault)||(newDefault=_.constant(newDefault)),this._defaultEdgeLabelFn=newDefault,this},Graph.prototype.edgeCount=function(){return this._edgeCount},Graph.prototype.edges=function(){return _.values(this._edgeObjs)},Graph.prototype.setPath=function(vs,value){var self=this,args=arguments;return _.reduce(vs,(function(v,w){return args.length>1?self.setEdge(v,w,value):self.setEdge(v,w),w})),this},Graph.prototype.setEdge=function(){var v,w,name,value,valueSpecified=!1,arg0=arguments[0];"object"==typeof arg0&&null!==arg0&&"v"in arg0?(v=arg0.v,w=arg0.w,name=arg0.name,2===arguments.length&&(value=arguments[1],valueSpecified=!0)):(v=arg0,w=arguments[1],name=arguments[3],arguments.length>2&&(value=arguments[2],valueSpecified=!0)),v=""+v,w=""+w,_.isUndefined(name)||(name=""+name);var e=edgeArgsToId(this._isDirected,v,w,name);if(_.has(this._edgeLabels,e))return valueSpecified&&(this._edgeLabels[e]=value),this;if(!_.isUndefined(name)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(v),this.setNode(w),this._edgeLabels[e]=valueSpecified?value:this._defaultEdgeLabelFn(v,w,name);var edgeObj=function edgeArgsToObj(isDirected,v_,w_,name){var v=""+v_,w=""+w_;if(!isDirected&&v>w){var tmp=v;v=w,w=tmp}var edgeObj={v,w};name&&(edgeObj.name=name);return edgeObj}(this._isDirected,v,w,name);return v=edgeObj.v,w=edgeObj.w,Object.freeze(edgeObj),this._edgeObjs[e]=edgeObj,incrementOrInitEntry(this._preds[w],v),incrementOrInitEntry(this._sucs[v],w),this._in[w][e]=edgeObj,this._out[v][e]=edgeObj,this._edgeCount++,this},Graph.prototype.edge=function(v,w,name){var e=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name);return this._edgeLabels[e]},Graph.prototype.hasEdge=function(v,w,name){var e=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name);return _.has(this._edgeLabels,e)},Graph.prototype.removeEdge=function(v,w,name){var e=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name),edge=this._edgeObjs[e];return edge&&(v=edge.v,w=edge.w,delete this._edgeLabels[e],delete this._edgeObjs[e],decrementOrRemoveEntry(this._preds[w],v),decrementOrRemoveEntry(this._sucs[v],w),delete this._in[w][e],delete this._out[v][e],this._edgeCount--),this},Graph.prototype.inEdges=function(v,u){var inV=this._in[v];if(inV){var edges=_.values(inV);return u?_.filter(edges,(function(edge){return edge.v===u})):edges}},Graph.prototype.outEdges=function(v,w){var outV=this._out[v];if(outV){var edges=_.values(outV);return w?_.filter(edges,(function(edge){return edge.w===w})):edges}},Graph.prototype.nodeEdges=function(v,w){var inEdges=this.inEdges(v,w);if(inEdges)return inEdges.concat(this.outEdges(v,w))}},"./node_modules/graphlib/lib/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports={Graph:__webpack_require__("./node_modules/graphlib/lib/graph.js"),version:__webpack_require__("./node_modules/graphlib/lib/version.js")}},"./node_modules/graphlib/lib/json.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js"),Graph=__webpack_require__("./node_modules/graphlib/lib/graph.js");function writeNodes(g){return _.map(g.nodes(),(function(v){var nodeValue=g.node(v),parent=g.parent(v),node={v};return _.isUndefined(nodeValue)||(node.value=nodeValue),_.isUndefined(parent)||(node.parent=parent),node}))}function writeEdges(g){return _.map(g.edges(),(function(e){var edgeValue=g.edge(e),edge={v:e.v,w:e.w};return _.isUndefined(e.name)||(edge.name=e.name),_.isUndefined(edgeValue)||(edge.value=edgeValue),edge}))}module.exports={write:function write(g){var json={options:{directed:g.isDirected(),multigraph:g.isMultigraph(),compound:g.isCompound()},nodes:writeNodes(g),edges:writeEdges(g)};_.isUndefined(g.graph())||(json.value=_.clone(g.graph()));return json},read:function read(json){var g=new Graph(json.options).setGraph(json.value);return _.each(json.nodes,(function(entry){g.setNode(entry.v,entry.value),entry.parent&&g.setParent(entry.v,entry.parent)})),_.each(json.edges,(function(entry){g.setEdge({v:entry.v,w:entry.w,name:entry.name},entry.value)})),g}}},"./node_modules/graphlib/lib/lodash.js":(module,__unused_webpack_exports,__webpack_require__)=>{var lodash;try{lodash={clone:__webpack_require__("./node_modules/lodash/clone.js"),constant:__webpack_require__("./node_modules/lodash/constant.js"),each:__webpack_require__("./node_modules/lodash/each.js"),filter:__webpack_require__("./node_modules/lodash/filter.js"),has:__webpack_require__("./node_modules/lodash/has.js"),isArray:__webpack_require__("./node_modules/lodash/isArray.js"),isEmpty:__webpack_require__("./node_modules/lodash/isEmpty.js"),isFunction:__webpack_require__("./node_modules/lodash/isFunction.js"),isUndefined:__webpack_require__("./node_modules/lodash/isUndefined.js"),keys:__webpack_require__("./node_modules/lodash/keys.js"),map:__webpack_require__("./node_modules/lodash/map.js"),reduce:__webpack_require__("./node_modules/lodash/reduce.js"),size:__webpack_require__("./node_modules/lodash/size.js"),transform:__webpack_require__("./node_modules/lodash/transform.js"),union:__webpack_require__("./node_modules/lodash/union.js"),values:__webpack_require__("./node_modules/lodash/values.js")}}catch(e){}lodash||(lodash=window._),module.exports=lodash},"./node_modules/graphlib/lib/version.js":module=>{module.exports="2.1.8"},"./node_modules/lodash/_DataView.js":(module,__unused_webpack_exports,__webpack_require__)=>{var DataView=__webpack_require__("./node_modules/lodash/_getNative.js")(__webpack_require__("./node_modules/lodash/_root.js"),"DataView");module.exports=DataView},"./node_modules/lodash/_Hash.js":(module,__unused_webpack_exports,__webpack_require__)=>{var hashClear=__webpack_require__("./node_modules/lodash/_hashClear.js"),hashDelete=__webpack_require__("./node_modules/lodash/_hashDelete.js"),hashGet=__webpack_require__("./node_modules/lodash/_hashGet.js"),hashHas=__webpack_require__("./node_modules/lodash/_hashHas.js"),hashSet=__webpack_require__("./node_modules/lodash/_hashSet.js");function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},"./node_modules/lodash/_ListCache.js":(module,__unused_webpack_exports,__webpack_require__)=>{var listCacheClear=__webpack_require__("./node_modules/lodash/_listCacheClear.js"),listCacheDelete=__webpack_require__("./node_modules/lodash/_listCacheDelete.js"),listCacheGet=__webpack_require__("./node_modules/lodash/_listCacheGet.js"),listCacheHas=__webpack_require__("./node_modules/lodash/_listCacheHas.js"),listCacheSet=__webpack_require__("./node_modules/lodash/_listCacheSet.js");function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},"./node_modules/lodash/_Map.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Map=__webpack_require__("./node_modules/lodash/_getNative.js")(__webpack_require__("./node_modules/lodash/_root.js"),"Map");module.exports=Map},"./node_modules/lodash/_MapCache.js":(module,__unused_webpack_exports,__webpack_require__)=>{var mapCacheClear=__webpack_require__("./node_modules/lodash/_mapCacheClear.js"),mapCacheDelete=__webpack_require__("./node_modules/lodash/_mapCacheDelete.js"),mapCacheGet=__webpack_require__("./node_modules/lodash/_mapCacheGet.js"),mapCacheHas=__webpack_require__("./node_modules/lodash/_mapCacheHas.js"),mapCacheSet=__webpack_require__("./node_modules/lodash/_mapCacheSet.js");function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},"./node_modules/lodash/_Promise.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Promise=__webpack_require__("./node_modules/lodash/_getNative.js")(__webpack_require__("./node_modules/lodash/_root.js"),"Promise");module.exports=Promise},"./node_modules/lodash/_Set.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Set=__webpack_require__("./node_modules/lodash/_getNative.js")(__webpack_require__("./node_modules/lodash/_root.js"),"Set");module.exports=Set},"./node_modules/lodash/_SetCache.js":(module,__unused_webpack_exports,__webpack_require__)=>{var MapCache=__webpack_require__("./node_modules/lodash/_MapCache.js"),setCacheAdd=__webpack_require__("./node_modules/lodash/_setCacheAdd.js"),setCacheHas=__webpack_require__("./node_modules/lodash/_setCacheHas.js");function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},"./node_modules/lodash/_Stack.js":(module,__unused_webpack_exports,__webpack_require__)=>{var ListCache=__webpack_require__("./node_modules/lodash/_ListCache.js"),stackClear=__webpack_require__("./node_modules/lodash/_stackClear.js"),stackDelete=__webpack_require__("./node_modules/lodash/_stackDelete.js"),stackGet=__webpack_require__("./node_modules/lodash/_stackGet.js"),stackHas=__webpack_require__("./node_modules/lodash/_stackHas.js"),stackSet=__webpack_require__("./node_modules/lodash/_stackSet.js");function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},"./node_modules/lodash/_Symbol.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Symbol=__webpack_require__("./node_modules/lodash/_root.js").Symbol;module.exports=Symbol},"./node_modules/lodash/_Uint8Array.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Uint8Array=__webpack_require__("./node_modules/lodash/_root.js").Uint8Array;module.exports=Uint8Array},"./node_modules/lodash/_WeakMap.js":(module,__unused_webpack_exports,__webpack_require__)=>{var WeakMap=__webpack_require__("./node_modules/lodash/_getNative.js")(__webpack_require__("./node_modules/lodash/_root.js"),"WeakMap");module.exports=WeakMap},"./node_modules/lodash/_apply.js":module=>{module.exports=function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}},"./node_modules/lodash/_arrayEach.js":module=>{module.exports=function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}},"./node_modules/lodash/_arrayFilter.js":module=>{module.exports=function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}},"./node_modules/lodash/_arrayIncludes.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseIndexOf=__webpack_require__("./node_modules/lodash/_baseIndexOf.js");module.exports=function arrayIncludes(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}},"./node_modules/lodash/_arrayIncludesWith.js":module=>{module.exports=function arrayIncludesWith(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}},"./node_modules/lodash/_arrayLikeKeys.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseTimes=__webpack_require__("./node_modules/lodash/_baseTimes.js"),isArguments=__webpack_require__("./node_modules/lodash/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isBuffer=__webpack_require__("./node_modules/lodash/isBuffer.js"),isIndex=__webpack_require__("./node_modules/lodash/_isIndex.js"),isTypedArray=__webpack_require__("./node_modules/lodash/isTypedArray.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}},"./node_modules/lodash/_arrayMap.js":module=>{module.exports=function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},"./node_modules/lodash/_arrayPush.js":module=>{module.exports=function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},"./node_modules/lodash/_arrayReduce.js":module=>{module.exports=function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}},"./node_modules/lodash/_arraySome.js":module=>{module.exports=function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}},"./node_modules/lodash/_asciiSize.js":(module,__unused_webpack_exports,__webpack_require__)=>{var asciiSize=__webpack_require__("./node_modules/lodash/_baseProperty.js")("length");module.exports=asciiSize},"./node_modules/lodash/_assignMergeValue.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseAssignValue=__webpack_require__("./node_modules/lodash/_baseAssignValue.js"),eq=__webpack_require__("./node_modules/lodash/eq.js");module.exports=function assignMergeValue(object,key,value){(void 0!==value&&!eq(object[key],value)||void 0===value&&!(key in object))&&baseAssignValue(object,key,value)}},"./node_modules/lodash/_assignValue.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseAssignValue=__webpack_require__("./node_modules/lodash/_baseAssignValue.js"),eq=__webpack_require__("./node_modules/lodash/eq.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}},"./node_modules/lodash/_assocIndexOf.js":(module,__unused_webpack_exports,__webpack_require__)=>{var eq=__webpack_require__("./node_modules/lodash/eq.js");module.exports=function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}},"./node_modules/lodash/_baseAssign.js":(module,__unused_webpack_exports,__webpack_require__)=>{var copyObject=__webpack_require__("./node_modules/lodash/_copyObject.js"),keys=__webpack_require__("./node_modules/lodash/keys.js");module.exports=function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}},"./node_modules/lodash/_baseAssignIn.js":(module,__unused_webpack_exports,__webpack_require__)=>{var copyObject=__webpack_require__("./node_modules/lodash/_copyObject.js"),keysIn=__webpack_require__("./node_modules/lodash/keysIn.js");module.exports=function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}},"./node_modules/lodash/_baseAssignValue.js":(module,__unused_webpack_exports,__webpack_require__)=>{var defineProperty=__webpack_require__("./node_modules/lodash/_defineProperty.js");module.exports=function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value,writable:!0}):object[key]=value}},"./node_modules/lodash/_baseClone.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Stack=__webpack_require__("./node_modules/lodash/_Stack.js"),arrayEach=__webpack_require__("./node_modules/lodash/_arrayEach.js"),assignValue=__webpack_require__("./node_modules/lodash/_assignValue.js"),baseAssign=__webpack_require__("./node_modules/lodash/_baseAssign.js"),baseAssignIn=__webpack_require__("./node_modules/lodash/_baseAssignIn.js"),cloneBuffer=__webpack_require__("./node_modules/lodash/_cloneBuffer.js"),copyArray=__webpack_require__("./node_modules/lodash/_copyArray.js"),copySymbols=__webpack_require__("./node_modules/lodash/_copySymbols.js"),copySymbolsIn=__webpack_require__("./node_modules/lodash/_copySymbolsIn.js"),getAllKeys=__webpack_require__("./node_modules/lodash/_getAllKeys.js"),getAllKeysIn=__webpack_require__("./node_modules/lodash/_getAllKeysIn.js"),getTag=__webpack_require__("./node_modules/lodash/_getTag.js"),initCloneArray=__webpack_require__("./node_modules/lodash/_initCloneArray.js"),initCloneByTag=__webpack_require__("./node_modules/lodash/_initCloneByTag.js"),initCloneObject=__webpack_require__("./node_modules/lodash/_initCloneObject.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isBuffer=__webpack_require__("./node_modules/lodash/isBuffer.js"),isMap=__webpack_require__("./node_modules/lodash/isMap.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),isSet=__webpack_require__("./node_modules/lodash/isSet.js"),keys=__webpack_require__("./node_modules/lodash/keys.js"),keysIn=__webpack_require__("./node_modules/lodash/keysIn.js"),cloneableTags={};cloneableTags["[object Arguments]"]=cloneableTags["[object Array]"]=cloneableTags["[object ArrayBuffer]"]=cloneableTags["[object DataView]"]=cloneableTags["[object Boolean]"]=cloneableTags["[object Date]"]=cloneableTags["[object Float32Array]"]=cloneableTags["[object Float64Array]"]=cloneableTags["[object Int8Array]"]=cloneableTags["[object Int16Array]"]=cloneableTags["[object Int32Array]"]=cloneableTags["[object Map]"]=cloneableTags["[object Number]"]=cloneableTags["[object Object]"]=cloneableTags["[object RegExp]"]=cloneableTags["[object Set]"]=cloneableTags["[object String]"]=cloneableTags["[object Symbol]"]=cloneableTags["[object Uint8Array]"]=cloneableTags["[object Uint8ClampedArray]"]=cloneableTags["[object Uint16Array]"]=cloneableTags["[object Uint32Array]"]=!0,cloneableTags["[object Error]"]=cloneableTags["[object Function]"]=cloneableTags["[object WeakMap]"]=!1,module.exports=function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=1&bitmask,isFlat=2&bitmask,isFull=4&bitmask;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc="[object Function]"==tag||"[object GeneratorFunction]"==tag;if(isBuffer(value))return cloneBuffer(value,isDeep);if("[object Object]"==tag||"[object Arguments]"==tag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result),isSet(value)?value.forEach((function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))})):isMap(value)&&value.forEach((function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))}));var props=isArr?void 0:(isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys)(value);return arrayEach(props||value,(function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))})),result}},"./node_modules/lodash/_baseCreate.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isObject=__webpack_require__("./node_modules/lodash/isObject.js"),objectCreate=Object.create,baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();module.exports=baseCreate},"./node_modules/lodash/_baseEach.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseForOwn=__webpack_require__("./node_modules/lodash/_baseForOwn.js"),baseEach=__webpack_require__("./node_modules/lodash/_createBaseEach.js")(baseForOwn);module.exports=baseEach},"./node_modules/lodash/_baseExtremum.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js");module.exports=function baseExtremum(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var value=array[index],current=iteratee(value);if(null!=current&&(void 0===computed?current==current&&!isSymbol(current):comparator(current,computed)))var computed=current,result=value}return result}},"./node_modules/lodash/_baseFilter.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseEach=__webpack_require__("./node_modules/lodash/_baseEach.js");module.exports=function baseFilter(collection,predicate){var result=[];return baseEach(collection,(function(value,index,collection){predicate(value,index,collection)&&result.push(value)})),result}},"./node_modules/lodash/_baseFindIndex.js":module=>{module.exports=function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}},"./node_modules/lodash/_baseFlatten.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayPush=__webpack_require__("./node_modules/lodash/_arrayPush.js"),isFlattenable=__webpack_require__("./node_modules/lodash/_isFlattenable.js");module.exports=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}},"./node_modules/lodash/_baseFor.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseFor=__webpack_require__("./node_modules/lodash/_createBaseFor.js")();module.exports=baseFor},"./node_modules/lodash/_baseForOwn.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseFor=__webpack_require__("./node_modules/lodash/_baseFor.js"),keys=__webpack_require__("./node_modules/lodash/keys.js");module.exports=function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}},"./node_modules/lodash/_baseGet.js":(module,__unused_webpack_exports,__webpack_require__)=>{var castPath=__webpack_require__("./node_modules/lodash/_castPath.js"),toKey=__webpack_require__("./node_modules/lodash/_toKey.js");module.exports=function baseGet(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}},"./node_modules/lodash/_baseGetAllKeys.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayPush=__webpack_require__("./node_modules/lodash/_arrayPush.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js");module.exports=function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}},"./node_modules/lodash/_baseGetTag.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Symbol=__webpack_require__("./node_modules/lodash/_Symbol.js"),getRawTag=__webpack_require__("./node_modules/lodash/_getRawTag.js"),objectToString=__webpack_require__("./node_modules/lodash/_objectToString.js"),symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function baseGetTag(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},"./node_modules/lodash/_baseGt.js":module=>{module.exports=function baseGt(value,other){return value>other}},"./node_modules/lodash/_baseHas.js":module=>{var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}},"./node_modules/lodash/_baseHasIn.js":module=>{module.exports=function baseHasIn(object,key){return null!=object&&key in Object(object)}},"./node_modules/lodash/_baseIndexOf.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseFindIndex=__webpack_require__("./node_modules/lodash/_baseFindIndex.js"),baseIsNaN=__webpack_require__("./node_modules/lodash/_baseIsNaN.js"),strictIndexOf=__webpack_require__("./node_modules/lodash/_strictIndexOf.js");module.exports=function baseIndexOf(array,value,fromIndex){return value==value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}},"./node_modules/lodash/_baseIsArguments.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function baseIsArguments(value){return isObjectLike(value)&&"[object Arguments]"==baseGetTag(value)}},"./node_modules/lodash/_baseIsEqual.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseIsEqualDeep=__webpack_require__("./node_modules/lodash/_baseIsEqualDeep.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}},"./node_modules/lodash/_baseIsEqualDeep.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Stack=__webpack_require__("./node_modules/lodash/_Stack.js"),equalArrays=__webpack_require__("./node_modules/lodash/_equalArrays.js"),equalByTag=__webpack_require__("./node_modules/lodash/_equalByTag.js"),equalObjects=__webpack_require__("./node_modules/lodash/_equalObjects.js"),getTag=__webpack_require__("./node_modules/lodash/_getTag.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isBuffer=__webpack_require__("./node_modules/lodash/isBuffer.js"),isTypedArray=__webpack_require__("./node_modules/lodash/isTypedArray.js"),objectTag="[object Object]",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?"[object Array]":getTag(object),othTag=othIsArr?"[object Array]":getTag(other),objIsObj=(objTag="[object Arguments]"==objTag?objectTag:objTag)==objectTag,othIsObj=(othTag="[object Arguments]"==othTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}},"./node_modules/lodash/_baseIsMap.js":(module,__unused_webpack_exports,__webpack_require__)=>{var getTag=__webpack_require__("./node_modules/lodash/_getTag.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function baseIsMap(value){return isObjectLike(value)&&"[object Map]"==getTag(value)}},"./node_modules/lodash/_baseIsMatch.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Stack=__webpack_require__("./node_modules/lodash/_Stack.js"),baseIsEqual=__webpack_require__("./node_modules/lodash/_baseIsEqual.js");module.exports=function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}},"./node_modules/lodash/_baseIsNaN.js":module=>{module.exports=function baseIsNaN(value){return value!=value}},"./node_modules/lodash/_baseIsNative.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isFunction=__webpack_require__("./node_modules/lodash/isFunction.js"),isMasked=__webpack_require__("./node_modules/lodash/_isMasked.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),toSource=__webpack_require__("./node_modules/lodash/_toSource.js"),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function baseIsNative(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}},"./node_modules/lodash/_baseIsSet.js":(module,__unused_webpack_exports,__webpack_require__)=>{var getTag=__webpack_require__("./node_modules/lodash/_getTag.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function baseIsSet(value){return isObjectLike(value)&&"[object Set]"==getTag(value)}},"./node_modules/lodash/_baseIsTypedArray.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),isLength=__webpack_require__("./node_modules/lodash/isLength.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js"),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}},"./node_modules/lodash/_baseIteratee.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseMatches=__webpack_require__("./node_modules/lodash/_baseMatches.js"),baseMatchesProperty=__webpack_require__("./node_modules/lodash/_baseMatchesProperty.js"),identity=__webpack_require__("./node_modules/lodash/identity.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),property=__webpack_require__("./node_modules/lodash/property.js");module.exports=function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}},"./node_modules/lodash/_baseKeys.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isPrototype=__webpack_require__("./node_modules/lodash/_isPrototype.js"),nativeKeys=__webpack_require__("./node_modules/lodash/_nativeKeys.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}},"./node_modules/lodash/_baseKeysIn.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isObject=__webpack_require__("./node_modules/lodash/isObject.js"),isPrototype=__webpack_require__("./node_modules/lodash/_isPrototype.js"),nativeKeysIn=__webpack_require__("./node_modules/lodash/_nativeKeysIn.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function baseKeysIn(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}},"./node_modules/lodash/_baseLt.js":module=>{module.exports=function baseLt(value,other){return value<other}},"./node_modules/lodash/_baseMap.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseEach=__webpack_require__("./node_modules/lodash/_baseEach.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js");module.exports=function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)})),result}},"./node_modules/lodash/_baseMatches.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseIsMatch=__webpack_require__("./node_modules/lodash/_baseIsMatch.js"),getMatchData=__webpack_require__("./node_modules/lodash/_getMatchData.js"),matchesStrictComparable=__webpack_require__("./node_modules/lodash/_matchesStrictComparable.js");module.exports=function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}},"./node_modules/lodash/_baseMatchesProperty.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseIsEqual=__webpack_require__("./node_modules/lodash/_baseIsEqual.js"),get=__webpack_require__("./node_modules/lodash/get.js"),hasIn=__webpack_require__("./node_modules/lodash/hasIn.js"),isKey=__webpack_require__("./node_modules/lodash/_isKey.js"),isStrictComparable=__webpack_require__("./node_modules/lodash/_isStrictComparable.js"),matchesStrictComparable=__webpack_require__("./node_modules/lodash/_matchesStrictComparable.js"),toKey=__webpack_require__("./node_modules/lodash/_toKey.js");module.exports=function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}},"./node_modules/lodash/_baseMerge.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Stack=__webpack_require__("./node_modules/lodash/_Stack.js"),assignMergeValue=__webpack_require__("./node_modules/lodash/_assignMergeValue.js"),baseFor=__webpack_require__("./node_modules/lodash/_baseFor.js"),baseMergeDeep=__webpack_require__("./node_modules/lodash/_baseMergeDeep.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),keysIn=__webpack_require__("./node_modules/lodash/keysIn.js"),safeGet=__webpack_require__("./node_modules/lodash/_safeGet.js");module.exports=function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,(function(srcValue,key){if(stack||(stack=new Stack),isObject(srcValue))baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),assignMergeValue(object,key,newValue)}}),keysIn)}},"./node_modules/lodash/_baseMergeDeep.js":(module,__unused_webpack_exports,__webpack_require__)=>{var assignMergeValue=__webpack_require__("./node_modules/lodash/_assignMergeValue.js"),cloneBuffer=__webpack_require__("./node_modules/lodash/_cloneBuffer.js"),cloneTypedArray=__webpack_require__("./node_modules/lodash/_cloneTypedArray.js"),copyArray=__webpack_require__("./node_modules/lodash/_copyArray.js"),initCloneObject=__webpack_require__("./node_modules/lodash/_initCloneObject.js"),isArguments=__webpack_require__("./node_modules/lodash/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isArrayLikeObject=__webpack_require__("./node_modules/lodash/isArrayLikeObject.js"),isBuffer=__webpack_require__("./node_modules/lodash/isBuffer.js"),isFunction=__webpack_require__("./node_modules/lodash/isFunction.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),isPlainObject=__webpack_require__("./node_modules/lodash/isPlainObject.js"),isTypedArray=__webpack_require__("./node_modules/lodash/isTypedArray.js"),safeGet=__webpack_require__("./node_modules/lodash/_safeGet.js"),toPlainObject=__webpack_require__("./node_modules/lodash/toPlainObject.js");module.exports=function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked)assignMergeValue(object,key,stacked);else{var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):isObject(objValue)&&!isFunction(objValue)||(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),assignMergeValue(object,key,newValue)}}},"./node_modules/lodash/_baseOrderBy.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayMap=__webpack_require__("./node_modules/lodash/_arrayMap.js"),baseGet=__webpack_require__("./node_modules/lodash/_baseGet.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),baseMap=__webpack_require__("./node_modules/lodash/_baseMap.js"),baseSortBy=__webpack_require__("./node_modules/lodash/_baseSortBy.js"),baseUnary=__webpack_require__("./node_modules/lodash/_baseUnary.js"),compareMultiple=__webpack_require__("./node_modules/lodash/_compareMultiple.js"),identity=__webpack_require__("./node_modules/lodash/identity.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js");module.exports=function baseOrderBy(collection,iteratees,orders){iteratees=iteratees.length?arrayMap(iteratees,(function(iteratee){return isArray(iteratee)?function(value){return baseGet(value,1===iteratee.length?iteratee[0]:iteratee)}:iteratee})):[identity];var index=-1;iteratees=arrayMap(iteratees,baseUnary(baseIteratee));var result=baseMap(collection,(function(value,key,collection){return{criteria:arrayMap(iteratees,(function(iteratee){return iteratee(value)})),index:++index,value}}));return baseSortBy(result,(function(object,other){return compareMultiple(object,other,orders)}))}},"./node_modules/lodash/_basePick.js":(module,__unused_webpack_exports,__webpack_require__)=>{var basePickBy=__webpack_require__("./node_modules/lodash/_basePickBy.js"),hasIn=__webpack_require__("./node_modules/lodash/hasIn.js");module.exports=function basePick(object,paths){return basePickBy(object,paths,(function(value,path){return hasIn(object,path)}))}},"./node_modules/lodash/_basePickBy.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGet=__webpack_require__("./node_modules/lodash/_baseGet.js"),baseSet=__webpack_require__("./node_modules/lodash/_baseSet.js"),castPath=__webpack_require__("./node_modules/lodash/_castPath.js");module.exports=function basePickBy(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}},"./node_modules/lodash/_baseProperty.js":module=>{module.exports=function baseProperty(key){return function(object){return null==object?void 0:object[key]}}},"./node_modules/lodash/_basePropertyDeep.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGet=__webpack_require__("./node_modules/lodash/_baseGet.js");module.exports=function basePropertyDeep(path){return function(object){return baseGet(object,path)}}},"./node_modules/lodash/_baseRange.js":module=>{var nativeCeil=Math.ceil,nativeMax=Math.max;module.exports=function baseRange(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}},"./node_modules/lodash/_baseReduce.js":module=>{module.exports=function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,(function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)})),accumulator}},"./node_modules/lodash/_baseRest.js":(module,__unused_webpack_exports,__webpack_require__)=>{var identity=__webpack_require__("./node_modules/lodash/identity.js"),overRest=__webpack_require__("./node_modules/lodash/_overRest.js"),setToString=__webpack_require__("./node_modules/lodash/_setToString.js");module.exports=function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}},"./node_modules/lodash/_baseSet.js":(module,__unused_webpack_exports,__webpack_require__)=>{var assignValue=__webpack_require__("./node_modules/lodash/_assignValue.js"),castPath=__webpack_require__("./node_modules/lodash/_castPath.js"),isIndex=__webpack_require__("./node_modules/lodash/_isIndex.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),toKey=__webpack_require__("./node_modules/lodash/_toKey.js");module.exports=function baseSet(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if("__proto__"===key||"constructor"===key||"prototype"===key)return object;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}},"./node_modules/lodash/_baseSetToString.js":(module,__unused_webpack_exports,__webpack_require__)=>{var constant=__webpack_require__("./node_modules/lodash/constant.js"),defineProperty=__webpack_require__("./node_modules/lodash/_defineProperty.js"),identity=__webpack_require__("./node_modules/lodash/identity.js"),baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;module.exports=baseSetToString},"./node_modules/lodash/_baseSortBy.js":module=>{module.exports=function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}},"./node_modules/lodash/_baseTimes.js":module=>{module.exports=function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}},"./node_modules/lodash/_baseToString.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Symbol=__webpack_require__("./node_modules/lodash/_Symbol.js"),arrayMap=__webpack_require__("./node_modules/lodash/_arrayMap.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js"),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-Infinity?"-0":result}},"./node_modules/lodash/_baseTrim.js":(module,__unused_webpack_exports,__webpack_require__)=>{var trimmedEndIndex=__webpack_require__("./node_modules/lodash/_trimmedEndIndex.js"),reTrimStart=/^\s+/;module.exports=function baseTrim(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,""):string}},"./node_modules/lodash/_baseUnary.js":module=>{module.exports=function baseUnary(func){return function(value){return func(value)}}},"./node_modules/lodash/_baseUniq.js":(module,__unused_webpack_exports,__webpack_require__)=>{var SetCache=__webpack_require__("./node_modules/lodash/_SetCache.js"),arrayIncludes=__webpack_require__("./node_modules/lodash/_arrayIncludes.js"),arrayIncludesWith=__webpack_require__("./node_modules/lodash/_arrayIncludesWith.js"),cacheHas=__webpack_require__("./node_modules/lodash/_cacheHas.js"),createSet=__webpack_require__("./node_modules/lodash/_createSet.js"),setToArray=__webpack_require__("./node_modules/lodash/_setToArray.js");module.exports=function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=200){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}},"./node_modules/lodash/_baseValues.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayMap=__webpack_require__("./node_modules/lodash/_arrayMap.js");module.exports=function baseValues(object,props){return arrayMap(props,(function(key){return object[key]}))}},"./node_modules/lodash/_baseZipObject.js":module=>{module.exports=function baseZipObject(props,values,assignFunc){for(var index=-1,length=props.length,valsLength=values.length,result={};++index<length;){var value=index<valsLength?values[index]:void 0;assignFunc(result,props[index],value)}return result}},"./node_modules/lodash/_cacheHas.js":module=>{module.exports=function cacheHas(cache,key){return cache.has(key)}},"./node_modules/lodash/_castFunction.js":(module,__unused_webpack_exports,__webpack_require__)=>{var identity=__webpack_require__("./node_modules/lodash/identity.js");module.exports=function castFunction(value){return"function"==typeof value?value:identity}},"./node_modules/lodash/_castPath.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isKey=__webpack_require__("./node_modules/lodash/_isKey.js"),stringToPath=__webpack_require__("./node_modules/lodash/_stringToPath.js"),toString=__webpack_require__("./node_modules/lodash/toString.js");module.exports=function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}},"./node_modules/lodash/_cloneArrayBuffer.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Uint8Array=__webpack_require__("./node_modules/lodash/_Uint8Array.js");module.exports=function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}},"./node_modules/lodash/_cloneBuffer.js":(module,exports,__webpack_require__)=>{module=__webpack_require__.nmd(module);var root=__webpack_require__("./node_modules/lodash/_root.js"),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;module.exports=function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}},"./node_modules/lodash/_cloneDataView.js":(module,__unused_webpack_exports,__webpack_require__)=>{var cloneArrayBuffer=__webpack_require__("./node_modules/lodash/_cloneArrayBuffer.js");module.exports=function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}},"./node_modules/lodash/_cloneRegExp.js":module=>{var reFlags=/\w*$/;module.exports=function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}},"./node_modules/lodash/_cloneSymbol.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Symbol=__webpack_require__("./node_modules/lodash/_Symbol.js"),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}},"./node_modules/lodash/_cloneTypedArray.js":(module,__unused_webpack_exports,__webpack_require__)=>{var cloneArrayBuffer=__webpack_require__("./node_modules/lodash/_cloneArrayBuffer.js");module.exports=function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}},"./node_modules/lodash/_compareAscending.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js");module.exports=function compareAscending(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}},"./node_modules/lodash/_compareMultiple.js":(module,__unused_webpack_exports,__webpack_require__)=>{var compareAscending=__webpack_require__("./node_modules/lodash/_compareAscending.js");module.exports=function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*("desc"==orders[index]?-1:1)}return object.index-other.index}},"./node_modules/lodash/_copyArray.js":module=>{module.exports=function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}},"./node_modules/lodash/_copyObject.js":(module,__unused_webpack_exports,__webpack_require__)=>{var assignValue=__webpack_require__("./node_modules/lodash/_assignValue.js"),baseAssignValue=__webpack_require__("./node_modules/lodash/_baseAssignValue.js");module.exports=function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}},"./node_modules/lodash/_copySymbols.js":(module,__unused_webpack_exports,__webpack_require__)=>{var copyObject=__webpack_require__("./node_modules/lodash/_copyObject.js"),getSymbols=__webpack_require__("./node_modules/lodash/_getSymbols.js");module.exports=function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}},"./node_modules/lodash/_copySymbolsIn.js":(module,__unused_webpack_exports,__webpack_require__)=>{var copyObject=__webpack_require__("./node_modules/lodash/_copyObject.js"),getSymbolsIn=__webpack_require__("./node_modules/lodash/_getSymbolsIn.js");module.exports=function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}},"./node_modules/lodash/_coreJsData.js":(module,__unused_webpack_exports,__webpack_require__)=>{var coreJsData=__webpack_require__("./node_modules/lodash/_root.js")["__core-js_shared__"];module.exports=coreJsData},"./node_modules/lodash/_createAssigner.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseRest=__webpack_require__("./node_modules/lodash/_baseRest.js"),isIterateeCall=__webpack_require__("./node_modules/lodash/_isIterateeCall.js");module.exports=function createAssigner(assigner){return baseRest((function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object}))}},"./node_modules/lodash/_createBaseEach.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js");module.exports=function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}},"./node_modules/lodash/_createBaseFor.js":module=>{module.exports=function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}},"./node_modules/lodash/_createFind.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js"),keys=__webpack_require__("./node_modules/lodash/keys.js");module.exports=function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=baseIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:void 0}}},"./node_modules/lodash/_createRange.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseRange=__webpack_require__("./node_modules/lodash/_baseRange.js"),isIterateeCall=__webpack_require__("./node_modules/lodash/_isIterateeCall.js"),toFinite=__webpack_require__("./node_modules/lodash/toFinite.js");module.exports=function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=void 0),start=toFinite(start),void 0===end?(end=start,start=0):end=toFinite(end),step=void 0===step?start<end?1:-1:toFinite(step),baseRange(start,end,step,fromRight)}}},"./node_modules/lodash/_createSet.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Set=__webpack_require__("./node_modules/lodash/_Set.js"),noop=__webpack_require__("./node_modules/lodash/noop.js"),setToArray=__webpack_require__("./node_modules/lodash/_setToArray.js"),createSet=Set&&1/setToArray(new Set([,-0]))[1]==1/0?function(values){return new Set(values)}:noop;module.exports=createSet},"./node_modules/lodash/_defineProperty.js":(module,__unused_webpack_exports,__webpack_require__)=>{var getNative=__webpack_require__("./node_modules/lodash/_getNative.js"),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},"./node_modules/lodash/_equalArrays.js":(module,__unused_webpack_exports,__webpack_require__)=>{var SetCache=__webpack_require__("./node_modules/lodash/_SetCache.js"),arraySome=__webpack_require__("./node_modules/lodash/_arraySome.js"),cacheHas=__webpack_require__("./node_modules/lodash/_cacheHas.js");module.exports=function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var arrStacked=stack.get(array),othStacked=stack.get(other);if(arrStacked&&othStacked)return arrStacked==other&&othStacked==array;var index=-1,result=!0,seen=2&bitmask?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}},"./node_modules/lodash/_equalByTag.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Symbol=__webpack_require__("./node_modules/lodash/_Symbol.js"),Uint8Array=__webpack_require__("./node_modules/lodash/_Uint8Array.js"),eq=__webpack_require__("./node_modules/lodash/eq.js"),equalArrays=__webpack_require__("./node_modules/lodash/_equalArrays.js"),mapToArray=__webpack_require__("./node_modules/lodash/_mapToArray.js"),setToArray=__webpack_require__("./node_modules/lodash/_setToArray.js"),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case"[object DataView]":if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case"[object ArrayBuffer]":return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case"[object Boolean]":case"[object Date]":case"[object Number]":return eq(+object,+other);case"[object Error]":return object.name==other.name&&object.message==other.message;case"[object RegExp]":case"[object String]":return object==other+"";case"[object Map]":var convert=mapToArray;case"[object Set]":var isPartial=1&bitmask;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case"[object Symbol]":if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}},"./node_modules/lodash/_equalObjects.js":(module,__unused_webpack_exports,__webpack_require__)=>{var getAllKeys=__webpack_require__("./node_modules/lodash/_getAllKeys.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var objStacked=stack.get(object),othStacked=stack.get(other);if(objStacked&&othStacked)return objStacked==other&&othStacked==object;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}},"./node_modules/lodash/_flatRest.js":(module,__unused_webpack_exports,__webpack_require__)=>{var flatten=__webpack_require__("./node_modules/lodash/flatten.js"),overRest=__webpack_require__("./node_modules/lodash/_overRest.js"),setToString=__webpack_require__("./node_modules/lodash/_setToString.js");module.exports=function flatRest(func){return setToString(overRest(func,void 0,flatten),func+"")}},"./node_modules/lodash/_freeGlobal.js":(module,__unused_webpack_exports,__webpack_require__)=>{var freeGlobal="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g;module.exports=freeGlobal},"./node_modules/lodash/_getAllKeys.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGetAllKeys=__webpack_require__("./node_modules/lodash/_baseGetAllKeys.js"),getSymbols=__webpack_require__("./node_modules/lodash/_getSymbols.js"),keys=__webpack_require__("./node_modules/lodash/keys.js");module.exports=function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}},"./node_modules/lodash/_getAllKeysIn.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGetAllKeys=__webpack_require__("./node_modules/lodash/_baseGetAllKeys.js"),getSymbolsIn=__webpack_require__("./node_modules/lodash/_getSymbolsIn.js"),keysIn=__webpack_require__("./node_modules/lodash/keysIn.js");module.exports=function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}},"./node_modules/lodash/_getMapData.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isKeyable=__webpack_require__("./node_modules/lodash/_isKeyable.js");module.exports=function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}},"./node_modules/lodash/_getMatchData.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isStrictComparable=__webpack_require__("./node_modules/lodash/_isStrictComparable.js"),keys=__webpack_require__("./node_modules/lodash/keys.js");module.exports=function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}},"./node_modules/lodash/_getNative.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseIsNative=__webpack_require__("./node_modules/lodash/_baseIsNative.js"),getValue=__webpack_require__("./node_modules/lodash/_getValue.js");module.exports=function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},"./node_modules/lodash/_getPrototype.js":(module,__unused_webpack_exports,__webpack_require__)=>{var getPrototype=__webpack_require__("./node_modules/lodash/_overArg.js")(Object.getPrototypeOf,Object);module.exports=getPrototype},"./node_modules/lodash/_getRawTag.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Symbol=__webpack_require__("./node_modules/lodash/_Symbol.js"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},"./node_modules/lodash/_getSymbols.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayFilter=__webpack_require__("./node_modules/lodash/_arrayFilter.js"),stubArray=__webpack_require__("./node_modules/lodash/stubArray.js"),propertyIsEnumerable=Object.prototype.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:stubArray;module.exports=getSymbols},"./node_modules/lodash/_getSymbolsIn.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayPush=__webpack_require__("./node_modules/lodash/_arrayPush.js"),getPrototype=__webpack_require__("./node_modules/lodash/_getPrototype.js"),getSymbols=__webpack_require__("./node_modules/lodash/_getSymbols.js"),stubArray=__webpack_require__("./node_modules/lodash/stubArray.js"),getSymbolsIn=Object.getOwnPropertySymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray;module.exports=getSymbolsIn},"./node_modules/lodash/_getTag.js":(module,__unused_webpack_exports,__webpack_require__)=>{var DataView=__webpack_require__("./node_modules/lodash/_DataView.js"),Map=__webpack_require__("./node_modules/lodash/_Map.js"),Promise=__webpack_require__("./node_modules/lodash/_Promise.js"),Set=__webpack_require__("./node_modules/lodash/_Set.js"),WeakMap=__webpack_require__("./node_modules/lodash/_WeakMap.js"),baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),toSource=__webpack_require__("./node_modules/lodash/_toSource.js"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&"[object Map]"!=getTag(new Map)||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&"[object Set]"!=getTag(new Set)||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result}),module.exports=getTag},"./node_modules/lodash/_getValue.js":module=>{module.exports=function getValue(object,key){return null==object?void 0:object[key]}},"./node_modules/lodash/_hasPath.js":(module,__unused_webpack_exports,__webpack_require__)=>{var castPath=__webpack_require__("./node_modules/lodash/_castPath.js"),isArguments=__webpack_require__("./node_modules/lodash/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isIndex=__webpack_require__("./node_modules/lodash/_isIndex.js"),isLength=__webpack_require__("./node_modules/lodash/isLength.js"),toKey=__webpack_require__("./node_modules/lodash/_toKey.js");module.exports=function hasPath(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}},"./node_modules/lodash/_hasUnicode.js":module=>{var reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");module.exports=function hasUnicode(string){return reHasUnicode.test(string)}},"./node_modules/lodash/_hashClear.js":(module,__unused_webpack_exports,__webpack_require__)=>{var nativeCreate=__webpack_require__("./node_modules/lodash/_nativeCreate.js");module.exports=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}},"./node_modules/lodash/_hashDelete.js":module=>{module.exports=function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}},"./node_modules/lodash/_hashGet.js":(module,__unused_webpack_exports,__webpack_require__)=>{var nativeCreate=__webpack_require__("./node_modules/lodash/_nativeCreate.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}},"./node_modules/lodash/_hashHas.js":(module,__unused_webpack_exports,__webpack_require__)=>{var nativeCreate=__webpack_require__("./node_modules/lodash/_nativeCreate.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}},"./node_modules/lodash/_hashSet.js":(module,__unused_webpack_exports,__webpack_require__)=>{var nativeCreate=__webpack_require__("./node_modules/lodash/_nativeCreate.js");module.exports=function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this}},"./node_modules/lodash/_initCloneArray.js":module=>{var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}},"./node_modules/lodash/_initCloneByTag.js":(module,__unused_webpack_exports,__webpack_require__)=>{var cloneArrayBuffer=__webpack_require__("./node_modules/lodash/_cloneArrayBuffer.js"),cloneDataView=__webpack_require__("./node_modules/lodash/_cloneDataView.js"),cloneRegExp=__webpack_require__("./node_modules/lodash/_cloneRegExp.js"),cloneSymbol=__webpack_require__("./node_modules/lodash/_cloneSymbol.js"),cloneTypedArray=__webpack_require__("./node_modules/lodash/_cloneTypedArray.js");module.exports=function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case"[object ArrayBuffer]":return cloneArrayBuffer(object);case"[object Boolean]":case"[object Date]":return new Ctor(+object);case"[object DataView]":return cloneDataView(object,isDeep);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return cloneTypedArray(object,isDeep);case"[object Map]":case"[object Set]":return new Ctor;case"[object Number]":case"[object String]":return new Ctor(object);case"[object RegExp]":return cloneRegExp(object);case"[object Symbol]":return cloneSymbol(object)}}},"./node_modules/lodash/_initCloneObject.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseCreate=__webpack_require__("./node_modules/lodash/_baseCreate.js"),getPrototype=__webpack_require__("./node_modules/lodash/_getPrototype.js"),isPrototype=__webpack_require__("./node_modules/lodash/_isPrototype.js");module.exports=function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}},"./node_modules/lodash/_isFlattenable.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Symbol=__webpack_require__("./node_modules/lodash/_Symbol.js"),isArguments=__webpack_require__("./node_modules/lodash/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0;module.exports=function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}},"./node_modules/lodash/_isIndex.js":module=>{var reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=function isIndex(value,length){var type=typeof value;return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}},"./node_modules/lodash/_isIterateeCall.js":(module,__unused_webpack_exports,__webpack_require__)=>{var eq=__webpack_require__("./node_modules/lodash/eq.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js"),isIndex=__webpack_require__("./node_modules/lodash/_isIndex.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js");module.exports=function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}},"./node_modules/lodash/_isKey.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js"),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}},"./node_modules/lodash/_isKeyable.js":module=>{module.exports=function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}},"./node_modules/lodash/_isMasked.js":(module,__unused_webpack_exports,__webpack_require__)=>{var uid,coreJsData=__webpack_require__("./node_modules/lodash/_coreJsData.js"),maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";module.exports=function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}},"./node_modules/lodash/_isPrototype.js":module=>{var objectProto=Object.prototype;module.exports=function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}},"./node_modules/lodash/_isStrictComparable.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isObject=__webpack_require__("./node_modules/lodash/isObject.js");module.exports=function isStrictComparable(value){return value==value&&!isObject(value)}},"./node_modules/lodash/_listCacheClear.js":module=>{module.exports=function listCacheClear(){this.__data__=[],this.size=0}},"./node_modules/lodash/_listCacheDelete.js":(module,__unused_webpack_exports,__webpack_require__)=>{var assocIndexOf=__webpack_require__("./node_modules/lodash/_assocIndexOf.js"),splice=Array.prototype.splice;module.exports=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)}},"./node_modules/lodash/_listCacheGet.js":(module,__unused_webpack_exports,__webpack_require__)=>{var assocIndexOf=__webpack_require__("./node_modules/lodash/_assocIndexOf.js");module.exports=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}},"./node_modules/lodash/_listCacheHas.js":(module,__unused_webpack_exports,__webpack_require__)=>{var assocIndexOf=__webpack_require__("./node_modules/lodash/_assocIndexOf.js");module.exports=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}},"./node_modules/lodash/_listCacheSet.js":(module,__unused_webpack_exports,__webpack_require__)=>{var assocIndexOf=__webpack_require__("./node_modules/lodash/_assocIndexOf.js");module.exports=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}},"./node_modules/lodash/_mapCacheClear.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Hash=__webpack_require__("./node_modules/lodash/_Hash.js"),ListCache=__webpack_require__("./node_modules/lodash/_ListCache.js"),Map=__webpack_require__("./node_modules/lodash/_Map.js");module.exports=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}},"./node_modules/lodash/_mapCacheDelete.js":(module,__unused_webpack_exports,__webpack_require__)=>{var getMapData=__webpack_require__("./node_modules/lodash/_getMapData.js");module.exports=function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}},"./node_modules/lodash/_mapCacheGet.js":(module,__unused_webpack_exports,__webpack_require__)=>{var getMapData=__webpack_require__("./node_modules/lodash/_getMapData.js");module.exports=function mapCacheGet(key){return getMapData(this,key).get(key)}},"./node_modules/lodash/_mapCacheHas.js":(module,__unused_webpack_exports,__webpack_require__)=>{var getMapData=__webpack_require__("./node_modules/lodash/_getMapData.js");module.exports=function mapCacheHas(key){return getMapData(this,key).has(key)}},"./node_modules/lodash/_mapCacheSet.js":(module,__unused_webpack_exports,__webpack_require__)=>{var getMapData=__webpack_require__("./node_modules/lodash/_getMapData.js");module.exports=function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}},"./node_modules/lodash/_mapToArray.js":module=>{module.exports=function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}},"./node_modules/lodash/_matchesStrictComparable.js":module=>{module.exports=function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}},"./node_modules/lodash/_memoizeCapped.js":(module,__unused_webpack_exports,__webpack_require__)=>{var memoize=__webpack_require__("./node_modules/lodash/memoize.js");module.exports=function memoizeCapped(func){var result=memoize(func,(function(key){return 500===cache.size&&cache.clear(),key})),cache=result.cache;return result}},"./node_modules/lodash/_nativeCreate.js":(module,__unused_webpack_exports,__webpack_require__)=>{var nativeCreate=__webpack_require__("./node_modules/lodash/_getNative.js")(Object,"create");module.exports=nativeCreate},"./node_modules/lodash/_nativeKeys.js":(module,__unused_webpack_exports,__webpack_require__)=>{var nativeKeys=__webpack_require__("./node_modules/lodash/_overArg.js")(Object.keys,Object);module.exports=nativeKeys},"./node_modules/lodash/_nativeKeysIn.js":module=>{module.exports=function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}},"./node_modules/lodash/_nodeUtil.js":(module,exports,__webpack_require__)=>{module=__webpack_require__.nmd(module);var freeGlobal=__webpack_require__("./node_modules/lodash/_freeGlobal.js"),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&module&&!module.nodeType&&module,freeProcess=freeModule&&freeModule.exports===freeExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil},"./node_modules/lodash/_objectToString.js":module=>{var nativeObjectToString=Object.prototype.toString;module.exports=function objectToString(value){return nativeObjectToString.call(value)}},"./node_modules/lodash/_overArg.js":module=>{module.exports=function overArg(func,transform){return function(arg){return func(transform(arg))}}},"./node_modules/lodash/_overRest.js":(module,__unused_webpack_exports,__webpack_require__)=>{var apply=__webpack_require__("./node_modules/lodash/_apply.js"),nativeMax=Math.max;module.exports=function overRest(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}},"./node_modules/lodash/_root.js":(module,__unused_webpack_exports,__webpack_require__)=>{var freeGlobal=__webpack_require__("./node_modules/lodash/_freeGlobal.js"),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},"./node_modules/lodash/_safeGet.js":module=>{module.exports=function safeGet(object,key){if(("constructor"!==key||"function"!=typeof object[key])&&"__proto__"!=key)return object[key]}},"./node_modules/lodash/_setCacheAdd.js":module=>{module.exports=function setCacheAdd(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this}},"./node_modules/lodash/_setCacheHas.js":module=>{module.exports=function setCacheHas(value){return this.__data__.has(value)}},"./node_modules/lodash/_setToArray.js":module=>{module.exports=function setToArray(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}},"./node_modules/lodash/_setToString.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseSetToString=__webpack_require__("./node_modules/lodash/_baseSetToString.js"),setToString=__webpack_require__("./node_modules/lodash/_shortOut.js")(baseSetToString);module.exports=setToString},"./node_modules/lodash/_shortOut.js":module=>{var nativeNow=Date.now;module.exports=function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=800)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}},"./node_modules/lodash/_stackClear.js":(module,__unused_webpack_exports,__webpack_require__)=>{var ListCache=__webpack_require__("./node_modules/lodash/_ListCache.js");module.exports=function stackClear(){this.__data__=new ListCache,this.size=0}},"./node_modules/lodash/_stackDelete.js":module=>{module.exports=function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}},"./node_modules/lodash/_stackGet.js":module=>{module.exports=function stackGet(key){return this.__data__.get(key)}},"./node_modules/lodash/_stackHas.js":module=>{module.exports=function stackHas(key){return this.__data__.has(key)}},"./node_modules/lodash/_stackSet.js":(module,__unused_webpack_exports,__webpack_require__)=>{var ListCache=__webpack_require__("./node_modules/lodash/_ListCache.js"),Map=__webpack_require__("./node_modules/lodash/_Map.js"),MapCache=__webpack_require__("./node_modules/lodash/_MapCache.js");module.exports=function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}},"./node_modules/lodash/_strictIndexOf.js":module=>{module.exports=function strictIndexOf(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}},"./node_modules/lodash/_stringSize.js":(module,__unused_webpack_exports,__webpack_require__)=>{var asciiSize=__webpack_require__("./node_modules/lodash/_asciiSize.js"),hasUnicode=__webpack_require__("./node_modules/lodash/_hasUnicode.js"),unicodeSize=__webpack_require__("./node_modules/lodash/_unicodeSize.js");module.exports=function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}},"./node_modules/lodash/_stringToPath.js":(module,__unused_webpack_exports,__webpack_require__)=>{var memoizeCapped=__webpack_require__("./node_modules/lodash/_memoizeCapped.js"),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped((function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)})),result}));module.exports=stringToPath},"./node_modules/lodash/_toKey.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js");module.exports=function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-Infinity?"-0":result}},"./node_modules/lodash/_toSource.js":module=>{var funcToString=Function.prototype.toString;module.exports=function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},"./node_modules/lodash/_trimmedEndIndex.js":module=>{var reWhitespace=/\s/;module.exports=function trimmedEndIndex(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index}},"./node_modules/lodash/_unicodeSize.js":module=>{var rsAstral="[\\ud800-\\udfff]",rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");module.exports=function unicodeSize(string){for(var result=reUnicode.lastIndex=0;reUnicode.test(string);)++result;return result}},"./node_modules/lodash/clone.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseClone=__webpack_require__("./node_modules/lodash/_baseClone.js");module.exports=function clone(value){return baseClone(value,4)}},"./node_modules/lodash/cloneDeep.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseClone=__webpack_require__("./node_modules/lodash/_baseClone.js");module.exports=function cloneDeep(value){return baseClone(value,5)}},"./node_modules/lodash/constant.js":module=>{module.exports=function constant(value){return function(){return value}}},"./node_modules/lodash/defaults.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseRest=__webpack_require__("./node_modules/lodash/_baseRest.js"),eq=__webpack_require__("./node_modules/lodash/eq.js"),isIterateeCall=__webpack_require__("./node_modules/lodash/_isIterateeCall.js"),keysIn=__webpack_require__("./node_modules/lodash/keysIn.js"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,defaults=baseRest((function(object,sources){object=Object(object);var index=-1,length=sources.length,guard=length>2?sources[2]:void 0;for(guard&&isIterateeCall(sources[0],sources[1],guard)&&(length=1);++index<length;)for(var source=sources[index],props=keysIn(source),propsIndex=-1,propsLength=props.length;++propsIndex<propsLength;){var key=props[propsIndex],value=object[key];(void 0===value||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key))&&(object[key]=source[key])}return object}));module.exports=defaults},"./node_modules/lodash/each.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/lodash/forEach.js")},"./node_modules/lodash/eq.js":module=>{module.exports=function eq(value,other){return value===other||value!=value&&other!=other}},"./node_modules/lodash/filter.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayFilter=__webpack_require__("./node_modules/lodash/_arrayFilter.js"),baseFilter=__webpack_require__("./node_modules/lodash/_baseFilter.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js");module.exports=function filter(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,baseIteratee(predicate,3))}},"./node_modules/lodash/find.js":(module,__unused_webpack_exports,__webpack_require__)=>{var find=__webpack_require__("./node_modules/lodash/_createFind.js")(__webpack_require__("./node_modules/lodash/findIndex.js"));module.exports=find},"./node_modules/lodash/findIndex.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseFindIndex=__webpack_require__("./node_modules/lodash/_baseFindIndex.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),toInteger=__webpack_require__("./node_modules/lodash/toInteger.js"),nativeMax=Math.max;module.exports=function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,baseIteratee(predicate,3),index)}},"./node_modules/lodash/flatten.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseFlatten=__webpack_require__("./node_modules/lodash/_baseFlatten.js");module.exports=function flatten(array){return(null==array?0:array.length)?baseFlatten(array,1):[]}},"./node_modules/lodash/forEach.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayEach=__webpack_require__("./node_modules/lodash/_arrayEach.js"),baseEach=__webpack_require__("./node_modules/lodash/_baseEach.js"),castFunction=__webpack_require__("./node_modules/lodash/_castFunction.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js");module.exports=function forEach(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,castFunction(iteratee))}},"./node_modules/lodash/forIn.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseFor=__webpack_require__("./node_modules/lodash/_baseFor.js"),castFunction=__webpack_require__("./node_modules/lodash/_castFunction.js"),keysIn=__webpack_require__("./node_modules/lodash/keysIn.js");module.exports=function forIn(object,iteratee){return null==object?object:baseFor(object,castFunction(iteratee),keysIn)}},"./node_modules/lodash/get.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGet=__webpack_require__("./node_modules/lodash/_baseGet.js");module.exports=function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},"./node_modules/lodash/has.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseHas=__webpack_require__("./node_modules/lodash/_baseHas.js"),hasPath=__webpack_require__("./node_modules/lodash/_hasPath.js");module.exports=function has(object,path){return null!=object&&hasPath(object,path,baseHas)}},"./node_modules/lodash/hasIn.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseHasIn=__webpack_require__("./node_modules/lodash/_baseHasIn.js"),hasPath=__webpack_require__("./node_modules/lodash/_hasPath.js");module.exports=function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}},"./node_modules/lodash/identity.js":module=>{module.exports=function identity(value){return value}},"./node_modules/lodash/isArguments.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseIsArguments=__webpack_require__("./node_modules/lodash/_baseIsArguments.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},"./node_modules/lodash/isArray.js":module=>{var isArray=Array.isArray;module.exports=isArray},"./node_modules/lodash/isArrayLike.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isFunction=__webpack_require__("./node_modules/lodash/isFunction.js"),isLength=__webpack_require__("./node_modules/lodash/isLength.js");module.exports=function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}},"./node_modules/lodash/isArrayLikeObject.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}},"./node_modules/lodash/isBuffer.js":(module,exports,__webpack_require__)=>{module=__webpack_require__.nmd(module);var root=__webpack_require__("./node_modules/lodash/_root.js"),stubFalse=__webpack_require__("./node_modules/lodash/stubFalse.js"),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,isBuffer=(Buffer?Buffer.isBuffer:void 0)||stubFalse;module.exports=isBuffer},"./node_modules/lodash/isEmpty.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseKeys=__webpack_require__("./node_modules/lodash/_baseKeys.js"),getTag=__webpack_require__("./node_modules/lodash/_getTag.js"),isArguments=__webpack_require__("./node_modules/lodash/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js"),isBuffer=__webpack_require__("./node_modules/lodash/isBuffer.js"),isPrototype=__webpack_require__("./node_modules/lodash/_isPrototype.js"),isTypedArray=__webpack_require__("./node_modules/lodash/isTypedArray.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function isEmpty(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if("[object Map]"==tag||"[object Set]"==tag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}},"./node_modules/lodash/isFunction.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js");module.exports=function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return"[object Function]"==tag||"[object GeneratorFunction]"==tag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag}},"./node_modules/lodash/isLength.js":module=>{module.exports=function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}},"./node_modules/lodash/isMap.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseIsMap=__webpack_require__("./node_modules/lodash/_baseIsMap.js"),baseUnary=__webpack_require__("./node_modules/lodash/_baseUnary.js"),nodeUtil=__webpack_require__("./node_modules/lodash/_nodeUtil.js"),nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;module.exports=isMap},"./node_modules/lodash/isObject.js":module=>{module.exports=function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}},"./node_modules/lodash/isObjectLike.js":module=>{module.exports=function isObjectLike(value){return null!=value&&"object"==typeof value}},"./node_modules/lodash/isPlainObject.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),getPrototype=__webpack_require__("./node_modules/lodash/_getPrototype.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js"),funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);module.exports=function isPlainObject(value){if(!isObjectLike(value)||"[object Object]"!=baseGetTag(value))return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},"./node_modules/lodash/isSet.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseIsSet=__webpack_require__("./node_modules/lodash/_baseIsSet.js"),baseUnary=__webpack_require__("./node_modules/lodash/_baseUnary.js"),nodeUtil=__webpack_require__("./node_modules/lodash/_nodeUtil.js"),nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;module.exports=isSet},"./node_modules/lodash/isString.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&"[object String]"==baseGetTag(value)}},"./node_modules/lodash/isSymbol.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&"[object Symbol]"==baseGetTag(value)}},"./node_modules/lodash/isTypedArray.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseIsTypedArray=__webpack_require__("./node_modules/lodash/_baseIsTypedArray.js"),baseUnary=__webpack_require__("./node_modules/lodash/_baseUnary.js"),nodeUtil=__webpack_require__("./node_modules/lodash/_nodeUtil.js"),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},"./node_modules/lodash/isUndefined.js":module=>{module.exports=function isUndefined(value){return void 0===value}},"./node_modules/lodash/keys.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayLikeKeys=__webpack_require__("./node_modules/lodash/_arrayLikeKeys.js"),baseKeys=__webpack_require__("./node_modules/lodash/_baseKeys.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js");module.exports=function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}},"./node_modules/lodash/keysIn.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayLikeKeys=__webpack_require__("./node_modules/lodash/_arrayLikeKeys.js"),baseKeysIn=__webpack_require__("./node_modules/lodash/_baseKeysIn.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js");module.exports=function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}},"./node_modules/lodash/last.js":module=>{module.exports=function last(array){var length=null==array?0:array.length;return length?array[length-1]:void 0}},"./node_modules/lodash/map.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayMap=__webpack_require__("./node_modules/lodash/_arrayMap.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),baseMap=__webpack_require__("./node_modules/lodash/_baseMap.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js");module.exports=function map(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,baseIteratee(iteratee,3))}},"./node_modules/lodash/mapValues.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseAssignValue=__webpack_require__("./node_modules/lodash/_baseAssignValue.js"),baseForOwn=__webpack_require__("./node_modules/lodash/_baseForOwn.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js");module.exports=function mapValues(object,iteratee){var result={};return iteratee=baseIteratee(iteratee,3),baseForOwn(object,(function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))})),result}},"./node_modules/lodash/max.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseExtremum=__webpack_require__("./node_modules/lodash/_baseExtremum.js"),baseGt=__webpack_require__("./node_modules/lodash/_baseGt.js"),identity=__webpack_require__("./node_modules/lodash/identity.js");module.exports=function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):void 0}},"./node_modules/lodash/memoize.js":(module,__unused_webpack_exports,__webpack_require__)=>{var MapCache=__webpack_require__("./node_modules/lodash/_MapCache.js");function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache,module.exports=memoize},"./node_modules/lodash/merge.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseMerge=__webpack_require__("./node_modules/lodash/_baseMerge.js"),merge=__webpack_require__("./node_modules/lodash/_createAssigner.js")((function(object,source,srcIndex){baseMerge(object,source,srcIndex)}));module.exports=merge},"./node_modules/lodash/min.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseExtremum=__webpack_require__("./node_modules/lodash/_baseExtremum.js"),baseLt=__webpack_require__("./node_modules/lodash/_baseLt.js"),identity=__webpack_require__("./node_modules/lodash/identity.js");module.exports=function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):void 0}},"./node_modules/lodash/minBy.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseExtremum=__webpack_require__("./node_modules/lodash/_baseExtremum.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),baseLt=__webpack_require__("./node_modules/lodash/_baseLt.js");module.exports=function minBy(array,iteratee){return array&&array.length?baseExtremum(array,baseIteratee(iteratee,2),baseLt):void 0}},"./node_modules/lodash/noop.js":module=>{module.exports=function noop(){}},"./node_modules/lodash/now.js":(module,__unused_webpack_exports,__webpack_require__)=>{var root=__webpack_require__("./node_modules/lodash/_root.js");module.exports=function(){return root.Date.now()}},"./node_modules/lodash/pick.js":(module,__unused_webpack_exports,__webpack_require__)=>{var basePick=__webpack_require__("./node_modules/lodash/_basePick.js"),pick=__webpack_require__("./node_modules/lodash/_flatRest.js")((function(object,paths){return null==object?{}:basePick(object,paths)}));module.exports=pick},"./node_modules/lodash/property.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseProperty=__webpack_require__("./node_modules/lodash/_baseProperty.js"),basePropertyDeep=__webpack_require__("./node_modules/lodash/_basePropertyDeep.js"),isKey=__webpack_require__("./node_modules/lodash/_isKey.js"),toKey=__webpack_require__("./node_modules/lodash/_toKey.js");module.exports=function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}},"./node_modules/lodash/range.js":(module,__unused_webpack_exports,__webpack_require__)=>{var range=__webpack_require__("./node_modules/lodash/_createRange.js")();module.exports=range},"./node_modules/lodash/reduce.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayReduce=__webpack_require__("./node_modules/lodash/_arrayReduce.js"),baseEach=__webpack_require__("./node_modules/lodash/_baseEach.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),baseReduce=__webpack_require__("./node_modules/lodash/_baseReduce.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js");module.exports=function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,baseIteratee(iteratee,4),accumulator,initAccum,baseEach)}},"./node_modules/lodash/size.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseKeys=__webpack_require__("./node_modules/lodash/_baseKeys.js"),getTag=__webpack_require__("./node_modules/lodash/_getTag.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js"),isString=__webpack_require__("./node_modules/lodash/isString.js"),stringSize=__webpack_require__("./node_modules/lodash/_stringSize.js");module.exports=function size(collection){if(null==collection)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);return"[object Map]"==tag||"[object Set]"==tag?collection.size:baseKeys(collection).length}},"./node_modules/lodash/sortBy.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseFlatten=__webpack_require__("./node_modules/lodash/_baseFlatten.js"),baseOrderBy=__webpack_require__("./node_modules/lodash/_baseOrderBy.js"),baseRest=__webpack_require__("./node_modules/lodash/_baseRest.js"),isIterateeCall=__webpack_require__("./node_modules/lodash/_isIterateeCall.js"),sortBy=baseRest((function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])}));module.exports=sortBy},"./node_modules/lodash/stubArray.js":module=>{module.exports=function stubArray(){return[]}},"./node_modules/lodash/stubFalse.js":module=>{module.exports=function stubFalse(){return!1}},"./node_modules/lodash/toFinite.js":(module,__unused_webpack_exports,__webpack_require__)=>{var toNumber=__webpack_require__("./node_modules/lodash/toNumber.js");module.exports=function toFinite(value){return value?Infinity===(value=toNumber(value))||-Infinity===value?17976931348623157e292*(value<0?-1:1):value==value?value:0:0===value?value:0}},"./node_modules/lodash/toInteger.js":(module,__unused_webpack_exports,__webpack_require__)=>{var toFinite=__webpack_require__("./node_modules/lodash/toFinite.js");module.exports=function toInteger(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}},"./node_modules/lodash/toNumber.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseTrim=__webpack_require__("./node_modules/lodash/_baseTrim.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js"),reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}},"./node_modules/lodash/toPlainObject.js":(module,__unused_webpack_exports,__webpack_require__)=>{var copyObject=__webpack_require__("./node_modules/lodash/_copyObject.js"),keysIn=__webpack_require__("./node_modules/lodash/keysIn.js");module.exports=function toPlainObject(value){return copyObject(value,keysIn(value))}},"./node_modules/lodash/toString.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseToString=__webpack_require__("./node_modules/lodash/_baseToString.js");module.exports=function toString(value){return null==value?"":baseToString(value)}},"./node_modules/lodash/transform.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayEach=__webpack_require__("./node_modules/lodash/_arrayEach.js"),baseCreate=__webpack_require__("./node_modules/lodash/_baseCreate.js"),baseForOwn=__webpack_require__("./node_modules/lodash/_baseForOwn.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),getPrototype=__webpack_require__("./node_modules/lodash/_getPrototype.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isBuffer=__webpack_require__("./node_modules/lodash/isBuffer.js"),isFunction=__webpack_require__("./node_modules/lodash/isFunction.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),isTypedArray=__webpack_require__("./node_modules/lodash/isTypedArray.js");module.exports=function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);if(iteratee=baseIteratee(iteratee,4),null==accumulator){var Ctor=object&&object.constructor;accumulator=isArrLike?isArr?new Ctor:[]:isObject(object)&&isFunction(Ctor)?baseCreate(getPrototype(object)):{}}return(isArrLike?arrayEach:baseForOwn)(object,(function(value,index,object){return iteratee(accumulator,value,index,object)})),accumulator}},"./node_modules/lodash/union.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseFlatten=__webpack_require__("./node_modules/lodash/_baseFlatten.js"),baseRest=__webpack_require__("./node_modules/lodash/_baseRest.js"),baseUniq=__webpack_require__("./node_modules/lodash/_baseUniq.js"),isArrayLikeObject=__webpack_require__("./node_modules/lodash/isArrayLikeObject.js"),union=baseRest((function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))}));module.exports=union},"./node_modules/lodash/uniqueId.js":(module,__unused_webpack_exports,__webpack_require__)=>{var toString=__webpack_require__("./node_modules/lodash/toString.js"),idCounter=0;module.exports=function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}},"./node_modules/lodash/values.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseValues=__webpack_require__("./node_modules/lodash/_baseValues.js"),keys=__webpack_require__("./node_modules/lodash/keys.js");module.exports=function values(object){return null==object?[]:baseValues(object,keys(object))}},"./node_modules/lodash/zipObject.js":(module,__unused_webpack_exports,__webpack_require__)=>{var assignValue=__webpack_require__("./node_modules/lodash/_assignValue.js"),baseZipObject=__webpack_require__("./node_modules/lodash/_baseZipObject.js");module.exports=function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}},"./node_modules/moment-mini/locale/locale.js":()=>{},"./node_modules/moment-mini/moment.min.js":function(module,__unused_webpack_exports,__webpack_require__){module=__webpack_require__.nmd(module);var console=__webpack_require__("./node_modules/console-browserify/index.js");module.exports=function(){"use strict";var H;function f(){return H.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function F(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(c(e,t))return;return 1}function o(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function V(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function G(e,t){for(var n=[],s=e.length,i=0;i<s;++i)n.push(t(e[i],i));return n}function E(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,s){return Pt(e,t,n,s,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function A(e){if(null==e._isValid){var t=m(e),n=j.call(t.parsedDateParts,(function(e){return null!=e}));if(n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function I(e){var t=l(NaN);return null!=e?E(m(t),e):m(t).userInvalidated=!0,t}var j=Array.prototype.some||function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1},Z=f.momentProperties=[],z=!1;function $(e,t){var n,s,i,r=Z.length;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=m(t)),o(t._locale)||(e._locale=t._locale),0<r)for(n=0;n<r;n++)o(i=t[s=Z[n]])||(e[s]=i);return e}function q(e){$(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===z&&(z=!0,f.updateOffset(this),z=!1)}function h(e){return e instanceof q||null!=e&&null!=e._isAMomentObject}function B(e){!1===f.suppressDeprecationWarnings&&void 0!==console&&console.warn&&console.warn("Deprecation warning: "+e)}function e(r,a){var o=!0;return E((function(){if(null!=f.deprecationHandler&&f.deprecationHandler(null,r),o){for(var e,t,n=[],s=arguments.length,i=0;i<s;i++){if(e="","object"==typeof arguments[i]){for(t in e+="\n["+i+"] ",arguments[0])c(arguments[0],t)&&(e+=t+": "+arguments[0][t]+", ");e=e.slice(0,-2)}else e=arguments[i];n.push(e)}B(r+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),o=!1}return a.apply(this,arguments)}),a)}var J={};function Q(e,t){null!=f.deprecationHandler&&f.deprecationHandler(e,t),J[e]||(B(t),J[e]=!0)}function d(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function X(e,t){var n,s=E({},e);for(n in t)c(t,n)&&(F(e[n])&&F(t[n])?(s[n]={},E(s[n],e[n]),E(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)c(e,n)&&!c(t,n)&&F(e[n])&&(s[n]=E({},s[n]));return s}function K(e){null!=e&&this.set(e)}f.suppressDeprecationWarnings=!1,f.deprecationHandler=null;var ee=Object.keys||function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n};function r(e,t,n){var s=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-s.length)).toString().substr(1)+s}var te=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ne=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,se={},ie={};function s(e,t,n,s){var i="string"==typeof s?function(){return this[s]()}:s;e&&(ie[e]=i),t&&(ie[t[0]]=function(){return r(i.apply(this,arguments),t[1],t[2])}),n&&(ie[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function re(e,t){return e.isValid()?(t=ae(t,e.localeData()),se[t]=se[t]||function(s){for(var e,i=s.match(te),t=0,r=i.length;t<r;t++)ie[i[t]]?i[t]=ie[i[t]]:i[t]=(e=i[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",n=0;n<r;n++)t+=d(i[n])?i[n].call(e,s):i[n];return t}}(t),se[t](e)):e.localeData().invalidDate()}function ae(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(ne.lastIndex=0;0<=n&&ne.test(e);)e=e.replace(ne,s),ne.lastIndex=0,--n;return e}var oe={};function t(e,t){var n=e.toLowerCase();oe[n]=oe[n+"s"]=oe[t]=e}function _(e){return"string"==typeof e?oe[e]||oe[e.toLowerCase()]:void 0}function ue(e){var t,n,s={};for(n in e)c(e,n)&&(t=_(n))&&(s[t]=e[n]);return s}var le={};function n(e,t){le[e]=t}function he(e){return e%4==0&&e%100!=0||e%400==0}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function g(e){var t=0;return 0!=(e=+e)&&isFinite(e)?y(e):t}function de(t,n){return function(e){return null!=e?(fe(this,t,e),f.updateOffset(this,n),this):ce(this,t)}}function ce(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function fe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&he(e.year())&&1===e.month()&&29===e.date()?(n=g(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),We(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var i=/\d/,w=/\d\d/,me=/\d{3}/,_e=/\d{4}/,ye=/[+-]?\d{6}/,p=/\d\d?/,ge=/\d\d\d\d?/,we=/\d\d\d\d\d\d?/,pe=/\d{1,3}/,ke=/\d{1,4}/,ve=/[+-]?\d{1,6}/,Me=/\d+/,De=/[+-]?\d+/,Se=/Z|[+-]\d\d:?\d\d/gi,Ye=/Z|[+-]\d\d(?::?\d\d)?/gi,k=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function v(e,n,s){be[e]=d(n)?n:function(e,t){return e&&s?s:n}}function Oe(e,t){return c(be,e)?be[e](t._strict,t._locale):new RegExp(M(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,s,i){return t||n||s||i}))))}function M(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var be={},xe={};function D(e,n){var t,s,i=n;for("string"==typeof e&&(e=[e]),u(n)&&(i=function(e,t){t[n]=g(e)}),s=e.length,t=0;t<s;t++)xe[e[t]]=i}function Te(e,i){D(e,(function(e,t,n,s){n._w=n._w||{},i(e,n._w,n,s)}))}var S,Y=0,O=1,b=2,x=3,T=4,N=5,Ne=6,Pe=7,Re=8;function We(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%(n=12)+n)%n;return e+=(t-n)/12,1==n?he(e)?29:28:31-n%7%2}S=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},s("M",["MM",2],"Mo",(function(){return this.month()+1})),s("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),s("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),t("month","M"),n("month",8),v("M",p),v("MM",p,w),v("MMM",(function(e,t){return t.monthsShortRegex(e)})),v("MMMM",(function(e,t){return t.monthsRegex(e)})),D(["M","MM"],(function(e,t){t[O]=g(e)-1})),D(["MMM","MMMM"],(function(e,t,n,s){null!=(s=n._locale.monthsParse(e,s,n._strict))?t[O]=s:m(n).invalidMonth=e}));var Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ue="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),He=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Fe=k,Le=k;function Ve(e,t){var n;if(e.isValid()){if("string"==typeof t)if(/^\d+$/.test(t))t=g(t);else if(!u(t=e.localeData().monthsParse(t)))return;n=Math.min(e.date(),We(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n)}}function Ge(e){return null!=e?(Ve(this,e),f.updateOffset(this,!0),this):ce(this,"Month")}function Ee(){function e(e,t){return t.length-e.length}for(var t,n=[],s=[],i=[],r=0;r<12;r++)t=l([2e3,r]),n.push(this.monthsShort(t,"")),s.push(this.months(t,"")),i.push(this.months(t,"")),i.push(this.monthsShort(t,""));for(n.sort(e),s.sort(e),i.sort(e),r=0;r<12;r++)n[r]=M(n[r]),s[r]=M(s[r]);for(r=0;r<24;r++)i[r]=M(i[r]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ae(e){return he(e)?366:365}s("Y",0,0,(function(){var e=this.year();return e<=9999?r(e,4):"+"+e})),s(0,["YY",2],0,(function(){return this.year()%100})),s(0,["YYYY",4],0,"year"),s(0,["YYYYY",5],0,"year"),s(0,["YYYYYY",6,!0],0,"year"),t("year","y"),n("year",1),v("Y",De),v("YY",p,w),v("YYYY",ke,_e),v("YYYYY",ve,ye),v("YYYYYY",ve,ye),D(["YYYYY","YYYYYY"],Y),D("YYYY",(function(e,t){t[Y]=2===e.length?f.parseTwoDigitYear(e):g(e)})),D("YY",(function(e,t){t[Y]=f.parseTwoDigitYear(e)})),D("Y",(function(e,t){t[Y]=parseInt(e,10)})),f.parseTwoDigitYear=function(e){return g(e)+(68<g(e)?1900:2e3)};var Ie=de("FullYear",!0);function je(e,t,n,s,i,r,a){var o;return e<100&&0<=e?(o=new Date(e+400,t,n,s,i,r,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,s,i,r,a),o}function Ze(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function ze(e,t,n){return(n=7+t-n)-(7+Ze(e,0,n).getUTCDay()-t)%7-1}function $e(e,t,n,s,i){var r;return n=(t=1+7*(t-1)+(7+n-s)%7+ze(e,s,i))<=0?Ae(r=e-1)+t:t>Ae(e)?(r=e+1,t-Ae(e)):(r=e,t),{year:r,dayOfYear:n}}function qe(e,t,n){var s,i,r=ze(e.year(),t,n);return(r=Math.floor((e.dayOfYear()-r-1)/7)+1)<1?s=r+P(i=e.year()-1,t,n):r>P(e.year(),t,n)?(s=r-P(e.year(),t,n),i=e.year()+1):(i=e.year(),s=r),{week:s,year:i}}function P(e,t,n){var s=ze(e,t,n);return t=ze(e+1,t,n),(Ae(e)-s+t)/7}function Be(e,t){return e.slice(t,7).concat(e.slice(0,t))}s("w",["ww",2],"wo","week"),s("W",["WW",2],"Wo","isoWeek"),t("week","w"),t("isoWeek","W"),n("week",5),n("isoWeek",5),v("w",p),v("ww",p,w),v("W",p),v("WW",p,w),Te(["w","ww","W","WW"],(function(e,t,n,s){t[s.substr(0,1)]=g(e)})),s("d",0,"do","day"),s("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),s("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),s("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),s("e",0,0,"weekday"),s("E",0,0,"isoWeekday"),t("day","d"),t("weekday","e"),t("isoWeekday","E"),n("day",11),n("weekday",11),n("isoWeekday",11),v("d",p),v("e",p),v("E",p),v("dd",(function(e,t){return t.weekdaysMinRegex(e)})),v("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),v("dddd",(function(e,t){return t.weekdaysRegex(e)})),Te(["dd","ddd","dddd"],(function(e,t,n,s){null!=(s=n._locale.weekdaysParse(e,s,n._strict))?t.d=s:m(n).invalidWeekday=e})),Te(["d","e","E"],(function(e,t,n,s){t[s]=g(e)}));var Je="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Qe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ke=k,et=k,tt=k;function nt(){function e(e,t){return t.length-e.length}for(var t,n,s,i=[],r=[],a=[],o=[],u=0;u<7;u++)s=l([2e3,1]).day(u),t=M(this.weekdaysMin(s,"")),n=M(this.weekdaysShort(s,"")),s=M(this.weekdays(s,"")),i.push(t),r.push(n),a.push(s),o.push(t),o.push(n),o.push(s);i.sort(e),r.sort(e),a.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+i.join("|")+")","i")}function st(){return this.hours()%12||12}function it(e,t){s(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function rt(e,t){return t._meridiemParse}s("H",["HH",2],0,"hour"),s("h",["hh",2],0,st),s("k",["kk",2],0,(function(){return this.hours()||24})),s("hmm",0,0,(function(){return""+st.apply(this)+r(this.minutes(),2)})),s("hmmss",0,0,(function(){return""+st.apply(this)+r(this.minutes(),2)+r(this.seconds(),2)})),s("Hmm",0,0,(function(){return""+this.hours()+r(this.minutes(),2)})),s("Hmmss",0,0,(function(){return""+this.hours()+r(this.minutes(),2)+r(this.seconds(),2)})),it("a",!0),it("A",!1),t("hour","h"),n("hour",13),v("a",rt),v("A",rt),v("H",p),v("h",p),v("k",p),v("HH",p,w),v("hh",p,w),v("kk",p,w),v("hmm",ge),v("hmmss",we),v("Hmm",ge),v("Hmmss",we),D(["H","HH"],x),D(["k","kk"],(function(e,t,n){e=g(e),t[x]=24===e?0:e})),D(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),D(["h","hh"],(function(e,t,n){t[x]=g(e),m(n).bigHour=!0})),D("hmm",(function(e,t,n){var s=e.length-2;t[x]=g(e.substr(0,s)),t[T]=g(e.substr(s)),m(n).bigHour=!0})),D("hmmss",(function(e,t,n){var s=e.length-4,i=e.length-2;t[x]=g(e.substr(0,s)),t[T]=g(e.substr(s,2)),t[N]=g(e.substr(i)),m(n).bigHour=!0})),D("Hmm",(function(e,t,n){var s=e.length-2;t[x]=g(e.substr(0,s)),t[T]=g(e.substr(s))})),D("Hmmss",(function(e,t,n){var s=e.length-4,i=e.length-2;t[x]=g(e.substr(0,s)),t[T]=g(e.substr(s,2)),t[N]=g(e.substr(i))})),k=de("Hours",!0);var at,ot={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ce,monthsShort:Ue,week:{dow:0,doy:6},weekdays:Je,weekdaysMin:Xe,weekdaysShort:Qe,meridiemParse:/[ap]\.?m?\.?/i},R={},ut={};function lt(e){return e&&e.toLowerCase().replace("_","-")}function ht(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=lt(e[r]).split("-")).length,n=(n=lt(e[r+1]))?n.split("-"):null;0<t;){if(s=dt(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&function(e,t){for(var n=Math.min(e.length,t.length),s=0;s<n;s+=1)if(e[s]!==t[s])return s;return n}(i,n)>=t-1)break;t--}r++}return at}function dt(t){var e;if(void 0===R[t]&&module&&module.exports&&null!=t.match("^[^/\\\\]*$"))try{e=at._abbr,__webpack_require__("./node_modules/moment-mini/locale sync recursive ^\\.\\/.*$")("./"+t),ct(e)}catch(e){R[t]=null}return R[t]}function ct(e,t){return e&&((t=o(t)?mt(e):ft(e,t))?at=t:void 0!==console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),at._abbr}function ft(e,t){if(null===t)return delete R[e],null;var n,s=ot;if(t.abbr=e,null!=R[e])Q("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=R[e]._config;else if(null!=t.parentLocale)if(null!=R[t.parentLocale])s=R[t.parentLocale]._config;else{if(null==(n=dt(t.parentLocale)))return ut[t.parentLocale]||(ut[t.parentLocale]=[]),ut[t.parentLocale].push({name:e,config:t}),null;s=n._config}return R[e]=new K(X(s,t)),ut[e]&&ut[e].forEach((function(e){ft(e.name,e.config)})),ct(e),R[e]}function mt(e){var t;if(!(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e))return at;if(!a(e)){if(t=dt(e))return t;e=[e]}return ht(e)}function _t(e){var t=e._a;return t&&-2===m(e).overflow&&(t=t[O]<0||11<t[O]?O:t[b]<1||t[b]>We(t[Y],t[O])?b:t[x]<0||24<t[x]||24===t[x]&&(0!==t[T]||0!==t[N]||0!==t[Ne])?x:t[T]<0||59<t[T]?T:t[N]<0||59<t[N]?N:t[Ne]<0||999<t[Ne]?Ne:-1,m(e)._overflowDayOfYear&&(t<Y||b<t)&&(t=b),m(e)._overflowWeeks&&-1===t&&(t=Pe),m(e)._overflowWeekday&&-1===t&&(t=Re),m(e).overflow=t),e}var yt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wt=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],kt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],vt=/^\/?Date\((-?\d+)/i,Mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Dt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function St(e){var t,n,s,i,r,a,o=e._i,u=yt.exec(o)||gt.exec(o),l=(o=pt.length,kt.length);if(u){for(m(e).iso=!0,t=0,n=o;t<n;t++)if(pt[t][1].exec(u[1])){i=pt[t][0],s=!1!==pt[t][2];break}if(null==i)e._isValid=!1;else{if(u[3]){for(t=0,n=l;t<n;t++)if(kt[t][1].exec(u[3])){r=(u[2]||" ")+kt[t][0];break}if(null==r)return void(e._isValid=!1)}if(s||null==r){if(u[4]){if(!wt.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),Tt(e)}else e._isValid=!1}}else e._isValid=!1}function Yt(e,t,n,s,i,r){return e=[function(e){return(e=parseInt(e,10))<=49?2e3+e:e<=999?1900+e:e}(e),Ue.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)],r&&e.push(parseInt(r,10)),e}function Ot(e){var t,n,s,i,r=Mt.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));r?(s=t=Yt(r[4],r[3],r[2],r[5],r[6],r[7]),i=e,(n=r[1])&&Qe.indexOf(n)!==new Date(s[0],s[1],s[2]).getDay()?(m(i).weekdayMismatch=!0,i._isValid=!1):(e._a=t,e._tzm=(n=r[8],s=r[9],i=r[10],n?Dt[n]:s?0:((n=parseInt(i,10))-(s=n%100))/100*60+s),e._d=Ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0)):e._isValid=!1}function bt(e,t,n){return null!=e?e:null!=t?t:n}function xt(e){var t,n,s,i,r,a,o,u,l,h,d,c=[];if(!e._d){for(s=e,i=new Date(f.now()),n=s._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()],e._w&&null==e._a[b]&&null==e._a[O]&&(null!=(i=(s=e)._w).GG||null!=i.W||null!=i.E?(u=1,l=4,r=bt(i.GG,s._a[Y],qe(W(),1,4).year),a=bt(i.W,1),((o=bt(i.E,1))<1||7<o)&&(h=!0)):(u=s._locale._week.dow,l=s._locale._week.doy,d=qe(W(),u,l),r=bt(i.gg,s._a[Y],d.year),a=bt(i.w,d.week),null!=i.d?((o=i.d)<0||6<o)&&(h=!0):null!=i.e?(o=i.e+u,(i.e<0||6<i.e)&&(h=!0)):o=u),a<1||a>P(r,u,l)?m(s)._overflowWeeks=!0:null!=h?m(s)._overflowWeekday=!0:(d=$e(r,a,o,u,l),s._a[Y]=d.year,s._dayOfYear=d.dayOfYear)),null!=e._dayOfYear&&(i=bt(e._a[Y],n[Y]),(e._dayOfYear>Ae(i)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),h=Ze(i,0,e._dayOfYear),e._a[O]=h.getUTCMonth(),e._a[b]=h.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=c[t]=n[t];for(;t<7;t++)e._a[t]=c[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[x]&&0===e._a[T]&&0===e._a[N]&&0===e._a[Ne]&&(e._nextDay=!0,e._a[x]=0),e._d=(e._useUTC?Ze:je).apply(null,c),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[x]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(m(e).weekdayMismatch=!0)}}function Tt(e){if(e._f===f.ISO_8601)St(e);else if(e._f===f.RFC_2822)Ot(e);else{e._a=[],m(e).empty=!0;for(var t,n,s,i,r,a=""+e._i,o=a.length,u=0,l=ae(e._f,e._locale).match(te)||[],h=l.length,d=0;d<h;d++)n=l[d],(t=(a.match(Oe(n,e))||[])[0])&&(0<(s=a.substr(0,a.indexOf(t))).length&&m(e).unusedInput.push(s),a=a.slice(a.indexOf(t)+t.length),u+=t.length),ie[n]?(t?m(e).empty=!1:m(e).unusedTokens.push(n),s=n,r=e,null!=(i=t)&&c(xe,s)&&xe[s](i,r._a,r,s)):e._strict&&!t&&m(e).unusedTokens.push(n);m(e).charsLeftOver=o-u,0<a.length&&m(e).unusedInput.push(a),e._a[x]<=12&&!0===m(e).bigHour&&0<e._a[x]&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[x]=function(e,t,n){return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((e=e.isPM(n))&&t<12&&(t+=12),t=e||12!==t?t:0):t}(e._locale,e._a[x],e._meridiem),null!==(o=m(e).era)&&(e._a[Y]=e._locale.erasConvertYear(o,e._a[Y])),xt(e),_t(e)}}function Nt(e){var t,n,s,i=e._i,r=e._f;return e._locale=e._locale||mt(e._l),null===i||void 0===r&&""===i?I({nullInput:!0}):("string"==typeof i&&(e._i=i=e._locale.preparse(i)),h(i)?new q(_t(i)):(V(i)?e._d=i:a(r)?function(e){var t,n,s,i,r,a,o=!1,u=e._f.length;if(0===u)return m(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<u;i++)r=0,a=!1,t=$({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Tt(t),A(t)&&(a=!0),r=(r+=m(t).charsLeftOver)+10*m(t).unusedTokens.length,m(t).score=r,o?r<s&&(s=r,n=t):(null==s||r<s||a)&&(s=r,n=t,a&&(o=!0));E(e,n||t)}(e):r?Tt(e):o(r=(i=e)._i)?i._d=new Date(f.now()):V(r)?i._d=new Date(r.valueOf()):"string"==typeof r?(n=i,null!==(t=vt.exec(n._i))?n._d=new Date(+t[1]):(St(n),!1===n._isValid&&(delete n._isValid,Ot(n),!1===n._isValid&&(delete n._isValid,n._strict?n._isValid=!1:f.createFromInputFallback(n))))):a(r)?(i._a=G(r.slice(0),(function(e){return parseInt(e,10)})),xt(i)):F(r)?(t=i)._d||(s=void 0===(n=ue(t._i)).day?n.date:n.day,t._a=G([n.year,n.month,s,n.hour,n.minute,n.second,n.millisecond],(function(e){return e&&parseInt(e,10)})),xt(t)):u(r)?i._d=new Date(r):f.createFromInputFallback(i),A(e)||(e._d=null),e))}function Pt(e,t,n,s,i){var r={};return!0!==t&&!1!==t||(s=t,t=void 0),!0!==n&&!1!==n||(s=n,n=void 0),(F(e)&&L(e)||a(e)&&0===e.length)&&(e=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=i,r._l=n,r._i=e,r._f=t,r._strict=s,(i=new q(_t(Nt(i=r))))._nextDay&&(i.add(1,"d"),i._nextDay=void 0),i}function W(e,t,n,s){return Pt(e,t,n,s,!1)}function Rt(e,t){var n,s;if(!(t=1===t.length&&a(t[0])?t[0]:t).length)return W();for(n=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](n)||(n=t[s]);return n}f.createFromInputFallback=e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),f.ISO_8601=function(){},f.RFC_2822=function(){},ge=e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=W.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:I()})),we=e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=W.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:I()}));var Wt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ct(e){var t=(e=ue(e)).year||0,n=e.quarter||0,s=e.month||0,i=e.week||e.isoWeek||0,r=e.day||0,a=e.hour||0,o=e.minute||0,u=e.second||0,l=e.millisecond||0;this._isValid=function(e){var t,n,s=!1,i=Wt.length;for(t in e)if(c(e,t)&&(-1===S.call(Wt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[Wt[n]]){if(s)return!1;parseFloat(e[Wt[n]])!==g(e[Wt[n]])&&(s=!0)}return!0}(e),this._milliseconds=+l+1e3*u+6e4*o+1e3*a*60*60,this._days=+r+7*i,this._months=+s+3*n+12*t,this._data={},this._locale=mt(),this._bubble()}function Ut(e){return e instanceof Ct}function Ht(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,n){s(e,0,0,(function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+r(~~(e/60),2)+n+r(~~e%60,2)}))}Ft("Z",":"),Ft("ZZ",""),v("Z",Ye),v("ZZ",Ye),D(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Vt(Ye,e)}));var Lt=/([\+\-]|\d\d)/gi;function Vt(e,t){return null===(t=(t||"").match(e))?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(Lt)||["-",0,0])[1]+g(e[2]))?0:"+"===e[0]?t:-t}function Gt(e,t){var n;return t._isUTC?(t=t.clone(),n=(h(e)||V(e)?e:W(e)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+n),f.updateOffset(t,!1),t):W(e).local()}function Et(e){return-Math.round(e._d.getTimezoneOffset())}function At(){return!!this.isValid()&&this._isUTC&&0===this._offset}f.updateOffset=function(){};var It=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,jt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function C(e,t){var n,s=e,i=null;return Ut(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(i=It.exec(e))?(n="-"===i[1]?-1:1,s={y:0,d:g(i[b])*n,h:g(i[x])*n,m:g(i[T])*n,s:g(i[N])*n,ms:g(Ht(1e3*i[Ne]))*n}):(i=jt.exec(e))?(n="-"===i[1]?-1:1,s={y:Zt(i[2],n),M:Zt(i[3],n),w:Zt(i[4],n),d:Zt(i[5],n),h:Zt(i[6],n),m:Zt(i[7],n),s:Zt(i[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(t=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Gt(t,e),e.isBefore(t)?n=zt(e,t):((n=zt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(W(s.from),W(s.to)),(s={}).ms=t.milliseconds,s.M=t.months),i=new Ct(s),Ut(e)&&c(e,"_locale")&&(i._locale=e._locale),Ut(e)&&c(e,"_isValid")&&(i._isValid=e._isValid),i}function Zt(e,t){return e=e&&parseFloat(e.replace(",",".")),(isNaN(e)?0:e)*t}function zt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function $t(s,i){return function(e,t){var n;return null===t||isNaN(+t)||(Q(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),qt(this,C(e,t),s),this}}function qt(e,t,n,s){var i=t._milliseconds,r=Ht(t._days);t=Ht(t._months),e.isValid()&&(s=null==s||s,t&&Ve(e,ce(e,"Month")+t*n),r&&fe(e,"Date",ce(e,"Date")+r*n),i&&e._d.setTime(e._d.valueOf()+i*n),s&&f.updateOffset(e,r||t))}function Bt(e){return"string"==typeof e||e instanceof String}function Jt(e){return h(e)||V(e)||Bt(e)||u(e)||function(t){var e=a(t),n=!1;return e&&(n=0===t.filter((function(e){return!u(e)&&Bt(t)})).length),e&&n}(e)||function(e){var t,n,s=F(e)&&!L(e),i=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=r.length;for(t=0;t<a;t+=1)n=r[t],i=i||c(e,n);return s&&i}(e)||null==e}function Qt(e,t){if(e.date()<t.date())return-Qt(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(n,"months");return-(n+(t=t-s<0?(t-s)/(s-e.clone().add(n-1,"months")):(t-s)/(e.clone().add(1+n,"months")-s)))||0}function Xt(e){return void 0===e?this._locale._abbr:(null!=(e=mt(e))&&(this._locale=e),this)}function Kt(){return this._locale}C.fn=Ct.prototype,C.invalid=function(){return C(NaN)},Ce=$t(1,"add"),Je=$t(-1,"subtract"),f.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",f.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",Xe=e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));var ln,en=126227808e5;function tn(e,t){return(e%t+t)%t}function nn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-en:new Date(e,t,n).valueOf()}function sn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-en:Date.UTC(e,t,n)}function rn(e,t){return t.erasAbbrRegex(e)}function an(){for(var e=[],t=[],n=[],s=[],i=this.eras(),r=0,a=i.length;r<a;++r)t.push(M(i[r].name)),e.push(M(i[r].abbr)),n.push(M(i[r].narrow)),s.push(M(i[r].name)),s.push(M(i[r].abbr)),s.push(M(i[r].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function on(e,t){s(0,[e,e.length],0,t)}function un(e,t,n,s,i){var r;return null==e?qe(this,s,i).year:(r=P(e,s,i),function(e,t,n,s,i){return t=Ze((e=$e(e,t,n,s,i)).year,0,e.dayOfYear),this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()),this.date(t.getUTCDate()),this}.call(this,e,t=r<t?r:t,n,s,i))}for(s("N",0,0,"eraAbbr"),s("NN",0,0,"eraAbbr"),s("NNN",0,0,"eraAbbr"),s("NNNN",0,0,"eraName"),s("NNNNN",0,0,"eraNarrow"),s("y",["y",1],"yo","eraYear"),s("y",["yy",2],0,"eraYear"),s("y",["yyy",3],0,"eraYear"),s("y",["yyyy",4],0,"eraYear"),v("N",rn),v("NN",rn),v("NNN",rn),v("NNNN",(function(e,t){return t.erasNameRegex(e)})),v("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),D(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,s){(s=n._locale.erasParse(e,s,n._strict))?m(n).era=s:m(n).invalidEra=e})),v("y",Me),v("yy",Me),v("yyy",Me),v("yyyy",Me),v("yo",(function(e,t){return t._eraYearOrdinalRegex||Me})),D(["y","yy","yyy","yyyy"],Y),D(["yo"],(function(e,t,n,s){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Y]=n._locale.eraYearOrdinalParse(e,i):t[Y]=parseInt(e,10)})),s(0,["gg",2],0,(function(){return this.weekYear()%100})),s(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),on("gggg","weekYear"),on("ggggg","weekYear"),on("GGGG","isoWeekYear"),on("GGGGG","isoWeekYear"),t("weekYear","gg"),t("isoWeekYear","GG"),n("weekYear",1),n("isoWeekYear",1),v("G",De),v("g",De),v("GG",p,w),v("gg",p,w),v("GGGG",ke,_e),v("gggg",ke,_e),v("GGGGG",ve,ye),v("ggggg",ve,ye),Te(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,s){t[s.substr(0,2)]=g(e)})),Te(["gg","GG"],(function(e,t,n,s){t[s]=f.parseTwoDigitYear(e)})),s("Q",0,"Qo","quarter"),t("quarter","Q"),n("quarter",7),v("Q",i),D("Q",(function(e,t){t[O]=3*(g(e)-1)})),s("D",["DD",2],"Do","date"),t("date","D"),n("date",9),v("D",p),v("DD",p,w),v("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),D(["D","DD"],b),D("Do",(function(e,t){t[b]=g(e.match(p)[0])})),ke=de("Date",!0),s("DDD",["DDDD",3],"DDDo","dayOfYear"),t("dayOfYear","DDD"),n("dayOfYear",4),v("DDD",pe),v("DDDD",me),D(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=g(e)})),s("m",["mm",2],0,"minute"),t("minute","m"),n("minute",14),v("m",p),v("mm",p,w),D(["m","mm"],T),_e=de("Minutes",!1),s("s",["ss",2],0,"second"),t("second","s"),n("second",15),v("s",p),v("ss",p,w),D(["s","ss"],N),ve=de("Seconds",!1),s("S",0,0,(function(){return~~(this.millisecond()/100)})),s(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),s(0,["SSS",3],0,"millisecond"),s(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),s(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),s(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),s(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),s(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),s(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),t("millisecond","ms"),n("millisecond",16),v("S",pe,i),v("SS",pe,w),v("SSS",pe,me),ln="SSSS";ln.length<=9;ln+="S")v(ln,Me);function hn(e,t){t[Ne]=g(1e3*("0."+e))}for(ln="S";ln.length<=9;ln+="S")D(ln,hn);function dn(e){return e}function cn(e,t,n,s){var i=mt();return s=l().set(s,t),i[n](s,e)}function fn(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return cn(e,t,n,"month");for(var s=[],i=0;i<12;i++)s[i]=cn(e,i,n,"month");return s}function mn(e,t,n,s){"boolean"==typeof e?u(t)&&(n=t,t=void 0):(t=e,e=!1,u(n=t)&&(n=t,t=void 0)),t=t||"";var i,r=mt(),a=e?r._week.dow:0,o=[];if(null!=n)return cn(t,(n+a)%7,s,"day");for(i=0;i<7;i++)o[i]=cn(t,(i+a)%7,s,"day");return o}ye=de("Milliseconds",!1),s("z",0,0,"zoneAbbr"),s("zz",0,0,"zoneName"),(i=q.prototype).add=Ce,i.calendar=function(e,t){1===arguments.length&&(arguments[0]?Jt(arguments[0])?(e=arguments[0],t=void 0):function(e){for(var t=F(e)&&!L(e),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i=0;i<s.length;i+=1)n=n||c(e,s[i]);return t&&n}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var n=Gt(e=e||W(),this).startOf("day");return n=f.calendarFormat(this,n)||"sameElse",t=t&&(d(t[n])?t[n].call(this,e):t[n]),this.format(t||this.localeData().calendar(n,this,W(e)))},i.clone=function(){return new q(this)},i.diff=function(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(!(s=Gt(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=_(t)){case"year":r=Qt(this,s)/12;break;case"month":r=Qt(this,s);break;case"quarter":r=Qt(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:y(r)},i.endOf=function(e){var t,n;if(void 0===(e=_(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?sn:nn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-tn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-tn(t,1e3)-1}return this._d.setTime(t),f.updateOffset(this,!0),this},i.format=function(e){return e=re(this,e=e||(this.isUtc()?f.defaultFormatUtc:f.defaultFormat)),this.localeData().postformat(e)},i.from=function(e,t){return this.isValid()&&(h(e)&&e.isValid()||W(e).isValid())?C({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},i.fromNow=function(e){return this.from(W(),e)},i.to=function(e,t){return this.isValid()&&(h(e)&&e.isValid()||W(e).isValid())?C({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},i.toNow=function(e){return this.to(W(),e)},i.get=function(e){return d(this[e=_(e)])?this[e]():this},i.invalidAt=function(){return m(this).overflow},i.isAfter=function(e,t){return e=h(e)?e:W(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=_(t)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},i.isBefore=function(e,t){return e=h(e)?e:W(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=_(t)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},i.isBetween=function(e,t,n,s){return e=h(e)?e:W(e),t=h(t)?t:W(t),!!(this.isValid()&&e.isValid()&&t.isValid())&&("("===(s=s||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===s[1]?this.isBefore(t,n):!this.isAfter(t,n))},i.isSame=function(e,t){return e=h(e)?e:W(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=_(t)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},i.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},i.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},i.isValid=function(){return A(this)},i.lang=Xe,i.locale=Xt,i.localeData=Kt,i.max=we,i.min=ge,i.parsingFlags=function(){return E({},m(this))},i.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)c(e,t)&&n.push({unit:t,priority:le[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=ue(e)),s=n.length,i=0;i<s;i++)this[n[i].unit](e[n[i].unit]);else if(d(this[e=_(e)]))return this[e](t);return this},i.startOf=function(e){var t,n;if(void 0===(e=_(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?sn:nn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=tn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=tn(t,6e4);break;case"second":t=this._d.valueOf(),t-=tn(t,1e3)}return this._d.setTime(t),f.updateOffset(this,!0),this},i.subtract=Je,i.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},i.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},i.toDate=function(){return new Date(this.valueOf())},i.toISOString=function(e){if(!this.isValid())return null;var t=(e=!0!==e)?this.clone().utc():this;return t.year()<0||9999<t.year()?re(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):d(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",re(t,"Z")):re(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},i.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t="moment",n="";return this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),t="["+t+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+n+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(i[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),i.toJSON=function(){return this.isValid()?this.toISOString():null},i.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},i.unix=function(){return Math.floor(this.valueOf()/1e3)},i.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},i.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},i.eraName=function(){for(var e,t=this.localeData().eras(),n=0,s=t.length;n<s;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].name;if(t[n].until<=e&&e<=t[n].since)return t[n].name}return""},i.eraNarrow=function(){for(var e,t=this.localeData().eras(),n=0,s=t.length;n<s;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].narrow;if(t[n].until<=e&&e<=t[n].since)return t[n].narrow}return""},i.eraAbbr=function(){for(var e,t=this.localeData().eras(),n=0,s=t.length;n<s;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].abbr;if(t[n].until<=e&&e<=t[n].since)return t[n].abbr}return""},i.eraYear=function(){for(var e,t,n=this.localeData().eras(),s=0,i=n.length;s<i;++s)if(e=n[s].since<=n[s].until?1:-1,t=this.clone().startOf("day").valueOf(),n[s].since<=t&&t<=n[s].until||n[s].until<=t&&t<=n[s].since)return(this.year()-f(n[s].since).year())*e+n[s].offset;return this.year()},i.year=Ie,i.isLeapYear=function(){return he(this.year())},i.weekYear=function(e){return un.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},i.isoWeekYear=function(e){return un.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},i.quarter=i.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},i.month=Ge,i.daysInMonth=function(){return We(this.year(),this.month())},i.week=i.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},i.isoWeek=i.isoWeeks=function(e){var t=qe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},i.weeksInYear=function(){var e=this.localeData()._week;return P(this.year(),e.dow,e.doy)},i.weeksInWeekYear=function(){var e=this.localeData()._week;return P(this.weekYear(),e.dow,e.doy)},i.isoWeeksInYear=function(){return P(this.year(),1,4)},i.isoWeeksInISOWeekYear=function(){return P(this.isoWeekYear(),1,4)},i.date=ke,i.day=i.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-s,"d")):s},i.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},i.isoWeekday=function(e){return this.isValid()?null!=e?(t=e,n=this.localeData(),n="string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?n:n-7)):this.day()||7:null!=e?this:NaN;var t,n},i.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},i.hour=i.hours=k,i.minute=i.minutes=_e,i.second=i.seconds=ve,i.millisecond=i.milliseconds=ye,i.utcOffset=function(e,t,n){var s,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Et(this);if("string"==typeof e){if(null===(e=Vt(Ye,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(s=Et(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==e&&(!t||this._changeInProgress?qt(this,C(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,f.updateOffset(this,!0),this._changeInProgress=null)),this},i.utc=function(e){return this.utcOffset(0,e)},i.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Et(this),"m")),this},i.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Vt(Se,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},i.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?W(e).utcOffset():0,(this.utcOffset()-e)%60==0)},i.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},i.isLocal=function(){return!!this.isValid()&&!this._isUTC},i.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},i.isUtc=At,i.isUTC=At,i.zoneAbbr=function(){return this._isUTC?"UTC":""},i.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},i.dates=e("dates accessor is deprecated. Use date instead.",ke),i.months=e("months accessor is deprecated. Use month instead",Ge),i.years=e("years accessor is deprecated. Use year instead",Ie),i.zone=e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()})),i.isDSTShifted=e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e,t={};return $(t,this),(t=Nt(t))._a?(e=(t._isUTC?l:W)(t._a),this._isDSTShifted=this.isValid()&&0<function(e,t,n){for(var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0,a=0;a<s;a++)(n&&e[a]!==t[a]||!n&&g(e[a])!==g(t[a]))&&r++;return r+i}(t._a,e.toArray())):this._isDSTShifted=!1,this._isDSTShifted})),(w=K.prototype).calendar=function(e,t,n){return d(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},w.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(te).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},w.invalidDate=function(){return this._invalidDate},w.ordinal=function(e){return this._ordinal.replace("%d",e)},w.preparse=dn,w.postformat=dn,w.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return d(i)?i(e,t,n,s):i.replace(/%d/i,e)},w.pastFuture=function(e,t){return d(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},w.set=function(e){var t,n;for(n in e)c(e,n)&&(d(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},w.eras=function(e,t){for(var n,s=this._eras||mt("en")._eras,i=0,r=s.length;i<r;++i)switch("string"==typeof s[i].since&&(n=f(s[i].since).startOf("day"),s[i].since=n.valueOf()),typeof s[i].until){case"undefined":s[i].until=1/0;break;case"string":n=f(s[i].until).startOf("day").valueOf(),s[i].until=n.valueOf()}return s},w.erasParse=function(e,t,n){var s,i,r,a,o,u=this.eras();for(e=e.toUpperCase(),s=0,i=u.length;s<i;++s)if(r=u[s].name.toUpperCase(),a=u[s].abbr.toUpperCase(),o=u[s].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[s];break;case"NNNN":if(r===e)return u[s];break;case"NNNNN":if(o===e)return u[s]}else if(0<=[r,a,o].indexOf(e))return u[s]},w.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?f(e.since).year():f(e.since).year()+(t-e.offset)*n},w.erasAbbrRegex=function(e){return c(this,"_erasAbbrRegex")||an.call(this),e?this._erasAbbrRegex:this._erasRegex},w.erasNameRegex=function(e){return c(this,"_erasNameRegex")||an.call(this),e?this._erasNameRegex:this._erasRegex},w.erasNarrowRegex=function(e){return c(this,"_erasNarrowRegex")||an.call(this),e?this._erasNarrowRegex:this._erasRegex},w.months=function(e,t){return e?(a(this._months)?this._months:this._months[(this._months.isFormat||He).test(t)?"format":"standalone"])[e.month()]:a(this._months)?this._months:this._months.standalone},w.monthsShort=function(e,t){return e?(a(this._monthsShort)?this._monthsShort:this._monthsShort[He.test(t)?"format":"standalone"])[e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},w.monthsParse=function(e,t,n){var s,i;if(this._monthsParseExact)return function(e,t,n){var s,i,r;if(e=e.toLocaleLowerCase(),!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=l([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=S.call(this._shortMonthsParse,e))?i:null:-1!==(i=S.call(this._longMonthsParse,e))?i:null:"MMM"===t?-1!==(i=S.call(this._shortMonthsParse,e))||-1!==(i=S.call(this._longMonthsParse,e))?i:null:-1!==(i=S.call(this._longMonthsParse,e))||-1!==(i=S.call(this._shortMonthsParse,e))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=l([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(i="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},w.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Ee.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},w.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Ee.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},w.week=function(e){return qe(e,this._week.dow,this._week.doy).week},w.firstDayOfYear=function(){return this._week.doy},w.firstDayOfWeek=function(){return this._week.dow},w.weekdays=function(e,t){return t=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"],!0===e?Be(t,this._week.dow):e?t[e.day()]:t},w.weekdaysMin=function(e){return!0===e?Be(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},w.weekdaysShort=function(e){return!0===e?Be(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},w.weekdaysParse=function(e,t,n){var s,i;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r;if(e=e.toLocaleLowerCase(),!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=l([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=S.call(this._weekdaysParse,e))?i:null:"ddd"===t?-1!==(i=S.call(this._shortWeekdaysParse,e))?i:null:-1!==(i=S.call(this._minWeekdaysParse,e))?i:null:"dddd"===t?-1!==(i=S.call(this._weekdaysParse,e))||-1!==(i=S.call(this._shortWeekdaysParse,e))||-1!==(i=S.call(this._minWeekdaysParse,e))?i:null:"ddd"===t?-1!==(i=S.call(this._shortWeekdaysParse,e))||-1!==(i=S.call(this._weekdaysParse,e))||-1!==(i=S.call(this._minWeekdaysParse,e))?i:null:-1!==(i=S.call(this._minWeekdaysParse,e))||-1!==(i=S.call(this._weekdaysParse,e))||-1!==(i=S.call(this._shortWeekdaysParse,e))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=l([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(i="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},w.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Ke),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},w.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=et),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},w.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||nt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},w.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},w.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ct("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===g(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),f.lang=e("moment.lang is deprecated. Use moment.locale instead.",ct),f.langData=e("moment.langData is deprecated. Use moment.localeData instead.",mt);var _n=Math.abs;function yn(e,t,n,s){return t=C(t,n),e._milliseconds+=s*t._milliseconds,e._days+=s*t._days,e._months+=s*t._months,e._bubble()}function gn(e){return e<0?Math.floor(e):Math.ceil(e)}function wn(e){return 4800*e/146097}function pn(e){return 146097*e/4800}function kn(e){return function(){return this.as(e)}}function vn(e){return function(){return this.isValid()?this._data[e]:NaN}}pe=kn("ms"),me=kn("s"),Ce=kn("m"),we=kn("h"),ge=kn("d"),Je=kn("w"),k=kn("M"),_e=kn("Q"),ve=kn("y"),ye=vn("milliseconds"),ke=vn("seconds"),Ie=vn("minutes"),w=vn("hours");var Mn=vn("days"),Dn=vn("months"),Sn=vn("years"),Yn=Math.round,On={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function bn(e,t,n,s){var i=C(e).abs(),r=Yn(i.as("s")),a=Yn(i.as("m")),o=Yn(i.as("h")),u=Yn(i.as("d")),l=Yn(i.as("M")),h=Yn(i.as("w"));return i=Yn(i.as("y")),r=(r<=n.ss?["s",r]:r<n.s&&["ss",r])||a<=1&&["m"]||a<n.m&&["mm",a]||o<=1&&["h"]||o<n.h&&["hh",o]||u<=1&&["d"]||u<n.d&&["dd",u],(r=(r=null!=n.w?r||h<=1&&["w"]||h<n.w&&["ww",h]:r)||l<=1&&["M"]||l<n.M&&["MM",l]||i<=1&&["y"]||["yy",i])[2]=t,r[3]=0<+e,r[4]=s,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}.apply(null,r)}var xn=Math.abs;function Tn(e){return(0<e)-(e<0)||+e}function Nn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,s,i,r,a,o=xn(this._milliseconds)/1e3,u=xn(this._days),l=xn(this._months),h=this.asSeconds();return h?(e=y(o/60),t=y(e/60),o%=60,e%=60,n=y(l/12),l%=12,s=o?o.toFixed(3).replace(/\.?0+$/,""):"",i=Tn(this._months)!==Tn(h)?"-":"",r=Tn(this._days)!==Tn(h)?"-":"",a=Tn(this._milliseconds)!==Tn(h)?"-":"",(h<0?"-":"")+"P"+(n?i+n+"Y":"")+(l?i+l+"M":"")+(u?r+u+"D":"")+(t||e||o?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(o?a+s+"S":"")):"P0D"}var U=Ct.prototype;return U.isValid=function(){return this._isValid},U.abs=function(){var e=this._data;return this._milliseconds=_n(this._milliseconds),this._days=_n(this._days),this._months=_n(this._months),e.milliseconds=_n(e.milliseconds),e.seconds=_n(e.seconds),e.minutes=_n(e.minutes),e.hours=_n(e.hours),e.months=_n(e.months),e.years=_n(e.years),this},U.add=function(e,t){return yn(this,e,t,1)},U.subtract=function(e,t){return yn(this,e,t,-1)},U.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=_(e))||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,n=this._months+wn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(pn(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},U.asMilliseconds=pe,U.asSeconds=me,U.asMinutes=Ce,U.asHours=we,U.asDays=ge,U.asWeeks=Je,U.asMonths=k,U.asQuarters=_e,U.asYears=ve,U.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12):NaN},U._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,s=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*gn(pn(n)+t),n=t=0),s.milliseconds=e%1e3,e=y(e/1e3),s.seconds=e%60,e=y(e/60),s.minutes=e%60,e=y(e/60),s.hours=e%24,t+=y(e/24),n+=e=y(wn(t)),t-=gn(pn(e)),e=y(n/12),n%=12,s.days=t,s.months=n,s.years=e,this},U.clone=function(){return C(this)},U.get=function(e){return e=_(e),this.isValid()?this[e+"s"]():NaN},U.milliseconds=ye,U.seconds=ke,U.minutes=Ie,U.hours=w,U.days=Mn,U.weeks=function(){return y(this.days()/7)},U.months=Dn,U.years=Sn,U.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,s=On;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(s=Object.assign({},On,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),t=bn(this,!n,s,e=this.localeData()),n&&(t=e.pastFuture(+this,t)),e.postformat(t)},U.toISOString=Nn,U.toString=Nn,U.toJSON=Nn,U.locale=Xt,U.localeData=Kt,U.toIsoString=e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Nn),U.lang=Xe,s("X",0,0,"unix"),s("x",0,0,"valueOf"),v("x",De),v("X",/[+-]?\d+(\.\d{1,3})?/),D("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),D("x",(function(e,t,n){n._d=new Date(g(e))})),f.version="2.29.4",H=W,f.fn=i,f.min=function(){return Rt("isBefore",[].slice.call(arguments,0))},f.max=function(){return Rt("isAfter",[].slice.call(arguments,0))},f.now=function(){return Date.now?Date.now():+new Date},f.utc=l,f.unix=function(e){return W(1e3*e)},f.months=function(e,t){return fn(e,t,"months")},f.isDate=V,f.locale=ct,f.invalid=I,f.duration=C,f.isMoment=h,f.weekdays=function(e,t,n){return mn(e,t,n,"weekdays")},f.parseZone=function(){return W.apply(null,arguments).parseZone()},f.localeData=mt,f.isDuration=Ut,f.monthsShort=function(e,t){return fn(e,t,"monthsShort")},f.weekdaysMin=function(e,t,n){return mn(e,t,n,"weekdaysMin")},f.defineLocale=ft,f.updateLocale=function(e,t){var n,s;return null!=t?(s=ot,null!=R[e]&&null!=R[e].parentLocale?R[e].set(X(R[e]._config,t)):(t=X(s=null!=(n=dt(e))?n._config:s,t),null==n&&(t.abbr=e),(s=new K(t)).parentLocale=R[e],R[e]=s),ct(e)):null!=R[e]&&(null!=R[e].parentLocale?(R[e]=R[e].parentLocale,e===ct()&&ct(e)):null!=R[e]&&delete R[e]),R[e]},f.locales=function(){return ee(R)},f.weekdaysShort=function(e,t,n){return mn(e,t,n,"weekdaysShort")},f.normalizeUnits=_,f.relativeTimeRounding=function(e){return void 0===e?Yn:"function"==typeof e&&(Yn=e,!0)},f.relativeTimeThreshold=function(e,t){return void 0!==On[e]&&(void 0===t?On[e]:(On[e]=t,"s"===e&&(On.ss=t-1),!0))},f.calendarFormat=function(e,t){return(e=e.diff(t,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},f.prototype=i,f.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},f}()},"./node_modules/react-mermaid2/dist/Mermaid.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!=typeof obj&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__("./node_modules/next/dist/compiled/react/index.js")),_mermaid=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/react-mermaid2/node_modules/mermaid/dist/mermaid.core.js"));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return cache},cache}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var DEFAULT_CONFIG={startOnLoad:!0,theme:"forest",logLevel:"fatal",securityLevel:"strict",arrowMarkerAbsolute:!1,flowchart:{htmlLabels:!0,curve:"linear"},sequence:{diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,mirrorActors:!0,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,leftPadding:75,gridLineStartPadding:35,fontSize:11,fontFamily:'"Open-Sans", "sans-serif"',numberSectionStyles:4,axisFormat:"%Y-%m-%d"}},_default=_ref=>{var{name,chart,config}=_ref;return _mermaid.default.initialize(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},DEFAULT_CONFIG,{},config)),(0,_react.useEffect)((()=>{_mermaid.default.contentLoaded()}),[config]),chart?_react.default.createElement("div",{className:"mermaid",name},chart):null};exports.default=_default},"./node_modules/react-mermaid2/node_modules/@braintree/sanitize-url/index.js":module=>{"use strict";var invalidPrototcolRegex=/^(%20|\s)*(javascript|data)/im,ctrlCharactersRegex=/[^\x20-\x7E]/gim,urlSchemeRegex=/^([^:]+):/gm,relativeFirstCharacters=[".","/"];module.exports={sanitizeUrl:function sanitizeUrl(url){if(!url)return"about:blank";var urlScheme,urlSchemeParseResults,sanitizedUrl=url.replace(ctrlCharactersRegex,"").trim();return function isRelativeUrl(url){return relativeFirstCharacters.indexOf(url[0])>-1}(sanitizedUrl)?sanitizedUrl:(urlSchemeParseResults=sanitizedUrl.match(urlSchemeRegex))?(urlScheme=urlSchemeParseResults[0],invalidPrototcolRegex.test(urlScheme)?"about:blank":sanitizedUrl):"about:blank"}}},"./node_modules/react-mermaid2/node_modules/dompurify/dist/purify.js":function(module,__unused_webpack_exports,__webpack_require__){var console=__webpack_require__("./node_modules/console-browserify/index.js");module.exports=function(){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var hasOwnProperty=Object.hasOwnProperty,setPrototypeOf=Object.setPrototypeOf,isFrozen=Object.isFrozen,getPrototypeOf=Object.getPrototypeOf,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,freeze=Object.freeze,seal=Object.seal,create=Object.create,_ref="undefined"!=typeof Reflect&&Reflect,apply=_ref.apply,construct=_ref.construct;apply||(apply=function apply(fun,thisValue,args){return fun.apply(thisValue,args)}),freeze||(freeze=function freeze(x){return x}),seal||(seal=function seal(x){return x}),construct||(construct=function construct(Func,args){return new(Function.prototype.bind.apply(Func,[null].concat(_toConsumableArray(args))))});var arrayForEach=unapply(Array.prototype.forEach),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),stringToLowerCase=unapply(String.prototype.toLowerCase),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(func){return function(thisArg){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return apply(func,thisArg,args)}}function unconstruct(func){return function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return construct(func,args)}}function addToSet(set,array){setPrototypeOf&&setPrototypeOf(set,null);for(var l=array.length;l--;){var element=array[l];if("string"==typeof element){var lcElement=stringToLowerCase(element);lcElement!==element&&(isFrozen(array)||(array[l]=lcElement),element=lcElement)}set[element]=!0}return set}function clone(object){var newObject=create(null),property=void 0;for(property in object)apply(hasOwnProperty,object,[property])&&(newObject[property]=object[property]);return newObject}function lookupGetter(object,prop){for(;null!==object;){var desc=getOwnPropertyDescriptor(object,prop);if(desc){if(desc.get)return unapply(desc.get);if("function"==typeof desc.value)return unapply(desc.value)}object=getPrototypeOf(object)}function fallbackValue(element){return console.warn("fallback value for",element),null}return fallbackValue}var html=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html$1=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),svg$1=freeze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl$1=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\s\S]*|[\s\S]*\}\}/gm),ERB_EXPR=seal(/<%[\s\S]*|[\s\S]*%>/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function _toConsumableArray$1(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var getGlobal=function getGlobal(){return"undefined"==typeof window?null:window},_createTrustedTypesPolicy=function _createTrustedTypesPolicy(trustedTypes,document){if("object"!==(void 0===trustedTypes?"undefined":_typeof(trustedTypes))||"function"!=typeof trustedTypes.createPolicy)return null;var suffix=null,ATTR_NAME="data-tt-policy-suffix";document.currentScript&&document.currentScript.hasAttribute(ATTR_NAME)&&(suffix=document.currentScript.getAttribute(ATTR_NAME));var policyName="dompurify"+(suffix?"#"+suffix:"");try{return trustedTypes.createPolicy(policyName,{createHTML:function createHTML(html$$1){return html$$1}})}catch(_){return console.warn("TrustedTypes policy "+policyName+" could not be created."),null}};function createDOMPurify(){var window=arguments.length>0&&void 0!==arguments[0]?arguments[0]:getGlobal(),DOMPurify=function DOMPurify(root){return createDOMPurify(root)};if(DOMPurify.version="2.3.5",DOMPurify.removed=[],!window||!window.document||9!==window.document.nodeType)return DOMPurify.isSupported=!1,DOMPurify;var originalDocument=window.document,document=window.document,DocumentFragment=window.DocumentFragment,HTMLTemplateElement=window.HTMLTemplateElement,Node=window.Node,Element=window.Element,NodeFilter=window.NodeFilter,_window$NamedNodeMap=window.NamedNodeMap,NamedNodeMap=void 0===_window$NamedNodeMap?window.NamedNodeMap||window.MozNamedAttrMap:_window$NamedNodeMap,HTMLFormElement=window.HTMLFormElement,DOMParser=window.DOMParser,trustedTypes=window.trustedTypes,ElementPrototype=Element.prototype,cloneNode=lookupGetter(ElementPrototype,"cloneNode"),getNextSibling=lookupGetter(ElementPrototype,"nextSibling"),getChildNodes=lookupGetter(ElementPrototype,"childNodes"),getParentNode=lookupGetter(ElementPrototype,"parentNode");if("function"==typeof HTMLTemplateElement){var template=document.createElement("template");template.content&&template.content.ownerDocument&&(document=template.content.ownerDocument)}var trustedTypesPolicy=_createTrustedTypesPolicy(trustedTypes,originalDocument),emptyHTML=trustedTypesPolicy?trustedTypesPolicy.createHTML(""):"",_document=document,implementation=_document.implementation,createNodeIterator=_document.createNodeIterator,createDocumentFragment=_document.createDocumentFragment,getElementsByTagName=_document.getElementsByTagName,importNode=originalDocument.importNode,documentMode={};try{documentMode=clone(document).documentMode?document.documentMode:{}}catch(_){}var hooks={};DOMPurify.isSupported="function"==typeof getParentNode&&implementation&&void 0!==implementation.createHTMLDocument&&9!==documentMode;var MUSTACHE_EXPR$$1=MUSTACHE_EXPR,ERB_EXPR$$1=ERB_EXPR,DATA_ATTR$$1=DATA_ATTR,ARIA_ATTR$$1=ARIA_ATTR,IS_SCRIPT_OR_DATA$$1=IS_SCRIPT_OR_DATA,ATTR_WHITESPACE$$1=ATTR_WHITESPACE,IS_ALLOWED_URI$$1=IS_ALLOWED_URI,ALLOWED_TAGS=null,DEFAULT_ALLOWED_TAGS=addToSet({},[].concat(_toConsumableArray$1(html),_toConsumableArray$1(svg),_toConsumableArray$1(svgFilters),_toConsumableArray$1(mathMl),_toConsumableArray$1(text))),ALLOWED_ATTR=null,DEFAULT_ALLOWED_ATTR=addToSet({},[].concat(_toConsumableArray$1(html$1),_toConsumableArray$1(svg$1),_toConsumableArray$1(mathMl$1),_toConsumableArray$1(xml))),CUSTOM_ELEMENT_HANDLING=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),FORBID_TAGS=null,FORBID_ATTR=null,ALLOW_ARIA_ATTR=!0,ALLOW_DATA_ATTR=!0,ALLOW_UNKNOWN_PROTOCOLS=!1,SAFE_FOR_TEMPLATES=!1,WHOLE_DOCUMENT=!1,SET_CONFIG=!1,FORCE_BODY=!1,RETURN_DOM=!1,RETURN_DOM_FRAGMENT=!1,RETURN_TRUSTED_TYPE=!1,SANITIZE_DOM=!0,KEEP_CONTENT=!0,IN_PLACE=!1,USE_PROFILES={},FORBID_CONTENTS=null,DEFAULT_FORBID_CONTENTS=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),DATA_URI_TAGS=null,DEFAULT_DATA_URI_TAGS=addToSet({},["audio","video","img","source","image","track"]),URI_SAFE_ATTRIBUTES=null,DEFAULT_URI_SAFE_ATTRIBUTES=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),MATHML_NAMESPACE="http://www.w3.org/1998/Math/MathML",SVG_NAMESPACE="http://www.w3.org/2000/svg",HTML_NAMESPACE="http://www.w3.org/1999/xhtml",NAMESPACE=HTML_NAMESPACE,IS_EMPTY_INPUT=!1,PARSER_MEDIA_TYPE=void 0,SUPPORTED_PARSER_MEDIA_TYPES=["application/xhtml+xml","text/html"],DEFAULT_PARSER_MEDIA_TYPE="text/html",transformCaseFunc=void 0,CONFIG=null,formElement=document.createElement("form"),isRegexOrFunction=function isRegexOrFunction(testValue){return testValue instanceof RegExp||testValue instanceof Function},_parseConfig=function _parseConfig(cfg){CONFIG&&CONFIG===cfg||(cfg&&"object"===(void 0===cfg?"undefined":_typeof(cfg))||(cfg={}),cfg=clone(cfg),ALLOWED_TAGS="ALLOWED_TAGS"in cfg?addToSet({},cfg.ALLOWED_TAGS):DEFAULT_ALLOWED_TAGS,ALLOWED_ATTR="ALLOWED_ATTR"in cfg?addToSet({},cfg.ALLOWED_ATTR):DEFAULT_ALLOWED_ATTR,URI_SAFE_ATTRIBUTES="ADD_URI_SAFE_ATTR"in cfg?addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES),cfg.ADD_URI_SAFE_ATTR):DEFAULT_URI_SAFE_ATTRIBUTES,DATA_URI_TAGS="ADD_DATA_URI_TAGS"in cfg?addToSet(clone(DEFAULT_DATA_URI_TAGS),cfg.ADD_DATA_URI_TAGS):DEFAULT_DATA_URI_TAGS,FORBID_CONTENTS="FORBID_CONTENTS"in cfg?addToSet({},cfg.FORBID_CONTENTS):DEFAULT_FORBID_CONTENTS,FORBID_TAGS="FORBID_TAGS"in cfg?addToSet({},cfg.FORBID_TAGS):{},FORBID_ATTR="FORBID_ATTR"in cfg?addToSet({},cfg.FORBID_ATTR):{},USE_PROFILES="USE_PROFILES"in cfg&&cfg.USE_PROFILES,ALLOW_ARIA_ATTR=!1!==cfg.ALLOW_ARIA_ATTR,ALLOW_DATA_ATTR=!1!==cfg.ALLOW_DATA_ATTR,ALLOW_UNKNOWN_PROTOCOLS=cfg.ALLOW_UNKNOWN_PROTOCOLS||!1,SAFE_FOR_TEMPLATES=cfg.SAFE_FOR_TEMPLATES||!1,WHOLE_DOCUMENT=cfg.WHOLE_DOCUMENT||!1,RETURN_DOM=cfg.RETURN_DOM||!1,RETURN_DOM_FRAGMENT=cfg.RETURN_DOM_FRAGMENT||!1,RETURN_TRUSTED_TYPE=cfg.RETURN_TRUSTED_TYPE||!1,FORCE_BODY=cfg.FORCE_BODY||!1,SANITIZE_DOM=!1!==cfg.SANITIZE_DOM,KEEP_CONTENT=!1!==cfg.KEEP_CONTENT,IN_PLACE=cfg.IN_PLACE||!1,IS_ALLOWED_URI$$1=cfg.ALLOWED_URI_REGEXP||IS_ALLOWED_URI$$1,NAMESPACE=cfg.NAMESPACE||HTML_NAMESPACE,cfg.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(CUSTOM_ELEMENT_HANDLING.tagNameCheck=cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck),cfg.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(CUSTOM_ELEMENT_HANDLING.attributeNameCheck=cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),cfg.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),PARSER_MEDIA_TYPE=PARSER_MEDIA_TYPE=-1===SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE)?DEFAULT_PARSER_MEDIA_TYPE:cfg.PARSER_MEDIA_TYPE,transformCaseFunc="application/xhtml+xml"===PARSER_MEDIA_TYPE?function(x){return x}:stringToLowerCase,SAFE_FOR_TEMPLATES&&(ALLOW_DATA_ATTR=!1),RETURN_DOM_FRAGMENT&&(RETURN_DOM=!0),USE_PROFILES&&(ALLOWED_TAGS=addToSet({},[].concat(_toConsumableArray$1(text))),ALLOWED_ATTR=[],!0===USE_PROFILES.html&&(addToSet(ALLOWED_TAGS,html),addToSet(ALLOWED_ATTR,html$1)),!0===USE_PROFILES.svg&&(addToSet(ALLOWED_TAGS,svg),addToSet(ALLOWED_ATTR,svg$1),addToSet(ALLOWED_ATTR,xml)),!0===USE_PROFILES.svgFilters&&(addToSet(ALLOWED_TAGS,svgFilters),addToSet(ALLOWED_ATTR,svg$1),addToSet(ALLOWED_ATTR,xml)),!0===USE_PROFILES.mathMl&&(addToSet(ALLOWED_TAGS,mathMl),addToSet(ALLOWED_ATTR,mathMl$1),addToSet(ALLOWED_ATTR,xml))),cfg.ADD_TAGS&&(ALLOWED_TAGS===DEFAULT_ALLOWED_TAGS&&(ALLOWED_TAGS=clone(ALLOWED_TAGS)),addToSet(ALLOWED_TAGS,cfg.ADD_TAGS)),cfg.ADD_ATTR&&(ALLOWED_ATTR===DEFAULT_ALLOWED_ATTR&&(ALLOWED_ATTR=clone(ALLOWED_ATTR)),addToSet(ALLOWED_ATTR,cfg.ADD_ATTR)),cfg.ADD_URI_SAFE_ATTR&&addToSet(URI_SAFE_ATTRIBUTES,cfg.ADD_URI_SAFE_ATTR),cfg.FORBID_CONTENTS&&(FORBID_CONTENTS===DEFAULT_FORBID_CONTENTS&&(FORBID_CONTENTS=clone(FORBID_CONTENTS)),addToSet(FORBID_CONTENTS,cfg.FORBID_CONTENTS)),KEEP_CONTENT&&(ALLOWED_TAGS["#text"]=!0),WHOLE_DOCUMENT&&addToSet(ALLOWED_TAGS,["html","head","body"]),ALLOWED_TAGS.table&&(addToSet(ALLOWED_TAGS,["tbody"]),delete FORBID_TAGS.tbody),freeze&&freeze(cfg),CONFIG=cfg)},MATHML_TEXT_INTEGRATION_POINTS=addToSet({},["mi","mo","mn","ms","mtext"]),HTML_INTEGRATION_POINTS=addToSet({},["foreignobject","desc","title","annotation-xml"]),ALL_SVG_TAGS=addToSet({},svg);addToSet(ALL_SVG_TAGS,svgFilters),addToSet(ALL_SVG_TAGS,svgDisallowed);var ALL_MATHML_TAGS=addToSet({},mathMl);addToSet(ALL_MATHML_TAGS,mathMlDisallowed);var _checkValidNamespace=function _checkValidNamespace(element){var parent=getParentNode(element);parent&&parent.tagName||(parent={namespaceURI:HTML_NAMESPACE,tagName:"template"});var tagName=stringToLowerCase(element.tagName),parentTagName=stringToLowerCase(parent.tagName);if(element.namespaceURI===SVG_NAMESPACE)return parent.namespaceURI===HTML_NAMESPACE?"svg"===tagName:parent.namespaceURI===MATHML_NAMESPACE?"svg"===tagName&&("annotation-xml"===parentTagName||MATHML_TEXT_INTEGRATION_POINTS[parentTagName]):Boolean(ALL_SVG_TAGS[tagName]);if(element.namespaceURI===MATHML_NAMESPACE)return parent.namespaceURI===HTML_NAMESPACE?"math"===tagName:parent.namespaceURI===SVG_NAMESPACE?"math"===tagName&&HTML_INTEGRATION_POINTS[parentTagName]:Boolean(ALL_MATHML_TAGS[tagName]);if(element.namespaceURI===HTML_NAMESPACE){if(parent.namespaceURI===SVG_NAMESPACE&&!HTML_INTEGRATION_POINTS[parentTagName])return!1;if(parent.namespaceURI===MATHML_NAMESPACE&&!MATHML_TEXT_INTEGRATION_POINTS[parentTagName])return!1;var commonSvgAndHTMLElements=addToSet({},["title","style","font","a","script"]);return!ALL_MATHML_TAGS[tagName]&&(commonSvgAndHTMLElements[tagName]||!ALL_SVG_TAGS[tagName])}return!1},_forceRemove=function _forceRemove(node){arrayPush(DOMPurify.removed,{element:node});try{node.parentNode.removeChild(node)}catch(_){try{node.outerHTML=emptyHTML}catch(_){node.remove()}}},_removeAttribute=function _removeAttribute(name,node){try{arrayPush(DOMPurify.removed,{attribute:node.getAttributeNode(name),from:node})}catch(_){arrayPush(DOMPurify.removed,{attribute:null,from:node})}if(node.removeAttribute(name),"is"===name&&!ALLOWED_ATTR[name])if(RETURN_DOM||RETURN_DOM_FRAGMENT)try{_forceRemove(node)}catch(_){}else try{node.setAttribute(name,"")}catch(_){}},_initDocument=function _initDocument(dirty){var doc=void 0,leadingWhitespace=void 0;if(FORCE_BODY)dirty="<remove></remove>"+dirty;else{var matches=stringMatch(dirty,/^[\r\n\t ]+/);leadingWhitespace=matches&&matches[0]}"application/xhtml+xml"===PARSER_MEDIA_TYPE&&(dirty='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+dirty+"</body></html>");var dirtyPayload=trustedTypesPolicy?trustedTypesPolicy.createHTML(dirty):dirty;if(NAMESPACE===HTML_NAMESPACE)try{doc=(new DOMParser).parseFromString(dirtyPayload,PARSER_MEDIA_TYPE)}catch(_){}if(!doc||!doc.documentElement){doc=implementation.createDocument(NAMESPACE,"template",null);try{doc.documentElement.innerHTML=IS_EMPTY_INPUT?"":dirtyPayload}catch(_){}}var body=doc.body||doc.documentElement;return dirty&&leadingWhitespace&&body.insertBefore(document.createTextNode(leadingWhitespace),body.childNodes[0]||null),NAMESPACE===HTML_NAMESPACE?getElementsByTagName.call(doc,WHOLE_DOCUMENT?"html":"body")[0]:WHOLE_DOCUMENT?doc.documentElement:body},_createIterator=function _createIterator(root){return createNodeIterator.call(root.ownerDocument||root,root,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT,null,!1)},_isClobbered=function _isClobbered(elm){return elm instanceof HTMLFormElement&&("string"!=typeof elm.nodeName||"string"!=typeof elm.textContent||"function"!=typeof elm.removeChild||!(elm.attributes instanceof NamedNodeMap)||"function"!=typeof elm.removeAttribute||"function"!=typeof elm.setAttribute||"string"!=typeof elm.namespaceURI||"function"!=typeof elm.insertBefore)},_isNode=function _isNode(object){return"object"===(void 0===Node?"undefined":_typeof(Node))?object instanceof Node:object&&"object"===(void 0===object?"undefined":_typeof(object))&&"number"==typeof object.nodeType&&"string"==typeof object.nodeName},_executeHook=function _executeHook(entryPoint,currentNode,data){hooks[entryPoint]&&arrayForEach(hooks[entryPoint],(function(hook){hook.call(DOMPurify,currentNode,data,CONFIG)}))},_sanitizeElements=function _sanitizeElements(currentNode){var content=void 0;if(_executeHook("beforeSanitizeElements",currentNode,null),_isClobbered(currentNode))return _forceRemove(currentNode),!0;if(stringMatch(currentNode.nodeName,/[\u0080-\uFFFF]/))return _forceRemove(currentNode),!0;var tagName=transformCaseFunc(currentNode.nodeName);if(_executeHook("uponSanitizeElement",currentNode,{tagName,allowedTags:ALLOWED_TAGS}),!_isNode(currentNode.firstElementChild)&&(!_isNode(currentNode.content)||!_isNode(currentNode.content.firstElementChild))&&regExpTest(/<[/\w]/g,currentNode.innerHTML)&&regExpTest(/<[/\w]/g,currentNode.textContent))return _forceRemove(currentNode),!0;if("select"===tagName&&regExpTest(/<template/i,currentNode.innerHTML))return _forceRemove(currentNode),!0;if(!ALLOWED_TAGS[tagName]||FORBID_TAGS[tagName]){if(KEEP_CONTENT&&!FORBID_CONTENTS[tagName]){var parentNode=getParentNode(currentNode)||currentNode.parentNode,childNodes=getChildNodes(currentNode)||currentNode.childNodes;if(childNodes&&parentNode)for(var i=childNodes.length-1;i>=0;--i)parentNode.insertBefore(cloneNode(childNodes[i],!0),getNextSibling(currentNode))}if(!FORBID_TAGS[tagName]&&_basicCustomElementTest(tagName)){if(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck,tagName))return!1;if(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName))return!1}return _forceRemove(currentNode),!0}return currentNode instanceof Element&&!_checkValidNamespace(currentNode)?(_forceRemove(currentNode),!0):"noscript"!==tagName&&"noembed"!==tagName||!regExpTest(/<\/no(script|embed)/i,currentNode.innerHTML)?(SAFE_FOR_TEMPLATES&&3===currentNode.nodeType&&(content=currentNode.textContent,content=stringReplace(content,MUSTACHE_EXPR$$1," "),content=stringReplace(content,ERB_EXPR$$1," "),currentNode.textContent!==content&&(arrayPush(DOMPurify.removed,{element:currentNode.cloneNode()}),currentNode.textContent=content)),_executeHook("afterSanitizeElements",currentNode,null),!1):(_forceRemove(currentNode),!0)},_isValidAttribute=function _isValidAttribute(lcTag,lcName,value){if(SANITIZE_DOM&&("id"===lcName||"name"===lcName)&&(value in document||value in formElement))return!1;if(ALLOW_DATA_ATTR&&!FORBID_ATTR[lcName]&&regExpTest(DATA_ATTR$$1,lcName));else if(ALLOW_ARIA_ATTR&&regExpTest(ARIA_ATTR$$1,lcName));else if(!ALLOWED_ATTR[lcName]||FORBID_ATTR[lcName]){if(!(_basicCustomElementTest(lcTag)&&(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck,lcTag)||CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))&&(CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck,lcName)||CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName))||"is"===lcName&&CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck,value)||CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))))return!1}else if(URI_SAFE_ATTRIBUTES[lcName]);else if(regExpTest(IS_ALLOWED_URI$$1,stringReplace(value,ATTR_WHITESPACE$$1,"")));else if("src"!==lcName&&"xlink:href"!==lcName&&"href"!==lcName||"script"===lcTag||0!==stringIndexOf(value,"data:")||!DATA_URI_TAGS[lcTag])if(ALLOW_UNKNOWN_PROTOCOLS&&!regExpTest(IS_SCRIPT_OR_DATA$$1,stringReplace(value,ATTR_WHITESPACE$$1,"")));else if(value)return!1;return!0},_basicCustomElementTest=function _basicCustomElementTest(tagName){return tagName.indexOf("-")>0},_sanitizeAttributes=function _sanitizeAttributes(currentNode){var attr=void 0,value=void 0,lcName=void 0,l=void 0;_executeHook("beforeSanitizeAttributes",currentNode,null);var attributes=currentNode.attributes;if(attributes){var hookEvent={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ALLOWED_ATTR};for(l=attributes.length;l--;){var _attr=attr=attributes[l],name=_attr.name,namespaceURI=_attr.namespaceURI;if(value=stringTrim(attr.value),lcName=transformCaseFunc(name),hookEvent.attrName=lcName,hookEvent.attrValue=value,hookEvent.keepAttr=!0,hookEvent.forceKeepAttr=void 0,_executeHook("uponSanitizeAttribute",currentNode,hookEvent),value=hookEvent.attrValue,!hookEvent.forceKeepAttr&&(_removeAttribute(name,currentNode),hookEvent.keepAttr))if(regExpTest(/\/>/i,value))_removeAttribute(name,currentNode);else{SAFE_FOR_TEMPLATES&&(value=stringReplace(value,MUSTACHE_EXPR$$1," "),value=stringReplace(value,ERB_EXPR$$1," "));var lcTag=transformCaseFunc(currentNode.nodeName);if(_isValidAttribute(lcTag,lcName,value))try{namespaceURI?currentNode.setAttributeNS(namespaceURI,name,value):currentNode.setAttribute(name,value),arrayPop(DOMPurify.removed)}catch(_){}}}_executeHook("afterSanitizeAttributes",currentNode,null)}},_sanitizeShadowDOM=function _sanitizeShadowDOM(fragment){var shadowNode=void 0,shadowIterator=_createIterator(fragment);for(_executeHook("beforeSanitizeShadowDOM",fragment,null);shadowNode=shadowIterator.nextNode();)_executeHook("uponSanitizeShadowNode",shadowNode,null),_sanitizeElements(shadowNode)||(shadowNode.content instanceof DocumentFragment&&_sanitizeShadowDOM(shadowNode.content),_sanitizeAttributes(shadowNode));_executeHook("afterSanitizeShadowDOM",fragment,null)};return DOMPurify.sanitize=function(dirty,cfg){var body=void 0,importedNode=void 0,currentNode=void 0,oldNode=void 0,returnNode=void 0;if((IS_EMPTY_INPUT=!dirty)&&(dirty="\x3c!--\x3e"),"string"!=typeof dirty&&!_isNode(dirty)){if("function"!=typeof dirty.toString)throw typeErrorCreate("toString is not a function");if("string"!=typeof(dirty=dirty.toString()))throw typeErrorCreate("dirty is not a string, aborting")}if(!DOMPurify.isSupported){if("object"===_typeof(window.toStaticHTML)||"function"==typeof window.toStaticHTML){if("string"==typeof dirty)return window.toStaticHTML(dirty);if(_isNode(dirty))return window.toStaticHTML(dirty.outerHTML)}return dirty}if(SET_CONFIG||_parseConfig(cfg),DOMPurify.removed=[],"string"==typeof dirty&&(IN_PLACE=!1),IN_PLACE){if(dirty.nodeName){var tagName=transformCaseFunc(dirty.nodeName);if(!ALLOWED_TAGS[tagName]||FORBID_TAGS[tagName])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(dirty instanceof Node)1===(importedNode=(body=_initDocument("\x3c!----\x3e")).ownerDocument.importNode(dirty,!0)).nodeType&&"BODY"===importedNode.nodeName||"HTML"===importedNode.nodeName?body=importedNode:body.appendChild(importedNode);else{if(!RETURN_DOM&&!SAFE_FOR_TEMPLATES&&!WHOLE_DOCUMENT&&-1===dirty.indexOf("<"))return trustedTypesPolicy&&RETURN_TRUSTED_TYPE?trustedTypesPolicy.createHTML(dirty):dirty;if(!(body=_initDocument(dirty)))return RETURN_DOM?null:RETURN_TRUSTED_TYPE?emptyHTML:""}body&&FORCE_BODY&&_forceRemove(body.firstChild);for(var nodeIterator=_createIterator(IN_PLACE?dirty:body);currentNode=nodeIterator.nextNode();)3===currentNode.nodeType&&currentNode===oldNode||_sanitizeElements(currentNode)||(currentNode.content instanceof DocumentFragment&&_sanitizeShadowDOM(currentNode.content),_sanitizeAttributes(currentNode),oldNode=currentNode);if(oldNode=null,IN_PLACE)return dirty;if(RETURN_DOM){if(RETURN_DOM_FRAGMENT)for(returnNode=createDocumentFragment.call(body.ownerDocument);body.firstChild;)returnNode.appendChild(body.firstChild);else returnNode=body;return ALLOWED_ATTR.shadowroot&&(returnNode=importNode.call(originalDocument,returnNode,!0)),returnNode}var serializedHTML=WHOLE_DOCUMENT?body.outerHTML:body.innerHTML;return SAFE_FOR_TEMPLATES&&(serializedHTML=stringReplace(serializedHTML,MUSTACHE_EXPR$$1," "),serializedHTML=stringReplace(serializedHTML,ERB_EXPR$$1," ")),trustedTypesPolicy&&RETURN_TRUSTED_TYPE?trustedTypesPolicy.createHTML(serializedHTML):serializedHTML},DOMPurify.setConfig=function(cfg){_parseConfig(cfg),SET_CONFIG=!0},DOMPurify.clearConfig=function(){CONFIG=null,SET_CONFIG=!1},DOMPurify.isValidAttribute=function(tag,attr,value){CONFIG||_parseConfig({});var lcTag=transformCaseFunc(tag),lcName=transformCaseFunc(attr);return _isValidAttribute(lcTag,lcName,value)},DOMPurify.addHook=function(entryPoint,hookFunction){"function"==typeof hookFunction&&(hooks[entryPoint]=hooks[entryPoint]||[],arrayPush(hooks[entryPoint],hookFunction))},DOMPurify.removeHook=function(entryPoint){hooks[entryPoint]&&arrayPop(hooks[entryPoint])},DOMPurify.removeHooks=function(entryPoint){hooks[entryPoint]&&(hooks[entryPoint]=[])},DOMPurify.removeAllHooks=function(){hooks={}},DOMPurify}return createDOMPurify()}()},"./node_modules/react-mermaid2/node_modules/khroma/dist/channels/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/utils/index.js"),type_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/channels/type.js"),Channels=function(){function Channels(data,color){this.color=color,this.changed=!1,this.data=data,this.type=new type_1.default}return Channels.prototype.set=function(data,color){return this.color=color,this.changed=!1,this.data=data,this.type.type=0,this},Channels.prototype._ensureHSL=function(){var data=this.data,h=data.h,s=data.s,l=data.l;void 0===h&&(data.h=utils_1.default.channel.rgb2hsl(data,"h")),void 0===s&&(data.s=utils_1.default.channel.rgb2hsl(data,"s")),void 0===l&&(data.l=utils_1.default.channel.rgb2hsl(data,"l"))},Channels.prototype._ensureRGB=function(){var data=this.data,r=data.r,g=data.g,b=data.b;void 0===r&&(data.r=utils_1.default.channel.hsl2rgb(data,"r")),void 0===g&&(data.g=utils_1.default.channel.hsl2rgb(data,"g")),void 0===b&&(data.b=utils_1.default.channel.hsl2rgb(data,"b"))},Object.defineProperty(Channels.prototype,"r",{get:function(){var data=this.data,r=data.r;return this.type.is(2)||void 0===r?(this._ensureHSL(),utils_1.default.channel.hsl2rgb(data,"r")):r},set:function(r){this.type.set(1),this.changed=!0,this.data.r=r},enumerable:!0,configurable:!0}),Object.defineProperty(Channels.prototype,"g",{get:function(){var data=this.data,g=data.g;return this.type.is(2)||void 0===g?(this._ensureHSL(),utils_1.default.channel.hsl2rgb(data,"g")):g},set:function(g){this.type.set(1),this.changed=!0,this.data.g=g},enumerable:!0,configurable:!0}),Object.defineProperty(Channels.prototype,"b",{get:function(){var data=this.data,b=data.b;return this.type.is(2)||void 0===b?(this._ensureHSL(),utils_1.default.channel.hsl2rgb(data,"b")):b},set:function(b){this.type.set(1),this.changed=!0,this.data.b=b},enumerable:!0,configurable:!0}),Object.defineProperty(Channels.prototype,"h",{get:function(){var data=this.data,h=data.h;return this.type.is(1)||void 0===h?(this._ensureRGB(),utils_1.default.channel.rgb2hsl(data,"h")):h},set:function(h){this.type.set(2),this.changed=!0,this.data.h=h},enumerable:!0,configurable:!0}),Object.defineProperty(Channels.prototype,"s",{get:function(){var data=this.data,s=data.s;return this.type.is(1)||void 0===s?(this._ensureRGB(),utils_1.default.channel.rgb2hsl(data,"s")):s},set:function(s){this.type.set(2),this.changed=!0,this.data.s=s},enumerable:!0,configurable:!0}),Object.defineProperty(Channels.prototype,"l",{get:function(){var data=this.data,l=data.l;return this.type.is(1)||void 0===l?(this._ensureRGB(),utils_1.default.channel.rgb2hsl(data,"l")):l},set:function(l){this.type.set(2),this.changed=!0,this.data.l=l},enumerable:!0,configurable:!0}),Object.defineProperty(Channels.prototype,"a",{get:function(){return this.data.a},set:function(a){this.changed=!0,this.data.a=a},enumerable:!0,configurable:!0}),Channels}();exports.default=Channels},"./node_modules/react-mermaid2/node_modules/khroma/dist/channels/reusable.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var channels=new(__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/channels/index.js").default)({r:0,g:0,b:0,a:0},"transparent");exports.default=channels},"./node_modules/react-mermaid2/node_modules/khroma/dist/channels/type.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Type=function(){function Type(){this.type=0}return Type.prototype.get=function(){return this.type},Type.prototype.set=function(type){if(this.type&&this.type!==type)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=type},Type.prototype.reset=function(){this.type=0},Type.prototype.is=function(type){return this.type===type},Type}();exports.default=Type},"./node_modules/react-mermaid2/node_modules/khroma/dist/color/hex.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var reusable_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/channels/reusable.js"),consts_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/consts.js"),Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:function(color){if(35===color.charCodeAt(0)){var match=color.match(Hex.re);if(match){var hex=match[1],dec=parseInt(hex,16),length=hex.length,hasAlpha=length%4==0,isFullLength=length>4,multiplier=isFullLength?1:17,bits=isFullLength?8:4,bitsOffset=hasAlpha?0:-1,mask=isFullLength?255:15;return reusable_1.default.set({r:(dec>>bits*(bitsOffset+3)&mask)*multiplier,g:(dec>>bits*(bitsOffset+2)&mask)*multiplier,b:(dec>>bits*(bitsOffset+1)&mask)*multiplier,a:hasAlpha?(dec&mask)*multiplier/255:1},color)}}},stringify:function(channels){var r=channels.r,g=channels.g,b=channels.b,a=channels.a;return a<1?"#"+consts_1.DEC2HEX[Math.round(r)]+consts_1.DEC2HEX[Math.round(g)]+consts_1.DEC2HEX[Math.round(b)]+consts_1.DEC2HEX[Math.round(255*a)]:"#"+consts_1.DEC2HEX[Math.round(r)]+consts_1.DEC2HEX[Math.round(g)]+consts_1.DEC2HEX[Math.round(b)]}};exports.default=Hex},"./node_modules/react-mermaid2/node_modules/khroma/dist/color/hsl.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/utils/index.js"),reusable_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/channels/reusable.js"),HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:function(hue){var match=hue.match(HSL.hueRe);if(match){var number=match[1];switch(match[2]){case"grad":return utils_1.default.channel.clamp.h(.9*parseFloat(number));case"rad":return utils_1.default.channel.clamp.h(180*parseFloat(number)/Math.PI);case"turn":return utils_1.default.channel.clamp.h(360*parseFloat(number))}}return utils_1.default.channel.clamp.h(parseFloat(hue))},parse:function(color){var charCode=color.charCodeAt(0);if(104===charCode||72===charCode){var match=color.match(HSL.re);if(match){var h=match[1],s=match[2],l=match[3],a=match[4],isAlphaPercentage=match[5];return reusable_1.default.set({h:HSL._hue2deg(h),s:utils_1.default.channel.clamp.s(parseFloat(s)),l:utils_1.default.channel.clamp.l(parseFloat(l)),a:a?utils_1.default.channel.clamp.a(isAlphaPercentage?parseFloat(a)/100:parseFloat(a)):1},color)}}},stringify:function(channels){var h=channels.h,s=channels.s,l=channels.l,a=channels.a;return a<1?"hsla("+utils_1.default.lang.round(h)+", "+utils_1.default.lang.round(s)+"%, "+utils_1.default.lang.round(l)+"%, "+a+")":"hsl("+utils_1.default.lang.round(h)+", "+utils_1.default.lang.round(s)+"%, "+utils_1.default.lang.round(l)+"%)"}};exports.default=HSL},"./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var hex_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/hex.js"),keyword_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/keyword.js"),rgb_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/rgb.js"),hsl_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/hsl.js"),Color={format:{keyword:keyword_1.default,hex:hex_1.default,rgb:rgb_1.default,rgba:rgb_1.default,hsl:hsl_1.default,hsla:hsl_1.default},parse:function(color){if("string"!=typeof color)return color;var channels=hex_1.default.parse(color)||rgb_1.default.parse(color)||hsl_1.default.parse(color)||keyword_1.default.parse(color);if(channels)return channels;throw new Error('Unsupported color format: "'+color+'"')},stringify:function(channels){return!channels.changed&&channels.color?channels.color:channels.type.is(2)||void 0===channels.data.r?hsl_1.default.stringify(channels):channels.a<1||!Number.isInteger(channels.r)||!Number.isInteger(channels.g)||!Number.isInteger(channels.b)?rgb_1.default.stringify(channels):hex_1.default.stringify(channels)}};exports.default=Color},"./node_modules/react-mermaid2/node_modules/khroma/dist/color/keyword.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var hex_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/hex.js"),Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:function(color){color=color.toLowerCase();var hex=Keyword.colors[color];if(hex)return hex_1.default.parse(hex)},stringify:function(channels){var hex=hex_1.default.stringify(channels);for(var name_1 in Keyword.colors)if(Keyword.colors[name_1]===hex)return name_1}};exports.default=Keyword},"./node_modules/react-mermaid2/node_modules/khroma/dist/color/rgb.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/utils/index.js"),reusable_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/channels/reusable.js"),RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:function(color){var charCode=color.charCodeAt(0);if(114===charCode||82===charCode){var match=color.match(RGB.re);if(match){var r=match[1],isRedPercentage=match[2],g=match[3],isGreenPercentage=match[4],b=match[5],isBluePercentage=match[6],a=match[7],isAlphaPercentage=match[8];return reusable_1.default.set({r:utils_1.default.channel.clamp.r(isRedPercentage?2.55*parseFloat(r):parseFloat(r)),g:utils_1.default.channel.clamp.g(isGreenPercentage?2.55*parseFloat(g):parseFloat(g)),b:utils_1.default.channel.clamp.b(isBluePercentage?2.55*parseFloat(b):parseFloat(b)),a:a?utils_1.default.channel.clamp.a(isAlphaPercentage?parseFloat(a)/100:parseFloat(a)):1},color)}}},stringify:function(channels){var r=channels.r,g=channels.g,b=channels.b,a=channels.a;return a<1?"rgba("+utils_1.default.lang.round(r)+", "+utils_1.default.lang.round(g)+", "+utils_1.default.lang.round(b)+", "+utils_1.default.lang.round(a)+")":"rgb("+utils_1.default.lang.round(r)+", "+utils_1.default.lang.round(g)+", "+utils_1.default.lang.round(b)+")"}};exports.default=RGB},"./node_modules/react-mermaid2/node_modules/khroma/dist/consts.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/utils/index.js"),DEC2HEX={};exports.DEC2HEX=DEC2HEX;for(var i=0;i<=255;i++)DEC2HEX[i]=utils_1.default.unit.dec2hex(i)},"./node_modules/react-mermaid2/node_modules/khroma/dist/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}(__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/index.js"))},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/adjust.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var color_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js"),change_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/change.js");exports.default=function adjust(color,channels){var ch=color_1.default.parse(color),changes={};for(var c in channels)channels[c]&&(changes[c]=ch[c]+channels[c]);return change_1.default(color,changes)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/adjust_channel.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/utils/index.js"),color_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js");exports.default=function adjustChannel(color,channel,amount){var channels=color_1.default.parse(color),amountCurrent=channels[channel],amountNext=utils_1.default.channel.clamp[channel](amountCurrent+amount);return amountCurrent!==amountNext&&(channels[channel]=amountNext),color_1.default.stringify(channels)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/alpha.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/channel.js");exports.default=function alpha(color){return channel_1.default(color,"a")}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/blue.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/channel.js");exports.default=function blue(color){return channel_1.default(color,"b")}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/change.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/utils/index.js"),color_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js");exports.default=function change(color,channels){var ch=color_1.default.parse(color);for(var c in channels)ch[c]=utils_1.default.channel.clamp[c](channels[c]);return color_1.default.stringify(ch)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/channel.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/utils/index.js"),color_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js");exports.default=function channel(color,channel){return utils_1.default.lang.round(color_1.default.parse(color)[channel])}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/complement.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var adjust_channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/adjust_channel.js");exports.default=function complement(color){return adjust_channel_1.default(color,"h",180)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/contrast.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/utils/index.js"),luminance_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/luminance.js");exports.default=function contrast(color1,color2){var luminance1=luminance_1.default(color1),luminance2=luminance_1.default(color2),max=Math.max(luminance1,luminance2),min=Math.min(luminance1,luminance2),ratio=(max+Number.EPSILON)/(min+Number.EPSILON);return utils_1.default.lang.round(utils_1.default.lang.clamp(ratio,1,10))}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/darken.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var adjust_channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/adjust_channel.js");exports.default=function darken(color,amount){return adjust_channel_1.default(color,"l",-amount)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/desaturate.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var adjust_channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/adjust_channel.js");exports.default=function desaturate(color,amount){return adjust_channel_1.default(color,"s",-amount)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/grayscale.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var change_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/change.js");exports.default=function grayscale(color){return change_1.default(color,{s:0})}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/green.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/channel.js");exports.default=function green(color){return channel_1.default(color,"g")}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/hsla.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/utils/index.js"),reusable_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/channels/reusable.js"),color_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js");exports.default=function hsla(h,s,l,a){void 0===a&&(a=1);var channels=reusable_1.default.set({h:utils_1.default.channel.clamp.h(h),s:utils_1.default.channel.clamp.s(s),l:utils_1.default.channel.clamp.l(l),a:utils_1.default.channel.clamp.a(a)});return color_1.default.stringify(channels)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/hue.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/channel.js");exports.default=function hue(color){return channel_1.default(color,"h")}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var rgba_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/rgba.js");exports.hex=rgba_1.default;var rgba_2=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/rgba.js");exports.rgb=rgba_2.default;var rgba_3=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/rgba.js");exports.rgba=rgba_3.default;var hsla_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/hsla.js");exports.hsl=hsla_1.default;var hsla_2=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/hsla.js");exports.hsla=hsla_2.default;var to_keyword_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/to_keyword.js");exports.toKeyword=to_keyword_1.default;var to_hex_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/to_hex.js");exports.toHex=to_hex_1.default;var to_rgba_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/to_rgba.js");exports.toRgba=to_rgba_1.default;var to_hsla_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/to_hsla.js");exports.toHsla=to_hsla_1.default;var channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/channel.js");exports.channel=channel_1.default;var red_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/red.js");exports.red=red_1.default;var green_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/green.js");exports.green=green_1.default;var blue_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/blue.js");exports.blue=blue_1.default;var hue_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/hue.js");exports.hue=hue_1.default;var saturation_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/saturation.js");exports.saturation=saturation_1.default;var lightness_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/lightness.js");exports.lightness=lightness_1.default;var alpha_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/alpha.js");exports.alpha=alpha_1.default;var alpha_2=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/alpha.js");exports.opacity=alpha_2.default;var contrast_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/contrast.js");exports.contrast=contrast_1.default;var luminance_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/luminance.js");exports.luminance=luminance_1.default;var is_dark_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/is_dark.js");exports.isDark=is_dark_1.default;var is_light_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/is_light.js");exports.isLight=is_light_1.default;var is_valid_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/is_valid.js");exports.isValid=is_valid_1.default;var saturate_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/saturate.js");exports.saturate=saturate_1.default;var desaturate_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/desaturate.js");exports.desaturate=desaturate_1.default;var lighten_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/lighten.js");exports.lighten=lighten_1.default;var darken_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/darken.js");exports.darken=darken_1.default;var opacify_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/opacify.js");exports.opacify=opacify_1.default;var opacify_2=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/opacify.js");exports.fadeIn=opacify_2.default;var transparentize_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/transparentize.js");exports.transparentize=transparentize_1.default;var transparentize_2=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/transparentize.js");exports.fadeOut=transparentize_2.default;var complement_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/complement.js");exports.complement=complement_1.default;var grayscale_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/grayscale.js");exports.grayscale=grayscale_1.default;var adjust_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/adjust.js");exports.adjust=adjust_1.default;var change_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/change.js");exports.change=change_1.default;var invert_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/invert.js");exports.invert=invert_1.default;var mix_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/mix.js");exports.mix=mix_1.default;var scale_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/scale.js");exports.scale=scale_1.default},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/invert.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var color_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js"),mix_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/mix.js");exports.default=function invert(color,weight){void 0===weight&&(weight=100);var inverse=color_1.default.parse(color);return inverse.r=255-inverse.r,inverse.g=255-inverse.g,inverse.b=255-inverse.b,mix_1.default(inverse,color,weight)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/is_dark.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var is_light_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/is_light.js");exports.default=function isDark(color){return!is_light_1.default(color)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/is_light.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var luminance_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/luminance.js");exports.default=function isLight(color){return luminance_1.default(color)>=.5}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/is_valid.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var color_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js");exports.default=function isValid(color){try{return color_1.default.parse(color),!0}catch(_a){return!1}}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/lighten.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var adjust_channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/adjust_channel.js");exports.default=function lighten(color,amount){return adjust_channel_1.default(color,"l",amount)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/lightness.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/channel.js");exports.default=function lightness(color){return channel_1.default(color,"l")}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/luminance.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/utils/index.js"),color_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js");exports.default=function luminance(color){var _a=color_1.default.parse(color),r=_a.r,g=_a.g,b=_a.b,luminance=.2126*utils_1.default.channel.toLinear(r)+.7152*utils_1.default.channel.toLinear(g)+.0722*utils_1.default.channel.toLinear(b);return utils_1.default.lang.round(luminance)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/mix.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var color_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js"),rgba_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/rgba.js");exports.default=function mix(color1,color2,weight){void 0===weight&&(weight=50);var _a=color_1.default.parse(color1),r1=_a.r,g1=_a.g,b1=_a.b,a1=_a.a,_b=color_1.default.parse(color2),r2=_b.r,g2=_b.g,b2=_b.b,a2=_b.a,weightScale=weight/100,weightNormalized=2*weightScale-1,alphaDelta=a1-a2,weight1=((weightNormalized*alphaDelta===-1?weightNormalized:(weightNormalized+alphaDelta)/(1+weightNormalized*alphaDelta))+1)/2,weight2=1-weight1,r=r1*weight1+r2*weight2,g=g1*weight1+g2*weight2,b=b1*weight1+b2*weight2,a=a1*weightScale+a2*(1-weightScale);return rgba_1.default(r,g,b,a)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/opacify.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var adjust_channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/adjust_channel.js");exports.default=function opacify(color,amount){return adjust_channel_1.default(color,"a",amount)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/red.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/channel.js");exports.default=function red(color){return channel_1.default(color,"r")}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/rgba.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/utils/index.js"),reusable_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/channels/reusable.js"),color_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js"),change_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/change.js");exports.default=function rgba(r,g,b,a){if(void 0===b&&(b=0),void 0===a&&(a=1),"number"!=typeof r)return change_1.default(r,{a:g});var channels=reusable_1.default.set({r:utils_1.default.channel.clamp.r(r),g:utils_1.default.channel.clamp.g(g),b:utils_1.default.channel.clamp.b(b),a:utils_1.default.channel.clamp.a(a)});return color_1.default.stringify(channels)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/saturate.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var adjust_channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/adjust_channel.js");exports.default=function saturate(color,amount){return adjust_channel_1.default(color,"s",amount)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/saturation.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/channel.js");exports.default=function saturation(color){return channel_1.default(color,"s")}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/scale.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/utils/index.js"),color_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js"),adjust_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/adjust.js");exports.default=function scale(color,channels){var amount,weight,max,ch=color_1.default.parse(color),adjustments={};for(var c in channels)adjustments[c]=(amount=ch[c],weight=channels[c],max=utils_1.default.channel.max[c],weight>0?(max-amount)*weight/100:amount*weight/100);return adjust_1.default(color,adjustments)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/to_hex.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var color_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js");exports.default=function toHex(color){return color_1.default.format.hex.stringify(color_1.default.parse(color))}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/to_hsla.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var color_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js");exports.default=function toHsla(color){return color_1.default.format.hsla.stringify(color_1.default.parse(color))}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/to_keyword.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var color_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js");exports.default=function toKeyword(color){return color_1.default.format.keyword.stringify(color_1.default.parse(color))}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/to_rgba.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var color_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/color/index.js");exports.default=function toRgba(color){return color_1.default.format.rgba.stringify(color_1.default.parse(color))}},"./node_modules/react-mermaid2/node_modules/khroma/dist/methods/transparentize.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var adjust_channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/methods/adjust_channel.js");exports.default=function transparentize(color,amount){return adjust_channel_1.default(color,"a",-amount)}},"./node_modules/react-mermaid2/node_modules/khroma/dist/utils/channel.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:function(r){return r>=255?255:r<0?0:r},g:function(g){return g>=255?255:g<0?0:g},b:function(b){return b>=255?255:b<0?0:b},h:function(h){return h%360},s:function(s){return s>=100?100:s<0?0:s},l:function(l){return l>=100?100:l<0?0:l},a:function(a){return a>=1?1:a<0?0:a}},toLinear:function(c){var n=c/255;return c>.03928?Math.pow((n+.055)/1.055,2.4):n/12.92},hue2rgb:function(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p},hsl2rgb:function(_a,channel){var h=_a.h,s=_a.s,l=_a.l;if(!s)return 2.55*l;h/=360,s/=100;var q=(l/=100)<.5?l*(1+s):l+s-l*s,p=2*l-q;switch(channel){case"r":return 255*Channel.hue2rgb(p,q,h+1/3);case"g":return 255*Channel.hue2rgb(p,q,h);case"b":return 255*Channel.hue2rgb(p,q,h-1/3)}},rgb2hsl:function(_a,channel){var r=_a.r,g=_a.g,b=_a.b;r/=255,g/=255,b/=255;var max=Math.max(r,g,b),min=Math.min(r,g,b),l=(max+min)/2;if("l"===channel)return 100*l;if(max===min)return 0;var d=max-min;if("s"===channel)return 100*(l>.5?d/(2-max-min):d/(max+min));switch(max){case r:return 60*((g-b)/d+(g<b?6:0));case g:return 60*((b-r)/d+2);case b:return 60*((r-g)/d+4);default:return-1}}};exports.default=Channel},"./node_modules/react-mermaid2/node_modules/khroma/dist/utils/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var channel_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/utils/channel.js"),lang_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/utils/lang.js"),unit_1=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/utils/unit.js"),Utils={channel:channel_1.default,lang:lang_1.default,unit:unit_1.default};exports.default=Utils},"./node_modules/react-mermaid2/node_modules/khroma/dist/utils/lang.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Lang={clamp:function(number,lower,upper){return lower>upper?Math.min(lower,Math.max(upper,number)):Math.min(upper,Math.max(lower,number))},round:function(number){return Math.round(1e10*number)/1e10}};exports.default=Lang},"./node_modules/react-mermaid2/node_modules/khroma/dist/utils/unit.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Unit={dec2hex:function(dec){var hex=Math.round(dec).toString(16);return hex.length>1?hex:"0"+hex}};exports.default=Unit},"./node_modules/react-mermaid2/node_modules/mermaid/dist/mermaid.core.js":function(module,__unused_webpack_exports,__webpack_require__){var console=__webpack_require__("./node_modules/console-browserify/index.js"),process=__webpack_require__("./node_modules/process/browser.js");!function webpackUniversalModuleDefinition(root,factory){module.exports=factory()}("undefined"!=typeof self&&self,(function(){return(()=>{var __webpack_modules__={"./src/diagrams/class/parser/classDiagram.jison":(module,exports,__nested_webpack_require_742__)=>{module=__nested_webpack_require_742__.nmd(module);var parser=function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,6],$V1=[1,7],$V2=[1,8],$V3=[1,9],$V4=[1,12],$V5=[1,11],$V6=[1,15,24],$V7=[1,19],$V8=[1,31],$V9=[1,34],$Va=[1,32],$Vb=[1,33],$Vc=[1,35],$Vd=[1,36],$Ve=[1,37],$Vf=[1,38],$Vg=[1,41],$Vh=[1,42],$Vi=[1,43],$Vj=[1,44],$Vk=[15,24],$Vl=[1,56],$Vm=[1,57],$Vn=[1,58],$Vo=[1,59],$Vp=[1,60],$Vq=[1,61],$Vr=[15,24,31,38,39,47,50,51,52,53,54,55,60,62],$Vs=[15,24,29,31,38,39,43,47,50,51,52,53,54,55,60,62,77,78,79,80],$Vt=[7,8,9,10,15,18,22,24],$Vu=[47,77,78,79,80],$Vv=[47,54,55,77,78,79,80],$Vw=[47,50,51,52,53,77,78,79,80],$Vx=[15,24,31],$Vy=[1,93],parser={trace:function trace(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,CLASS_DIAGRAM:22,statements:23,EOF:24,statement:25,className:26,alphaNumToken:27,classLiteralName:28,GENERICTYPE:29,relationStatement:30,LABEL:31,classStatement:32,methodStatement:33,annotationStatement:34,clickStatement:35,cssClassStatement:36,CLASS:37,STYLE_SEPARATOR:38,STRUCT_START:39,members:40,STRUCT_STOP:41,ANNOTATION_START:42,ANNOTATION_END:43,MEMBER:44,SEPARATOR:45,relation:46,STR:47,relationType:48,lineType:49,AGGREGATION:50,EXTENSION:51,COMPOSITION:52,DEPENDENCY:53,LINE:54,DOTTED_LINE:55,CALLBACK:56,LINK:57,LINK_TARGET:58,CLICK:59,CALLBACK_NAME:60,CALLBACK_ARGS:61,HREF:62,CSSCLASS:63,commentToken:64,textToken:65,graphCodeTokens:66,textNoTagsToken:67,TAGSTART:68,TAGEND:69,"==":70,"--":71,PCT:72,DEFAULT:73,SPACE:74,MINUS:75,keywords:76,UNICODE_TEXT:77,NUM:78,ALPHA:79,BQUOTE_STR:80,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"CLASS_DIAGRAM",24:"EOF",29:"GENERICTYPE",31:"LABEL",37:"CLASS",38:"STYLE_SEPARATOR",39:"STRUCT_START",41:"STRUCT_STOP",42:"ANNOTATION_START",43:"ANNOTATION_END",44:"MEMBER",45:"SEPARATOR",47:"STR",50:"AGGREGATION",51:"EXTENSION",52:"COMPOSITION",53:"DEPENDENCY",54:"LINE",55:"DOTTED_LINE",56:"CALLBACK",57:"LINK",58:"LINK_TARGET",59:"CLICK",60:"CALLBACK_NAME",61:"CALLBACK_ARGS",62:"HREF",63:"CSSCLASS",66:"graphCodeTokens",68:"TAGSTART",69:"TAGEND",70:"==",71:"--",72:"PCT",73:"DEFAULT",74:"SPACE",75:"MINUS",76:"keywords",77:"UNICODE_TEXT",78:"NUM",79:"ALPHA",80:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[23,1],[23,2],[23,3],[26,1],[26,1],[26,2],[26,2],[26,2],[25,1],[25,2],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[32,2],[32,4],[32,5],[32,7],[34,4],[40,1],[40,2],[33,1],[33,2],[33,1],[33,1],[30,3],[30,4],[30,4],[30,5],[46,3],[46,2],[46,2],[46,1],[48,1],[48,1],[48,1],[48,1],[49,1],[49,1],[35,3],[35,4],[35,3],[35,4],[35,4],[35,5],[35,3],[35,4],[35,4],[35,5],[35,3],[35,4],[35,4],[35,5],[36,3],[64,1],[64,1],[65,1],[65,1],[65,1],[65,1],[65,1],[65,1],[65,1],[67,1],[67,1],[67,1],[67,1],[27,1],[27,1],[27,1],[28,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 4:yy.setDirection("TB");break;case 5:yy.setDirection("BT");break;case 6:yy.setDirection("RL");break;case 7:yy.setDirection("LR");break;case 11:yy.parseDirective("%%{","open_directive");break;case 12:yy.parseDirective($$[$0],"type_directive");break;case 13:$$[$0]=$$[$0].trim().replace(/'/g,'"'),yy.parseDirective($$[$0],"arg_directive");break;case 14:yy.parseDirective("}%%","close_directive","class");break;case 19:case 20:this.$=$$[$0];break;case 21:this.$=$$[$0-1]+$$[$0];break;case 22:case 23:this.$=$$[$0-1]+"~"+$$[$0];break;case 24:yy.addRelation($$[$0]);break;case 25:$$[$0-1].title=yy.cleanupLabel($$[$0]),yy.addRelation($$[$0-1]);break;case 33:yy.addClass($$[$0]);break;case 34:yy.addClass($$[$0-2]),yy.setCssClass($$[$0-2],$$[$0]);break;case 35:yy.addClass($$[$0-3]),yy.addMembers($$[$0-3],$$[$0-1]);break;case 36:yy.addClass($$[$0-5]),yy.setCssClass($$[$0-5],$$[$0-3]),yy.addMembers($$[$0-5],$$[$0-1]);break;case 37:yy.addAnnotation($$[$0],$$[$0-2]);break;case 38:this.$=[$$[$0]];break;case 39:$$[$0].push($$[$0-1]),this.$=$$[$0];break;case 40:case 42:case 43:break;case 41:yy.addMember($$[$0-1],yy.cleanupLabel($$[$0]));break;case 44:this.$={id1:$$[$0-2],id2:$$[$0],relation:$$[$0-1],relationTitle1:"none",relationTitle2:"none"};break;case 45:this.$={id1:$$[$0-3],id2:$$[$0],relation:$$[$0-1],relationTitle1:$$[$0-2],relationTitle2:"none"};break;case 46:this.$={id1:$$[$0-3],id2:$$[$0],relation:$$[$0-2],relationTitle1:"none",relationTitle2:$$[$0-1]};break;case 47:this.$={id1:$$[$0-4],id2:$$[$0],relation:$$[$0-2],relationTitle1:$$[$0-3],relationTitle2:$$[$0-1]};break;case 48:this.$={type1:$$[$0-2],type2:$$[$0],lineType:$$[$0-1]};break;case 49:this.$={type1:"none",type2:$$[$0],lineType:$$[$0-1]};break;case 50:this.$={type1:$$[$0-1],type2:"none",lineType:$$[$0]};break;case 51:this.$={type1:"none",type2:"none",lineType:$$[$0]};break;case 52:this.$=yy.relationType.AGGREGATION;break;case 53:this.$=yy.relationType.EXTENSION;break;case 54:this.$=yy.relationType.COMPOSITION;break;case 55:this.$=yy.relationType.DEPENDENCY;break;case 56:this.$=yy.lineType.LINE;break;case 57:this.$=yy.lineType.DOTTED_LINE;break;case 58:case 64:this.$=$$[$0-2],yy.setClickEvent($$[$0-1],$$[$0]);break;case 59:case 65:this.$=$$[$0-3],yy.setClickEvent($$[$0-2],$$[$0-1]),yy.setTooltip($$[$0-2],$$[$0]);break;case 60:case 68:this.$=$$[$0-2],yy.setLink($$[$0-1],$$[$0]);break;case 61:case 69:this.$=$$[$0-3],yy.setLink($$[$0-2],$$[$0-1],$$[$0]);break;case 62:case 70:this.$=$$[$0-3],yy.setLink($$[$0-2],$$[$0-1]),yy.setTooltip($$[$0-2],$$[$0]);break;case 63:case 71:this.$=$$[$0-4],yy.setLink($$[$0-3],$$[$0-2],$$[$0]),yy.setTooltip($$[$0-3],$$[$0-1]);break;case 66:this.$=$$[$0-3],yy.setClickEvent($$[$0-2],$$[$0-1],$$[$0]);break;case 67:this.$=$$[$0-4],yy.setClickEvent($$[$0-3],$$[$0-2],$$[$0-1]),yy.setTooltip($$[$0-3],$$[$0]);break;case 72:yy.setCssClass($$[$0-1],$$[$0])}},table:[{3:1,4:2,5:3,6:4,7:$V0,8:$V1,9:$V2,10:$V3,11:5,12:10,18:$V4,22:$V5},{1:[3]},{1:[2,1]},{1:[2,2]},{3:13,4:2,5:3,6:4,7:$V0,8:$V1,9:$V2,10:$V3,11:5,12:10,18:$V4,22:$V5},{1:[2,8]},o($V6,[2,4]),o($V6,[2,5]),o($V6,[2,6]),o($V6,[2,7]),{13:14,19:[1,15]},{15:[1,16]},{19:[2,11]},{1:[2,3]},{14:17,16:[1,18],21:$V7},o([16,21],[2,12]),{5:29,6:28,7:$V0,8:$V1,9:$V2,10:$V3,12:10,18:$V4,23:20,25:21,26:30,27:39,28:40,30:22,32:23,33:24,34:25,35:26,36:27,37:$V8,42:$V9,44:$Va,45:$Vb,56:$Vc,57:$Vd,59:$Ve,63:$Vf,77:$Vg,78:$Vh,79:$Vi,80:$Vj},{15:[1,45]},{17:46,20:[1,47]},{15:[2,14]},{24:[1,48]},{15:[1,49],24:[2,16]},o($Vk,[2,24],{31:[1,50]}),o($Vk,[2,26]),o($Vk,[2,27]),o($Vk,[2,28]),o($Vk,[2,29]),o($Vk,[2,30]),o($Vk,[2,31]),o($Vk,[2,32]),o($Vk,[2,40],{46:51,48:54,49:55,31:[1,53],47:[1,52],50:$Vl,51:$Vm,52:$Vn,53:$Vo,54:$Vp,55:$Vq}),{26:62,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},o($Vk,[2,42]),o($Vk,[2,43]),{27:63,77:$Vg,78:$Vh,79:$Vi},{26:64,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},{26:65,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},{26:66,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},{47:[1,67]},o($Vr,[2,19],{27:39,28:40,26:68,29:[1,69],77:$Vg,78:$Vh,79:$Vi,80:$Vj}),o($Vr,[2,20],{29:[1,70]}),o($Vs,[2,86]),o($Vs,[2,87]),o($Vs,[2,88]),o([15,24,29,31,38,39,47,50,51,52,53,54,55,60,62],[2,89]),o($Vt,[2,9]),{14:71,21:$V7},{21:[2,13]},{1:[2,15]},{5:29,6:28,7:$V0,8:$V1,9:$V2,10:$V3,12:10,18:$V4,23:72,24:[2,17],25:21,26:30,27:39,28:40,30:22,32:23,33:24,34:25,35:26,36:27,37:$V8,42:$V9,44:$Va,45:$Vb,56:$Vc,57:$Vd,59:$Ve,63:$Vf,77:$Vg,78:$Vh,79:$Vi,80:$Vj},o($Vk,[2,25]),{26:73,27:39,28:40,47:[1,74],77:$Vg,78:$Vh,79:$Vi,80:$Vj},{46:75,48:54,49:55,50:$Vl,51:$Vm,52:$Vn,53:$Vo,54:$Vp,55:$Vq},o($Vk,[2,41]),{49:76,54:$Vp,55:$Vq},o($Vu,[2,51],{48:77,50:$Vl,51:$Vm,52:$Vn,53:$Vo}),o($Vv,[2,52]),o($Vv,[2,53]),o($Vv,[2,54]),o($Vv,[2,55]),o($Vw,[2,56]),o($Vw,[2,57]),o($Vk,[2,33],{38:[1,78],39:[1,79]}),{43:[1,80]},{47:[1,81]},{47:[1,82]},{60:[1,83],62:[1,84]},{27:85,77:$Vg,78:$Vh,79:$Vi},o($Vr,[2,21]),o($Vr,[2,22]),o($Vr,[2,23]),{15:[1,86]},{24:[2,18]},o($Vx,[2,44]),{26:87,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},{26:88,27:39,28:40,47:[1,89],77:$Vg,78:$Vh,79:$Vi,80:$Vj},o($Vu,[2,50],{48:90,50:$Vl,51:$Vm,52:$Vn,53:$Vo}),o($Vu,[2,49]),{27:91,77:$Vg,78:$Vh,79:$Vi},{40:92,44:$Vy},{26:94,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},o($Vk,[2,58],{47:[1,95]}),o($Vk,[2,60],{47:[1,97],58:[1,96]}),o($Vk,[2,64],{47:[1,98],61:[1,99]}),o($Vk,[2,68],{47:[1,101],58:[1,100]}),o($Vk,[2,72]),o($Vt,[2,10]),o($Vx,[2,46]),o($Vx,[2,45]),{26:102,27:39,28:40,77:$Vg,78:$Vh,79:$Vi,80:$Vj},o($Vu,[2,48]),o($Vk,[2,34],{39:[1,103]}),{41:[1,104]},{40:105,41:[2,38],44:$Vy},o($Vk,[2,37]),o($Vk,[2,59]),o($Vk,[2,61]),o($Vk,[2,62],{58:[1,106]}),o($Vk,[2,65]),o($Vk,[2,66],{47:[1,107]}),o($Vk,[2,69]),o($Vk,[2,70],{58:[1,108]}),o($Vx,[2,47]),{40:109,44:$Vy},o($Vk,[2,35]),{41:[2,39]},o($Vk,[2,63]),o($Vk,[2,67]),o($Vk,[2,71]),{41:[1,110]},o($Vk,[2,36])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],12:[2,11],13:[2,3],19:[2,14],47:[2,13],48:[2,15],72:[2,18],105:[2,39]},parseError:function parseError(str,hash){if(!hash.recoverable){var error=new Error(str);throw error.hash=hash,error}this.trace(str)},parse:function parse(input){var self=this,stack=[0],tstack=[],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,void 0===lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=tstack.pop()||lexer.lex()||1)&&(token instanceof Array&&(token=(tstack=token).pop()),token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer={EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return r||this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function _currentRules(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function topState(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function pushState(condition){this.begin(condition)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:case 10:case 12:case 19:break;case 11:return 15;case 13:case 14:return 22;case 15:return this.begin("struct"),39;case 16:return"EOF_IN_STRUCT";case 17:return"OPEN_IN_STRUCT";case 18:return this.popState(),41;case 20:return"MEMBER";case 21:return 37;case 22:return 63;case 23:return 56;case 24:return 57;case 25:return 59;case 26:return 42;case 27:return 43;case 28:this.begin("generic");break;case 29:case 32:case 35:case 38:case 41:case 44:this.popState();break;case 30:return"GENERICTYPE";case 31:this.begin("string");break;case 33:return"STR";case 34:this.begin("bqstring");break;case 36:return"BQUOTE_STR";case 37:this.begin("href");break;case 39:return 62;case 40:this.begin("callback_name");break;case 42:this.popState(),this.begin("callback_args");break;case 43:return 60;case 45:return 61;case 46:case 47:case 48:case 49:return 58;case 50:case 51:return 51;case 52:case 53:return 53;case 54:return 52;case 55:return 50;case 56:return 54;case 57:return 55;case 58:return 31;case 59:return 38;case 60:return 75;case 61:return"DOT";case 62:return"PLUS";case 63:return 72;case 64:case 65:return"EQUALS";case 66:return 79;case 67:return"PUNCTUATION";case 68:return 78;case 69:return 77;case 70:return 74;case 71:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[44,45],inclusive:!1},callback_name:{rules:[41,42,43],inclusive:!1},href:{rules:[38,39],inclusive:!1},struct:{rules:[16,17,18,19,20],inclusive:!1},generic:{rules:[29,30],inclusive:!1},bqstring:{rules:[35,36],inclusive:!1},string:{rules:[32,33],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,13,14,15,21,22,23,24,25,26,27,28,31,34,37,40,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71],inclusive:!0}}};function Parser(){this.yy={}}return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function commonjsMain(args){args[1]||(console.log("Usage: "+args[0]+" FILE"),process.exit(1));var source=__nested_webpack_require_742__("?35ed").readFileSync(__nested_webpack_require_742__("./node_modules/path-browserify/index.js").normalize(args[1]),"utf8");return exports.parser.parse(source)},__nested_webpack_require_742__.c[__nested_webpack_require_742__.s]===module&&exports.main(process.argv.slice(1))},"./src/diagrams/er/parser/erDiagram.jison":(module,exports,__nested_webpack_require_39562__)=>{module=__nested_webpack_require_39562__.nmd(module);var parser=function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,2],$V1=[1,5],$V2=[6,9,11,23,41],$V3=[1,17],$V4=[1,20],$V5=[1,25],$V6=[1,26],$V7=[1,27],$V8=[1,28],$V9=[1,37],$Va=[23,38,39],$Vb=[4,6,9,11,23,41],$Vc=[34,35,36,37],$Vd=[22,29],$Ve=[1,55],parser={trace:function trace(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,ALPHANUM:23,attribute:24,attributeType:25,attributeName:26,attributeKeyType:27,attributeComment:28,ATTRIBUTE_WORD:29,ATTRIBUTE_KEY:30,COMMENT:31,cardinality:32,relType:33,ZERO_OR_ONE:34,ZERO_OR_MORE:35,ONE_OR_MORE:36,ONLY_ONE:37,NON_IDENTIFYING:38,IDENTIFYING:39,WORD:40,open_directive:41,type_directive:42,arg_directive:43,close_directive:44,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"ALPHANUM",29:"ATTRIBUTE_WORD",30:"ATTRIBUTE_KEY",31:"COMMENT",34:"ZERO_OR_ONE",35:"ZERO_OR_MORE",36:"ONE_OR_MORE",37:"ONLY_ONE",38:"NON_IDENTIFYING",39:"IDENTIFYING",40:"WORD",41:"open_directive",42:"type_directive",43:"arg_directive",44:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[17,1],[21,1],[21,2],[24,2],[24,3],[24,3],[24,4],[25,1],[26,1],[27,1],[28,1],[18,3],[32,1],[32,1],[32,1],[32,1],[33,1],[33,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:break;case 3:case 7:case 8:this.$=[];break;case 4:$$[$0-1].push($$[$0]),this.$=$$[$0-1];break;case 5:case 6:case 16:case 23:case 24:case 25:case 35:this.$=$$[$0];break;case 12:yy.addEntity($$[$0-4]),yy.addEntity($$[$0-2]),yy.addRelationship($$[$0-4],$$[$0],$$[$0-2],$$[$0-3]);break;case 13:yy.addEntity($$[$0-3]),yy.addAttributes($$[$0-3],$$[$0-1]);break;case 14:yy.addEntity($$[$0-2]);break;case 15:yy.addEntity($$[$0]);break;case 17:this.$=[$$[$0]];break;case 18:$$[$0].push($$[$0-1]),this.$=$$[$0];break;case 19:this.$={attributeType:$$[$0-1],attributeName:$$[$0]};break;case 20:this.$={attributeType:$$[$0-2],attributeName:$$[$0-1],attributeKeyType:$$[$0]};break;case 21:this.$={attributeType:$$[$0-2],attributeName:$$[$0-1],attributeComment:$$[$0]};break;case 22:this.$={attributeType:$$[$0-3],attributeName:$$[$0-2],attributeKeyType:$$[$0-1],attributeComment:$$[$0]};break;case 26:case 34:this.$=$$[$0].replace(/"/g,"");break;case 27:this.$={cardA:$$[$0],relType:$$[$0-1],cardB:$$[$0-2]};break;case 28:this.$=yy.Cardinality.ZERO_OR_ONE;break;case 29:this.$=yy.Cardinality.ZERO_OR_MORE;break;case 30:this.$=yy.Cardinality.ONE_OR_MORE;break;case 31:this.$=yy.Cardinality.ONLY_ONE;break;case 32:this.$=yy.Identification.NON_IDENTIFYING;break;case 33:this.$=yy.Identification.IDENTIFYING;break;case 36:yy.parseDirective("%%{","open_directive");break;case 37:yy.parseDirective($$[$0],"type_directive");break;case 38:$$[$0]=$$[$0].trim().replace(/'/g,'"'),yy.parseDirective($$[$0],"arg_directive");break;case 39:yy.parseDirective("}%%","close_directive","er")}},table:[{3:1,4:$V0,7:3,12:4,41:$V1},{1:[3]},o($V2,[2,3],{5:6}),{3:7,4:$V0,7:3,12:4,41:$V1},{13:8,42:[1,9]},{42:[2,36]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:$V3,41:$V1},{1:[2,2]},{14:18,15:[1,19],44:$V4},o([15,44],[2,37]),o($V2,[2,8],{1:[2,1]}),o($V2,[2,4]),{7:15,10:21,12:4,17:16,23:$V3,41:$V1},o($V2,[2,6]),o($V2,[2,7]),o($V2,[2,11]),o($V2,[2,15],{18:22,32:24,20:[1,23],34:$V5,35:$V6,36:$V7,37:$V8}),o([6,9,11,15,20,23,34,35,36,37,41],[2,16]),{11:[1,29]},{16:30,43:[1,31]},{11:[2,39]},o($V2,[2,5]),{17:32,23:$V3},{21:33,22:[1,34],24:35,25:36,29:$V9},{33:38,38:[1,39],39:[1,40]},o($Va,[2,28]),o($Va,[2,29]),o($Va,[2,30]),o($Va,[2,31]),o($Vb,[2,9]),{14:41,44:$V4},{44:[2,38]},{15:[1,42]},{22:[1,43]},o($V2,[2,14]),{21:44,22:[2,17],24:35,25:36,29:$V9},{26:45,29:[1,46]},{29:[2,23]},{32:47,34:$V5,35:$V6,36:$V7,37:$V8},o($Vc,[2,32]),o($Vc,[2,33]),{11:[1,48]},{19:49,23:[1,51],40:[1,50]},o($V2,[2,13]),{22:[2,18]},o($Vd,[2,19],{27:52,28:53,30:[1,54],31:$Ve}),o([22,29,30,31],[2,24]),{23:[2,27]},o($Vb,[2,10]),o($V2,[2,12]),o($V2,[2,34]),o($V2,[2,35]),o($Vd,[2,20],{28:56,31:$Ve}),o($Vd,[2,21]),o([22,29,31],[2,25]),o($Vd,[2,26]),o($Vd,[2,22])],defaultActions:{5:[2,36],7:[2,2],20:[2,39],31:[2,38],37:[2,23],44:[2,18],47:[2,27]},parseError:function parseError(str,hash){if(!hash.recoverable){var error=new Error(str);throw error.hash=hash,error}this.trace(str)},parse:function parse(input){var self=this,stack=[0],tstack=[],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,void 0===lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=tstack.pop()||lexer.lex()||1)&&(token instanceof Array&&(token=(tstack=token).pop()),token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer={EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return r||this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function _currentRules(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function topState(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function pushState(condition){this.begin(condition)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:return this.begin("open_directive"),41;case 1:return this.begin("type_directive"),42;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),44;case 4:return 43;case 5:case 6:case 8:case 13:case 17:break;case 7:return 11;case 9:return 9;case 10:return 40;case 11:return 4;case 12:return this.begin("block"),20;case 14:return 30;case 15:return 29;case 16:return 31;case 18:return this.popState(),22;case 19:case 32:return yy_.yytext[0];case 20:case 24:return 34;case 21:case 25:return 35;case 22:case 26:return 36;case 23:return 37;case 27:case 29:case 30:return 38;case 28:return 39;case 31:return 23;case 33:return 6}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:(?:PK)|(?:FK))/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\|o\b)/i,/^(?:\}o\b)/i,/^(?:\}\|)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},block:{rules:[13,14,15,16,17,18,19],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,20,21,22,23,24,25,26,27,28,29,30,31,32,33],inclusive:!0}}};function Parser(){this.yy={}}return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function commonjsMain(args){args[1]||(console.log("Usage: "+args[0]+" FILE"),process.exit(1));var source=__nested_webpack_require_39562__("?3c87").readFileSync(__nested_webpack_require_39562__("./node_modules/path-browserify/index.js").normalize(args[1]),"utf8");return exports.parser.parse(source)},__nested_webpack_require_39562__.c[__nested_webpack_require_39562__.s]===module&&exports.main(process.argv.slice(1))},"./src/diagrams/flowchart/parser/flow.jison":(module,exports,__nested_webpack_require_67338__)=>{module=__nested_webpack_require_67338__.nmd(module);var parser=function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,9],$V1=[1,7],$V2=[1,6],$V3=[1,8],$V4=[1,20,21,22,23,38,47,59,60,79,80,81,82,83,84,88,98,99,102,104,105,111,112,113,114,115,116,117,118,119,120],$V5=[2,10],$V6=[1,20],$V7=[1,21],$V8=[1,22],$V9=[1,23],$Va=[1,30],$Vb=[1,59],$Vc=[1,45],$Vd=[1,49],$Ve=[1,33],$Vf=[1,34],$Vg=[1,35],$Vh=[1,36],$Vi=[1,37],$Vj=[1,53],$Vk=[1,60],$Vl=[1,48],$Vm=[1,50],$Vn=[1,52],$Vo=[1,56],$Vp=[1,57],$Vq=[1,38],$Vr=[1,39],$Vs=[1,40],$Vt=[1,41],$Vu=[1,58],$Vv=[1,47],$Vw=[1,51],$Vx=[1,54],$Vy=[1,55],$Vz=[1,46],$VA=[1,63],$VB=[1,68],$VC=[1,20,21,22,23,38,42,47,59,60,79,80,81,82,83,84,88,98,99,102,104,105,111,112,113,114,115,116,117,118,119,120],$VD=[1,72],$VE=[1,71],$VF=[1,73],$VG=[20,21,23,74,75],$VH=[1,94],$VI=[1,99],$VJ=[1,102],$VK=[1,103],$VL=[1,96],$VM=[1,101],$VN=[1,104],$VO=[1,97],$VP=[1,109],$VQ=[1,108],$VR=[1,98],$VS=[1,100],$VT=[1,105],$VU=[1,106],$VV=[1,107],$VW=[1,110],$VX=[20,21,22,23,74,75],$VY=[20,21,22,23,48,74,75],$VZ=[20,21,22,23,40,47,48,50,52,54,56,58,59,60,62,64,66,67,69,74,75,84,88,98,99,102,104,105,115,116,117,118,119,120],$V_=[20,21,23],$V$=[20,21,23,47,59,60,74,75,84,88,98,99,102,104,105,115,116,117,118,119,120],$V01=[1,12,20,21,22,23,24,38,42,47,59,60,79,80,81,82,83,84,88,98,99,102,104,105,111,112,113,114,115,116,117,118,119,120],$V11=[47,59,60,84,88,98,99,102,104,105,115,116,117,118,119,120],$V21=[1,143],$V31=[1,151],$V41=[1,152],$V51=[1,153],$V61=[1,154],$V71=[1,138],$V81=[1,139],$V91=[1,135],$Va1=[1,146],$Vb1=[1,147],$Vc1=[1,148],$Vd1=[1,149],$Ve1=[1,150],$Vf1=[1,155],$Vg1=[1,156],$Vh1=[1,141],$Vi1=[1,144],$Vj1=[1,140],$Vk1=[1,137],$Vl1=[20,21,22,23,38,42,47,59,60,79,80,81,82,83,84,88,98,99,102,104,105,111,112,113,114,115,116,117,118,119,120],$Vm1=[1,159],$Vn1=[20,21,22,23,26,47,59,60,84,98,99,102,104,105,115,116,117,118,119,120],$Vo1=[20,21,22,23,24,26,38,40,41,42,47,51,53,55,57,59,60,61,63,65,66,68,70,74,75,79,80,81,82,83,84,85,88,98,99,102,104,105,106,107,115,116,117,118,119,120],$Vp1=[12,21,22,24],$Vq1=[22,99],$Vr1=[1,242],$Vs1=[1,237],$Vt1=[1,238],$Vu1=[1,246],$Vv1=[1,243],$Vw1=[1,240],$Vx1=[1,239],$Vy1=[1,241],$Vz1=[1,244],$VA1=[1,245],$VB1=[1,247],$VC1=[1,265],$VD1=[20,21,23,99],$VE1=[20,21,22,23,59,60,79,95,98,99,102,103,104,105,106],parser={trace:function trace(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,link:44,node:45,vertex:46,AMP:47,STYLE_SEPARATOR:48,idString:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,ALPHA:59,COLON:60,PIPE:61,CYLINDERSTART:62,CYLINDEREND:63,DIAMOND_START:64,DIAMOND_STOP:65,TAGEND:66,TRAPSTART:67,TRAPEND:68,INVTRAPSTART:69,INVTRAPEND:70,linkStatement:71,arrowText:72,TESTSTR:73,START_LINK:74,LINK:75,textToken:76,STR:77,keywords:78,STYLE:79,LINKSTYLE:80,CLASSDEF:81,CLASS:82,CLICK:83,DOWN:84,UP:85,textNoTags:86,textNoTagsToken:87,DEFAULT:88,stylesOpt:89,alphaNum:90,CALLBACKNAME:91,CALLBACKARGS:92,HREF:93,LINK_TARGET:94,HEX:95,numList:96,INTERPOLATE:97,NUM:98,COMMA:99,style:100,styleComponent:101,MINUS:102,UNIT:103,BRKT:104,DOT:105,PCT:106,TAGSTART:107,alphaNumToken:108,idStringToken:109,alphaNumStatement:110,direction_tb:111,direction_bt:112,direction_rl:113,direction_lr:114,PUNCTUATION:115,UNICODE_TEXT:116,PLUS:117,EQUALS:118,MULT:119,UNDERSCORE:120,graphCodeTokens:121,ARROW_CROSS:122,ARROW_POINT:123,ARROW_CIRCLE:124,ARROW_OPEN:125,QUOTE:126,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",47:"AMP",48:"STYLE_SEPARATOR",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"ALPHA",60:"COLON",61:"PIPE",62:"CYLINDERSTART",63:"CYLINDEREND",64:"DIAMOND_START",65:"DIAMOND_STOP",66:"TAGEND",67:"TRAPSTART",68:"TRAPEND",69:"INVTRAPSTART",70:"INVTRAPEND",73:"TESTSTR",74:"START_LINK",75:"LINK",77:"STR",79:"STYLE",80:"LINKSTYLE",81:"CLASSDEF",82:"CLASS",83:"CLICK",84:"DOWN",85:"UP",88:"DEFAULT",91:"CALLBACKNAME",92:"CALLBACKARGS",93:"HREF",94:"LINK_TARGET",95:"HEX",97:"INTERPOLATE",98:"NUM",99:"COMMA",102:"MINUS",103:"UNIT",104:"BRKT",105:"DOT",106:"PCT",107:"TAGSTART",111:"direction_tb",112:"direction_bt",113:"direction_rl",114:"direction_lr",115:"PUNCTUATION",116:"UNICODE_TEXT",117:"PLUS",118:"EQUALS",119:"MULT",120:"UNDERSCORE",122:"ARROW_CROSS",123:"ARROW_POINT",124:"ARROW_CIRCLE",125:"ARROW_OPEN",126:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[45,1],[45,5],[45,3],[46,4],[46,6],[46,4],[46,4],[46,4],[46,8],[46,4],[46,4],[46,4],[46,6],[46,4],[46,4],[46,4],[46,4],[46,4],[46,1],[44,2],[44,3],[44,3],[44,1],[44,3],[71,1],[72,3],[39,1],[39,2],[39,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[78,1],[86,1],[86,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[96,1],[96,3],[89,1],[89,3],[100,1],[100,2],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[101,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[87,1],[87,1],[87,1],[87,1],[49,1],[49,2],[90,1],[90,2],[110,1],[110,1],[110,1],[110,1],[43,1],[43,1],[43,1],[43,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[109,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1],[121,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 5:yy.parseDirective("%%{","open_directive");break;case 6:yy.parseDirective($$[$0],"type_directive");break;case 7:$$[$0]=$$[$0].trim().replace(/'/g,'"'),yy.parseDirective($$[$0],"arg_directive");break;case 8:yy.parseDirective("}%%","close_directive","flowchart");break;case 10:case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 11:$$[$0]!==[]&&$$[$0-1].push($$[$0]),this.$=$$[$0-1];break;case 12:case 78:case 80:case 92:case 148:case 150:case 151:case 74:case 146:this.$=$$[$0];break;case 19:yy.setDirection("TB"),this.$="TB";break;case 20:yy.setDirection($$[$0-1]),this.$=$$[$0-1];break;case 35:this.$=$$[$0-1].nodes;break;case 41:this.$=yy.addSubGraph($$[$0-6],$$[$0-1],$$[$0-4]);break;case 42:this.$=yy.addSubGraph($$[$0-3],$$[$0-1],$$[$0-3]);break;case 43:this.$=yy.addSubGraph(void 0,$$[$0-1],void 0);break;case 48:yy.addLink($$[$0-2].stmt,$$[$0],$$[$0-1]),this.$={stmt:$$[$0],nodes:$$[$0].concat($$[$0-2].nodes)};break;case 49:yy.addLink($$[$0-3].stmt,$$[$0-1],$$[$0-2]),this.$={stmt:$$[$0-1],nodes:$$[$0-1].concat($$[$0-3].nodes)};break;case 50:this.$={stmt:$$[$0-1],nodes:$$[$0-1]};break;case 51:this.$={stmt:$$[$0],nodes:$$[$0]};break;case 52:case 119:case 121:this.$=[$$[$0]];break;case 53:this.$=$$[$0-4].concat($$[$0]);break;case 54:this.$=[$$[$0-2]],yy.setClass($$[$0-2],$$[$0]);break;case 55:this.$=$$[$0-3],yy.addVertex($$[$0-3],$$[$0-1],"square");break;case 56:this.$=$$[$0-5],yy.addVertex($$[$0-5],$$[$0-2],"circle");break;case 57:this.$=$$[$0-3],yy.addVertex($$[$0-3],$$[$0-1],"ellipse");break;case 58:this.$=$$[$0-3],yy.addVertex($$[$0-3],$$[$0-1],"stadium");break;case 59:this.$=$$[$0-3],yy.addVertex($$[$0-3],$$[$0-1],"subroutine");break;case 60:this.$=$$[$0-7],yy.addVertex($$[$0-7],$$[$0-1],"rect",void 0,void 0,void 0,Object.fromEntries([[$$[$0-5],$$[$0-3]]]));break;case 61:this.$=$$[$0-3],yy.addVertex($$[$0-3],$$[$0-1],"cylinder");break;case 62:this.$=$$[$0-3],yy.addVertex($$[$0-3],$$[$0-1],"round");break;case 63:this.$=$$[$0-3],yy.addVertex($$[$0-3],$$[$0-1],"diamond");break;case 64:this.$=$$[$0-5],yy.addVertex($$[$0-5],$$[$0-2],"hexagon");break;case 65:this.$=$$[$0-3],yy.addVertex($$[$0-3],$$[$0-1],"odd");break;case 66:this.$=$$[$0-3],yy.addVertex($$[$0-3],$$[$0-1],"trapezoid");break;case 67:this.$=$$[$0-3],yy.addVertex($$[$0-3],$$[$0-1],"inv_trapezoid");break;case 68:this.$=$$[$0-3],yy.addVertex($$[$0-3],$$[$0-1],"lean_right");break;case 69:this.$=$$[$0-3],yy.addVertex($$[$0-3],$$[$0-1],"lean_left");break;case 70:this.$=$$[$0],yy.addVertex($$[$0]);break;case 71:$$[$0-1].text=$$[$0],this.$=$$[$0-1];break;case 72:case 73:$$[$0-2].text=$$[$0-1],this.$=$$[$0-2];break;case 75:var inf=yy.destructLink($$[$0],$$[$0-2]);this.$={type:inf.type,stroke:inf.stroke,length:inf.length,text:$$[$0-1]};break;case 76:inf=yy.destructLink($$[$0]);this.$={type:inf.type,stroke:inf.stroke,length:inf.length};break;case 77:this.$=$$[$0-1];break;case 79:case 93:case 149:case 147:this.$=$$[$0-1]+""+$$[$0];break;case 94:case 95:this.$=$$[$0-4],yy.addClass($$[$0-2],$$[$0]);break;case 96:this.$=$$[$0-4],yy.setClass($$[$0-2],$$[$0]);break;case 97:case 105:this.$=$$[$0-1],yy.setClickEvent($$[$0-1],$$[$0]);break;case 98:case 106:this.$=$$[$0-3],yy.setClickEvent($$[$0-3],$$[$0-2]),yy.setTooltip($$[$0-3],$$[$0]);break;case 99:this.$=$$[$0-2],yy.setClickEvent($$[$0-2],$$[$0-1],$$[$0]);break;case 100:this.$=$$[$0-4],yy.setClickEvent($$[$0-4],$$[$0-3],$$[$0-2]),yy.setTooltip($$[$0-4],$$[$0]);break;case 101:case 107:this.$=$$[$0-1],yy.setLink($$[$0-1],$$[$0]);break;case 102:case 108:this.$=$$[$0-3],yy.setLink($$[$0-3],$$[$0-2]),yy.setTooltip($$[$0-3],$$[$0]);break;case 103:case 109:this.$=$$[$0-3],yy.setLink($$[$0-3],$$[$0-2],$$[$0]);break;case 104:case 110:this.$=$$[$0-5],yy.setLink($$[$0-5],$$[$0-4],$$[$0]),yy.setTooltip($$[$0-5],$$[$0-2]);break;case 111:this.$=$$[$0-4],yy.addVertex($$[$0-2],void 0,void 0,$$[$0]);break;case 112:case 114:this.$=$$[$0-4],yy.updateLink($$[$0-2],$$[$0]);break;case 113:this.$=$$[$0-4],yy.updateLink([$$[$0-2]],$$[$0]);break;case 115:this.$=$$[$0-8],yy.updateLinkInterpolate([$$[$0-6]],$$[$0-2]),yy.updateLink([$$[$0-6]],$$[$0]);break;case 116:this.$=$$[$0-8],yy.updateLinkInterpolate($$[$0-6],$$[$0-2]),yy.updateLink($$[$0-6],$$[$0]);break;case 117:this.$=$$[$0-6],yy.updateLinkInterpolate([$$[$0-4]],$$[$0]);break;case 118:this.$=$$[$0-6],yy.updateLinkInterpolate($$[$0-4],$$[$0]);break;case 120:case 122:$$[$0-2].push($$[$0]),this.$=$$[$0-2];break;case 124:this.$=$$[$0-1]+$$[$0];break;case 152:this.$="v";break;case 153:this.$="-";break;case 154:this.$={stmt:"dir",value:"TB"};break;case 155:this.$={stmt:"dir",value:"BT"};break;case 156:this.$={stmt:"dir",value:"RL"};break;case 157:this.$={stmt:"dir",value:"LR"}}},table:[{3:1,4:2,5:3,6:5,12:$V0,16:4,21:$V1,22:$V2,24:$V3},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:$V0,16:4,21:$V1,22:$V2,24:$V3},o($V4,$V5,{17:11}),{7:12,13:[1,13]},{16:14,21:$V1,22:$V2,24:$V3},{16:15,21:$V1,22:$V2,24:$V3},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:$V6,21:$V7,22:$V8,23:$V9,32:24,33:25,34:26,35:27,36:28,37:29,38:$Va,43:31,45:32,46:42,47:$Vb,49:43,59:$Vc,60:$Vd,79:$Ve,80:$Vf,81:$Vg,82:$Vh,83:$Vi,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,109:44,111:$Vq,112:$Vr,113:$Vs,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz},{8:61,10:[1,62],15:$VA},o([10,15],[2,6]),o($V4,[2,17]),o($V4,[2,18]),o($V4,[2,19]),{20:[1,65],21:[1,66],22:$VB,27:64,30:67},o($VC,[2,11]),o($VC,[2,12]),o($VC,[2,13]),o($VC,[2,14]),o($VC,[2,15]),o($VC,[2,16]),{9:69,20:$VD,21:$VE,23:$VF,44:70,71:74,74:[1,75],75:[1,76]},{9:77,20:$VD,21:$VE,23:$VF},{9:78,20:$VD,21:$VE,23:$VF},{9:79,20:$VD,21:$VE,23:$VF},{9:80,20:$VD,21:$VE,23:$VF},{9:81,20:$VD,21:$VE,23:$VF},{9:83,20:$VD,21:$VE,22:[1,82],23:$VF},o($VC,[2,44]),o($VG,[2,51],{30:84,22:$VB}),{22:[1,85]},{22:[1,86]},{22:[1,87]},{22:[1,88]},{26:$VH,47:$VI,59:$VJ,60:$VK,77:[1,92],84:$VL,90:91,91:[1,89],93:[1,90],98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:93,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($VC,[2,154]),o($VC,[2,155]),o($VC,[2,156]),o($VC,[2,157]),o($VX,[2,52],{48:[1,111]}),o($VY,[2,70],{109:123,40:[1,112],47:$Vb,50:[1,113],52:[1,114],54:[1,115],56:[1,116],58:[1,117],59:$Vc,60:$Vd,62:[1,118],64:[1,119],66:[1,120],67:[1,121],69:[1,122],84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz}),o($VZ,[2,146]),o($VZ,[2,171]),o($VZ,[2,172]),o($VZ,[2,173]),o($VZ,[2,174]),o($VZ,[2,175]),o($VZ,[2,176]),o($VZ,[2,177]),o($VZ,[2,178]),o($VZ,[2,179]),o($VZ,[2,180]),o($VZ,[2,181]),o($VZ,[2,182]),o($VZ,[2,183]),o($VZ,[2,184]),o($VZ,[2,185]),o($VZ,[2,186]),{9:124,20:$VD,21:$VE,23:$VF},{11:125,14:[1,126]},o($V_,[2,8]),o($V4,[2,20]),o($V4,[2,26]),o($V4,[2,27]),{21:[1,127]},o($V$,[2,34],{30:128,22:$VB}),o($VC,[2,35]),{45:129,46:42,47:$Vb,49:43,59:$Vc,60:$Vd,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,109:44,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz},o($V01,[2,45]),o($V01,[2,46]),o($V01,[2,47]),o($V11,[2,74],{72:130,61:[1,132],73:[1,131]}),{22:$V21,24:$V31,26:$V41,38:$V51,39:133,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o([47,59,60,61,73,84,88,98,99,102,104,105,115,116,117,118,119,120],[2,76]),o($VC,[2,36]),o($VC,[2,37]),o($VC,[2,38]),o($VC,[2,39]),o($VC,[2,40]),{22:$V21,24:$V31,26:$V41,38:$V51,39:157,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($Vl1,$V5,{17:158}),o($VG,[2,50],{47:$Vm1}),{26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,90:160,95:[1,161],98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:93,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{88:[1,162],96:163,98:[1,164]},{26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,88:[1,165],90:166,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:93,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,90:167,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:93,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($V_,[2,97],{22:[1,168],92:[1,169]}),o($V_,[2,101],{22:[1,170]}),o($V_,[2,105],{108:95,110:172,22:[1,171],26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW}),o($V_,[2,107],{22:[1,173]}),o($Vn1,[2,148]),o($Vn1,[2,150]),o($Vn1,[2,151]),o($Vn1,[2,152]),o($Vn1,[2,153]),o($Vo1,[2,158]),o($Vo1,[2,159]),o($Vo1,[2,160]),o($Vo1,[2,161]),o($Vo1,[2,162]),o($Vo1,[2,163]),o($Vo1,[2,164]),o($Vo1,[2,165]),o($Vo1,[2,166]),o($Vo1,[2,167]),o($Vo1,[2,168]),o($Vo1,[2,169]),o($Vo1,[2,170]),{47:$Vb,49:174,59:$Vc,60:$Vd,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,109:44,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz},{22:$V21,24:$V31,26:$V41,38:$V51,39:175,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:177,42:$V61,47:$VI,50:[1,176],59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:178,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:179,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:180,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{59:[1,181]},{22:$V21,24:$V31,26:$V41,38:$V51,39:182,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:183,42:$V61,47:$VI,59:$VJ,60:$VK,64:[1,184],66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:185,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:186,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:187,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($VZ,[2,147]),o($Vp1,[2,3]),{8:188,15:$VA},{15:[2,7]},o($V4,[2,28]),o($V$,[2,33]),o($VG,[2,48],{30:189,22:$VB}),o($V11,[2,71],{22:[1,190]}),{22:[1,191]},{22:$V21,24:$V31,26:$V41,38:$V51,39:192,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,75:[1,193],76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($Vo1,[2,78]),o($Vo1,[2,80]),o($Vo1,[2,136]),o($Vo1,[2,137]),o($Vo1,[2,138]),o($Vo1,[2,139]),o($Vo1,[2,140]),o($Vo1,[2,141]),o($Vo1,[2,142]),o($Vo1,[2,143]),o($Vo1,[2,144]),o($Vo1,[2,145]),o($Vo1,[2,81]),o($Vo1,[2,82]),o($Vo1,[2,83]),o($Vo1,[2,84]),o($Vo1,[2,85]),o($Vo1,[2,86]),o($Vo1,[2,87]),o($Vo1,[2,88]),o($Vo1,[2,89]),o($Vo1,[2,90]),o($Vo1,[2,91]),{9:196,20:$VD,21:$VE,22:$V21,23:$VF,24:$V31,26:$V41,38:$V51,40:[1,195],42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{18:18,19:19,20:$V6,21:$V7,22:$V8,23:$V9,32:24,33:25,34:26,35:27,36:28,37:29,38:$Va,42:[1,197],43:31,45:32,46:42,47:$Vb,49:43,59:$Vc,60:$Vd,79:$Ve,80:$Vf,81:$Vg,82:$Vh,83:$Vi,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,109:44,111:$Vq,112:$Vr,113:$Vs,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz},{22:$VB,30:198},{22:[1,199],26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:172,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:[1,200]},{22:[1,201]},{22:[1,202],99:[1,203]},o($Vq1,[2,119]),{22:[1,204]},{22:[1,205],26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:172,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:[1,206],26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:172,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{77:[1,207]},o($V_,[2,99],{22:[1,208]}),{77:[1,209],94:[1,210]},{77:[1,211]},o($Vn1,[2,149]),{77:[1,212],94:[1,213]},o($VX,[2,54],{109:123,47:$Vb,59:$Vc,60:$Vd,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz}),{22:$V21,24:$V31,26:$V41,38:$V51,41:[1,214],42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:215,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,51:[1,216],59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,53:[1,217],59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,55:[1,218],59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,57:[1,219],59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{60:[1,220]},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,59:$VJ,60:$VK,63:[1,221],66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,59:$VJ,60:$VK,65:[1,222],66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,39:223,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,41:[1,224],42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,68:[1,225],70:[1,226],74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,68:[1,228],70:[1,227],74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{9:229,20:$VD,21:$VE,23:$VF},o($VG,[2,49],{47:$Vm1}),o($V11,[2,73]),o($V11,[2,72]),{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,59:$VJ,60:$VK,61:[1,230],66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($V11,[2,75]),o($Vo1,[2,79]),{22:$V21,24:$V31,26:$V41,38:$V51,39:231,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($Vl1,$V5,{17:232}),o($VC,[2,43]),{46:233,47:$Vb,49:43,59:$Vc,60:$Vd,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,109:44,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:234,95:$Vv1,98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:248,95:$Vv1,98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:249,95:$Vv1,97:[1,250],98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:251,95:$Vv1,97:[1,252],98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},{98:[1,253]},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:254,95:$Vv1,98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:255,95:$Vv1,98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},{26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,90:256,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:93,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($V_,[2,98]),{77:[1,257]},o($V_,[2,102],{22:[1,258]}),o($V_,[2,103]),o($V_,[2,106]),o($V_,[2,108],{22:[1,259]}),o($V_,[2,109]),o($VY,[2,55]),{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,51:[1,260],59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($VY,[2,62]),o($VY,[2,57]),o($VY,[2,58]),o($VY,[2,59]),{59:[1,261]},o($VY,[2,61]),o($VY,[2,63]),{22:$V21,24:$V31,26:$V41,38:$V51,42:$V61,47:$VI,59:$VJ,60:$VK,65:[1,262],66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($VY,[2,65]),o($VY,[2,66]),o($VY,[2,68]),o($VY,[2,67]),o($VY,[2,69]),o($Vp1,[2,4]),o([22,47,59,60,84,88,98,99,102,104,105,115,116,117,118,119,120],[2,77]),{22:$V21,24:$V31,26:$V41,38:$V51,41:[1,263],42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{18:18,19:19,20:$V6,21:$V7,22:$V8,23:$V9,32:24,33:25,34:26,35:27,36:28,37:29,38:$Va,42:[1,264],43:31,45:32,46:42,47:$Vb,49:43,59:$Vc,60:$Vd,79:$Ve,80:$Vf,81:$Vg,82:$Vh,83:$Vi,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,109:44,111:$Vq,112:$Vr,113:$Vs,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz},o($VX,[2,53]),o($V_,[2,111],{99:$VC1}),o($VD1,[2,121],{101:266,22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,95:$Vv1,98:$Vw1,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1}),o($VE1,[2,123]),o($VE1,[2,125]),o($VE1,[2,126]),o($VE1,[2,127]),o($VE1,[2,128]),o($VE1,[2,129]),o($VE1,[2,130]),o($VE1,[2,131]),o($VE1,[2,132]),o($VE1,[2,133]),o($VE1,[2,134]),o($VE1,[2,135]),o($V_,[2,112],{99:$VC1}),o($V_,[2,113],{99:$VC1}),{22:[1,267]},o($V_,[2,114],{99:$VC1}),{22:[1,268]},o($Vq1,[2,120]),o($V_,[2,94],{99:$VC1}),o($V_,[2,95],{99:$VC1}),o($V_,[2,96],{108:95,110:172,26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW}),o($V_,[2,100]),{94:[1,269]},{94:[1,270]},{51:[1,271]},{61:[1,272]},{65:[1,273]},{9:274,20:$VD,21:$VE,23:$VF},o($VC,[2,42]),{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,95:$Vv1,98:$Vw1,100:275,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},o($VE1,[2,124]),{26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,90:276,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:93,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,90:277,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,108:95,110:93,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($V_,[2,104]),o($V_,[2,110]),o($VY,[2,56]),{22:$V21,24:$V31,26:$V41,38:$V51,39:278,42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:134,77:$V91,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},o($VY,[2,64]),o($Vl1,$V5,{17:279}),o($VD1,[2,122],{101:266,22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,95:$Vv1,98:$Vw1,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1}),o($V_,[2,117],{108:95,110:172,22:[1,280],26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW}),o($V_,[2,118],{108:95,110:172,22:[1,281],26:$VH,47:$VI,59:$VJ,60:$VK,84:$VL,98:$VM,99:$VN,102:$VO,104:$VP,105:$VQ,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW}),{22:$V21,24:$V31,26:$V41,38:$V51,41:[1,282],42:$V61,47:$VI,59:$VJ,60:$VK,66:$V71,74:$V81,76:194,78:145,79:$Va1,80:$Vb1,81:$Vc1,82:$Vd1,83:$Ve1,84:$Vf1,85:$Vg1,87:136,88:$Vh1,98:$VM,99:$VN,102:$Vi1,104:$VP,105:$VQ,106:$Vj1,107:$Vk1,108:142,115:$VR,116:$VS,117:$VT,118:$VU,119:$VV,120:$VW},{18:18,19:19,20:$V6,21:$V7,22:$V8,23:$V9,32:24,33:25,34:26,35:27,36:28,37:29,38:$Va,42:[1,283],43:31,45:32,46:42,47:$Vb,49:43,59:$Vc,60:$Vd,79:$Ve,80:$Vf,81:$Vg,82:$Vh,83:$Vi,84:$Vj,88:$Vk,98:$Vl,99:$Vm,102:$Vn,104:$Vo,105:$Vp,109:44,111:$Vq,112:$Vr,113:$Vs,114:$Vt,115:$Vu,116:$Vv,117:$Vw,118:$Vx,119:$Vy,120:$Vz},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:284,95:$Vv1,98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},{22:$Vr1,59:$Vs1,60:$Vt1,79:$Vu1,89:285,95:$Vv1,98:$Vw1,100:235,101:236,102:$Vx1,103:$Vy1,104:$Vz1,105:$VA1,106:$VB1},o($VY,[2,60]),o($VC,[2,41]),o($V_,[2,115],{99:$VC1}),o($V_,[2,116],{99:$VC1})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],126:[2,7]},parseError:function parseError(str,hash){if(!hash.recoverable){var error=new Error(str);throw error.hash=hash,error}this.trace(str)},parse:function parse(input){var self=this,stack=[0],tstack=[],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,void 0===lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=tstack.pop()||lexer.lex()||1)&&(token instanceof Array&&(token=(tstack=token).pop()),token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer={EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return r||this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function _currentRules(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function topState(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function pushState(condition){this.begin(condition)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:case 6:break;case 7:this.begin("string");break;case 8:case 17:case 20:case 23:case 26:this.popState();break;case 9:return"STR";case 10:return 79;case 11:return 88;case 12:return 80;case 13:return 97;case 14:return 81;case 15:return 82;case 16:this.begin("href");break;case 18:return 93;case 19:this.begin("callbackname");break;case 21:this.popState(),this.begin("callbackargs");break;case 22:return 91;case 24:return 92;case 25:this.begin("click");break;case 27:return 83;case 28:case 29:return yy.lex.firstGraph()&&this.begin("dir"),24;case 30:return 38;case 31:return 42;case 32:case 33:case 34:case 35:return 94;case 36:return this.popState(),25;case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:return this.popState(),26;case 47:return 111;case 48:return 112;case 49:return 113;case 50:return 114;case 51:return 98;case 52:return 104;case 53:return 48;case 54:return 60;case 55:return 47;case 56:return 20;case 57:return 99;case 58:return 119;case 59:case 60:case 61:return 75;case 62:case 63:case 64:return 74;case 65:return 52;case 66:return 53;case 67:return 54;case 68:return 55;case 69:return 56;case 70:return 57;case 71:return 58;case 72:return 62;case 73:return 63;case 74:return 102;case 75:return 105;case 76:return 120;case 77:return 117;case 78:return 106;case 79:case 80:return 118;case 81:return 107;case 82:return 66;case 83:return 85;case 84:return"SEP";case 85:return 84;case 86:return 59;case 87:return 68;case 88:return 67;case 89:return 70;case 90:return 69;case 91:return 115;case 92:return 116;case 93:return 61;case 94:return 50;case 95:return 51;case 96:return 40;case 97:return 41;case 98:return 64;case 99:return 65;case 100:return 126;case 101:return 21;case 102:return 22;case 103:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[23,24],inclusive:!1},callbackname:{rules:[20,21,22],inclusive:!1},href:{rules:[17,18],inclusive:!1},click:{rules:[26,27],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[36,37,38,39,40,41,42,43,44,45,46],inclusive:!1},string:{rules:[8,9],inclusive:!1},INITIAL:{rules:[0,5,6,7,10,11,12,13,14,15,16,19,25,28,29,30,31,32,33,34,35,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103],inclusive:!0}}};function Parser(){this.yy={}}return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function commonjsMain(args){args[1]||(console.log("Usage: "+args[0]+" FILE"),process.exit(1));var source=__nested_webpack_require_67338__("?dbae").readFileSync(__nested_webpack_require_67338__("./node_modules/path-browserify/index.js").normalize(args[1]),"utf8");return exports.parser.parse(source)},__nested_webpack_require_67338__.c[__nested_webpack_require_67338__.s]===module&&exports.main(process.argv.slice(1))},"./src/diagrams/gantt/parser/gantt.jison":(module,exports,__nested_webpack_require_129983__)=>{module=__nested_webpack_require_129983__.nmd(module);var parser=function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,3],$V1=[1,5],$V2=[7,9,11,12,13,14,15,16,17,18,19,20,22,29,34],$V3=[1,15],$V4=[1,16],$V5=[1,17],$V6=[1,18],$V7=[1,19],$V8=[1,20],$V9=[1,21],$Va=[1,22],$Vb=[1,23],$Vc=[1,25],$Vd=[1,27],$Ve=[1,30],$Vf=[5,7,9,11,12,13,14,15,16,17,18,19,20,22,29,34],parser={trace:function trace(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,excludes:16,includes:17,todayMarker:18,title:19,section:20,clickStatement:21,taskTxt:22,taskData:23,openDirective:24,typeDirective:25,closeDirective:26,":":27,argDirective:28,click:29,callbackname:30,callbackargs:31,href:32,clickStatementDebug:33,open_directive:34,type_directive:35,arg_directive:36,close_directive:37,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"excludes",17:"includes",18:"todayMarker",19:"title",20:"section",22:"taskTxt",23:"taskData",27:":",29:"click",30:"callbackname",31:"callbackargs",32:"href",34:"open_directive",35:"type_directive",36:"arg_directive",37:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[21,2],[21,3],[21,3],[21,4],[21,3],[21,4],[21,2],[33,2],[33,3],[33,3],[33,4],[33,3],[33,4],[33,2],[24,1],[25,1],[28,1],[26,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 2:return $$[$0-1];case 3:case 7:case 8:this.$=[];break;case 4:$$[$0-1].push($$[$0]),this.$=$$[$0-1];break;case 5:case 6:this.$=$$[$0];break;case 9:yy.setDateFormat($$[$0].substr(11)),this.$=$$[$0].substr(11);break;case 10:yy.enableInclusiveEndDates(),this.$=$$[$0].substr(18);break;case 11:yy.TopAxis(),this.$=$$[$0].substr(8);break;case 12:yy.setAxisFormat($$[$0].substr(11)),this.$=$$[$0].substr(11);break;case 13:yy.setExcludes($$[$0].substr(9)),this.$=$$[$0].substr(9);break;case 14:yy.setIncludes($$[$0].substr(9)),this.$=$$[$0].substr(9);break;case 15:yy.setTodayMarker($$[$0].substr(12)),this.$=$$[$0].substr(12);break;case 16:yy.setTitle($$[$0].substr(6)),this.$=$$[$0].substr(6);break;case 17:yy.addSection($$[$0].substr(8)),this.$=$$[$0].substr(8);break;case 19:yy.addTask($$[$0-1],$$[$0]),this.$="task";break;case 23:this.$=$$[$0-1],yy.setClickEvent($$[$0-1],$$[$0],null);break;case 24:this.$=$$[$0-2],yy.setClickEvent($$[$0-2],$$[$0-1],$$[$0]);break;case 25:this.$=$$[$0-2],yy.setClickEvent($$[$0-2],$$[$0-1],null),yy.setLink($$[$0-2],$$[$0]);break;case 26:this.$=$$[$0-3],yy.setClickEvent($$[$0-3],$$[$0-2],$$[$0-1]),yy.setLink($$[$0-3],$$[$0]);break;case 27:this.$=$$[$0-2],yy.setClickEvent($$[$0-2],$$[$0],null),yy.setLink($$[$0-2],$$[$0-1]);break;case 28:this.$=$$[$0-3],yy.setClickEvent($$[$0-3],$$[$0-1],$$[$0]),yy.setLink($$[$0-3],$$[$0-2]);break;case 29:this.$=$$[$0-1],yy.setLink($$[$0-1],$$[$0]);break;case 30:case 36:this.$=$$[$0-1]+" "+$$[$0];break;case 31:case 32:case 34:this.$=$$[$0-2]+" "+$$[$0-1]+" "+$$[$0];break;case 33:case 35:this.$=$$[$0-3]+" "+$$[$0-2]+" "+$$[$0-1]+" "+$$[$0];break;case 37:yy.parseDirective("%%{","open_directive");break;case 38:yy.parseDirective($$[$0],"type_directive");break;case 39:$$[$0]=$$[$0].trim().replace(/'/g,'"'),yy.parseDirective($$[$0],"arg_directive");break;case 40:yy.parseDirective("}%%","close_directive","gantt")}},table:[{3:1,4:2,5:$V0,24:4,34:$V1},{1:[3]},{3:6,4:2,5:$V0,24:4,34:$V1},o($V2,[2,3],{6:7}),{25:8,35:[1,9]},{35:[2,37]},{1:[2,1]},{4:26,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,17:$V8,18:$V9,19:$Va,20:$Vb,21:24,22:$Vc,24:4,29:$Vd,34:$V1},{26:28,27:[1,29],37:$Ve},o([27,37],[2,38]),o($V2,[2,8],{1:[2,2]}),o($V2,[2,4]),{4:26,10:31,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,17:$V8,18:$V9,19:$Va,20:$Vb,21:24,22:$Vc,24:4,29:$Vd,34:$V1},o($V2,[2,6]),o($V2,[2,7]),o($V2,[2,9]),o($V2,[2,10]),o($V2,[2,11]),o($V2,[2,12]),o($V2,[2,13]),o($V2,[2,14]),o($V2,[2,15]),o($V2,[2,16]),o($V2,[2,17]),o($V2,[2,18]),{23:[1,32]},o($V2,[2,20]),{30:[1,33],32:[1,34]},{11:[1,35]},{28:36,36:[1,37]},{11:[2,40]},o($V2,[2,5]),o($V2,[2,19]),o($V2,[2,23],{31:[1,38],32:[1,39]}),o($V2,[2,29],{30:[1,40]}),o($Vf,[2,21]),{26:41,37:$Ve},{37:[2,39]},o($V2,[2,24],{32:[1,42]}),o($V2,[2,25]),o($V2,[2,27],{31:[1,43]}),{11:[1,44]},o($V2,[2,26]),o($V2,[2,28]),o($Vf,[2,22])],defaultActions:{5:[2,37],6:[2,1],30:[2,40],37:[2,39]},parseError:function parseError(str,hash){if(!hash.recoverable){var error=new Error(str);throw error.hash=hash,error}this.trace(str)},parse:function parse(input){var self=this,stack=[0],tstack=[],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,void 0===lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=tstack.pop()||lexer.lex()||1)&&(token instanceof Array&&(token=(tstack=token).pop()),token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer={EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return r||this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function _currentRules(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function topState(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function pushState(condition){this.begin(condition)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:return this.begin("open_directive"),34;case 1:return this.begin("type_directive"),35;case 2:return this.popState(),this.begin("arg_directive"),27;case 3:return this.popState(),this.popState(),37;case 4:return 36;case 5:case 6:case 7:case 9:case 10:case 11:break;case 8:return 11;case 12:this.begin("href");break;case 13:case 16:case 19:case 22:this.popState();break;case 14:return 32;case 15:this.begin("callbackname");break;case 17:this.popState(),this.begin("callbackargs");break;case 18:return 30;case 20:return 31;case 21:this.begin("click");break;case 23:return 29;case 24:return 5;case 25:return 12;case 26:return 13;case 27:return 14;case 28:return 15;case 29:return 17;case 30:return 16;case 31:return 18;case 32:return"date";case 33:return 19;case 34:return 20;case 35:return 22;case 36:return 23;case 37:return 27;case 38:return 7;case 39:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[19,20],inclusive:!1},callbackname:{rules:[16,17,18],inclusive:!1},href:{rules:[13,14],inclusive:!1},click:{rules:[22,23],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,15,21,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};function Parser(){this.yy={}}return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function commonjsMain(args){args[1]||(console.log("Usage: "+args[0]+" FILE"),process.exit(1));var source=__nested_webpack_require_129983__("?8ed1").readFileSync(__nested_webpack_require_129983__("./node_modules/path-browserify/index.js").normalize(args[1]),"utf8");return exports.parser.parse(source)},__nested_webpack_require_129983__.c[__nested_webpack_require_129983__.s]===module&&exports.main(process.argv.slice(1))},"./src/diagrams/git/parser/gitGraph.jison":(module,exports,__nested_webpack_require_157837__)=>{module=__nested_webpack_require_157837__.nmd(module);var parser=function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[2,3],$V1=[1,7],$V2=[7,12,15,17,19,20,21],$V3=[7,11,12,15,17,19,20,21],$V4=[2,20],$V5=[1,32],parser={trace:function trace(){},yy:{},symbols_:{error:2,start:3,GG:4,":":5,document:6,EOF:7,DIR:8,options:9,body:10,OPT:11,NL:12,line:13,statement:14,COMMIT:15,commit_arg:16,BRANCH:17,ID:18,CHECKOUT:19,MERGE:20,RESET:21,reset_arg:22,STR:23,HEAD:24,reset_parents:25,CARET:26,$accept:0,$end:1},terminals_:{2:"error",4:"GG",5:":",7:"EOF",8:"DIR",11:"OPT",12:"NL",15:"COMMIT",17:"BRANCH",18:"ID",19:"CHECKOUT",20:"MERGE",21:"RESET",23:"STR",24:"HEAD",26:"CARET"},productions_:[0,[3,4],[3,5],[6,0],[6,2],[9,2],[9,1],[10,0],[10,2],[13,2],[13,1],[14,2],[14,2],[14,2],[14,2],[14,2],[16,0],[16,1],[22,2],[22,2],[25,0],[25,2]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return $$[$0-1];case 2:return yy.setDirection($$[$0-3]),$$[$0-1];case 4:yy.setOptions($$[$0-1]),this.$=$$[$0];break;case 5:$$[$0-1]+=$$[$0],this.$=$$[$0-1];break;case 7:this.$=[];break;case 8:$$[$0-1].push($$[$0]),this.$=$$[$0-1];break;case 9:this.$=$$[$0-1];break;case 11:yy.commit($$[$0]);break;case 12:yy.branch($$[$0]);break;case 13:yy.checkout($$[$0]);break;case 14:yy.merge($$[$0]);break;case 15:yy.reset($$[$0]);break;case 16:this.$="";break;case 17:this.$=$$[$0];break;case 18:this.$=$$[$0-1]+":"+$$[$0];break;case 19:this.$=$$[$0-1]+":"+yy.count,yy.count=0;break;case 20:yy.count=0;break;case 21:yy.count+=1}},table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3],8:[1,4]},{6:5,7:$V0,9:6,12:$V1},{5:[1,8]},{7:[1,9]},o($V2,[2,7],{10:10,11:[1,11]}),o($V3,[2,6]),{6:12,7:$V0,9:6,12:$V1},{1:[2,1]},{7:[2,4],12:[1,15],13:13,14:14,15:[1,16],17:[1,17],19:[1,18],20:[1,19],21:[1,20]},o($V3,[2,5]),{7:[1,21]},o($V2,[2,8]),{12:[1,22]},o($V2,[2,10]),{12:[2,16],16:23,23:[1,24]},{18:[1,25]},{18:[1,26]},{18:[1,27]},{18:[1,30],22:28,24:[1,29]},{1:[2,2]},o($V2,[2,9]),{12:[2,11]},{12:[2,17]},{12:[2,12]},{12:[2,13]},{12:[2,14]},{12:[2,15]},{12:$V4,25:31,26:$V5},{12:$V4,25:33,26:$V5},{12:[2,18]},{12:$V4,25:34,26:$V5},{12:[2,19]},{12:[2,21]}],defaultActions:{9:[2,1],21:[2,2],23:[2,11],24:[2,17],25:[2,12],26:[2,13],27:[2,14],28:[2,15],31:[2,18],33:[2,19],34:[2,21]},parseError:function parseError(str,hash){if(!hash.recoverable){var error=new Error(str);throw error.hash=hash,error}this.trace(str)},parse:function parse(input){var self=this,stack=[0],tstack=[],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,void 0===lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=tstack.pop()||lexer.lex()||1)&&(token instanceof Array&&(token=(tstack=token).pop()),token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer={EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return r||this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function _currentRules(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function topState(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function pushState(condition){this.begin(condition)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:return 12;case 1:case 2:case 3:break;case 4:return 4;case 5:return 15;case 6:return 17;case 7:return 20;case 8:return 21;case 9:return 19;case 10:case 11:return 8;case 12:return 5;case 13:return 26;case 14:this.begin("options");break;case 15:case 18:this.popState();break;case 16:return 11;case 17:this.begin("string");break;case 19:return 23;case 20:return 18;case 21:return 7}},rules:[/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit\b)/i,/^(?:branch\b)/i,/^(?:merge\b)/i,/^(?:reset\b)/i,/^(?:checkout\b)/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:end\r?\n)/i,/^(?:[^\n]+\r?\n)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[a-zA-Z][-_\.a-zA-Z0-9]*[-_a-zA-Z0-9])/i,/^(?:$)/i],conditions:{options:{rules:[15,16],inclusive:!1},string:{rules:[18,19],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17,20,21],inclusive:!0}}};function Parser(){this.yy={}}return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function commonjsMain(args){args[1]||(console.log("Usage: "+args[0]+" FILE"),process.exit(1));var source=__nested_webpack_require_157837__("?2b40").readFileSync(__nested_webpack_require_157837__("./node_modules/path-browserify/index.js").normalize(args[1]),"utf8");return exports.parser.parse(source)},__nested_webpack_require_157837__.c[__nested_webpack_require_157837__.s]===module&&exports.main(process.argv.slice(1))},"./src/diagrams/info/parser/info.jison":(module,exports,__nested_webpack_require_181840__)=>{module=__nested_webpack_require_181840__.nmd(module);var parser=function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[6,9,10],parser={trace:function trace(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){$$.length;switch(yystate){case 1:return yy;case 4:break;case 6:yy.setInfo(!0)}},table:[{3:1,4:[1,2]},{1:[3]},o($V0,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},o($V0,[2,3]),o($V0,[2,4]),o($V0,[2,5]),o($V0,[2,6])],defaultActions:{4:[2,1]},parseError:function parseError(str,hash){if(!hash.recoverable){var error=new Error(str);throw error.hash=hash,error}this.trace(str)},parse:function parse(input){var self=this,stack=[0],tstack=[],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,void 0===lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=tstack.pop()||lexer.lex()||1)&&(token instanceof Array&&(token=(tstack=token).pop()),token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer={EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return r||this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function _currentRules(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function topState(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function pushState(condition){this.begin(condition)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};function Parser(){this.yy={}}return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function commonjsMain(args){args[1]||(console.log("Usage: "+args[0]+" FILE"),process.exit(1));var source=__nested_webpack_require_181840__("?c5f1").readFileSync(__nested_webpack_require_181840__("./node_modules/path-browserify/index.js").normalize(args[1]),"utf8");return exports.parser.parse(source)},__nested_webpack_require_181840__.c[__nested_webpack_require_181840__.s]===module&&exports.main(process.argv.slice(1))},"./src/diagrams/pie/parser/pie.jison":(module,exports,__nested_webpack_require_203350__)=>{module=__nested_webpack_require_203350__.nmd(module);var parser=function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,4],$V1=[1,5],$V2=[1,6],$V3=[1,7],$V4=[1,9],$V5=[1,11,13,20,21,22,23],$V6=[2,5],$V7=[1,6,11,13,20,21,22,23],$V8=[20,21,22],$V9=[2,8],$Va=[1,18],$Vb=[1,19],$Vc=[1,24],$Vd=[6,20,21,22,23],parser={trace:function trace(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,openDirective:15,typeDirective:16,closeDirective:17,":":18,argDirective:19,NEWLINE:20,";":21,EOF:22,open_directive:23,type_directive:24,arg_directive:25,close_directive:26,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",18:":",20:"NEWLINE",21:";",22:"EOF",23:"open_directive",24:"type_directive",25:"arg_directive",26:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[15,1],[16,1],[19,1],[17,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 4:yy.setShowData(!0);break;case 7:this.$=$$[$0-1];break;case 9:yy.addSection($$[$0-1],yy.cleanupValue($$[$0]));break;case 10:this.$=$$[$0].trim(),yy.setTitle(this.$);break;case 17:yy.parseDirective("%%{","open_directive");break;case 18:yy.parseDirective($$[$0],"type_directive");break;case 19:$$[$0]=$$[$0].trim().replace(/'/g,'"'),yy.parseDirective($$[$0],"arg_directive");break;case 20:yy.parseDirective("}%%","close_directive","pie")}},table:[{3:1,4:2,5:3,6:$V0,15:8,20:$V1,21:$V2,22:$V3,23:$V4},{1:[3]},{3:10,4:2,5:3,6:$V0,15:8,20:$V1,21:$V2,22:$V3,23:$V4},{3:11,4:2,5:3,6:$V0,15:8,20:$V1,21:$V2,22:$V3,23:$V4},o($V5,$V6,{7:12,8:[1,13]}),o($V7,[2,14]),o($V7,[2,15]),o($V7,[2,16]),{16:14,24:[1,15]},{24:[2,17]},{1:[2,1]},{1:[2,2]},o($V8,$V9,{15:8,9:16,10:17,5:20,1:[2,3],11:$Va,13:$Vb,23:$V4}),o($V5,$V6,{7:21}),{17:22,18:[1,23],26:$Vc},o([18,26],[2,18]),o($V5,[2,6]),{4:25,20:$V1,21:$V2,22:$V3},{12:[1,26]},{14:[1,27]},o($V8,[2,11]),o($V8,$V9,{15:8,9:16,10:17,5:20,1:[2,4],11:$Va,13:$Vb,23:$V4}),o($Vd,[2,12]),{19:28,25:[1,29]},o($Vd,[2,20]),o($V5,[2,7]),o($V8,[2,9]),o($V8,[2,10]),{17:30,26:$Vc},{26:[2,19]},o($Vd,[2,13])],defaultActions:{9:[2,17],10:[2,1],11:[2,2],29:[2,19]},parseError:function parseError(str,hash){if(!hash.recoverable){var error=new Error(str);throw error.hash=hash,error}this.trace(str)},parse:function parse(input){var self=this,stack=[0],tstack=[],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,void 0===lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=tstack.pop()||lexer.lex()||1)&&(token instanceof Array&&(token=(tstack=token).pop()),token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer={EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return r||this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function _currentRules(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function topState(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function pushState(condition){this.begin(condition)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:return this.begin("open_directive"),23;case 1:return this.begin("type_directive"),24;case 2:return this.popState(),this.begin("arg_directive"),18;case 3:return this.popState(),this.popState(),26;case 4:return 25;case 5:case 6:case 8:case 9:break;case 7:return 20;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:this.begin("string");break;case 13:this.popState();break;case 14:return"txt";case 15:return 6;case 16:return 8;case 17:return"value";case 18:return 22}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,15,16,17,18],inclusive:!0}}};function Parser(){this.yy={}}return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function commonjsMain(args){args[1]||(console.log("Usage: "+args[0]+" FILE"),process.exit(1));var source=__nested_webpack_require_203350__("?a3fa").readFileSync(__nested_webpack_require_203350__("./node_modules/path-browserify/index.js").normalize(args[1]),"utf8");return exports.parser.parse(source)},__nested_webpack_require_203350__.c[__nested_webpack_require_203350__.s]===module&&exports.main(process.argv.slice(1))},"./src/diagrams/requirement/parser/requirementDiagram.jison":(module,exports,__nested_webpack_require_227718__)=>{module=__nested_webpack_require_227718__.nmd(module);var parser=function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,3],$V1=[1,5],$V2=[1,17],$V3=[2,10],$V4=[1,21],$V5=[1,22],$V6=[1,23],$V7=[1,24],$V8=[1,25],$V9=[1,26],$Va=[1,19],$Vb=[1,27],$Vc=[1,28],$Vd=[1,31],$Ve=[66,67],$Vf=[5,8,14,35,36,37,38,39,40,48,55,57,66,67],$Vg=[5,6,8,14,35,36,37,38,39,40,48,66,67],$Vh=[1,51],$Vi=[1,52],$Vj=[1,53],$Vk=[1,54],$Vl=[1,55],$Vm=[1,56],$Vn=[1,57],$Vo=[57,58],$Vp=[1,69],$Vq=[1,65],$Vr=[1,66],$Vs=[1,67],$Vt=[1,68],$Vu=[1,70],$Vv=[1,74],$Vw=[1,75],$Vx=[1,72],$Vy=[1,73],$Vz=[5,8,14,35,36,37,38,39,40,48,66,67],parser={trace:function trace(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,open_directive:14,type_directive:15,arg_directive:16,close_directive:17,requirementDef:18,elementDef:19,relationshipDef:20,requirementType:21,requirementName:22,STRUCT_START:23,requirementBody:24,ID:25,COLONSEP:26,id:27,TEXT:28,text:29,RISK:30,riskLevel:31,VERIFYMTHD:32,verifyType:33,STRUCT_STOP:34,REQUIREMENT:35,FUNCTIONAL_REQUIREMENT:36,INTERFACE_REQUIREMENT:37,PERFORMANCE_REQUIREMENT:38,PHYSICAL_REQUIREMENT:39,DESIGN_CONSTRAINT:40,LOW_RISK:41,MED_RISK:42,HIGH_RISK:43,VERIFY_ANALYSIS:44,VERIFY_DEMONSTRATION:45,VERIFY_INSPECTION:46,VERIFY_TEST:47,ELEMENT:48,elementName:49,elementBody:50,TYPE:51,type:52,DOCREF:53,ref:54,END_ARROW_L:55,relationship:56,LINE:57,END_ARROW_R:58,CONTAINS:59,COPIES:60,DERIVES:61,SATISFIES:62,VERIFIES:63,REFINES:64,TRACES:65,unqString:66,qString:67,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"open_directive",15:"type_directive",16:"arg_directive",17:"close_directive",23:"STRUCT_START",25:"ID",26:"COLONSEP",28:"TEXT",30:"RISK",32:"VERIFYMTHD",34:"STRUCT_STOP",35:"REQUIREMENT",36:"FUNCTIONAL_REQUIREMENT",37:"INTERFACE_REQUIREMENT",38:"PERFORMANCE_REQUIREMENT",39:"PHYSICAL_REQUIREMENT",40:"DESIGN_CONSTRAINT",41:"LOW_RISK",42:"MED_RISK",43:"HIGH_RISK",44:"VERIFY_ANALYSIS",45:"VERIFY_DEMONSTRATION",46:"VERIFY_INSPECTION",47:"VERIFY_TEST",48:"ELEMENT",51:"TYPE",53:"DOCREF",55:"END_ARROW_L",57:"LINE",58:"END_ARROW_R",59:"CONTAINS",60:"COPIES",61:"DERIVES",62:"SATISFIES",63:"VERIFIES",64:"REFINES",65:"TRACES",66:"unqString",67:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[18,5],[24,5],[24,5],[24,5],[24,5],[24,2],[24,1],[21,1],[21,1],[21,1],[21,1],[21,1],[21,1],[31,1],[31,1],[31,1],[33,1],[33,1],[33,1],[33,1],[19,5],[50,5],[50,5],[50,2],[50,1],[20,5],[20,5],[56,1],[56,1],[56,1],[56,1],[56,1],[56,1],[56,1],[22,1],[22,1],[27,1],[27,1],[29,1],[29,1],[49,1],[49,1],[52,1],[52,1],[54,1],[54,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 6:yy.parseDirective("%%{","open_directive");break;case 7:yy.parseDirective($$[$0],"type_directive");break;case 8:$$[$0]=$$[$0].trim().replace(/'/g,'"'),yy.parseDirective($$[$0],"arg_directive");break;case 9:yy.parseDirective("}%%","close_directive","pie");break;case 10:this.$=[];break;case 16:yy.addRequirement($$[$0-3],$$[$0-4]);break;case 17:yy.setNewReqId($$[$0-2]);break;case 18:yy.setNewReqText($$[$0-2]);break;case 19:yy.setNewReqRisk($$[$0-2]);break;case 20:yy.setNewReqVerifyMethod($$[$0-2]);break;case 23:this.$=yy.RequirementType.REQUIREMENT;break;case 24:this.$=yy.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 25:this.$=yy.RequirementType.INTERFACE_REQUIREMENT;break;case 26:this.$=yy.RequirementType.PERFORMANCE_REQUIREMENT;break;case 27:this.$=yy.RequirementType.PHYSICAL_REQUIREMENT;break;case 28:this.$=yy.RequirementType.DESIGN_CONSTRAINT;break;case 29:this.$=yy.RiskLevel.LOW_RISK;break;case 30:this.$=yy.RiskLevel.MED_RISK;break;case 31:this.$=yy.RiskLevel.HIGH_RISK;break;case 32:this.$=yy.VerifyType.VERIFY_ANALYSIS;break;case 33:this.$=yy.VerifyType.VERIFY_DEMONSTRATION;break;case 34:this.$=yy.VerifyType.VERIFY_INSPECTION;break;case 35:this.$=yy.VerifyType.VERIFY_TEST;break;case 36:yy.addElement($$[$0-3]);break;case 37:yy.setNewElementType($$[$0-2]);break;case 38:yy.setNewElementDocRef($$[$0-2]);break;case 41:yy.addRelationship($$[$0-2],$$[$0],$$[$0-4]);break;case 42:yy.addRelationship($$[$0-2],$$[$0-4],$$[$0]);break;case 43:this.$=yy.Relationships.CONTAINS;break;case 44:this.$=yy.Relationships.COPIES;break;case 45:this.$=yy.Relationships.DERIVES;break;case 46:this.$=yy.Relationships.SATISFIES;break;case 47:this.$=yy.Relationships.VERIFIES;break;case 48:this.$=yy.Relationships.REFINES;break;case 49:this.$=yy.Relationships.TRACES}},table:[{3:1,4:2,6:$V0,9:4,14:$V1},{1:[3]},{3:7,4:2,5:[1,6],6:$V0,9:4,14:$V1},{5:[1,8]},{10:9,15:[1,10]},{15:[2,6]},{3:11,4:2,6:$V0,9:4,14:$V1},{1:[2,2]},{4:16,5:$V2,7:12,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{11:29,12:[1,30],17:$Vd},o([12,17],[2,7]),{1:[2,1]},{8:[1,32]},{4:16,5:$V2,7:33,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{4:16,5:$V2,7:34,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{4:16,5:$V2,7:35,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{4:16,5:$V2,7:36,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{4:16,5:$V2,7:37,8:$V3,9:4,14:$V1,18:13,19:14,20:15,21:18,27:20,35:$V4,36:$V5,37:$V6,38:$V7,39:$V8,40:$V9,48:$Va,66:$Vb,67:$Vc},{22:38,66:[1,39],67:[1,40]},{49:41,66:[1,42],67:[1,43]},{55:[1,44],57:[1,45]},o($Ve,[2,23]),o($Ve,[2,24]),o($Ve,[2,25]),o($Ve,[2,26]),o($Ve,[2,27]),o($Ve,[2,28]),o($Vf,[2,52]),o($Vf,[2,53]),o($Vg,[2,4]),{13:46,16:[1,47]},o($Vg,[2,9]),{1:[2,3]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{23:[1,48]},{23:[2,50]},{23:[2,51]},{23:[1,49]},{23:[2,56]},{23:[2,57]},{56:50,59:$Vh,60:$Vi,61:$Vj,62:$Vk,63:$Vl,64:$Vm,65:$Vn},{56:58,59:$Vh,60:$Vi,61:$Vj,62:$Vk,63:$Vl,64:$Vm,65:$Vn},{11:59,17:$Vd},{17:[2,8]},{5:[1,60]},{5:[1,61]},{57:[1,62]},o($Vo,[2,43]),o($Vo,[2,44]),o($Vo,[2,45]),o($Vo,[2,46]),o($Vo,[2,47]),o($Vo,[2,48]),o($Vo,[2,49]),{58:[1,63]},o($Vg,[2,5]),{5:$Vp,24:64,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},{5:$Vv,34:$Vw,50:71,51:$Vx,53:$Vy},{27:76,66:$Vb,67:$Vc},{27:77,66:$Vb,67:$Vc},o($Vz,[2,16]),{26:[1,78]},{26:[1,79]},{26:[1,80]},{26:[1,81]},{5:$Vp,24:82,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},o($Vz,[2,22]),o($Vz,[2,36]),{26:[1,83]},{26:[1,84]},{5:$Vv,34:$Vw,50:85,51:$Vx,53:$Vy},o($Vz,[2,40]),o($Vz,[2,41]),o($Vz,[2,42]),{27:86,66:$Vb,67:$Vc},{29:87,66:[1,88],67:[1,89]},{31:90,41:[1,91],42:[1,92],43:[1,93]},{33:94,44:[1,95],45:[1,96],46:[1,97],47:[1,98]},o($Vz,[2,21]),{52:99,66:[1,100],67:[1,101]},{54:102,66:[1,103],67:[1,104]},o($Vz,[2,39]),{5:[1,105]},{5:[1,106]},{5:[2,54]},{5:[2,55]},{5:[1,107]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[1,108]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[2,35]},{5:[1,109]},{5:[2,58]},{5:[2,59]},{5:[1,110]},{5:[2,60]},{5:[2,61]},{5:$Vp,24:111,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},{5:$Vp,24:112,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},{5:$Vp,24:113,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},{5:$Vp,24:114,25:$Vq,28:$Vr,30:$Vs,32:$Vt,34:$Vu},{5:$Vv,34:$Vw,50:115,51:$Vx,53:$Vy},{5:$Vv,34:$Vw,50:116,51:$Vx,53:$Vy},o($Vz,[2,17]),o($Vz,[2,18]),o($Vz,[2,19]),o($Vz,[2,20]),o($Vz,[2,37]),o($Vz,[2,38])],defaultActions:{5:[2,6],7:[2,2],11:[2,1],32:[2,3],33:[2,11],34:[2,12],35:[2,13],36:[2,14],37:[2,15],39:[2,50],40:[2,51],42:[2,56],43:[2,57],47:[2,8],88:[2,54],89:[2,55],91:[2,29],92:[2,30],93:[2,31],95:[2,32],96:[2,33],97:[2,34],98:[2,35],100:[2,58],101:[2,59],103:[2,60],104:[2,61]},parseError:function parseError(str,hash){if(!hash.recoverable){var error=new Error(str);throw error.hash=hash,error}this.trace(str)},parse:function parse(input){var self=this,stack=[0],tstack=[],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,void 0===lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=tstack.pop()||lexer.lex()||1)&&(token instanceof Array&&(token=(tstack=token).pop()),token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer={EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return r||this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function _currentRules(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function topState(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function pushState(condition){this.begin(condition)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:return this.begin("open_directive"),14;case 1:return this.begin("type_directive"),15;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),17;case 4:return 16;case 5:return 5;case 6:case 7:case 8:break;case 9:return 8;case 10:return 6;case 11:return 23;case 12:return 34;case 13:return 26;case 14:return 25;case 15:return 28;case 16:return 30;case 17:return 32;case 18:return 35;case 19:return 36;case 20:return 37;case 21:return 38;case 22:return 39;case 23:return 40;case 24:return 41;case 25:return 42;case 26:return 43;case 27:return 44;case 28:return 45;case 29:return 46;case 30:return 47;case 31:return 48;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 62;case 36:return 63;case 37:return 64;case 38:return 65;case 39:return 51;case 40:return 53;case 41:return 55;case 42:return 58;case 43:return 57;case 44:this.begin("string");break;case 45:this.popState();break;case 46:return"qString";case 47:return yy_.yytext=yy_.yytext.trim(),66}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[45,46],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,47],inclusive:!0}}};function Parser(){this.yy={}}return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function commonjsMain(args){args[1]||(console.log("Usage: "+args[0]+" FILE"),process.exit(1));var source=__nested_webpack_require_227718__("?ebf4").readFileSync(__nested_webpack_require_227718__("./node_modules/path-browserify/index.js").normalize(args[1]),"utf8");return exports.parser.parse(source)},__nested_webpack_require_227718__.c[__nested_webpack_require_227718__.s]===module&&exports.main(process.argv.slice(1))},"./src/diagrams/sequence/parser/sequenceDiagram.jison":(module,exports,__nested_webpack_require_259045__)=>{module=__nested_webpack_require_259045__.nmd(module);var parser=function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,2],$V1=[1,3],$V2=[1,5],$V3=[1,7],$V4=[2,5],$V5=[1,15],$V6=[1,17],$V7=[1,18],$V8=[1,19],$V9=[1,21],$Va=[1,22],$Vb=[1,23],$Vc=[1,29],$Vd=[1,30],$Ve=[1,31],$Vf=[1,32],$Vg=[1,33],$Vh=[1,34],$Vi=[1,37],$Vj=[1,38],$Vk=[1,39],$Vl=[1,40],$Vm=[1,41],$Vn=[1,42],$Vo=[1,45],$Vp=[1,4,5,16,20,22,23,24,30,32,33,34,35,36,38,40,41,42,46,47,48,49,57,67],$Vq=[1,58],$Vr=[4,5,16,20,22,23,24,30,32,33,34,35,36,38,42,46,47,48,49,57,67],$Vs=[4,5,16,20,22,23,24,30,32,33,34,35,36,38,41,42,46,47,48,49,57,67],$Vt=[4,5,16,20,22,23,24,30,32,33,34,35,36,38,40,42,46,47,48,49,57,67],$Vu=[55,56,57],$Vv=[1,4,5,7,16,20,22,23,24,30,32,33,34,35,36,38,40,41,42,46,47,48,49,57,67],parser={trace:function trace(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,activate:23,deactivate:24,note_statement:25,links_statement:26,link_statement:27,properties_statement:28,details_statement:29,title:30,text2:31,loop:32,end:33,rect:34,opt:35,alt:36,else_sections:37,par:38,par_sections:39,and:40,else:41,note:42,placement:43,over:44,actor_pair:45,links:46,link:47,properties:48,details:49,spaceList:50,",":51,left_of:52,right_of:53,signaltype:54,"+":55,"-":56,ACTOR:57,SOLID_OPEN_ARROW:58,DOTTED_OPEN_ARROW:59,SOLID_ARROW:60,DOTTED_ARROW:61,SOLID_CROSS:62,DOTTED_CROSS:63,SOLID_POINT:64,DOTTED_POINT:65,TXT:66,open_directive:67,type_directive:68,arg_directive:69,close_directive:70,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"activate",24:"deactivate",30:"title",32:"loop",33:"end",34:"rect",35:"opt",36:"alt",38:"par",40:"and",41:"else",42:"note",44:"over",46:"links",47:"link",48:"properties",49:"details",51:",",52:"left_of",53:"right_of",55:"+",56:"-",57:"ACTOR",58:"SOLID_OPEN_ARROW",59:"DOTTED_OPEN_ARROW",60:"SOLID_ARROW",61:"DOTTED_ARROW",62:"SOLID_CROSS",63:"DOTTED_CROSS",64:"SOLID_POINT",65:"DOTTED_POINT",66:"TXT",67:"open_directive",68:"type_directive",69:"arg_directive",70:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,1],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,3],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[39,1],[39,4],[37,1],[37,4],[25,4],[25,4],[26,3],[27,3],[28,3],[29,3],[50,2],[50,1],[45,3],[45,1],[43,1],[43,1],[21,5],[21,5],[21,4],[17,1],[54,1],[54,1],[54,1],[54,1],[54,1],[54,1],[54,1],[54,1],[31,1],[11,1],[12,1],[15,1],[13,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 4:return yy.apply($$[$0]),$$[$0];case 5:case 9:this.$=[];break;case 6:$$[$0-1].push($$[$0]),this.$=$$[$0-1];break;case 7:case 8:case 45:this.$=$$[$0];break;case 12:$$[$0-3].type="addParticipant",$$[$0-3].description=yy.parseMessage($$[$0-1]),this.$=$$[$0-3];break;case 13:$$[$0-1].type="addParticipant",this.$=$$[$0-1];break;case 14:$$[$0-3].type="addActor",$$[$0-3].description=yy.parseMessage($$[$0-1]),this.$=$$[$0-3];break;case 15:$$[$0-1].type="addActor",this.$=$$[$0-1];break;case 17:yy.enableSequenceNumbers();break;case 18:this.$={type:"activeStart",signalType:yy.LINETYPE.ACTIVE_START,actor:$$[$0-1]};break;case 19:this.$={type:"activeEnd",signalType:yy.LINETYPE.ACTIVE_END,actor:$$[$0-1]};break;case 25:this.$=[{type:"setTitle",text:$$[$0-1]}];break;case 26:$$[$0-1].unshift({type:"loopStart",loopText:yy.parseMessage($$[$0-2]),signalType:yy.LINETYPE.LOOP_START}),$$[$0-1].push({type:"loopEnd",loopText:$$[$0-2],signalType:yy.LINETYPE.LOOP_END}),this.$=$$[$0-1];break;case 27:$$[$0-1].unshift({type:"rectStart",color:yy.parseMessage($$[$0-2]),signalType:yy.LINETYPE.RECT_START}),$$[$0-1].push({type:"rectEnd",color:yy.parseMessage($$[$0-2]),signalType:yy.LINETYPE.RECT_END}),this.$=$$[$0-1];break;case 28:$$[$0-1].unshift({type:"optStart",optText:yy.parseMessage($$[$0-2]),signalType:yy.LINETYPE.OPT_START}),$$[$0-1].push({type:"optEnd",optText:yy.parseMessage($$[$0-2]),signalType:yy.LINETYPE.OPT_END}),this.$=$$[$0-1];break;case 29:$$[$0-1].unshift({type:"altStart",altText:yy.parseMessage($$[$0-2]),signalType:yy.LINETYPE.ALT_START}),$$[$0-1].push({type:"altEnd",signalType:yy.LINETYPE.ALT_END}),this.$=$$[$0-1];break;case 30:$$[$0-1].unshift({type:"parStart",parText:yy.parseMessage($$[$0-2]),signalType:yy.LINETYPE.PAR_START}),$$[$0-1].push({type:"parEnd",signalType:yy.LINETYPE.PAR_END}),this.$=$$[$0-1];break;case 33:this.$=$$[$0-3].concat([{type:"and",parText:yy.parseMessage($$[$0-1]),signalType:yy.LINETYPE.PAR_AND},$$[$0]]);break;case 35:this.$=$$[$0-3].concat([{type:"else",altText:yy.parseMessage($$[$0-1]),signalType:yy.LINETYPE.ALT_ELSE},$$[$0]]);break;case 36:this.$=[$$[$0-1],{type:"addNote",placement:$$[$0-2],actor:$$[$0-1].actor,text:$$[$0]}];break;case 37:$$[$0-2]=[].concat($$[$0-1],$$[$0-1]).slice(0,2),$$[$0-2][0]=$$[$0-2][0].actor,$$[$0-2][1]=$$[$0-2][1].actor,this.$=[$$[$0-1],{type:"addNote",placement:yy.PLACEMENT.OVER,actor:$$[$0-2].slice(0,2),text:$$[$0]}];break;case 38:this.$=[$$[$0-1],{type:"addLinks",actor:$$[$0-1].actor,text:$$[$0]}];break;case 39:this.$=[$$[$0-1],{type:"addALink",actor:$$[$0-1].actor,text:$$[$0]}];break;case 40:this.$=[$$[$0-1],{type:"addProperties",actor:$$[$0-1].actor,text:$$[$0]}];break;case 41:this.$=[$$[$0-1],{type:"addDetails",actor:$$[$0-1].actor,text:$$[$0]}];break;case 44:this.$=[$$[$0-2],$$[$0]];break;case 46:this.$=yy.PLACEMENT.LEFTOF;break;case 47:this.$=yy.PLACEMENT.RIGHTOF;break;case 48:this.$=[$$[$0-4],$$[$0-1],{type:"addMessage",from:$$[$0-4].actor,to:$$[$0-1].actor,signalType:$$[$0-3],msg:$$[$0]},{type:"activeStart",signalType:yy.LINETYPE.ACTIVE_START,actor:$$[$0-1]}];break;case 49:this.$=[$$[$0-4],$$[$0-1],{type:"addMessage",from:$$[$0-4].actor,to:$$[$0-1].actor,signalType:$$[$0-3],msg:$$[$0]},{type:"activeEnd",signalType:yy.LINETYPE.ACTIVE_END,actor:$$[$0-4]}];break;case 50:this.$=[$$[$0-3],$$[$0-1],{type:"addMessage",from:$$[$0-3].actor,to:$$[$0-1].actor,signalType:$$[$0-2],msg:$$[$0]}];break;case 51:this.$={type:"addParticipant",actor:$$[$0]};break;case 52:this.$=yy.LINETYPE.SOLID_OPEN;break;case 53:this.$=yy.LINETYPE.DOTTED_OPEN;break;case 54:this.$=yy.LINETYPE.SOLID;break;case 55:this.$=yy.LINETYPE.DOTTED;break;case 56:this.$=yy.LINETYPE.SOLID_CROSS;break;case 57:this.$=yy.LINETYPE.DOTTED_CROSS;break;case 58:this.$=yy.LINETYPE.SOLID_POINT;break;case 59:this.$=yy.LINETYPE.DOTTED_POINT;break;case 60:this.$=yy.parseMessage($$[$0].trim().substring(1));break;case 61:yy.parseDirective("%%{","open_directive");break;case 62:yy.parseDirective($$[$0],"type_directive");break;case 63:$$[$0]=$$[$0].trim().replace(/'/g,'"'),yy.parseDirective($$[$0],"arg_directive");break;case 64:yy.parseDirective("}%%","close_directive","sequence")}},table:[{3:1,4:$V0,5:$V1,6:4,7:$V2,11:6,67:$V3},{1:[3]},{3:8,4:$V0,5:$V1,6:4,7:$V2,11:6,67:$V3},{3:9,4:$V0,5:$V1,6:4,7:$V2,11:6,67:$V3},{3:10,4:$V0,5:$V1,6:4,7:$V2,11:6,67:$V3},o([1,4,5,16,20,22,23,24,30,32,34,35,36,38,42,46,47,48,49,57,67],$V4,{8:11}),{12:12,68:[1,13]},{68:[2,61]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:$V5,5:$V6,6:35,9:14,10:16,11:6,16:$V7,17:36,20:$V8,21:20,22:$V9,23:$Va,24:$Vb,25:24,26:25,27:26,28:27,29:28,30:$Vc,32:$Vd,34:$Ve,35:$Vf,36:$Vg,38:$Vh,42:$Vi,46:$Vj,47:$Vk,48:$Vl,49:$Vm,57:$Vn,67:$V3},{13:43,14:[1,44],70:$Vo},o([14,70],[2,62]),o($Vp,[2,6]),{6:35,10:46,11:6,16:$V7,17:36,20:$V8,21:20,22:$V9,23:$Va,24:$Vb,25:24,26:25,27:26,28:27,29:28,30:$Vc,32:$Vd,34:$Ve,35:$Vf,36:$Vg,38:$Vh,42:$Vi,46:$Vj,47:$Vk,48:$Vl,49:$Vm,57:$Vn,67:$V3},o($Vp,[2,8]),o($Vp,[2,9]),{17:47,57:$Vn},{17:48,57:$Vn},{5:[1,49]},o($Vp,[2,17]),{17:50,57:$Vn},{17:51,57:$Vn},{5:[1,52]},{5:[1,53]},{5:[1,54]},{5:[1,55]},{5:[1,56]},{31:57,66:$Vq},{19:[1,59]},{19:[1,60]},{19:[1,61]},{19:[1,62]},{19:[1,63]},o($Vp,[2,31]),{54:64,58:[1,65],59:[1,66],60:[1,67],61:[1,68],62:[1,69],63:[1,70],64:[1,71],65:[1,72]},{43:73,44:[1,74],52:[1,75],53:[1,76]},{17:77,57:$Vn},{17:78,57:$Vn},{17:79,57:$Vn},{17:80,57:$Vn},o([5,18,51,58,59,60,61,62,63,64,65,66],[2,51]),{5:[1,81]},{15:82,69:[1,83]},{5:[2,64]},o($Vp,[2,7]),{5:[1,85],18:[1,84]},{5:[1,87],18:[1,86]},o($Vp,[2,16]),{5:[1,88]},{5:[1,89]},o($Vp,[2,20]),o($Vp,[2,21]),o($Vp,[2,22]),o($Vp,[2,23]),o($Vp,[2,24]),{5:[1,90]},{5:[2,60]},o($Vr,$V4,{8:91}),o($Vr,$V4,{8:92}),o($Vr,$V4,{8:93}),o($Vs,$V4,{37:94,8:95}),o($Vt,$V4,{39:96,8:97}),{17:100,55:[1,98],56:[1,99],57:$Vn},o($Vu,[2,52]),o($Vu,[2,53]),o($Vu,[2,54]),o($Vu,[2,55]),o($Vu,[2,56]),o($Vu,[2,57]),o($Vu,[2,58]),o($Vu,[2,59]),{17:101,57:$Vn},{17:103,45:102,57:$Vn},{57:[2,46]},{57:[2,47]},{31:104,66:$Vq},{31:105,66:$Vq},{31:106,66:$Vq},{31:107,66:$Vq},o($Vv,[2,10]),{13:108,70:$Vo},{70:[2,63]},{19:[1,109]},o($Vp,[2,13]),{19:[1,110]},o($Vp,[2,15]),o($Vp,[2,18]),o($Vp,[2,19]),o($Vp,[2,25]),{4:$V5,5:$V6,6:35,9:14,10:16,11:6,16:$V7,17:36,20:$V8,21:20,22:$V9,23:$Va,24:$Vb,25:24,26:25,27:26,28:27,29:28,30:$Vc,32:$Vd,33:[1,111],34:$Ve,35:$Vf,36:$Vg,38:$Vh,42:$Vi,46:$Vj,47:$Vk,48:$Vl,49:$Vm,57:$Vn,67:$V3},{4:$V5,5:$V6,6:35,9:14,10:16,11:6,16:$V7,17:36,20:$V8,21:20,22:$V9,23:$Va,24:$Vb,25:24,26:25,27:26,28:27,29:28,30:$Vc,32:$Vd,33:[1,112],34:$Ve,35:$Vf,36:$Vg,38:$Vh,42:$Vi,46:$Vj,47:$Vk,48:$Vl,49:$Vm,57:$Vn,67:$V3},{4:$V5,5:$V6,6:35,9:14,10:16,11:6,16:$V7,17:36,20:$V8,21:20,22:$V9,23:$Va,24:$Vb,25:24,26:25,27:26,28:27,29:28,30:$Vc,32:$Vd,33:[1,113],34:$Ve,35:$Vf,36:$Vg,38:$Vh,42:$Vi,46:$Vj,47:$Vk,48:$Vl,49:$Vm,57:$Vn,67:$V3},{33:[1,114]},{4:$V5,5:$V6,6:35,9:14,10:16,11:6,16:$V7,17:36,20:$V8,21:20,22:$V9,23:$Va,24:$Vb,25:24,26:25,27:26,28:27,29:28,30:$Vc,32:$Vd,33:[2,34],34:$Ve,35:$Vf,36:$Vg,38:$Vh,41:[1,115],42:$Vi,46:$Vj,47:$Vk,48:$Vl,49:$Vm,57:$Vn,67:$V3},{33:[1,116]},{4:$V5,5:$V6,6:35,9:14,10:16,11:6,16:$V7,17:36,20:$V8,21:20,22:$V9,23:$Va,24:$Vb,25:24,26:25,27:26,28:27,29:28,30:$Vc,32:$Vd,33:[2,32],34:$Ve,35:$Vf,36:$Vg,38:$Vh,40:[1,117],42:$Vi,46:$Vj,47:$Vk,48:$Vl,49:$Vm,57:$Vn,67:$V3},{17:118,57:$Vn},{17:119,57:$Vn},{31:120,66:$Vq},{31:121,66:$Vq},{31:122,66:$Vq},{51:[1,123],66:[2,45]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},{5:[1,124]},{5:[1,125]},{5:[1,126]},o($Vp,[2,26]),o($Vp,[2,27]),o($Vp,[2,28]),o($Vp,[2,29]),{19:[1,127]},o($Vp,[2,30]),{19:[1,128]},{31:129,66:$Vq},{31:130,66:$Vq},{5:[2,50]},{5:[2,36]},{5:[2,37]},{17:131,57:$Vn},o($Vv,[2,11]),o($Vp,[2,12]),o($Vp,[2,14]),o($Vs,$V4,{8:95,37:132}),o($Vt,$V4,{8:97,39:133}),{5:[2,48]},{5:[2,49]},{66:[2,44]},{33:[2,35]},{33:[2,33]}],defaultActions:{7:[2,61],8:[2,1],9:[2,2],10:[2,3],45:[2,64],58:[2,60],75:[2,46],76:[2,47],83:[2,63],104:[2,38],105:[2,39],106:[2,40],107:[2,41],120:[2,50],121:[2,36],122:[2,37],129:[2,48],130:[2,49],131:[2,44],132:[2,35],133:[2,33]},parseError:function parseError(str,hash){if(!hash.recoverable){var error=new Error(str);throw error.hash=hash,error}this.trace(str)},parse:function parse(input){var self=this,stack=[0],tstack=[],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,void 0===lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=tstack.pop()||lexer.lex()||1)&&(token instanceof Array&&(token=(tstack=token).pop()),token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer={EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return r||this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function _currentRules(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function topState(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function pushState(condition){this.begin(condition)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:return this.begin("open_directive"),67;case 1:return this.begin("type_directive"),68;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),70;case 4:return 69;case 5:case 39:case 52:return 5;case 6:case 7:case 8:case 9:case 10:break;case 11:return this.begin("ID"),16;case 12:return this.begin("ID"),20;case 13:return yy_.yytext=yy_.yytext.trim(),this.begin("ALIAS"),57;case 14:return this.popState(),this.popState(),this.begin("LINE"),18;case 15:return this.popState(),this.popState(),5;case 16:return this.begin("LINE"),32;case 17:return this.begin("LINE"),34;case 18:return this.begin("LINE"),35;case 19:return this.begin("LINE"),36;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),38;case 22:return this.begin("LINE"),40;case 23:return this.popState(),19;case 24:return 33;case 25:return 52;case 26:return 53;case 27:return 46;case 28:return 47;case 29:return 48;case 30:return 49;case 31:return 44;case 32:return 42;case 33:return this.begin("ID"),23;case 34:return this.begin("ID"),24;case 35:return 30;case 36:return 7;case 37:return 22;case 38:return 51;case 40:return yy_.yytext=yy_.yytext.trim(),57;case 41:return 60;case 42:return 61;case 43:return 58;case 44:return 59;case 45:return 62;case 46:return 63;case 47:return 64;case 48:return 65;case 49:return 66;case 50:return 55;case 51:return 56;case 53:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\b)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,13],inclusive:!1},ALIAS:{rules:[7,8,14,15],inclusive:!1},LINE:{rules:[7,8,23],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,16,17,18,19,20,21,22,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53],inclusive:!0}}};function Parser(){this.yy={}}return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function commonjsMain(args){args[1]||(console.log("Usage: "+args[0]+" FILE"),process.exit(1));var source=__nested_webpack_require_259045__("?e940").readFileSync(__nested_webpack_require_259045__("./node_modules/path-browserify/index.js").normalize(args[1]),"utf8");return exports.parser.parse(source)},__nested_webpack_require_259045__.c[__nested_webpack_require_259045__.s]===module&&exports.main(process.argv.slice(1))},"./src/diagrams/state/parser/stateDiagram.jison":(module,exports,__nested_webpack_require_294723__)=>{module=__nested_webpack_require_294723__.nmd(module);var parser=function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,2],$V1=[1,3],$V2=[1,5],$V3=[1,7],$V4=[2,5],$V5=[1,15],$V6=[1,17],$V7=[1,19],$V8=[1,20],$V9=[1,21],$Va=[1,22],$Vb=[1,30],$Vc=[1,23],$Vd=[1,24],$Ve=[1,25],$Vf=[1,26],$Vg=[1,27],$Vh=[1,32],$Vi=[1,33],$Vj=[1,34],$Vk=[1,35],$Vl=[1,31],$Vm=[1,38],$Vn=[1,4,5,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],$Vo=[1,4,5,12,13,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],$Vp=[1,4,5,7,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],$Vq=[4,5,14,15,17,19,20,22,23,24,25,26,27,36,37,38,39,42,45],parser={trace:function trace(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,idStatement:11,DESCR:12,"--\x3e":13,HIDE_EMPTY:14,scale:15,WIDTH:16,COMPOSIT_STATE:17,STRUCT_START:18,STRUCT_STOP:19,STATE_DESCR:20,AS:21,ID:22,FORK:23,JOIN:24,CHOICE:25,CONCURRENT:26,note:27,notePosition:28,NOTE_TEXT:29,direction:30,openDirective:31,typeDirective:32,closeDirective:33,":":34,argDirective:35,direction_tb:36,direction_bt:37,direction_rl:38,direction_lr:39,eol:40,";":41,EDGE_STATE:42,left_of:43,right_of:44,open_directive:45,type_directive:46,arg_directive:47,close_directive:48,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",12:"DESCR",13:"--\x3e",14:"HIDE_EMPTY",15:"scale",16:"WIDTH",17:"COMPOSIT_STATE",18:"STRUCT_START",19:"STRUCT_STOP",20:"STATE_DESCR",21:"AS",22:"ID",23:"FORK",24:"JOIN",25:"CHOICE",26:"CONCURRENT",27:"note",29:"NOTE_TEXT",34:":",36:"direction_tb",37:"direction_bt",38:"direction_rl",39:"direction_lr",41:";",42:"EDGE_STATE",43:"left_of",44:"right_of",45:"open_directive",46:"type_directive",47:"arg_directive",48:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[6,3],[6,5],[30,1],[30,1],[30,1],[30,1],[40,1],[40,1],[11,1],[11,1],[28,1],[28,1],[31,1],[32,1],[35,1],[33,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 4:return yy.setRootDoc($$[$0]),$$[$0];case 5:this.$=[];break;case 6:"nl"!=$$[$0]&&($$[$0-1].push($$[$0]),this.$=$$[$0-1]);break;case 7:case 8:case 36:case 37:this.$=$$[$0];break;case 9:this.$="nl";break;case 10:this.$={stmt:"state",id:$$[$0],type:"default",description:""};break;case 11:this.$={stmt:"state",id:$$[$0-1],type:"default",description:yy.trimColon($$[$0])};break;case 12:this.$={stmt:"relation",state1:{stmt:"state",id:$$[$0-2],type:"default",description:""},state2:{stmt:"state",id:$$[$0],type:"default",description:""}};break;case 13:this.$={stmt:"relation",state1:{stmt:"state",id:$$[$0-3],type:"default",description:""},state2:{stmt:"state",id:$$[$0-1],type:"default",description:""},description:$$[$0].substr(1).trim()};break;case 17:this.$={stmt:"state",id:$$[$0-3],type:"default",description:"",doc:$$[$0-1]};break;case 18:var id=$$[$0],description=$$[$0-2].trim();if($$[$0].match(":")){var parts=$$[$0].split(":");id=parts[0],description=[description,parts[1]]}this.$={stmt:"state",id,type:"default",description};break;case 19:this.$={stmt:"state",id:$$[$0-3],type:"default",description:$$[$0-5],doc:$$[$0-1]};break;case 20:this.$={stmt:"state",id:$$[$0],type:"fork"};break;case 21:this.$={stmt:"state",id:$$[$0],type:"join"};break;case 22:this.$={stmt:"state",id:$$[$0],type:"choice"};break;case 23:this.$={stmt:"state",id:yy.getDividerId(),type:"divider"};break;case 24:this.$={stmt:"state",id:$$[$0-1].trim(),note:{position:$$[$0-2].trim(),text:$$[$0].trim()}};break;case 30:yy.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 31:yy.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 32:yy.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 33:yy.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 40:yy.parseDirective("%%{","open_directive");break;case 41:yy.parseDirective($$[$0],"type_directive");break;case 42:$$[$0]=$$[$0].trim().replace(/'/g,'"'),yy.parseDirective($$[$0],"arg_directive");break;case 43:yy.parseDirective("}%%","close_directive","state")}},table:[{3:1,4:$V0,5:$V1,6:4,7:$V2,31:6,45:$V3},{1:[3]},{3:8,4:$V0,5:$V1,6:4,7:$V2,31:6,45:$V3},{3:9,4:$V0,5:$V1,6:4,7:$V2,31:6,45:$V3},{3:10,4:$V0,5:$V1,6:4,7:$V2,31:6,45:$V3},o([1,4,5,14,15,17,20,22,23,24,25,26,27,36,37,38,39,42,45],$V4,{8:11}),{32:12,46:[1,13]},{46:[2,40]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:$V5,5:$V6,6:28,9:14,10:16,11:18,14:$V7,15:$V8,17:$V9,20:$Va,22:$Vb,23:$Vc,24:$Vd,25:$Ve,26:$Vf,27:$Vg,30:29,31:6,36:$Vh,37:$Vi,38:$Vj,39:$Vk,42:$Vl,45:$V3},{33:36,34:[1,37],48:$Vm},o([34,48],[2,41]),o($Vn,[2,6]),{6:28,10:39,11:18,14:$V7,15:$V8,17:$V9,20:$Va,22:$Vb,23:$Vc,24:$Vd,25:$Ve,26:$Vf,27:$Vg,30:29,31:6,36:$Vh,37:$Vi,38:$Vj,39:$Vk,42:$Vl,45:$V3},o($Vn,[2,8]),o($Vn,[2,9]),o($Vn,[2,10],{12:[1,40],13:[1,41]}),o($Vn,[2,14]),{16:[1,42]},o($Vn,[2,16],{18:[1,43]}),{21:[1,44]},o($Vn,[2,20]),o($Vn,[2,21]),o($Vn,[2,22]),o($Vn,[2,23]),{28:45,29:[1,46],43:[1,47],44:[1,48]},o($Vn,[2,26]),o($Vn,[2,27]),o($Vo,[2,36]),o($Vo,[2,37]),o($Vn,[2,30]),o($Vn,[2,31]),o($Vn,[2,32]),o($Vn,[2,33]),o($Vp,[2,28]),{35:49,47:[1,50]},o($Vp,[2,43]),o($Vn,[2,7]),o($Vn,[2,11]),{11:51,22:$Vb,42:$Vl},o($Vn,[2,15]),o($Vq,$V4,{8:52}),{22:[1,53]},{22:[1,54]},{21:[1,55]},{22:[2,38]},{22:[2,39]},{33:56,48:$Vm},{48:[2,42]},o($Vn,[2,12],{12:[1,57]}),{4:$V5,5:$V6,6:28,9:14,10:16,11:18,14:$V7,15:$V8,17:$V9,19:[1,58],20:$Va,22:$Vb,23:$Vc,24:$Vd,25:$Ve,26:$Vf,27:$Vg,30:29,31:6,36:$Vh,37:$Vi,38:$Vj,39:$Vk,42:$Vl,45:$V3},o($Vn,[2,18],{18:[1,59]}),{29:[1,60]},{22:[1,61]},o($Vp,[2,29]),o($Vn,[2,13]),o($Vn,[2,17]),o($Vq,$V4,{8:62}),o($Vn,[2,24]),o($Vn,[2,25]),{4:$V5,5:$V6,6:28,9:14,10:16,11:18,14:$V7,15:$V8,17:$V9,19:[1,63],20:$Va,22:$Vb,23:$Vc,24:$Vd,25:$Ve,26:$Vf,27:$Vg,30:29,31:6,36:$Vh,37:$Vi,38:$Vj,39:$Vk,42:$Vl,45:$V3},o($Vn,[2,19])],defaultActions:{7:[2,40],8:[2,1],9:[2,2],10:[2,3],47:[2,38],48:[2,39],50:[2,42]},parseError:function parseError(str,hash){if(!hash.recoverable){var error=new Error(str);throw error.hash=hash,error}this.trace(str)},parse:function parse(input){var self=this,stack=[0],tstack=[],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,void 0===lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=tstack.pop()||lexer.lex()||1)&&(token instanceof Array&&(token=(tstack=token).pop()),token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer={EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return r||this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function _currentRules(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function topState(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function pushState(condition){this.begin(condition)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:case 26:return 36;case 1:case 27:return 37;case 2:case 28:return 38;case 3:case 29:return 39;case 4:return this.begin("open_directive"),45;case 5:return this.begin("type_directive"),46;case 6:return this.popState(),this.begin("arg_directive"),34;case 7:return this.popState(),this.popState(),48;case 8:return 47;case 9:case 10:case 12:case 13:case 14:case 15:case 39:case 45:break;case 11:case 59:return 5;case 16:return this.pushState("SCALE"),15;case 17:return 16;case 18:case 33:case 36:this.popState();break;case 19:this.pushState("STATE");break;case 20:case 23:return this.popState(),yy_.yytext=yy_.yytext.slice(0,-8).trim(),23;case 21:case 24:return this.popState(),yy_.yytext=yy_.yytext.slice(0,-8).trim(),24;case 22:case 25:return this.popState(),yy_.yytext=yy_.yytext.slice(0,-10).trim(),25;case 30:this.begin("STATE_STRING");break;case 31:return this.popState(),this.pushState("STATE_ID"),"AS";case 32:case 47:return this.popState(),"ID";case 34:return"STATE_DESCR";case 35:return 17;case 37:return this.popState(),this.pushState("struct"),18;case 38:return this.popState(),19;case 40:return this.begin("NOTE"),27;case 41:return this.popState(),this.pushState("NOTE_ID"),43;case 42:return this.popState(),this.pushState("NOTE_ID"),44;case 43:this.popState(),this.pushState("FLOATING_NOTE");break;case 44:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 46:return"NOTE_TEXT";case 48:return this.popState(),this.pushState("NOTE_TEXT"),22;case 49:return this.popState(),yy_.yytext=yy_.yytext.substr(2).trim(),29;case 50:return this.popState(),yy_.yytext=yy_.yytext.slice(0,-8).trim(),29;case 51:case 52:return 7;case 53:return 14;case 54:return 42;case 55:return 22;case 56:return yy_.yytext=yy_.yytext.trim(),12;case 57:return 13;case 58:return 26;case 60:return"INVALID"}},rules:[/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[13,14],inclusive:!1},close_directive:{rules:[13,14],inclusive:!1},arg_directive:{rules:[7,8,13,14],inclusive:!1},type_directive:{rules:[6,7,13,14],inclusive:!1},open_directive:{rules:[5,13,14],inclusive:!1},struct:{rules:[13,14,19,26,27,28,29,38,39,40,54,55,56,57,58],inclusive:!1},FLOATING_NOTE_ID:{rules:[47],inclusive:!1},FLOATING_NOTE:{rules:[44,45,46],inclusive:!1},NOTE_TEXT:{rules:[49,50],inclusive:!1},NOTE_ID:{rules:[48],inclusive:!1},NOTE:{rules:[41,42,43],inclusive:!1},SCALE:{rules:[17,18],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[32],inclusive:!1},STATE_STRING:{rules:[33,34],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[13,14,20,21,22,23,24,25,30,31,35,36,37],inclusive:!1},ID:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,14,15,16,19,37,40,51,52,53,54,55,56,57,59,60],inclusive:!0}}};function Parser(){this.yy={}}return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function commonjsMain(args){args[1]||(console.log("Usage: "+args[0]+" FILE"),process.exit(1));var source=__nested_webpack_require_294723__("?a3b8").readFileSync(__nested_webpack_require_294723__("./node_modules/path-browserify/index.js").normalize(args[1]),"utf8");return exports.parser.parse(source)},__nested_webpack_require_294723__.c[__nested_webpack_require_294723__.s]===module&&exports.main(process.argv.slice(1))},"./src/diagrams/user-journey/parser/journey.jison":(module,exports,__nested_webpack_require_328724__)=>{module=__nested_webpack_require_328724__.nmd(module);var parser=function(){var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,2],$V1=[1,5],$V2=[6,9,11,17,18,19,21],$V3=[1,15],$V4=[1,16],$V5=[1,17],$V6=[1,21],$V7=[4,6,9,11,17,18,19,21],parser={trace:function trace(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,section:18,taskName:19,taskData:20,open_directive:21,type_directive:22,arg_directive:23,close_directive:24,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"section",19:"taskName",20:"taskData",21:"open_directive",22:"type_directive",23:"arg_directive",24:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return $$[$0-1];case 3:case 7:case 8:this.$=[];break;case 4:$$[$0-1].push($$[$0]),this.$=$$[$0-1];break;case 5:case 6:this.$=$$[$0];break;case 11:yy.setTitle($$[$0].substr(6)),this.$=$$[$0].substr(6);break;case 12:yy.addSection($$[$0].substr(8)),this.$=$$[$0].substr(8);break;case 13:yy.addTask($$[$0-1],$$[$0]),this.$="task";break;case 15:yy.parseDirective("%%{","open_directive");break;case 16:yy.parseDirective($$[$0],"type_directive");break;case 17:$$[$0]=$$[$0].trim().replace(/'/g,'"'),yy.parseDirective($$[$0],"arg_directive");break;case 18:yy.parseDirective("}%%","close_directive","journey")}},table:[{3:1,4:$V0,7:3,12:4,21:$V1},{1:[3]},o($V2,[2,3],{5:6}),{3:7,4:$V0,7:3,12:4,21:$V1},{13:8,22:[1,9]},{22:[2,15]},{6:[1,10],7:18,8:11,9:[1,12],10:13,11:[1,14],12:4,17:$V3,18:$V4,19:$V5,21:$V1},{1:[2,2]},{14:19,15:[1,20],24:$V6},o([15,24],[2,16]),o($V2,[2,8],{1:[2,1]}),o($V2,[2,4]),{7:18,10:22,12:4,17:$V3,18:$V4,19:$V5,21:$V1},o($V2,[2,6]),o($V2,[2,7]),o($V2,[2,11]),o($V2,[2,12]),{20:[1,23]},o($V2,[2,14]),{11:[1,24]},{16:25,23:[1,26]},{11:[2,18]},o($V2,[2,5]),o($V2,[2,13]),o($V7,[2,9]),{14:27,24:$V6},{24:[2,17]},{11:[1,28]},o($V7,[2,10])],defaultActions:{5:[2,15],7:[2,2],21:[2,18],26:[2,17]},parseError:function parseError(str,hash){if(!hash.recoverable){var error=new Error(str);throw error.hash=hash,error}this.trace(str)},parse:function parse(input){var self=this,stack=[0],tstack=[],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,void 0===lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;"function"==typeof sharedState.yy.parseError?this.parseError=sharedState.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,token,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null==symbol&&(token=void 0,"number"!=typeof(token=tstack.pop()||lexer.lex()||1)&&(token instanceof Array&&(token=(tstack=token).pop()),token=self.symbols_[token]||token),symbol=token),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";for(p in expected=[],table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected})}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args))))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer={EOF:1,parseError:function parseError(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),(lines=match[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;var token,match,tempMatch,index;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if((tempMatch=this._input.match(this.rules[rules[i]]))&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(!1!==(token=this.test_match(tempMatch,rules[i])))return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?!1!==(token=this.test_match(match,rules[index]))&&token:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function lex(){var r=this.next();return r||this.lex()},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function _currentRules(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function topState(n){return(n=this.conditionStack.length-1-Math.abs(n||0))>=0?this.conditionStack[n]:"INITIAL"},pushState:function pushState(condition){this.begin(condition)},stateStackSize:function stateStackSize(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:return this.begin("open_directive"),21;case 1:return this.begin("type_directive"),22;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),24;case 4:return 23;case 5:case 6:case 8:case 9:break;case 7:return 11;case 10:return 4;case 11:return 17;case 12:return 18;case 13:return 19;case 14:return 20;case 15:return 15;case 16:return 6;case 17:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:!0}}};function Parser(){this.yy={}}return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function commonjsMain(args){args[1]||(console.log("Usage: "+args[0]+" FILE"),process.exit(1));var source=__nested_webpack_require_328724__("?0f62").readFileSync(__nested_webpack_require_328724__("./node_modules/path-browserify/index.js").normalize(args[1]),"utf8");return exports.parser.parse(source)},__nested_webpack_require_328724__.c[__nested_webpack_require_328724__.s]===module&&exports.main(process.argv.slice(1))},"./src/config.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_352643__)=>{"use strict";__nested_webpack_require_352643__.r(__nested_webpack_exports__),__nested_webpack_require_352643__.d(__nested_webpack_exports__,{defaultConfig:()=>defaultConfig,updateCurrentConfig:()=>updateCurrentConfig,setSiteConfig:()=>setSiteConfig,saveConfigFromInitilize:()=>saveConfigFromInitilize,updateSiteConfig:()=>updateSiteConfig,getSiteConfig:()=>getSiteConfig,setConfig:()=>setConfig,getConfig:()=>getConfig,sanitize:()=>sanitize,addDirective:()=>addDirective,reset:()=>reset});var _utils__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_352643__("./src/utils.js"),_logger__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_352643__("./src/logger.js"),_themes__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_352643__("./src/themes/index.js"),_defaultConfig__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_352643__("./src/defaultConfig.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var configFromInitialize,defaultConfig=Object.freeze(_defaultConfig__WEBPACK_IMPORTED_MODULE_0__.default),siteConfig=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({},defaultConfig),directives=[],currentConfig=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({},defaultConfig),updateCurrentConfig=function updateCurrentConfig(siteCfg,_directives){for(var cfg=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({},siteCfg),sumOfDirectives={},i=0;i<_directives.length;i++){var d=_directives[i];sanitize(d),sumOfDirectives=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)(sumOfDirectives,d)}if(cfg=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)(cfg,sumOfDirectives),sumOfDirectives.theme){var tmpConfigFromInitialize=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({},configFromInitialize),themeVariables=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)(tmpConfigFromInitialize.themeVariables||{},sumOfDirectives.themeVariables);cfg.themeVariables=_themes__WEBPACK_IMPORTED_MODULE_2__.default[cfg.theme].getThemeVariables(themeVariables)}return currentConfig=cfg,cfg},setSiteConfig=function setSiteConfig(conf){return siteConfig=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({},defaultConfig),siteConfig=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)(siteConfig,conf),conf.theme&&(siteConfig.themeVariables=_themes__WEBPACK_IMPORTED_MODULE_2__.default[conf.theme].getThemeVariables(conf.themeVariables)),currentConfig=updateCurrentConfig(siteConfig,directives),siteConfig},saveConfigFromInitilize=function saveConfigFromInitilize(conf){configFromInitialize=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({},conf)},updateSiteConfig=function updateSiteConfig(conf){return siteConfig=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)(siteConfig,conf),updateCurrentConfig(siteConfig,directives),siteConfig},getSiteConfig=function getSiteConfig(){return(0,_utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({},siteConfig)},setConfig=function setConfig(conf){return(0,_utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)(currentConfig,conf),getConfig()},getConfig=function getConfig(){return(0,_utils__WEBPACK_IMPORTED_MODULE_1__.assignWithDepth)({},currentConfig)},sanitize=function sanitize(options){Object.keys(siteConfig.secure).forEach((function(key){void 0!==options[siteConfig.secure[key]]&&(_logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("Denied attempt to modify a secure key ".concat(siteConfig.secure[key]),options[siteConfig.secure[key]]),delete options[siteConfig.secure[key]])})),Object.keys(options).forEach((function(key){0===key.indexOf("__")&&delete options[key]})),Object.keys(options).forEach((function(key){"string"==typeof options[key]&&(options[key].indexOf("<")>-1||options[key].indexOf(">")>-1||options[key].indexOf("url(data:")>-1)&&delete options[key],"object"===_typeof(options[key])&&sanitize(options[key])}))},addDirective=function addDirective(directive){directive.fontFamily&&(directive.themeVariables&&directive.themeVariables.fontFamily||(directive.themeVariables={fontFamily:directive.fontFamily})),directives.push(directive),updateCurrentConfig(siteConfig,directives)},reset=function reset(){updateCurrentConfig(siteConfig,directives=[])}},"./src/dagre-wrapper/clusters.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_363514__)=>{"use strict";__nested_webpack_require_363514__.r(__nested_webpack_exports__),__nested_webpack_require_363514__.d(__nested_webpack_exports__,{insertCluster:()=>insertCluster,getClusterTitleWidth:()=>getClusterTitleWidth,clear:()=>clear,positionCluster:()=>positionCluster});var _intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_363514__("./src/dagre-wrapper/intersect/intersect-rect.js"),_logger__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_363514__("./src/logger.js"),_createLabel__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_363514__("./src/dagre-wrapper/createLabel.js"),d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_363514__("d3"),_config__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_363514__("./src/config.js"),_diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_363514__("./src/diagrams/common/common.js"),shapes={rect:function rect(parent,node){_logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("Creating subgraph rect for ",node.id,node);var shapeSvg=parent.insert("g").attr("class","cluster"+(node.class?" "+node.class:"")).attr("id",node.id),rect=shapeSvg.insert("rect",":first-child"),label=shapeSvg.insert("g").attr("class","cluster-label"),text=label.node().appendChild((0,_createLabel__WEBPACK_IMPORTED_MODULE_2__.default)(node.labelText,node.labelStyle,void 0,!0)),bbox=text.getBBox();if((0,_diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__.evaluate)((0,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)){var div=text.children[0],dv=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(text);bbox=div.getBoundingClientRect(),dv.attr("width",bbox.width),dv.attr("height",bbox.height)}var padding=0*node.padding,halfPadding=padding/2,width=node.width<=bbox.width+padding?bbox.width+padding:node.width;node.width<=bbox.width+padding?node.diff=(bbox.width-node.width)/2:node.diff=-node.padding/2,_logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("Data ",node,JSON.stringify(node)),rect.attr("style",node.style).attr("rx",node.rx).attr("ry",node.ry).attr("x",node.x-width/2).attr("y",node.y-node.height/2-halfPadding).attr("width",width).attr("height",node.height+padding),label.attr("transform","translate("+(node.x-bbox.width/2)+", "+(node.y-node.height/2+node.padding/3)+")");var rectBox=rect.node().getBBox();return node.width=rectBox.width,node.height=rectBox.height,node.intersect=function(point){return(0,_intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__.default)(node,point)},shapeSvg},roundedWithTitle:function roundedWithTitle(parent,node){var shapeSvg=parent.insert("g").attr("class",node.classes).attr("id",node.id),rect=shapeSvg.insert("rect",":first-child"),label=shapeSvg.insert("g").attr("class","cluster-label"),innerRect=shapeSvg.append("rect"),text=label.node().appendChild((0,_createLabel__WEBPACK_IMPORTED_MODULE_2__.default)(node.labelText,node.labelStyle,void 0,!0)),bbox=text.getBBox();if((0,_diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__.evaluate)((0,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)){var div=text.children[0],dv=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(text);bbox=div.getBoundingClientRect(),dv.attr("width",bbox.width),dv.attr("height",bbox.height)}bbox=text.getBBox();var padding=0*node.padding,halfPadding=padding/2,width=node.width<=bbox.width+node.padding?bbox.width+node.padding:node.width;node.width<=bbox.width+node.padding?node.diff=(bbox.width+0*node.padding-node.width)/2:node.diff=-node.padding/2,rect.attr("class","outer").attr("x",node.x-width/2-halfPadding).attr("y",node.y-node.height/2-halfPadding).attr("width",width+padding).attr("height",node.height+padding),innerRect.attr("class","inner").attr("x",node.x-width/2-halfPadding).attr("y",node.y-node.height/2-halfPadding+bbox.height-1).attr("width",width+padding).attr("height",node.height+padding-bbox.height-3),label.attr("transform","translate("+(node.x-bbox.width/2)+", "+(node.y-node.height/2-node.padding/3+((0,_diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__.evaluate)((0,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)?5:3))+")");var rectBox=rect.node().getBBox();return node.height=rectBox.height,node.intersect=function(point){return(0,_intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__.default)(node,point)},shapeSvg},noteGroup:function noteGroup(parent,node){var shapeSvg=parent.insert("g").attr("class","note-cluster").attr("id",node.id),rect=shapeSvg.insert("rect",":first-child"),padding=0*node.padding,halfPadding=padding/2;rect.attr("rx",node.rx).attr("ry",node.ry).attr("x",node.x-node.width/2-halfPadding).attr("y",node.y-node.height/2-halfPadding).attr("width",node.width+padding).attr("height",node.height+padding).attr("fill","none");var rectBox=rect.node().getBBox();return node.width=rectBox.width,node.height=rectBox.height,node.intersect=function(point){return(0,_intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__.default)(node,point)},shapeSvg},divider:function divider(parent,node){var shapeSvg=parent.insert("g").attr("class",node.classes).attr("id",node.id),rect=shapeSvg.insert("rect",":first-child"),padding=0*node.padding,halfPadding=padding/2;rect.attr("class","divider").attr("x",node.x-node.width/2-halfPadding).attr("y",node.y-node.height/2).attr("width",node.width+padding).attr("height",node.height+padding);var rectBox=rect.node().getBBox();return node.width=rectBox.width,node.height=rectBox.height,node.diff=-node.padding/2,node.intersect=function(point){return(0,_intersect_intersect_rect__WEBPACK_IMPORTED_MODULE_5__.default)(node,point)},shapeSvg}},clusterElems={},insertCluster=function insertCluster(elem,node){_logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("Inserting cluster");var shape=node.shape||"rect";clusterElems[node.id]=shapes[shape](elem,node)},getClusterTitleWidth=function getClusterTitleWidth(elem,node){var label=(0,_createLabel__WEBPACK_IMPORTED_MODULE_2__.default)(node.labelText,node.labelStyle,void 0,!0);elem.node().appendChild(label);var width=label.getBBox().width;return elem.node().removeChild(label),width},clear=function clear(){clusterElems={}},positionCluster=function positionCluster(node){_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Position cluster ("+node.id+", "+node.x+", "+node.y+")"),clusterElems[node.id].attr("transform","translate("+node.x+", "+node.y+")")}},"./src/dagre-wrapper/createLabel.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_372489__)=>{"use strict";__nested_webpack_require_372489__.r(__nested_webpack_exports__),__nested_webpack_require_372489__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_372489__("d3"),_logger__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_372489__("./src/logger.js"),_config__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_372489__("./src/config.js"),_diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_372489__("./src/diagrams/common/common.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}const __WEBPACK_DEFAULT_EXPORT__=function createLabel(_vertexText,style,isTitle,isNode){var vertexText=_vertexText||"";if("object"===_typeof(vertexText)&&(vertexText=vertexText[0]),(0,_diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0,_config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)){vertexText=vertexText.replace(/\\n|\n/g,"<br />"),_logger__WEBPACK_IMPORTED_MODULE_3__.log.info("vertexText"+vertexText);var vertexNode=function addHtmlLabel(node){var fo=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),div=fo.append("xhtml:div"),label=node.label,labelClass=node.isNode?"nodeLabel":"edgeLabel";return div.html('<span class="'+labelClass+'" '+(node.labelStyle?'style="'+node.labelStyle+'"':"")+">"+label+"</span>"),function applyStyle(dom,styleFn){styleFn&&dom.attr("style",styleFn)}(div,node.labelStyle),div.style("display","inline-block"),div.style("white-space","nowrap"),div.attr("xmlns","http://www.w3.org/1999/xhtml"),fo.node()}({isNode,label:vertexText.replace(/fa[lrsb]?:fa-[\w-]+/g,(function(s){return"<i class='".concat(s.replace(":"," "),"'></i>")})),labelStyle:style.replace("fill:","color:")});return vertexNode}var svgLabel=document.createElementNS("http://www.w3.org/2000/svg","text");svgLabel.setAttribute("style",style.replace("color:","fill:"));var rows=[];rows="string"==typeof vertexText?vertexText.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(vertexText)?vertexText:[];for(var j=0;j<rows.length;j++){var tspan=document.createElementNS("http://www.w3.org/2000/svg","tspan");tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),tspan.setAttribute("dy","1em"),tspan.setAttribute("x","0"),isTitle?tspan.setAttribute("class","title-row"):tspan.setAttribute("class","row"),tspan.textContent=rows[j].trim(),svgLabel.appendChild(tspan)}return svgLabel}},"./src/dagre-wrapper/edges.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_376912__)=>{"use strict";__nested_webpack_require_376912__.r(__nested_webpack_exports__),__nested_webpack_require_376912__.d(__nested_webpack_exports__,{clear:()=>clear,insertEdgeLabel:()=>insertEdgeLabel,positionEdgeLabel:()=>positionEdgeLabel,intersection:()=>intersection,insertEdge:()=>insertEdge});var _logger__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_376912__("./src/logger.js"),_createLabel__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_376912__("./src/dagre-wrapper/createLabel.js"),d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_376912__("d3"),_config__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_376912__("./src/config.js"),_utils__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_376912__("./src/utils.js"),_diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_376912__("./src/diagrams/common/common.js"),edgeLabels={},terminalLabels={},clear=function clear(){edgeLabels={},terminalLabels={}},insertEdgeLabel=function insertEdgeLabel(elem,edge){var labelElement=(0,_createLabel__WEBPACK_IMPORTED_MODULE_1__.default)(edge.label,edge.labelStyle),edgeLabel=elem.insert("g").attr("class","edgeLabel"),label=edgeLabel.insert("g").attr("class","label");label.node().appendChild(labelElement);var fo,bbox=labelElement.getBBox();if((0,_diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__.evaluate)((0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().flowchart.htmlLabels)){var div=labelElement.children[0],dv=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(labelElement);bbox=div.getBoundingClientRect(),dv.attr("width",bbox.width),dv.attr("height",bbox.height)}if(label.attr("transform","translate("+-bbox.width/2+", "+-bbox.height/2+")"),edgeLabels[edge.id]=edgeLabel,edge.width=bbox.width,edge.height=bbox.height,edge.startLabelLeft){var startLabelElement=(0,_createLabel__WEBPACK_IMPORTED_MODULE_1__.default)(edge.startLabelLeft,edge.labelStyle),startEdgeLabelLeft=elem.insert("g").attr("class","edgeTerminals"),inner=startEdgeLabelLeft.insert("g").attr("class","inner");fo=inner.node().appendChild(startLabelElement);var slBox=startLabelElement.getBBox();inner.attr("transform","translate("+-slBox.width/2+", "+-slBox.height/2+")"),terminalLabels[edge.id]||(terminalLabels[edge.id]={}),terminalLabels[edge.id].startLeft=startEdgeLabelLeft,setTerminalWidth(fo,edge.startLabelLeft)}if(edge.startLabelRight){var _startLabelElement=(0,_createLabel__WEBPACK_IMPORTED_MODULE_1__.default)(edge.startLabelRight,edge.labelStyle),startEdgeLabelRight=elem.insert("g").attr("class","edgeTerminals"),_inner=startEdgeLabelRight.insert("g").attr("class","inner");fo=startEdgeLabelRight.node().appendChild(_startLabelElement),_inner.node().appendChild(_startLabelElement);var _slBox=_startLabelElement.getBBox();_inner.attr("transform","translate("+-_slBox.width/2+", "+-_slBox.height/2+")"),terminalLabels[edge.id]||(terminalLabels[edge.id]={}),terminalLabels[edge.id].startRight=startEdgeLabelRight,setTerminalWidth(fo,edge.startLabelRight)}if(edge.endLabelLeft){var endLabelElement=(0,_createLabel__WEBPACK_IMPORTED_MODULE_1__.default)(edge.endLabelLeft,edge.labelStyle),endEdgeLabelLeft=elem.insert("g").attr("class","edgeTerminals"),_inner2=endEdgeLabelLeft.insert("g").attr("class","inner");fo=_inner2.node().appendChild(endLabelElement);var _slBox2=endLabelElement.getBBox();_inner2.attr("transform","translate("+-_slBox2.width/2+", "+-_slBox2.height/2+")"),endEdgeLabelLeft.node().appendChild(endLabelElement),terminalLabels[edge.id]||(terminalLabels[edge.id]={}),terminalLabels[edge.id].endLeft=endEdgeLabelLeft,setTerminalWidth(fo,edge.endLabelLeft)}if(edge.endLabelRight){var _endLabelElement=(0,_createLabel__WEBPACK_IMPORTED_MODULE_1__.default)(edge.endLabelRight,edge.labelStyle),endEdgeLabelRight=elem.insert("g").attr("class","edgeTerminals"),_inner3=endEdgeLabelRight.insert("g").attr("class","inner");fo=_inner3.node().appendChild(_endLabelElement);var _slBox3=_endLabelElement.getBBox();_inner3.attr("transform","translate("+-_slBox3.width/2+", "+-_slBox3.height/2+")"),endEdgeLabelRight.node().appendChild(_endLabelElement),terminalLabels[edge.id]||(terminalLabels[edge.id]={}),terminalLabels[edge.id].endRight=endEdgeLabelRight,setTerminalWidth(fo,edge.endLabelRight)}};function setTerminalWidth(fo,value){(0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().flowchart.htmlLabels&&fo&&(fo.style.width=9*value.length+"px",fo.style.height="12px")}var positionEdgeLabel=function positionEdgeLabel(edge,paths){_logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Moving label abc78 ",edge.id,edge.label,edgeLabels[edge.id]);var path=paths.updatedPath?paths.updatedPath:paths.originalPath;if(edge.label){var el=edgeLabels[edge.id],x=edge.x,y=edge.y;if(path){var pos=_utils__WEBPACK_IMPORTED_MODULE_5__.default.calcLabelPosition(path);_logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Moving label from (",x,",",y,") to (",pos.x,",",pos.y,") abc78")}el.attr("transform","translate("+x+", "+y+")")}if(edge.startLabelLeft){var _el=terminalLabels[edge.id].startLeft,_x2=edge.x,_y2=edge.y;if(path){var _pos=_utils__WEBPACK_IMPORTED_MODULE_5__.default.calcTerminalLabelPosition(edge.arrowTypeStart?10:0,"start_left",path);_x2=_pos.x,_y2=_pos.y}_el.attr("transform","translate("+_x2+", "+_y2+")")}if(edge.startLabelRight){var _el2=terminalLabels[edge.id].startRight,_x3=edge.x,_y3=edge.y;if(path){var _pos2=_utils__WEBPACK_IMPORTED_MODULE_5__.default.calcTerminalLabelPosition(edge.arrowTypeStart?10:0,"start_right",path);_x3=_pos2.x,_y3=_pos2.y}_el2.attr("transform","translate("+_x3+", "+_y3+")")}if(edge.endLabelLeft){var _el3=terminalLabels[edge.id].endLeft,_x4=edge.x,_y4=edge.y;if(path){var _pos3=_utils__WEBPACK_IMPORTED_MODULE_5__.default.calcTerminalLabelPosition(edge.arrowTypeEnd?10:0,"end_left",path);_x4=_pos3.x,_y4=_pos3.y}_el3.attr("transform","translate("+_x4+", "+_y4+")")}if(edge.endLabelRight){var _el4=terminalLabels[edge.id].endRight,_x5=edge.x,_y5=edge.y;if(path){var _pos4=_utils__WEBPACK_IMPORTED_MODULE_5__.default.calcTerminalLabelPosition(edge.arrowTypeEnd?10:0,"end_right",path);_x5=_pos4.x,_y5=_pos4.y}_el4.attr("transform","translate("+_x5+", "+_y5+")")}},intersection=function intersection(node,outsidePoint,insidePoint){_logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("intersection calc abc89:\n  outsidePoint: ".concat(JSON.stringify(outsidePoint),"\n  insidePoint : ").concat(JSON.stringify(insidePoint),"\n  node        : x:").concat(node.x," y:").concat(node.y," w:").concat(node.width," h:").concat(node.height));var x=node.x,y=node.y,dx=Math.abs(x-insidePoint.x),w=node.width/2,r=insidePoint.x<outsidePoint.x?w-dx:w+dx,h=node.height/2,Q=Math.abs(outsidePoint.y-insidePoint.y),R=Math.abs(outsidePoint.x-insidePoint.x);if(Math.abs(y-outsidePoint.y)*w>Math.abs(x-outsidePoint.x)*h){var q=insidePoint.y<outsidePoint.y?outsidePoint.y-h-y:y-h-outsidePoint.y;r=R*q/Q;var res={x:insidePoint.x<outsidePoint.x?insidePoint.x+r:insidePoint.x-R+r,y:insidePoint.y<outsidePoint.y?insidePoint.y+Q-q:insidePoint.y-Q+q};return 0===r&&(res.x=outsidePoint.x,res.y=outsidePoint.y),0===R&&(res.x=outsidePoint.x),0===Q&&(res.y=outsidePoint.y),_logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("abc89 topp/bott calc, Q ".concat(Q,", q ").concat(q,", R ").concat(R,", r ").concat(r),res),res}var _q=Q*(r=insidePoint.x<outsidePoint.x?outsidePoint.x-w-x:x-w-outsidePoint.x)/R,_x=insidePoint.x<outsidePoint.x?insidePoint.x+R-r:insidePoint.x-R+r,_y=insidePoint.y<outsidePoint.y?insidePoint.y+_q:insidePoint.y-_q;return _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("sides calc abc89, Q ".concat(Q,", q ").concat(_q,", R ").concat(R,", r ").concat(r),{_x,_y}),0===r&&(_x=outsidePoint.x,_y=outsidePoint.y),0===R&&(_x=outsidePoint.x),0===Q&&(_y=outsidePoint.y),{x:_x,y:_y}},cutPathAtIntersect=function cutPathAtIntersect(_points,boundryNode){_logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("abc88 cutPathAtIntersect",_points,boundryNode);var points=[],lastPointOutside=_points[0],isInside=!1;return _points.forEach((function(point){if(_logger__WEBPACK_IMPORTED_MODULE_4__.log.info("abc88 checking point",point,boundryNode),function outsideNode(node,point){var x=node.x,y=node.y,dx=Math.abs(point.x-x),dy=Math.abs(point.y-y),w=node.width/2,h=node.height/2;return dx>=w||dy>=h}(boundryNode,point)||isInside)_logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("abc88 outside",point,lastPointOutside),lastPointOutside=point,isInside||points.push(point);else{var inter=intersection(boundryNode,lastPointOutside,point);_logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("abc88 inside",point,lastPointOutside,inter),_logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("abc88 intersection",inter);var pointPresent=!1;points.forEach((function(p){pointPresent=pointPresent||p.x===inter.x&&p.y===inter.y})),points.find((function(e){return e.x===inter.x&&e.y===inter.y}))?_logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("abc88 no intersect",inter,points):points.push(inter),isInside=!0}})),_logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("abc88 returning points",points),points},insertEdge=function insertEdge(elem,e,edge,clusterDb,diagramType,graph){var points=edge.points,pointsHasChanged=!1,tail=graph.node(e.v),head=graph.node(e.w);_logger__WEBPACK_IMPORTED_MODULE_4__.log.info("abc88 InsertEdge: ",edge),head.intersect&&tail.intersect&&((points=points.slice(1,edge.points.length-1)).unshift(tail.intersect(points[0])),_logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Last point",points[points.length-1],head,head.intersect(points[points.length-1])),points.push(head.intersect(points[points.length-1]))),edge.toCluster&&(_logger__WEBPACK_IMPORTED_MODULE_4__.log.info("to cluster abc88",clusterDb[edge.toCluster]),points=cutPathAtIntersect(edge.points,clusterDb[edge.toCluster].node),pointsHasChanged=!0),edge.fromCluster&&(_logger__WEBPACK_IMPORTED_MODULE_4__.log.info("from cluster abc88",clusterDb[edge.fromCluster]),points=cutPathAtIntersect(points.reverse(),clusterDb[edge.fromCluster].node).reverse(),pointsHasChanged=!0);var curve,lineData=points.filter((function(p){return!Number.isNaN(p.y)}));curve=("graph"===diagramType||"flowchart"===diagramType)&&edge.curve||d3__WEBPACK_IMPORTED_MODULE_0__.curveBasis;var strokeClasses,lineFunction=(0,d3__WEBPACK_IMPORTED_MODULE_0__.line)().x((function(d){return d.x})).y((function(d){return d.y})).curve(curve);switch(edge.thickness){case"normal":strokeClasses="edge-thickness-normal";break;case"thick":strokeClasses="edge-thickness-thick";break;default:strokeClasses=""}switch(edge.pattern){case"solid":strokeClasses+=" edge-pattern-solid";break;case"dotted":strokeClasses+=" edge-pattern-dotted";break;case"dashed":strokeClasses+=" edge-pattern-dashed"}var svgPath=elem.append("path").attr("d",lineFunction(lineData)).attr("id",edge.id).attr("class"," "+strokeClasses+(edge.classes?" "+edge.classes:"")).attr("style",edge.style),url="";switch((0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().state.arrowMarkerAbsolute&&(url=(url=(url=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),_logger__WEBPACK_IMPORTED_MODULE_4__.log.info("arrowTypeStart",edge.arrowTypeStart),_logger__WEBPACK_IMPORTED_MODULE_4__.log.info("arrowTypeEnd",edge.arrowTypeEnd),edge.arrowTypeStart){case"arrow_cross":svgPath.attr("marker-start","url("+url+"#"+diagramType+"-crossStart)");break;case"arrow_point":svgPath.attr("marker-start","url("+url+"#"+diagramType+"-pointStart)");break;case"arrow_barb":svgPath.attr("marker-start","url("+url+"#"+diagramType+"-barbStart)");break;case"arrow_circle":svgPath.attr("marker-start","url("+url+"#"+diagramType+"-circleStart)");break;case"aggregation":svgPath.attr("marker-start","url("+url+"#"+diagramType+"-aggregationStart)");break;case"extension":svgPath.attr("marker-start","url("+url+"#"+diagramType+"-extensionStart)");break;case"composition":svgPath.attr("marker-start","url("+url+"#"+diagramType+"-compositionStart)");break;case"dependency":svgPath.attr("marker-start","url("+url+"#"+diagramType+"-dependencyStart)")}switch(edge.arrowTypeEnd){case"arrow_cross":svgPath.attr("marker-end","url("+url+"#"+diagramType+"-crossEnd)");break;case"arrow_point":svgPath.attr("marker-end","url("+url+"#"+diagramType+"-pointEnd)");break;case"arrow_barb":svgPath.attr("marker-end","url("+url+"#"+diagramType+"-barbEnd)");break;case"arrow_circle":svgPath.attr("marker-end","url("+url+"#"+diagramType+"-circleEnd)");break;case"aggregation":svgPath.attr("marker-end","url("+url+"#"+diagramType+"-aggregationEnd)");break;case"extension":svgPath.attr("marker-end","url("+url+"#"+diagramType+"-extensionEnd)");break;case"composition":svgPath.attr("marker-end","url("+url+"#"+diagramType+"-compositionEnd)");break;case"dependency":svgPath.attr("marker-end","url("+url+"#"+diagramType+"-dependencyEnd)")}var paths={};return pointsHasChanged&&(paths.updatedPath=points),paths.originalPath=edge.points,paths}},"./src/dagre-wrapper/index.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_400304__)=>{"use strict";__nested_webpack_require_400304__.r(__nested_webpack_exports__),__nested_webpack_require_400304__.d(__nested_webpack_exports__,{render:()=>render});var dagre__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_400304__("dagre"),dagre__WEBPACK_IMPORTED_MODULE_0___default=__nested_webpack_require_400304__.n(dagre__WEBPACK_IMPORTED_MODULE_0__),graphlib__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_400304__("graphlib"),graphlib__WEBPACK_IMPORTED_MODULE_1___default=__nested_webpack_require_400304__.n(graphlib__WEBPACK_IMPORTED_MODULE_1__),_markers__WEBPACK_IMPORTED_MODULE_8__=__nested_webpack_require_400304__("./src/dagre-wrapper/markers.js"),_shapes_util__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_400304__("./src/dagre-wrapper/shapes/util.js"),_mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_400304__("./src/dagre-wrapper/mermaid-graphlib.js"),_nodes__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_400304__("./src/dagre-wrapper/nodes.js"),_clusters__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_400304__("./src/dagre-wrapper/clusters.js"),_edges__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_400304__("./src/dagre-wrapper/edges.js"),_logger__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_400304__("./src/logger.js"),recursiveRender=function recursiveRender(_elem,graph,diagramtype,parentCluster){_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Graph in recursive render: XXX",graphlib__WEBPACK_IMPORTED_MODULE_1___default().json.write(graph),parentCluster);var dir=graph.graph().rankdir;_logger__WEBPACK_IMPORTED_MODULE_2__.log.trace("Dir in recursive render - dir:",dir);var elem=_elem.insert("g").attr("class","root");graph.nodes()?_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Recursive render XXX",graph.nodes()):_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("No nodes found for",graph),graph.edges().length>0&&_logger__WEBPACK_IMPORTED_MODULE_2__.log.trace("Recursive edges",graph.edge(graph.edges()[0]));var clusters=elem.insert("g").attr("class","clusters"),edgePaths=elem.insert("g").attr("class","edgePaths"),edgeLabels=elem.insert("g").attr("class","edgeLabels"),nodes=elem.insert("g").attr("class","nodes");graph.nodes().forEach((function(v){var node=graph.node(v);if(void 0!==parentCluster){var data=JSON.parse(JSON.stringify(parentCluster.clusterData));_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Setting data for cluster XXX (",v,") ",data,parentCluster),graph.setNode(parentCluster.id,data),graph.parent(v)||(_logger__WEBPACK_IMPORTED_MODULE_2__.log.trace("Setting parent",v,parentCluster.id),graph.setParent(v,parentCluster.id,data))}if(_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("(Insert) Node XXX"+v+": "+JSON.stringify(graph.node(v))),node&&node.clusterNode){_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Cluster identified",v,node.width,graph.node(v));var o=recursiveRender(nodes,node.graph,diagramtype,graph.node(v)),newEl=o.elem;(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,newEl),node.diff=o.diff||0,_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Node bounds (abc123)",v,node,node.width,node.x,node.y),(0,_nodes__WEBPACK_IMPORTED_MODULE_4__.setNodeElem)(newEl,node),_logger__WEBPACK_IMPORTED_MODULE_2__.log.warn("Recursive render complete ",newEl,node)}else graph.children(v).length>0?(_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Cluster - the non recursive path XXX",v,node.id,node,graph),_logger__WEBPACK_IMPORTED_MODULE_2__.log.info((0,_mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.findNonClusterChild)(node.id,graph)),_mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb[node.id]={id:(0,_mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.findNonClusterChild)(node.id,graph),node}):(_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Node - the non recursive path",v,node.id,node),(0,_nodes__WEBPACK_IMPORTED_MODULE_4__.insertNode)(nodes,graph.node(v),dir))})),graph.edges().forEach((function(e){var edge=graph.edge(e.v,e.w,e.name);_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e)),_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Edge "+e.v+" -> "+e.w+": ",e," ",JSON.stringify(graph.edge(e))),_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Fix",_mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb,"ids:",e.v,e.w,"Translateing: ",_mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb[e.v],_mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb[e.w]),(0,_edges__WEBPACK_IMPORTED_MODULE_6__.insertEdgeLabel)(edgeLabels,edge)})),graph.edges().forEach((function(e){_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e))})),_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("#############################################"),_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("###                Layout                 ###"),_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("#############################################"),_logger__WEBPACK_IMPORTED_MODULE_2__.log.info(graph),dagre__WEBPACK_IMPORTED_MODULE_0___default().layout(graph),_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Graph after layout:",graphlib__WEBPACK_IMPORTED_MODULE_1___default().json.write(graph));var diff=0;return(0,_mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.sortNodesByHierarchy)(graph).forEach((function(v){var node=graph.node(v);_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Position "+v+": "+JSON.stringify(graph.node(v))),_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Position "+v+": ("+node.x,","+node.y,") width: ",node.width," height: ",node.height),node&&node.clusterNode?(0,_nodes__WEBPACK_IMPORTED_MODULE_4__.positionNode)(node):graph.children(v).length>0?((0,_clusters__WEBPACK_IMPORTED_MODULE_7__.insertCluster)(clusters,node),_mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb[node.id].node=node):(0,_nodes__WEBPACK_IMPORTED_MODULE_4__.positionNode)(node)})),graph.edges().forEach((function(e){var edge=graph.edge(e);_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(edge),edge);var paths=(0,_edges__WEBPACK_IMPORTED_MODULE_6__.insertEdge)(edgePaths,e,edge,_mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clusterDb,diagramtype,graph);(0,_edges__WEBPACK_IMPORTED_MODULE_6__.positionEdgeLabel)(edge,paths)})),graph.nodes().forEach((function(v){var n=graph.node(v);_logger__WEBPACK_IMPORTED_MODULE_2__.log.info(v,n.type,n.diff),"group"===n.type&&(diff=n.diff)})),{elem,diff}},render=function render(elem,graph,markers,diagramtype,id){(0,_markers__WEBPACK_IMPORTED_MODULE_8__.default)(elem,markers,diagramtype,id),(0,_nodes__WEBPACK_IMPORTED_MODULE_4__.clear)(),(0,_edges__WEBPACK_IMPORTED_MODULE_6__.clear)(),(0,_clusters__WEBPACK_IMPORTED_MODULE_7__.clear)(),(0,_mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.clear)(),_logger__WEBPACK_IMPORTED_MODULE_2__.log.warn("Graph at first:",graphlib__WEBPACK_IMPORTED_MODULE_1___default().json.write(graph)),(0,_mermaid_graphlib__WEBPACK_IMPORTED_MODULE_5__.adjustClustersAndEdges)(graph),_logger__WEBPACK_IMPORTED_MODULE_2__.log.warn("Graph after:",graphlib__WEBPACK_IMPORTED_MODULE_1___default().json.write(graph)),recursiveRender(elem,graph,diagramtype)}},"./src/dagre-wrapper/intersect/index.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_410464__)=>{"use strict";__nested_webpack_require_410464__.r(__nested_webpack_exports__),__nested_webpack_require_410464__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _intersect_node_js__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_410464__("./src/dagre-wrapper/intersect/intersect-node.js"),_intersect_node_js__WEBPACK_IMPORTED_MODULE_0___default=__nested_webpack_require_410464__.n(_intersect_node_js__WEBPACK_IMPORTED_MODULE_0__),_intersect_circle_js__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_410464__("./src/dagre-wrapper/intersect/intersect-circle.js"),_intersect_ellipse_js__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_410464__("./src/dagre-wrapper/intersect/intersect-ellipse.js"),_intersect_polygon_js__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_410464__("./src/dagre-wrapper/intersect/intersect-polygon.js"),_intersect_rect_js__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_410464__("./src/dagre-wrapper/intersect/intersect-rect.js");const __WEBPACK_DEFAULT_EXPORT__={node:_intersect_node_js__WEBPACK_IMPORTED_MODULE_0___default(),circle:_intersect_circle_js__WEBPACK_IMPORTED_MODULE_1__.default,ellipse:_intersect_ellipse_js__WEBPACK_IMPORTED_MODULE_2__.default,polygon:_intersect_polygon_js__WEBPACK_IMPORTED_MODULE_3__.default,rect:_intersect_rect_js__WEBPACK_IMPORTED_MODULE_4__.default}},"./src/dagre-wrapper/intersect/intersect-circle.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_412591__)=>{"use strict";__nested_webpack_require_412591__.r(__nested_webpack_exports__),__nested_webpack_require_412591__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _intersect_ellipse__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_412591__("./src/dagre-wrapper/intersect/intersect-ellipse.js");const __WEBPACK_DEFAULT_EXPORT__=function intersectCircle(node,rx,point){return(0,_intersect_ellipse__WEBPACK_IMPORTED_MODULE_0__.default)(node,rx,rx,point)}},"./src/dagre-wrapper/intersect/intersect-ellipse.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_413608__)=>{"use strict";__nested_webpack_require_413608__.r(__nested_webpack_exports__),__nested_webpack_require_413608__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function intersectEllipse(node,rx,ry,point){var cx=node.x,cy=node.y,px=cx-point.x,py=cy-point.y,det=Math.sqrt(rx*rx*py*py+ry*ry*px*px),dx=Math.abs(rx*ry*px/det);point.x<cx&&(dx=-dx);var dy=Math.abs(rx*ry*py/det);return point.y<cy&&(dy=-dy),{x:cx+dx,y:cy+dy}}},"./src/dagre-wrapper/intersect/intersect-line.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_414801__)=>{"use strict";function sameSign(r1,r2){return r1*r2>0}__nested_webpack_require_414801__.r(__nested_webpack_exports__),__nested_webpack_require_414801__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function intersectLine(p1,p2,q1,q2){var a1,a2,b1,b2,c1,c2,r1,r2,r3,r4,denom,offset,num;if(a1=p2.y-p1.y,b1=p1.x-p2.x,c1=p2.x*p1.y-p1.x*p2.y,r3=a1*q1.x+b1*q1.y+c1,r4=a1*q2.x+b1*q2.y+c1,!(0!==r3&&0!==r4&&sameSign(r3,r4)||(a2=q2.y-q1.y,b2=q1.x-q2.x,c2=q2.x*q1.y-q1.x*q2.y,r1=a2*p1.x+b2*p1.y+c2,r2=a2*p2.x+b2*p2.y+c2,0!==r1&&0!==r2&&sameSign(r1,r2)||0===(denom=a1*b2-a2*b1))))return offset=Math.abs(denom/2),{x:(num=b1*c2-b2*c1)<0?(num-offset)/denom:(num+offset)/denom,y:(num=a2*c1-a1*c2)<0?(num-offset)/denom:(num+offset)/denom}}},"./src/dagre-wrapper/intersect/intersect-node.js":module=>{module.exports=function intersectNode(node,point){return node.intersect(point)}},"./src/dagre-wrapper/intersect/intersect-polygon.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_417843__)=>{"use strict";__nested_webpack_require_417843__.r(__nested_webpack_exports__),__nested_webpack_require_417843__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _intersect_line__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_417843__("./src/dagre-wrapper/intersect/intersect-line.js");const __WEBPACK_DEFAULT_EXPORT__=function intersectPolygon(node,polyPoints,point){var x1=node.x,y1=node.y,intersections=[],minX=Number.POSITIVE_INFINITY,minY=Number.POSITIVE_INFINITY;"function"==typeof polyPoints.forEach?polyPoints.forEach((function(entry){minX=Math.min(minX,entry.x),minY=Math.min(minY,entry.y)})):(minX=Math.min(minX,polyPoints.x),minY=Math.min(minY,polyPoints.y));for(var left=x1-node.width/2-minX,top=y1-node.height/2-minY,i=0;i<polyPoints.length;i++){var p1=polyPoints[i],p2=polyPoints[i<polyPoints.length-1?i+1:0],intersect=(0,_intersect_line__WEBPACK_IMPORTED_MODULE_0__.default)(node,point,{x:left+p1.x,y:top+p1.y},{x:left+p2.x,y:top+p2.y});intersect&&intersections.push(intersect)}if(!intersections.length)return node;intersections.length>1&&intersections.sort((function(p,q){var pdx=p.x-point.x,pdy=p.y-point.y,distp=Math.sqrt(pdx*pdx+pdy*pdy),qdx=q.x-point.x,qdy=q.y-point.y,distq=Math.sqrt(qdx*qdx+qdy*qdy);return distp<distq?-1:distp===distq?0:1}));return intersections[0]}},"./src/dagre-wrapper/intersect/intersect-rect.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_420442__)=>{"use strict";__nested_webpack_require_420442__.r(__nested_webpack_exports__),__nested_webpack_require_420442__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function intersectRect(node,point){var sx,sy,x=node.x,y=node.y,dx=point.x-x,dy=point.y-y,w=node.width/2,h=node.height/2;return Math.abs(dy)*w>Math.abs(dx)*h?(dy<0&&(h=-h),sx=0===dy?0:h*dx/dy,sy=h):(dx<0&&(w=-w),sx=w,sy=0===dx?0:w*dy/dx),{x:x+sx,y:y+sy}}},"./src/dagre-wrapper/markers.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_421716__)=>{"use strict";__nested_webpack_require_421716__.r(__nested_webpack_exports__),__nested_webpack_require_421716__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _logger__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_421716__("./src/logger.js"),markers={extension:function extension(elem,type,id){_logger__WEBPACK_IMPORTED_MODULE_0__.log.trace("Making markers for ",id),elem.append("defs").append("marker").attr("id",type+"-extensionStart").attr("class","marker extension "+type).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),elem.append("defs").append("marker").attr("id",type+"-extensionEnd").attr("class","marker extension "+type).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:function composition(elem,type){elem.append("defs").append("marker").attr("id",type+"-compositionStart").attr("class","marker composition "+type).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),elem.append("defs").append("marker").attr("id",type+"-compositionEnd").attr("class","marker composition "+type).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:function aggregation(elem,type){elem.append("defs").append("marker").attr("id",type+"-aggregationStart").attr("class","marker aggregation "+type).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),elem.append("defs").append("marker").attr("id",type+"-aggregationEnd").attr("class","marker aggregation "+type).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:function dependency(elem,type){elem.append("defs").append("marker").attr("id",type+"-dependencyStart").attr("class","marker dependency "+type).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),elem.append("defs").append("marker").attr("id",type+"-dependencyEnd").attr("class","marker dependency "+type).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},point:function point(elem,type){elem.append("marker").attr("id",type+"-pointEnd").attr("class","marker "+type).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),elem.append("marker").attr("id",type+"-pointStart").attr("class","marker "+type).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:function circle(elem,type){elem.append("marker").attr("id",type+"-circleEnd").attr("class","marker "+type).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),elem.append("marker").attr("id",type+"-circleStart").attr("class","marker "+type).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:function cross(elem,type){elem.append("marker").attr("id",type+"-crossEnd").attr("class","marker cross "+type).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),elem.append("marker").attr("id",type+"-crossStart").attr("class","marker cross "+type).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:function barb(elem,type){elem.append("defs").append("marker").attr("id",type+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}};const __WEBPACK_DEFAULT_EXPORT__=function insertMarkers(elem,markerArray,type,id){markerArray.forEach((function(markerName){markers[markerName](elem,type,id)}))}},"./src/dagre-wrapper/mermaid-graphlib.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_428559__)=>{"use strict";__nested_webpack_require_428559__.r(__nested_webpack_exports__),__nested_webpack_require_428559__.d(__nested_webpack_exports__,{clusterDb:()=>clusterDb,clear:()=>clear,extractDecendants:()=>extractDecendants,validate:()=>validate,findNonClusterChild:()=>findNonClusterChild,adjustClustersAndEdges:()=>adjustClustersAndEdges,extractor:()=>extractor,sortNodesByHierarchy:()=>sortNodesByHierarchy});var _logger__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_428559__("./src/logger.js"),graphlib__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_428559__("graphlib"),graphlib__WEBPACK_IMPORTED_MODULE_0___default=__nested_webpack_require_428559__.n(graphlib__WEBPACK_IMPORTED_MODULE_0__),clusterDb={},decendants={},parents={},clear=function clear(){decendants={},parents={},clusterDb={}},isDecendant=function isDecendant(id,ancenstorId){return _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("In isDecendant",ancenstorId," ",id," = ",decendants[ancenstorId].indexOf(id)>=0),decendants[ancenstorId].indexOf(id)>=0},copy=function copy(clusterId,graph,newGraph,rootId){_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Copying children of ",clusterId,"root",rootId,"data",graph.node(clusterId),rootId);var nodes=graph.children(clusterId)||[];clusterId!==rootId&&nodes.push(clusterId),_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Copying (nodes) clusterId",clusterId,"nodes",nodes),nodes.forEach((function(node){if(graph.children(node).length>0)copy(node,graph,newGraph,rootId);else{var data=graph.node(node);_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("cp ",node," to ",rootId," with parent ",clusterId),newGraph.setNode(node,data),rootId!==graph.parent(node)&&(_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Setting parent",node,graph.parent(node)),newGraph.setParent(node,graph.parent(node))),clusterId!==rootId&&node!==clusterId?(_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Setting parent",node,clusterId),newGraph.setParent(node,clusterId)):(_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("In copy ",clusterId,"root",rootId,"data",graph.node(clusterId),rootId),_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Not Setting parent for node=",node,"cluster!==rootId",clusterId!==rootId,"node!==clusterId",node!==clusterId));var edges=graph.edges(node);_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Copying Edges",edges),edges.forEach((function(edge){_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Edge",edge);var data=graph.edge(edge.v,edge.w,edge.name);_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Edge data",data,rootId);try{!function edgeInCluster(edge,clusterId){return _logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Decendants of ",clusterId," is ",decendants[clusterId]),_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Edge is ",edge),edge.v!==clusterId&&edge.w!==clusterId&&(decendants[clusterId]?(_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Here "),decendants[clusterId].indexOf(edge.v)>=0||!!isDecendant(edge.v,clusterId)||!!isDecendant(edge.w,clusterId)||decendants[clusterId].indexOf(edge.w)>=0):(_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Tilt, ",clusterId,",not in decendants"),!1))}(edge,rootId)?_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Skipping copy of edge ",edge.v,"--\x3e",edge.w," rootId: ",rootId," clusterId:",clusterId):(_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Copying as ",edge.v,edge.w,data,edge.name),newGraph.setEdge(edge.v,edge.w,data,edge.name),_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("newGraph edges ",newGraph.edges(),newGraph.edge(newGraph.edges()[0])))}catch(e){_logger__WEBPACK_IMPORTED_MODULE_1__.log.error(e)}}))}_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Removing node",node),graph.removeNode(node)}))},extractDecendants=function extractDecendants(id,graph){for(var children=graph.children(id),res=[].concat(children),i=0;i<children.length;i++)parents[children[i]]=id,res=res.concat(extractDecendants(children[i],graph));return res},validate=function validate(graph){var edges=graph.edges();_logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("Edges: ",edges);for(var i=0;i<edges.length;i++){if(graph.children(edges[i].v).length>0)return _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("The node ",edges[i].v," is part of and edge even though it has children"),!1;if(graph.children(edges[i].w).length>0)return _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("The node ",edges[i].w," is part of and edge even though it has children"),!1}return!0},findNonClusterChild=function findNonClusterChild(id,graph){_logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("Searching",id);var children=graph.children(id);if(_logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("Searching children of id ",id,children),children.length<1)return _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("This is a valid node",id),id;for(var i=0;i<children.length;i++){var _id=findNonClusterChild(children[i],graph);if(_id)return _logger__WEBPACK_IMPORTED_MODULE_1__.log.trace("Found replacement for",id," => ",_id),_id}},getAnchorId=function getAnchorId(id){return clusterDb[id]&&clusterDb[id].externalConnections&&clusterDb[id]?clusterDb[id].id:id},adjustClustersAndEdges=function adjustClustersAndEdges(graph,depth){!graph||depth>10?_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Opting out, no graph "):(_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Opting in, graph "),graph.nodes().forEach((function(id){graph.children(id).length>0&&(_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Cluster identified",id," Replacement id in edges: ",findNonClusterChild(id,graph)),decendants[id]=extractDecendants(id,graph),clusterDb[id]={id:findNonClusterChild(id,graph),clusterData:graph.node(id)})})),graph.nodes().forEach((function(id){var children=graph.children(id),edges=graph.edges();children.length>0?(_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Cluster identified",id,decendants),edges.forEach((function(edge){edge.v!==id&&edge.w!==id&&(isDecendant(edge.v,id)^isDecendant(edge.w,id)&&(_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Edge: ",edge," leaves cluster ",id),_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Decendants of XXX ",id,": ",decendants[id]),clusterDb[id].externalConnections=!0))}))):_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Not a cluster ",id,decendants)})),graph.edges().forEach((function(e){var edge=graph.edge(e);_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e)),_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(graph.edge(e)));var v=e.v,w=e.w;_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Fix XXX",clusterDb,"ids:",e.v,e.w,"Translateing: ",clusterDb[e.v]," --- ",clusterDb[e.w]),(clusterDb[e.v]||clusterDb[e.w])&&(_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Fixing and trixing - removing XXX",e.v,e.w,e.name),v=getAnchorId(e.v),w=getAnchorId(e.w),graph.removeEdge(e.v,e.w,e.name),v!==e.v&&(edge.fromCluster=e.v),w!==e.w&&(edge.toCluster=e.w),_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Fix Replacing with XXX",v,w,e.name),graph.setEdge(v,w,edge,e.name))})),_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Adjusted Graph",graphlib__WEBPACK_IMPORTED_MODULE_0___default().json.write(graph)),extractor(graph,0),_logger__WEBPACK_IMPORTED_MODULE_1__.log.trace(clusterDb))},extractor=function extractor(graph,depth){if(_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("extractor - ",depth,graphlib__WEBPACK_IMPORTED_MODULE_0___default().json.write(graph),graph.children("D")),depth>10)_logger__WEBPACK_IMPORTED_MODULE_1__.log.error("Bailing out");else{for(var nodes=graph.nodes(),hasChildren=!1,i=0;i<nodes.length;i++){var node=nodes[i],children=graph.children(node);hasChildren=hasChildren||children.length>0}if(hasChildren){_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Nodes = ",nodes,depth);for(var _i=0;_i<nodes.length;_i++){var _node=nodes[_i];if(_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Extracting node",_node,clusterDb,clusterDb[_node]&&!clusterDb[_node].externalConnections,!graph.parent(_node),graph.node(_node),graph.children("D")," Depth ",depth),clusterDb[_node])if(!clusterDb[_node].externalConnections&&graph.children(_node)&&graph.children(_node).length>0){_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Cluster without external connections, without a parent and with children",_node,depth);var dir="TB"===graph.graph().rankdir?"LR":"TB";clusterDb[_node]&&clusterDb[_node].clusterData&&clusterDb[_node].clusterData.dir&&(dir=clusterDb[_node].clusterData.dir,_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Fixing dir",clusterDb[_node].clusterData.dir,dir));var clusterGraph=new(graphlib__WEBPACK_IMPORTED_MODULE_0___default().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:dir,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Old graph before copy",graphlib__WEBPACK_IMPORTED_MODULE_0___default().json.write(graph)),copy(_node,graph,clusterGraph,_node),graph.setNode(_node,{clusterNode:!0,id:_node,clusterData:clusterDb[_node].clusterData,labelText:clusterDb[_node].labelText,graph:clusterGraph}),_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("New graph after copy node: (",_node,")",graphlib__WEBPACK_IMPORTED_MODULE_0___default().json.write(clusterGraph)),_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Old graph after copy",graphlib__WEBPACK_IMPORTED_MODULE_0___default().json.write(graph))}else _logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Cluster ** ",_node," **not meeting the criteria !externalConnections:",!clusterDb[_node].externalConnections," no parent: ",!graph.parent(_node)," children ",graph.children(_node)&&graph.children(_node).length>0,graph.children("D"),depth),_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug(clusterDb);else _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Not a cluster",_node,depth)}nodes=graph.nodes(),_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("New list of nodes",nodes);for(var _i2=0;_i2<nodes.length;_i2++){var _node2=nodes[_i2],data=graph.node(_node2);_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn(" Now next level",_node2,data),data.clusterNode&&extractor(data.graph,depth+1)}}else _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Done, no node has children",graph.nodes())}},sorter=function sorter(graph,nodes){if(0===nodes.length)return[];var result=Object.assign(nodes);return nodes.forEach((function(node){var children=graph.children(node),sorted=sorter(graph,children);result=result.concat(sorted)})),result},sortNodesByHierarchy=function sortNodesByHierarchy(graph){return sorter(graph,graph.children())}},"./src/dagre-wrapper/nodes.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_444816__)=>{"use strict";__nested_webpack_require_444816__.r(__nested_webpack_exports__),__nested_webpack_require_444816__.d(__nested_webpack_exports__,{insertNode:()=>insertNode,setNodeElem:()=>setNodeElem,clear:()=>clear,positionNode:()=>positionNode});var d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_444816__("d3"),_logger__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_444816__("./src/logger.js"),_shapes_util__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_444816__("./src/dagre-wrapper/shapes/util.js"),_config__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_444816__("./src/config.js"),_intersect_index_js__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_444816__("./src/dagre-wrapper/intersect/index.js"),_createLabel__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_444816__("./src/dagre-wrapper/createLabel.js"),_shapes_note__WEBPACK_IMPORTED_MODULE_8__=__nested_webpack_require_444816__("./src/dagre-wrapper/shapes/note.js"),_diagrams_class_svgDraw__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_444816__("./src/diagrams/class/svgDraw.js"),_diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_444816__("./src/diagrams/common/common.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var forkJoin=function forkJoin(parent,node,dir){var shapeSvg=parent.insert("g").attr("class","node default").attr("id",node.domId||node.id),width=70,height=10;"LR"===dir&&(width=10,height=70);var shape=shapeSvg.append("rect").attr("x",-1*width/2).attr("y",-1*height/2).attr("width",width).attr("height",height).attr("class","fork-join");return(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,shape),node.height=node.height+node.padding/2,node.width=node.width+node.padding/2,node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.rect(node,point)},shapeSvg},shapes={question:function question(parent,node){var _labelHelper=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent,node,void 0,!0),shapeSvg=_labelHelper.shapeSvg,bbox=_labelHelper.bbox,s=bbox.width+node.padding+(bbox.height+node.padding),points=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];_logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Question main (Circle)");var questionElem=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg,s,s,points);return questionElem.attr("style",node.style),(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,questionElem),node.intersect=function(point){return _logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("Intersect called"),_intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.polygon(node,points,point)},shapeSvg},rect:function rect(parent,node){var _labelHelper10=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent,node,"node "+node.classes,!0),shapeSvg=_labelHelper10.shapeSvg,bbox=_labelHelper10.bbox,halfPadding=_labelHelper10.halfPadding;_logger__WEBPACK_IMPORTED_MODULE_4__.log.trace("Classes = ",node.classes);var rect=shapeSvg.insert("rect",":first-child"),totalWidth=bbox.width+node.padding,totalHeight=bbox.height+node.padding;if(rect.attr("class","basic label-container").attr("style",node.style).attr("rx",node.rx).attr("ry",node.ry).attr("x",-bbox.width/2-halfPadding).attr("y",-bbox.height/2-halfPadding).attr("width",totalWidth).attr("height",totalHeight),node.props){var propKeys=new Set(Object.keys(node.props));node.props.borders&&(!function applyNodePropertyBorders(rect,borders,totalWidth,totalHeight){var strokeDashArray=[],addBorder=function addBorder(length){strokeDashArray.push(length),strokeDashArray.push(0)},skipBorder=function skipBorder(length){strokeDashArray.push(0),strokeDashArray.push(length)};borders.includes("t")?(_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("add top border"),addBorder(totalWidth)):skipBorder(totalWidth);borders.includes("r")?(_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("add right border"),addBorder(totalHeight)):skipBorder(totalHeight);borders.includes("b")?(_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("add bottom border"),addBorder(totalWidth)):skipBorder(totalWidth);borders.includes("l")?(_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("add left border"),addBorder(totalHeight)):skipBorder(totalHeight);rect.attr("stroke-dasharray",strokeDashArray.join(" "))}(rect,node.props.borders,totalWidth,totalHeight),propKeys.delete("borders")),propKeys.forEach((function(propKey){_logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("Unknown node property ".concat(propKey))}))}return(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,rect),node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.rect(node,point)},shapeSvg},rectWithTitle:function rectWithTitle(parent,node){var classes;classes=node.classes?"node "+node.classes:"node default";var shapeSvg=parent.insert("g").attr("class",classes).attr("id",node.domId||node.id),rect=shapeSvg.insert("rect",":first-child"),innerLine=shapeSvg.insert("line"),label=shapeSvg.insert("g").attr("class","label"),text2=node.labelText.flat?node.labelText.flat():node.labelText,title="";title="object"===_typeof(text2)?text2[0]:text2,_logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Label text abc79",title,text2,"object"===_typeof(text2));var text=label.node().appendChild((0,_createLabel__WEBPACK_IMPORTED_MODULE_6__.default)(title,node.labelStyle,!0,!0)),bbox={width:0,height:0};if((0,_diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0,_config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)){var div=text.children[0],dv=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(text);bbox=div.getBoundingClientRect(),dv.attr("width",bbox.width),dv.attr("height",bbox.height)}_logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Text 2",text2);var textRows=text2.slice(1,text2.length),titleBox=text.getBBox(),descr=label.node().appendChild((0,_createLabel__WEBPACK_IMPORTED_MODULE_6__.default)(textRows.join?textRows.join("<br/>"):textRows,node.labelStyle,!0,!0));if((0,_diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0,_config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)){var _div=descr.children[0],_dv=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(descr);bbox=_div.getBoundingClientRect(),_dv.attr("width",bbox.width),_dv.attr("height",bbox.height)}var halfPadding=node.padding/2;return(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(descr).attr("transform","translate( "+(bbox.width>titleBox.width?0:(titleBox.width-bbox.width)/2)+", "+(titleBox.height+halfPadding+5)+")"),(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(text).attr("transform","translate( "+(bbox.width<titleBox.width?0:-(titleBox.width-bbox.width)/2)+", 0)"),bbox=label.node().getBBox(),label.attr("transform","translate("+-bbox.width/2+", "+(-bbox.height/2-halfPadding+3)+")"),rect.attr("class","outer title-state").attr("x",-bbox.width/2-halfPadding).attr("y",-bbox.height/2-halfPadding).attr("width",bbox.width+node.padding).attr("height",bbox.height+node.padding),innerLine.attr("class","divider").attr("x1",-bbox.width/2-halfPadding).attr("x2",bbox.width/2+halfPadding).attr("y1",-bbox.height/2-halfPadding+titleBox.height+halfPadding).attr("y2",-bbox.height/2-halfPadding+titleBox.height+halfPadding),(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,rect),node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.rect(node,point)},shapeSvg},choice:function choice(parent,node){var shapeSvg=parent.insert("g").attr("class","node default").attr("id",node.domId||node.id),points=[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}],choice=shapeSvg.insert("polygon",":first-child").attr("points",points.map((function(d){return d.x+","+d.y})).join(" "));return choice.attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),node.width=28,node.height=28,node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.circle(node,14,point)},shapeSvg},circle:function circle(parent,node){var _labelHelper12=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent,node,void 0,!0),shapeSvg=_labelHelper12.shapeSvg,bbox=_labelHelper12.bbox,halfPadding=_labelHelper12.halfPadding,circle=shapeSvg.insert("circle",":first-child");return circle.attr("style",node.style).attr("rx",node.rx).attr("ry",node.ry).attr("r",bbox.width/2+halfPadding).attr("width",bbox.width+node.padding).attr("height",bbox.height+node.padding),_logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Circle main"),(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,circle),node.intersect=function(point){return _logger__WEBPACK_IMPORTED_MODULE_4__.log.info("Circle intersect",node,bbox.width/2+halfPadding,point),_intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.circle(node,bbox.width/2+halfPadding,point)},shapeSvg},stadium:function stadium(parent,node){var _labelHelper11=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent,node,void 0,!0),shapeSvg=_labelHelper11.shapeSvg,bbox=_labelHelper11.bbox,h=bbox.height+node.padding,w=bbox.width+h/4+node.padding,rect=shapeSvg.insert("rect",":first-child").attr("style",node.style).attr("rx",h/2).attr("ry",h/2).attr("x",-w/2).attr("y",-h/2).attr("width",w).attr("height",h);return(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,rect),node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.rect(node,point)},shapeSvg},hexagon:function hexagon(parent,node){var _labelHelper2=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent,node,void 0,!0),shapeSvg=_labelHelper2.shapeSvg,bbox=_labelHelper2.bbox,h=bbox.height+node.padding,m=h/4,w=bbox.width+2*m+node.padding,points=[{x:m,y:0},{x:w-m,y:0},{x:w,y:-h/2},{x:w-m,y:-h},{x:m,y:-h},{x:0,y:-h/2}],hex=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg,w,h,points);return hex.attr("style",node.style),(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,hex),node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.polygon(node,points,point)},shapeSvg},rect_left_inv_arrow:function rect_left_inv_arrow(parent,node){var _labelHelper3=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent,node,void 0,!0),shapeSvg=_labelHelper3.shapeSvg,bbox=_labelHelper3.bbox,w=bbox.width+node.padding,h=bbox.height+node.padding,points=[{x:-h/2,y:0},{x:w,y:0},{x:w,y:-h},{x:-h/2,y:-h},{x:0,y:-h/2}];return(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg,w,h,points).attr("style",node.style),node.width=w+h,node.height=h,node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.polygon(node,points,point)},shapeSvg},lean_right:function lean_right(parent,node){var _labelHelper4=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent,node,void 0,!0),shapeSvg=_labelHelper4.shapeSvg,bbox=_labelHelper4.bbox,w=bbox.width+node.padding,h=bbox.height+node.padding,points=[{x:-2*h/6,y:0},{x:w-h/6,y:0},{x:w+2*h/6,y:-h},{x:h/6,y:-h}],el=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg,w,h,points);return el.attr("style",node.style),(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,el),node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.polygon(node,points,point)},shapeSvg},lean_left:function lean_left(parent,node){var _labelHelper5=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent,node,void 0,!0),shapeSvg=_labelHelper5.shapeSvg,bbox=_labelHelper5.bbox,w=bbox.width+node.padding,h=bbox.height+node.padding,points=[{x:2*h/6,y:0},{x:w+h/6,y:0},{x:w-2*h/6,y:-h},{x:-h/6,y:-h}],el=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg,w,h,points);return el.attr("style",node.style),(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,el),node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.polygon(node,points,point)},shapeSvg},trapezoid:function trapezoid(parent,node){var _labelHelper6=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent,node,void 0,!0),shapeSvg=_labelHelper6.shapeSvg,bbox=_labelHelper6.bbox,w=bbox.width+node.padding,h=bbox.height+node.padding,points=[{x:-2*h/6,y:0},{x:w+2*h/6,y:0},{x:w-h/6,y:-h},{x:h/6,y:-h}],el=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg,w,h,points);return el.attr("style",node.style),(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,el),node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.polygon(node,points,point)},shapeSvg},inv_trapezoid:function inv_trapezoid(parent,node){var _labelHelper7=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent,node,void 0,!0),shapeSvg=_labelHelper7.shapeSvg,bbox=_labelHelper7.bbox,w=bbox.width+node.padding,h=bbox.height+node.padding,points=[{x:h/6,y:0},{x:w-h/6,y:0},{x:w+2*h/6,y:-h},{x:-2*h/6,y:-h}],el=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg,w,h,points);return el.attr("style",node.style),(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,el),node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.polygon(node,points,point)},shapeSvg},rect_right_inv_arrow:function rect_right_inv_arrow(parent,node){var _labelHelper8=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent,node,void 0,!0),shapeSvg=_labelHelper8.shapeSvg,bbox=_labelHelper8.bbox,w=bbox.width+node.padding,h=bbox.height+node.padding,points=[{x:0,y:0},{x:w+h/2,y:0},{x:w,y:-h/2},{x:w+h/2,y:-h},{x:0,y:-h}],el=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg,w,h,points);return el.attr("style",node.style),(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,el),node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.polygon(node,points,point)},shapeSvg},cylinder:function cylinder(parent,node){var _labelHelper9=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent,node,void 0,!0),shapeSvg=_labelHelper9.shapeSvg,bbox=_labelHelper9.bbox,w=bbox.width+node.padding,rx=w/2,ry=rx/(2.5+w/50),h=bbox.height+ry+node.padding,shape="M 0,"+ry+" a "+rx+","+ry+" 0,0,0 "+w+" 0 a "+rx+","+ry+" 0,0,0 "+-w+" 0 l 0,"+h+" a "+rx+","+ry+" 0,0,0 "+w+" 0 l 0,"+-h,el=shapeSvg.attr("label-offset-y",ry).insert("path",":first-child").attr("style",node.style).attr("d",shape).attr("transform","translate("+-w/2+","+-(h/2+ry)+")");return(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,el),node.intersect=function(point){var pos=_intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.rect(node,point),x=pos.x-node.x;if(0!=rx&&(Math.abs(x)<node.width/2||Math.abs(x)==node.width/2&&Math.abs(pos.y-node.y)>node.height/2-ry)){var y=ry*ry*(1-x*x/(rx*rx));0!=y&&(y=Math.sqrt(y)),y=ry-y,point.y-node.y>0&&(y=-y),pos.y+=y}return pos},shapeSvg},start:function start(parent,node){var shapeSvg=parent.insert("g").attr("class","node default").attr("id",node.domId||node.id),circle=shapeSvg.insert("circle",":first-child");return circle.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,circle),node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.circle(node,7,point)},shapeSvg},end:function end(parent,node){var shapeSvg=parent.insert("g").attr("class","node default").attr("id",node.domId||node.id),innerCircle=shapeSvg.insert("circle",":first-child"),circle=shapeSvg.insert("circle",":first-child");return circle.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),innerCircle.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,circle),node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.circle(node,7,point)},shapeSvg},note:_shapes_note__WEBPACK_IMPORTED_MODULE_8__.default,subroutine:function subroutine(parent,node){var _labelHelper13=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.labelHelper)(parent,node,void 0,!0),shapeSvg=_labelHelper13.shapeSvg,bbox=_labelHelper13.bbox,w=bbox.width+node.padding,h=bbox.height+node.padding,points=[{x:0,y:0},{x:w,y:0},{x:w,y:-h},{x:0,y:-h},{x:0,y:0},{x:-8,y:0},{x:w+8,y:0},{x:w+8,y:-h},{x:-8,y:-h},{x:-8,y:0}],el=(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.insertPolygonShape)(shapeSvg,w,h,points);return el.attr("style",node.style),(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,el),node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.polygon(node,points,point)},shapeSvg},fork:forkJoin,join:forkJoin,class_box:function class_box(parent,node){var classes,halfPadding=node.padding/2;classes=node.classes?"node "+node.classes:"node default";var shapeSvg=parent.insert("g").attr("class",classes).attr("id",node.domId||node.id),rect=shapeSvg.insert("rect",":first-child"),topLine=shapeSvg.insert("line"),bottomLine=shapeSvg.insert("line"),maxWidth=0,maxHeight=4,labelContainer=shapeSvg.insert("g").attr("class","label"),verticalPos=0,hasInterface=node.classData.annotations&&node.classData.annotations[0],interfaceLabelText=node.classData.annotations[0]?""+node.classData.annotations[0]+"":"",interfaceLabel=labelContainer.node().appendChild((0,_createLabel__WEBPACK_IMPORTED_MODULE_6__.default)(interfaceLabelText,node.labelStyle,!0,!0)),interfaceBBox=interfaceLabel.getBBox();if((0,_diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0,_config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)){var div=interfaceLabel.children[0],dv=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(interfaceLabel);interfaceBBox=div.getBoundingClientRect(),dv.attr("width",interfaceBBox.width),dv.attr("height",interfaceBBox.height)}node.classData.annotations[0]&&(maxHeight+=interfaceBBox.height+4,maxWidth+=interfaceBBox.width);var classTitleString=node.classData.id;void 0!==node.classData.type&&""!==node.classData.type&&((0,_config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels?classTitleString+="&lt;"+node.classData.type+"&gt;":classTitleString+="<"+node.classData.type+">");var classTitleLabel=labelContainer.node().appendChild((0,_createLabel__WEBPACK_IMPORTED_MODULE_6__.default)(classTitleString,node.labelStyle,!0,!0));(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(classTitleLabel).attr("class","classTitle");var classTitleBBox=classTitleLabel.getBBox();if((0,_diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0,_config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)){var _div2=classTitleLabel.children[0],_dv2=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(classTitleLabel);classTitleBBox=_div2.getBoundingClientRect(),_dv2.attr("width",classTitleBBox.width),_dv2.attr("height",classTitleBBox.height)}maxHeight+=classTitleBBox.height+4,classTitleBBox.width>maxWidth&&(maxWidth=classTitleBBox.width);var classAttributes=[];node.classData.members.forEach((function(str){var parsedInfo=(0,_diagrams_class_svgDraw__WEBPACK_IMPORTED_MODULE_7__.parseMember)(str),parsedText=parsedInfo.displayText;(0,_config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels&&(parsedText=parsedText.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var lbl=labelContainer.node().appendChild((0,_createLabel__WEBPACK_IMPORTED_MODULE_6__.default)(parsedText,parsedInfo.cssStyle?parsedInfo.cssStyle:node.labelStyle,!0,!0)),bbox=lbl.getBBox();if((0,_diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0,_config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)){var _div3=lbl.children[0],_dv3=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(lbl);bbox=_div3.getBoundingClientRect(),_dv3.attr("width",bbox.width),_dv3.attr("height",bbox.height)}bbox.width>maxWidth&&(maxWidth=bbox.width),maxHeight+=bbox.height+4,classAttributes.push(lbl)})),maxHeight+=8;var classMethods=[];if(node.classData.methods.forEach((function(str){var parsedInfo=(0,_diagrams_class_svgDraw__WEBPACK_IMPORTED_MODULE_7__.parseMember)(str),displayText=parsedInfo.displayText;(0,_config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels&&(displayText=displayText.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var lbl=labelContainer.node().appendChild((0,_createLabel__WEBPACK_IMPORTED_MODULE_6__.default)(displayText,parsedInfo.cssStyle?parsedInfo.cssStyle:node.labelStyle,!0,!0)),bbox=lbl.getBBox();if((0,_diagrams_common_common__WEBPACK_IMPORTED_MODULE_1__.evaluate)((0,_config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().flowchart.htmlLabels)){var _div4=lbl.children[0],_dv4=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(lbl);bbox=_div4.getBoundingClientRect(),_dv4.attr("width",bbox.width),_dv4.attr("height",bbox.height)}bbox.width>maxWidth&&(maxWidth=bbox.width),maxHeight+=bbox.height+4,classMethods.push(lbl)})),maxHeight+=8,hasInterface){var _diffX=(maxWidth-interfaceBBox.width)/2;(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(interfaceLabel).attr("transform","translate( "+(-1*maxWidth/2+_diffX)+", "+-1*maxHeight/2+")"),verticalPos=interfaceBBox.height+4}var diffX=(maxWidth-classTitleBBox.width)/2;return(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(classTitleLabel).attr("transform","translate( "+(-1*maxWidth/2+diffX)+", "+(-1*maxHeight/2+verticalPos)+")"),verticalPos+=classTitleBBox.height+4,topLine.attr("class","divider").attr("x1",-maxWidth/2-halfPadding).attr("x2",maxWidth/2+halfPadding).attr("y1",-maxHeight/2-halfPadding+8+verticalPos).attr("y2",-maxHeight/2-halfPadding+8+verticalPos),verticalPos+=8,classAttributes.forEach((function(lbl){(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(lbl).attr("transform","translate( "+-maxWidth/2+", "+(-1*maxHeight/2+verticalPos+4)+")"),verticalPos+=classTitleBBox.height+4})),verticalPos+=8,bottomLine.attr("class","divider").attr("x1",-maxWidth/2-halfPadding).attr("x2",maxWidth/2+halfPadding).attr("y1",-maxHeight/2-halfPadding+8+verticalPos).attr("y2",-maxHeight/2-halfPadding+8+verticalPos),verticalPos+=8,classMethods.forEach((function(lbl){(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(lbl).attr("transform","translate( "+-maxWidth/2+", "+(-1*maxHeight/2+verticalPos)+")"),verticalPos+=classTitleBBox.height+4})),rect.attr("class","outer title-state").attr("x",-maxWidth/2-halfPadding).attr("y",-maxHeight/2-halfPadding).attr("width",maxWidth+node.padding).attr("height",maxHeight+node.padding),(0,_shapes_util__WEBPACK_IMPORTED_MODULE_3__.updateNodeBounds)(node,rect),node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_5__.default.rect(node,point)},shapeSvg}},nodeElems={},insertNode=function insertNode(elem,node,dir){var newEl,el,target;node.link?("sandbox"===(0,_config__WEBPACK_IMPORTED_MODULE_2__.getConfig)().securityLevel?target="_top":node.linkTarget&&(target=node.linkTarget||"_blank"),newEl=elem.insert("svg:a").attr("xlink:href",node.link).attr("target",target),el=shapes[node.shape](newEl,node,dir)):newEl=el=shapes[node.shape](elem,node,dir);node.tooltip&&el.attr("title",node.tooltip),node.class&&el.attr("class","node default "+node.class),nodeElems[node.id]=newEl,node.haveCallback&&nodeElems[node.id].attr("class",nodeElems[node.id].attr("class")+" clickable")},setNodeElem=function setNodeElem(elem,node){nodeElems[node.id]=elem},clear=function clear(){nodeElems={}},positionNode=function positionNode(node){var el=nodeElems[node.id];_logger__WEBPACK_IMPORTED_MODULE_4__.log.trace("Transforming node",node.diff,node,"translate("+(node.x-node.width/2-5)+", "+node.width/2+")");var diff=node.diff||0;return node.clusterNode?el.attr("transform","translate("+(node.x+diff-node.width/2)+", "+(node.y-node.height/2-8)+")"):el.attr("transform","translate("+node.x+", "+node.y+")"),diff}},"./src/dagre-wrapper/shapes/note.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_479516__)=>{"use strict";__nested_webpack_require_479516__.r(__nested_webpack_exports__),__nested_webpack_require_479516__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _util__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_479516__("./src/dagre-wrapper/shapes/util.js"),_logger__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_479516__("./src/logger.js"),_intersect_index_js__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_479516__("./src/dagre-wrapper/intersect/index.js");const __WEBPACK_DEFAULT_EXPORT__=function note(parent,node){var _labelHelper=(0,_util__WEBPACK_IMPORTED_MODULE_0__.labelHelper)(parent,node,"node "+node.classes,!0),shapeSvg=_labelHelper.shapeSvg,bbox=_labelHelper.bbox,halfPadding=_labelHelper.halfPadding;_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Classes = ",node.classes);var rect=shapeSvg.insert("rect",":first-child");return rect.attr("rx",node.rx).attr("ry",node.ry).attr("x",-bbox.width/2-halfPadding).attr("y",-bbox.height/2-halfPadding).attr("width",bbox.width+node.padding).attr("height",bbox.height+node.padding),(0,_util__WEBPACK_IMPORTED_MODULE_0__.updateNodeBounds)(node,rect),node.intersect=function(point){return _intersect_index_js__WEBPACK_IMPORTED_MODULE_2__.default.rect(node,point)},shapeSvg}},"./src/dagre-wrapper/shapes/util.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_481410__)=>{"use strict";__nested_webpack_require_481410__.r(__nested_webpack_exports__),__nested_webpack_require_481410__.d(__nested_webpack_exports__,{labelHelper:()=>labelHelper,updateNodeBounds:()=>updateNodeBounds,insertPolygonShape:()=>insertPolygonShape});var _createLabel__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_481410__("./src/dagre-wrapper/createLabel.js"),_config__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_481410__("./src/config.js"),_mermaidAPI__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_481410__("./src/mermaidAPI.js"),d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_481410__("d3"),_diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_481410__("./src/diagrams/common/common.js"),labelHelper=function labelHelper(parent,node,_classes,isNode){var classes;classes=_classes||"node default";var shapeSvg=parent.insert("g").attr("class",classes).attr("id",node.domId||node.id),label=shapeSvg.insert("g").attr("class","label").attr("style",node.labelStyle),labelText="string"==typeof node.labelText?node.labelText:node.labelText[0],text=label.node().appendChild((0,_createLabel__WEBPACK_IMPORTED_MODULE_1__.default)((0,_diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__.sanitizeText)((0,_mermaidAPI__WEBPACK_IMPORTED_MODULE_3__.decodeEntities)(labelText),(0,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig)()),node.labelStyle,!1,isNode)),bbox=text.getBBox();if((0,_diagrams_common_common__WEBPACK_IMPORTED_MODULE_2__.evaluate)((0,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)){var div=text.children[0],dv=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(text);bbox=div.getBoundingClientRect(),dv.attr("width",bbox.width),dv.attr("height",bbox.height)}var halfPadding=node.padding/2;return label.attr("transform","translate("+-bbox.width/2+", "+-bbox.height/2+")"),{shapeSvg,bbox,halfPadding,label}},updateNodeBounds=function updateNodeBounds(node,element){var bbox=element.node().getBBox();node.width=bbox.width,node.height=bbox.height};function insertPolygonShape(parent,w,h,points){return parent.insert("polygon",":first-child").attr("points",points.map((function(d){return d.x+","+d.y})).join(" ")).attr("class","label-container").attr("transform","translate("+-w/2+","+h/2+")")}},"./src/defaultConfig.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_484896__)=>{"use strict";function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}__nested_webpack_require_484896__.r(__nested_webpack_exports__),__nested_webpack_require_484896__.d(__nested_webpack_exports__,{configKeys:()=>configKeys,default:()=>__WEBPACK_DEFAULT_EXPORT__});var config={theme:"default",themeVariables:__nested_webpack_require_484896__("./src/themes/index.js").default.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-d3"},sequence:{activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open-Sans", "sans-serif"',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function messageFont(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function noteFont(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function actorFont(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open-Sans", "sans-serif"',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{arrowMarkerAbsolute:!1,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},git:{arrowMarkerAbsolute:!1,useWidth:void 0,useMaxWidth:!0},state:{dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20}};config.class.arrowMarkerAbsolute=config.arrowMarkerAbsolute,config.git.arrowMarkerAbsolute=config.arrowMarkerAbsolute;var configKeys=function keyify(obj){var prefix=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(obj).reduce((function(res,el){return Array.isArray(obj[el])?res:"object"===_typeof(obj[el])&&null!==obj[el]?[].concat(_toConsumableArray(res),[prefix+el],_toConsumableArray(keyify(obj[el],""))):[].concat(_toConsumableArray(res),[prefix+el])}),[])}(config,"");const __WEBPACK_DEFAULT_EXPORT__=config},"./src/diagrams/class/classDb.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_530224__)=>{"use strict";__nested_webpack_require_530224__.r(__nested_webpack_exports__),__nested_webpack_require_530224__.d(__nested_webpack_exports__,{parseDirective:()=>parseDirective,addClass:()=>addClass,lookUpDomId:()=>lookUpDomId,clear:()=>clear,getClass:()=>getClass,getClasses:()=>getClasses,getRelations:()=>getRelations,addRelation:()=>addRelation,addAnnotation:()=>addAnnotation,addMember:()=>addMember,addMembers:()=>addMembers,cleanupLabel:()=>cleanupLabel,setCssClass:()=>setCssClass,setLink:()=>setLink,setClickEvent:()=>setClickEvent,bindFunctions:()=>bindFunctions,lineType:()=>lineType,relationType:()=>relationType,default:()=>__WEBPACK_DEFAULT_EXPORT__});var d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_530224__("d3"),_logger__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_530224__("./src/logger.js"),_config__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_530224__("./src/config.js"),_common_common__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_530224__("./src/diagrams/common/common.js"),_utils__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_530224__("./src/utils.js"),_mermaidAPI__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_530224__("./src/mermaidAPI.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var relations=[],classes={},classCounter=0,funs=[],sanitizeText=function sanitizeText(txt){return _common_common__WEBPACK_IMPORTED_MODULE_1__.default.sanitizeText(txt,_config__WEBPACK_IMPORTED_MODULE_2__.getConfig())},parseDirective=function parseDirective(statement,context,type){_mermaidAPI__WEBPACK_IMPORTED_MODULE_3__.default.parseDirective(this,statement,context,type)},splitClassNameAndType=function splitClassNameAndType(id){var genericType="",className=id;if(id.indexOf("~")>0){var split=id.split("~");className=split[0],genericType=_common_common__WEBPACK_IMPORTED_MODULE_1__.default.sanitizeText(split[1],_config__WEBPACK_IMPORTED_MODULE_2__.getConfig())}return{className,type:genericType}},addClass=function addClass(id){var classId=splitClassNameAndType(id);void 0===classes[classId.className]&&(classes[classId.className]={id:classId.className,type:classId.type,cssClasses:[],methods:[],members:[],annotations:[],domId:"classid-"+classId.className+"-"+classCounter},classCounter++)},lookUpDomId=function lookUpDomId(id){for(var classKeys=Object.keys(classes),i=0;i<classKeys.length;i++)if(classes[classKeys[i]].id===id)return classes[classKeys[i]].domId},clear=function clear(){relations=[],classes={},(funs=[]).push(setupToolTips)},getClass=function getClass(id){return classes[id]},getClasses=function getClasses(){return classes},getRelations=function getRelations(){return relations},addRelation=function addRelation(relation){_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Adding relation: "+JSON.stringify(relation)),addClass(relation.id1),addClass(relation.id2),relation.id1=splitClassNameAndType(relation.id1).className,relation.id2=splitClassNameAndType(relation.id2).className,relation.relationTitle1=_common_common__WEBPACK_IMPORTED_MODULE_1__.default.sanitizeText(relation.relationTitle1.trim(),_config__WEBPACK_IMPORTED_MODULE_2__.getConfig()),relation.relationTitle2=_common_common__WEBPACK_IMPORTED_MODULE_1__.default.sanitizeText(relation.relationTitle2.trim(),_config__WEBPACK_IMPORTED_MODULE_2__.getConfig()),relations.push(relation)},addAnnotation=function addAnnotation(className,annotation){var validatedClassName=splitClassNameAndType(className).className;classes[validatedClassName].annotations.push(annotation)},addMember=function addMember(className,member){var validatedClassName=splitClassNameAndType(className).className,theClass=classes[validatedClassName];if("string"==typeof member){var memberString=member.trim();memberString.startsWith("<<")&&memberString.endsWith(">>")?theClass.annotations.push(sanitizeText(memberString.substring(2,memberString.length-2))):memberString.indexOf(")")>0?theClass.methods.push(sanitizeText(memberString)):memberString&&theClass.members.push(sanitizeText(memberString))}},addMembers=function addMembers(className,members){Array.isArray(members)&&(members.reverse(),members.forEach((function(member){return addMember(className,member)})))},cleanupLabel=function cleanupLabel(label){return":"===label.substring(0,1)?_common_common__WEBPACK_IMPORTED_MODULE_1__.default.sanitizeText(label.substr(1).trim(),_config__WEBPACK_IMPORTED_MODULE_2__.getConfig()):sanitizeText(label.trim())},setCssClass=function setCssClass(ids,className){ids.split(",").forEach((function(_id){var id=_id;_id[0].match(/\d/)&&(id="classid-"+id),void 0!==classes[id]&&classes[id].cssClasses.push(className)}))},setLink=function setLink(ids,linkStr,target){var config=_config__WEBPACK_IMPORTED_MODULE_2__.getConfig();ids.split(",").forEach((function(_id){var id=_id;_id[0].match(/\d/)&&(id="classid-"+id),void 0!==classes[id]&&(classes[id].link=_utils__WEBPACK_IMPORTED_MODULE_5__.default.formatUrl(linkStr,config),"sandbox"===config.securityLevel?classes[id].linkTarget="_top":classes[id].linkTarget="string"==typeof target?sanitizeText(target):"_blank")})),setCssClass(ids,"clickable")},setClickEvent=function setClickEvent(ids,functionName,functionArgs){ids.split(",").forEach((function(id){setClickFunc(id,functionName,functionArgs),classes[id].haveCallback=!0})),setCssClass(ids,"clickable")},setClickFunc=function setClickFunc(domId,functionName,functionArgs){var config=_config__WEBPACK_IMPORTED_MODULE_2__.getConfig(),id=domId,elemId=lookUpDomId(id);if("loose"===config.securityLevel&&void 0!==functionName&&void 0!==classes[id]){var argList=[];if("string"==typeof functionArgs){argList=functionArgs.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var i=0;i<argList.length;i++){var item=argList[i].trim();'"'===item.charAt(0)&&'"'===item.charAt(item.length-1)&&(item=item.substr(1,item.length-2)),argList[i]=item}}0===argList.length&&argList.push(elemId),funs.push((function(){var elem=document.querySelector('[id="'.concat(elemId,'"]'));null!==elem&&elem.addEventListener("click",(function(){_utils__WEBPACK_IMPORTED_MODULE_5__.default.runFunc.apply(_utils__WEBPACK_IMPORTED_MODULE_5__.default,[functionName].concat(_toConsumableArray(argList)))}),!1)}))}},bindFunctions=function bindFunctions(element){funs.forEach((function(fun){fun(element)}))},lineType={LINE:0,DOTTED_LINE:1},relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},setupToolTips=function setupToolTips(element){var tooltipElem=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(".mermaidTooltip");null===(tooltipElem._groups||tooltipElem)[0][0]&&(tooltipElem=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(element).select("svg").selectAll("g.node").on("mouseover",(function(){var el=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(this);if(null!==el.attr("title")){var rect=this.getBoundingClientRect();tooltipElem.transition().duration(200).style("opacity",".9"),tooltipElem.html(el.attr("title")).style("left",window.scrollX+rect.left+(rect.right-rect.left)/2+"px").style("top",window.scrollY+rect.top-14+document.body.scrollTop+"px"),el.classed("hover",!0)}})).on("mouseout",(function(){tooltipElem.transition().duration(500).style("opacity",0),(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(this).classed("hover",!1)}))};funs.push(setupToolTips);var direction="TB";const __WEBPACK_DEFAULT_EXPORT__={parseDirective,getConfig:function getConfig(){return _config__WEBPACK_IMPORTED_MODULE_2__.getConfig().class},addClass,bindFunctions,clear,getClass,getClasses,addAnnotation,getRelations,addRelation,getDirection:function getDirection(){return direction},setDirection:function setDirection(dir){direction=dir},addMember,addMembers,cleanupLabel,lineType,relationType,setClickEvent,setCssClass,setLink,setTooltip:function setTooltip(ids,tooltip){var config=_config__WEBPACK_IMPORTED_MODULE_2__.getConfig();ids.split(",").forEach((function(id){void 0!==tooltip&&(classes[id].tooltip=_common_common__WEBPACK_IMPORTED_MODULE_1__.default.sanitizeText(tooltip,config))}))},lookUpDomId}},"./src/diagrams/class/classRenderer-v2.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_545452__)=>{"use strict";__nested_webpack_require_545452__.r(__nested_webpack_exports__),__nested_webpack_require_545452__.d(__nested_webpack_exports__,{addClasses:()=>addClasses,addRelations:()=>addRelations,setConf:()=>setConf,draw:()=>draw,default:()=>__WEBPACK_DEFAULT_EXPORT__});var d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_545452__("d3"),graphlib__WEBPACK_IMPORTED_MODULE_2__=(__nested_webpack_require_545452__("dagre"),__nested_webpack_require_545452__("graphlib")),graphlib__WEBPACK_IMPORTED_MODULE_2___default=__nested_webpack_require_545452__.n(graphlib__WEBPACK_IMPORTED_MODULE_2__),_logger__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_545452__("./src/logger.js"),_classDb__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_545452__("./src/diagrams/class/classDb.js"),_parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_545452__("./src/diagrams/class/parser/classDiagram.jison"),_config__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_545452__("./src/config.js"),_dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_9__=__nested_webpack_require_545452__("./src/dagre-wrapper/index.js"),_utils__WEBPACK_IMPORTED_MODULE_8__=__nested_webpack_require_545452__("./src/utils.js"),_common_common__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_545452__("./src/diagrams/common/common.js");_parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.yy=_classDb__WEBPACK_IMPORTED_MODULE_4__.default;var sanitizeText=function sanitizeText(txt){return _common_common__WEBPACK_IMPORTED_MODULE_5__.default.sanitizeText(txt,(0,_config__WEBPACK_IMPORTED_MODULE_6__.getConfig)())},conf={dividerMargin:10,padding:5,textHeight:10},addClasses=function addClasses(classes,g){var keys=Object.keys(classes);_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("keys:",keys),_logger__WEBPACK_IMPORTED_MODULE_7__.log.info(classes),keys.forEach((function(id){var vertex=classes[id],cssClassStr="";vertex.cssClasses.length>0&&(cssClassStr=cssClassStr+" "+vertex.cssClasses.join(" "));var styles={labelStyle:""},vertexText=void 0!==vertex.text?vertex.text:vertex.id,_shape="";vertex.type,_shape="class_box",g.setNode(vertex.id,{labelStyle:styles.labelStyle,shape:_shape,labelText:sanitizeText(vertexText),classData:vertex,rx:0,ry:0,class:cssClassStr,style:styles.style,id:vertex.id,domId:vertex.domId,haveCallback:vertex.haveCallback,link:vertex.link,width:"group"===vertex.type?500:void 0,type:vertex.type,padding:(0,_config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().flowchart.padding}),_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("setNode",{labelStyle:styles.labelStyle,shape:_shape,labelText:vertexText,rx:0,ry:0,class:cssClassStr,style:styles.style,id:vertex.id,width:"group"===vertex.type?500:void 0,type:vertex.type,padding:(0,_config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().flowchart.padding})}))},addRelations=function addRelations(relations,g){var cnt=0;relations.forEach((function(edge){cnt++;var edgeData={classes:"relation"};edgeData.pattern=1==edge.relation.lineType?"dashed":"solid",edgeData.id="id"+cnt,"arrow_open"===edge.type?edgeData.arrowhead="none":edgeData.arrowhead="normal",_logger__WEBPACK_IMPORTED_MODULE_7__.log.info(edgeData,edge),edgeData.startLabelRight="none"===edge.relationTitle1?"":edge.relationTitle1,edgeData.endLabelLeft="none"===edge.relationTitle2?"":edge.relationTitle2,edgeData.arrowTypeStart=getArrowMarker(edge.relation.type1),edgeData.arrowTypeEnd=getArrowMarker(edge.relation.type2);var style="",labelStyle="";if(void 0!==edge.style){var styles=(0,_utils__WEBPACK_IMPORTED_MODULE_8__.getStylesFromArray)(edge.style);style=styles.style,labelStyle=styles.labelStyle}else style="fill:none";edgeData.style=style,edgeData.labelStyle=labelStyle,void 0!==edge.interpolate?edgeData.curve=(0,_utils__WEBPACK_IMPORTED_MODULE_8__.interpolateToCurve)(edge.interpolate,d3__WEBPACK_IMPORTED_MODULE_0__.curveLinear):void 0!==relations.defaultInterpolate?edgeData.curve=(0,_utils__WEBPACK_IMPORTED_MODULE_8__.interpolateToCurve)(relations.defaultInterpolate,d3__WEBPACK_IMPORTED_MODULE_0__.curveLinear):edgeData.curve=(0,_utils__WEBPACK_IMPORTED_MODULE_8__.interpolateToCurve)(conf.curve,d3__WEBPACK_IMPORTED_MODULE_0__.curveLinear),edge.text=edge.title,void 0===edge.text?void 0!==edge.style&&(edgeData.arrowheadStyle="fill: #333"):(edgeData.arrowheadStyle="fill: #333",edgeData.labelpos="c",(0,_config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().flowchart.htmlLabels?(edgeData.labelType="html",edgeData.label='<span class="edgeLabel">'+edge.text+"</span>"):(edgeData.labelType="text",edgeData.label=edge.text.replace(_common_common__WEBPACK_IMPORTED_MODULE_5__.default.lineBreakRegex,"\n"),void 0===edge.style&&(edgeData.style=edgeData.style||"stroke: #333; stroke-width: 1.5px;fill:none"),edgeData.labelStyle=edgeData.labelStyle.replace("color:","fill:"))),g.setEdge(edge.id1,edge.id2,edgeData,cnt)}))},setConf=function setConf(cnf){Object.keys(cnf).forEach((function(key){conf[key]=cnf[key]}))},draw=function draw(text,id){_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("Drawing class - ",id),_classDb__WEBPACK_IMPORTED_MODULE_4__.default.clear(),_parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.parse(text);var conf=(0,_config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().flowchart,securityLevel=(0,_config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().securityLevel;_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("config:",conf);var sandboxElement,nodeSpacing=conf.nodeSpacing||50,rankSpacing=conf.rankSpacing||50,g=new(graphlib__WEBPACK_IMPORTED_MODULE_2___default().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:_classDb__WEBPACK_IMPORTED_MODULE_4__.default.getDirection(),nodesep:nodeSpacing,ranksep:rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),classes=_classDb__WEBPACK_IMPORTED_MODULE_4__.default.getClasses(),relations=_classDb__WEBPACK_IMPORTED_MODULE_4__.default.getRelations();_logger__WEBPACK_IMPORTED_MODULE_7__.log.info(relations),addClasses(classes,g,id),addRelations(relations,g),"sandbox"===securityLevel&&(sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i"+id));var root="sandbox"===securityLevel?(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body):(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("body"),svg=root.select('[id="'.concat(id,'"]'));svg.attr("xmlns:xlink","http://www.w3.org/1999/xlink");var element=root.select("#"+id+" g");(0,_dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_9__.render)(element,g,["aggregation","extension","composition","dependency"],"classDiagram",id);var svgBounds=svg.node().getBBox(),width=svgBounds.width+16,height=svgBounds.height+16;if(_logger__WEBPACK_IMPORTED_MODULE_7__.log.debug("new ViewBox 0 0 ".concat(width," ").concat(height),"translate(".concat(8-g._label.marginx,", ").concat(8-g._label.marginy,")")),(0,_utils__WEBPACK_IMPORTED_MODULE_8__.configureSvgSize)(svg,height,width,conf.useMaxWidth),svg.attr("viewBox","0 0 ".concat(width," ").concat(height)),svg.select("g").attr("transform","translate(".concat(8-g._label.marginx,", ").concat(8-svgBounds.y,")")),!conf.htmlLabels)for(var doc="sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document,labels=doc.querySelectorAll('[id="'+id+'"] .edgeLabel .label'),k=0;k<labels.length;k++){var label=labels[k],dim=label.getBBox(),rect=doc.createElementNS("http://www.w3.org/2000/svg","rect");rect.setAttribute("rx",0),rect.setAttribute("ry",0),rect.setAttribute("width",dim.width),rect.setAttribute("height",dim.height),label.insertBefore(rect,label.firstChild)}};function getArrowMarker(type){var marker;switch(type){case 0:marker="aggregation";break;case 1:marker="extension";break;case 2:marker="composition";break;case 3:marker="dependency";break;default:marker="none"}return marker}const __WEBPACK_DEFAULT_EXPORT__={setConf,draw}},"./src/diagrams/class/classRenderer.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_562907__)=>{"use strict";__nested_webpack_require_562907__.r(__nested_webpack_exports__),__nested_webpack_require_562907__.d(__nested_webpack_exports__,{setConf:()=>setConf,draw:()=>draw,default:()=>__WEBPACK_DEFAULT_EXPORT__});var d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_562907__("d3"),dagre__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_562907__("dagre"),dagre__WEBPACK_IMPORTED_MODULE_1___default=__nested_webpack_require_562907__.n(dagre__WEBPACK_IMPORTED_MODULE_1__),graphlib__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_562907__("graphlib"),graphlib__WEBPACK_IMPORTED_MODULE_2___default=__nested_webpack_require_562907__.n(graphlib__WEBPACK_IMPORTED_MODULE_2__),_logger__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_562907__("./src/logger.js"),_classDb__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_562907__("./src/diagrams/class/classDb.js"),_parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_562907__("./src/diagrams/class/parser/classDiagram.jison"),_svgDraw__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_562907__("./src/diagrams/class/svgDraw.js"),_utils__WEBPACK_IMPORTED_MODULE_8__=__nested_webpack_require_562907__("./src/utils.js"),_config__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_562907__("./src/config.js");_parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.yy=_classDb__WEBPACK_IMPORTED_MODULE_4__.default;var idCache={},conf={dividerMargin:10,padding:5,textHeight:10},getGraphId=function getGraphId(label){var foundEntry=Object.entries(idCache).find((function(entry){return entry[1].label===label}));if(foundEntry)return foundEntry[0]},setConf=function setConf(cnf){Object.keys(cnf).forEach((function(key){conf[key]=cnf[key]}))},draw=function draw(text,id){idCache={},_parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.yy.clear(),_parser_classDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.parse(text),_logger__WEBPACK_IMPORTED_MODULE_5__.log.info("Rendering diagram "+text);var sandboxElement,securityLevel=(0,_config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().securityLevel;"sandbox"===securityLevel&&(sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i"+id));var root="sandbox"===securityLevel?(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body):(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("body"),diagram=("sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document,root.select("[id='".concat(id,"']")));diagram.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),function insertMarkers(elem){elem.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),elem.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),elem.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),elem.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),elem.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),elem.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),elem.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),elem.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}(diagram);var g=new(graphlib__WEBPACK_IMPORTED_MODULE_2___default().Graph)({multigraph:!0});g.setGraph({isMultiGraph:!0}),g.setDefaultEdgeLabel((function(){return{}}));for(var classes=_classDb__WEBPACK_IMPORTED_MODULE_4__.default.getClasses(),keys=Object.keys(classes),i=0;i<keys.length;i++){var classDef=classes[keys[i]],node=_svgDraw__WEBPACK_IMPORTED_MODULE_7__.default.drawClass(diagram,classDef,conf);idCache[node.id]=node,g.setNode(node.id,node),_logger__WEBPACK_IMPORTED_MODULE_5__.log.info("Org height: "+node.height)}_classDb__WEBPACK_IMPORTED_MODULE_4__.default.getRelations().forEach((function(relation){_logger__WEBPACK_IMPORTED_MODULE_5__.log.info("tjoho"+getGraphId(relation.id1)+getGraphId(relation.id2)+JSON.stringify(relation)),g.setEdge(getGraphId(relation.id1),getGraphId(relation.id2),{relation},relation.title||"DEFAULT")})),dagre__WEBPACK_IMPORTED_MODULE_1___default().layout(g),g.nodes().forEach((function(v){void 0!==v&&void 0!==g.node(v)&&(_logger__WEBPACK_IMPORTED_MODULE_5__.log.debug("Node "+v+": "+JSON.stringify(g.node(v))),root.select("#"+(0,_classDb__WEBPACK_IMPORTED_MODULE_4__.lookUpDomId)(v)).attr("transform","translate("+(g.node(v).x-g.node(v).width/2)+","+(g.node(v).y-g.node(v).height/2)+" )"))})),g.edges().forEach((function(e){void 0!==e&&void 0!==g.edge(e)&&(_logger__WEBPACK_IMPORTED_MODULE_5__.log.debug("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(g.edge(e))),_svgDraw__WEBPACK_IMPORTED_MODULE_7__.default.drawEdge(diagram,g.edge(e),g.edge(e).relation,conf))}));var svgBounds=diagram.node().getBBox(),width=svgBounds.width+40,height=svgBounds.height+40;(0,_utils__WEBPACK_IMPORTED_MODULE_8__.configureSvgSize)(diagram,height,width,conf.useMaxWidth);var vBox="".concat(svgBounds.x-20," ").concat(svgBounds.y-20," ").concat(width," ").concat(height);_logger__WEBPACK_IMPORTED_MODULE_5__.log.debug("viewBox ".concat(vBox)),diagram.attr("viewBox",vBox)};const __WEBPACK_DEFAULT_EXPORT__={setConf,draw}},"./src/diagrams/class/styles.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_572292__)=>{"use strict";__nested_webpack_require_572292__.r(__nested_webpack_exports__),__nested_webpack_require_572292__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function getStyles(options){return"g.classGroup text {\n  fill: ".concat(options.nodeBorder,";\n  fill: ").concat(options.classText,";\n  stroke: none;\n  font-family: ").concat(options.fontFamily,";\n  font-size: 10px;\n\n  .title {\n    font-weight: bolder;\n  }\n\n}\n\n.nodeLabel, .edgeLabel {\n  color: ").concat(options.classText,";\n}\n.edgeLabel .label rect {\n  fill: ").concat(options.mainBkg,";\n}\n.label text {\n  fill: ").concat(options.classText,";\n}\n.edgeLabel .label span {\n  background: ").concat(options.mainBkg,";\n}\n\n.classTitle {\n  font-weight: bolder;\n}\n.node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(options.mainBkg,";\n    stroke: ").concat(options.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n\n.divider {\n  stroke: ").concat(options.nodeBorder,";\n  stroke: 1;\n}\n\ng.clickable {\n  cursor: pointer;\n}\n\ng.classGroup rect {\n  fill: ").concat(options.mainBkg,";\n  stroke: ").concat(options.nodeBorder,";\n}\n\ng.classGroup line {\n  stroke: ").concat(options.nodeBorder,";\n  stroke-width: 1;\n}\n\n.classLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ").concat(options.mainBkg,";\n  opacity: 0.5;\n}\n\n.classLabel .label {\n  fill: ").concat(options.nodeBorder,";\n  font-size: 10px;\n}\n\n.relation {\n  stroke: ").concat(options.lineColor,";\n  stroke-width: 1;\n  fill: none;\n}\n\n.dashed-line{\n  stroke-dasharray: 3;\n}\n\n#compositionStart, .composition {\n  fill: ").concat(options.lineColor," !important;\n  stroke: ").concat(options.lineColor," !important;\n  stroke-width: 1;\n}\n\n#compositionEnd, .composition {\n  fill: ").concat(options.lineColor," !important;\n  stroke: ").concat(options.lineColor," !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ").concat(options.lineColor," !important;\n  stroke: ").concat(options.lineColor," !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ").concat(options.lineColor," !important;\n  stroke: ").concat(options.lineColor," !important;\n  stroke-width: 1;\n}\n\n#extensionStart, .extension {\n  fill: ").concat(options.lineColor," !important;\n  stroke: ").concat(options.lineColor," !important;\n  stroke-width: 1;\n}\n\n#extensionEnd, .extension {\n  fill: ").concat(options.lineColor," !important;\n  stroke: ").concat(options.lineColor," !important;\n  stroke-width: 1;\n}\n\n#aggregationStart, .aggregation {\n  fill: ").concat(options.mainBkg," !important;\n  stroke: ").concat(options.lineColor," !important;\n  stroke-width: 1;\n}\n\n#aggregationEnd, .aggregation {\n  fill: ").concat(options.mainBkg," !important;\n  stroke: ").concat(options.lineColor," !important;\n  stroke-width: 1;\n}\n\n.edgeTerminals {\n  font-size: 11px;\n}\n\n")}},"./src/diagrams/class/svgDraw.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_575688__)=>{"use strict";__nested_webpack_require_575688__.r(__nested_webpack_exports__),__nested_webpack_require_575688__.d(__nested_webpack_exports__,{drawEdge:()=>drawEdge,drawClass:()=>drawClass,parseMember:()=>parseMember,default:()=>__WEBPACK_DEFAULT_EXPORT__});var d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_575688__("d3"),_classDb__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_575688__("./src/diagrams/class/classDb.js"),_utils__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_575688__("./src/utils.js"),_logger__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_575688__("./src/logger.js"),edgeCount=0,drawEdge=function drawEdge(elem,path,relation,conf){var getRelationType=function getRelationType(type){switch(type){case _classDb__WEBPACK_IMPORTED_MODULE_1__.relationType.AGGREGATION:return"aggregation";case _classDb__WEBPACK_IMPORTED_MODULE_1__.relationType.EXTENSION:return"extension";case _classDb__WEBPACK_IMPORTED_MODULE_1__.relationType.COMPOSITION:return"composition";case _classDb__WEBPACK_IMPORTED_MODULE_1__.relationType.DEPENDENCY:return"dependency"}};path.points=path.points.filter((function(p){return!Number.isNaN(p.y)}));var x,y,lineData=path.points,lineFunction=(0,d3__WEBPACK_IMPORTED_MODULE_0__.line)().x((function(d){return d.x})).y((function(d){return d.y})).curve(d3__WEBPACK_IMPORTED_MODULE_0__.curveBasis),svgPath=elem.append("path").attr("d",lineFunction(lineData)).attr("id","edge"+edgeCount).attr("class","relation"),url="";conf.arrowMarkerAbsolute&&(url=(url=(url=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),1==relation.relation.lineType&&svgPath.attr("class","relation dashed-line"),"none"!==relation.relation.type1&&svgPath.attr("marker-start","url("+url+"#"+getRelationType(relation.relation.type1)+"Start)"),"none"!==relation.relation.type2&&svgPath.attr("marker-end","url("+url+"#"+getRelationType(relation.relation.type2)+"End)");var p1_card_x,p1_card_y,p2_card_x,p2_card_y,l=path.points.length,labelPosition=_utils__WEBPACK_IMPORTED_MODULE_2__.default.calcLabelPosition(path.points);if(x=labelPosition.x,y=labelPosition.y,l%2!=0&&l>1){var cardinality_1_point=_utils__WEBPACK_IMPORTED_MODULE_2__.default.calcCardinalityPosition("none"!==relation.relation.type1,path.points,path.points[0]),cardinality_2_point=_utils__WEBPACK_IMPORTED_MODULE_2__.default.calcCardinalityPosition("none"!==relation.relation.type2,path.points,path.points[l-1]);_logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("cardinality_1_point "+JSON.stringify(cardinality_1_point)),_logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("cardinality_2_point "+JSON.stringify(cardinality_2_point)),p1_card_x=cardinality_1_point.x,p1_card_y=cardinality_1_point.y,p2_card_x=cardinality_2_point.x,p2_card_y=cardinality_2_point.y}if(void 0!==relation.title){var g=elem.append("g").attr("class","classLabel"),label=g.append("text").attr("class","label").attr("x",x).attr("y",y).attr("fill","red").attr("text-anchor","middle").text(relation.title);window.label=label;var bounds=label.node().getBBox();g.insert("rect",":first-child").attr("class","box").attr("x",bounds.x-conf.padding/2).attr("y",bounds.y-conf.padding/2).attr("width",bounds.width+conf.padding).attr("height",bounds.height+conf.padding)}(_logger__WEBPACK_IMPORTED_MODULE_3__.log.info("Rendering relation "+JSON.stringify(relation)),void 0!==relation.relationTitle1&&"none"!==relation.relationTitle1)&&elem.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",p1_card_x).attr("y",p1_card_y).attr("fill","black").attr("font-size","6").text(relation.relationTitle1);void 0!==relation.relationTitle2&&"none"!==relation.relationTitle2&&elem.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",p2_card_x).attr("y",p2_card_y).attr("fill","black").attr("font-size","6").text(relation.relationTitle2);edgeCount++},drawClass=function drawClass(elem,classDef,conf){_logger__WEBPACK_IMPORTED_MODULE_3__.log.info("Rendering class "+classDef);var title,id=classDef.id,classInfo={id,label:classDef.id,width:0,height:0},g=elem.append("g").attr("id",(0,_classDb__WEBPACK_IMPORTED_MODULE_1__.lookUpDomId)(id)).attr("class","classGroup");title=classDef.link?g.append("svg:a").attr("xlink:href",classDef.link).attr("target",classDef.linkTarget).append("text").attr("y",conf.textHeight+conf.padding).attr("x",0):g.append("text").attr("y",conf.textHeight+conf.padding).attr("x",0);var isFirst=!0;classDef.annotations.forEach((function(member){var titleText2=title.append("tspan").text(""+member+"");isFirst||titleText2.attr("dy",conf.textHeight),isFirst=!1}));var classTitleString=classDef.id;void 0!==classDef.type&&""!==classDef.type&&(classTitleString+="<"+classDef.type+">");var classTitle=title.append("tspan").text(classTitleString).attr("class","title");isFirst||classTitle.attr("dy",conf.textHeight);var titleHeight=title.node().getBBox().height,membersLine=g.append("line").attr("x1",0).attr("y1",conf.padding+titleHeight+conf.dividerMargin/2).attr("y2",conf.padding+titleHeight+conf.dividerMargin/2),members=g.append("text").attr("x",conf.padding).attr("y",titleHeight+conf.dividerMargin+conf.textHeight).attr("fill","white").attr("class","classText");isFirst=!0,classDef.members.forEach((function(member){addTspan(members,member,isFirst,conf),isFirst=!1}));var membersBox=members.node().getBBox(),methodsLine=g.append("line").attr("x1",0).attr("y1",conf.padding+titleHeight+conf.dividerMargin+membersBox.height).attr("y2",conf.padding+titleHeight+conf.dividerMargin+membersBox.height),methods=g.append("text").attr("x",conf.padding).attr("y",titleHeight+2*conf.dividerMargin+membersBox.height+conf.textHeight).attr("fill","white").attr("class","classText");isFirst=!0,classDef.methods.forEach((function(method){addTspan(methods,method,isFirst,conf),isFirst=!1}));var classBox=g.node().getBBox(),cssClassStr=" ";classDef.cssClasses.length>0&&(cssClassStr+=classDef.cssClasses.join(" "));var rectWidth=g.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",classBox.width+2*conf.padding).attr("height",classBox.height+conf.padding+.5*conf.dividerMargin).attr("class",cssClassStr).node().getBBox().width;return title.node().childNodes.forEach((function(x){x.setAttribute("x",(rectWidth-x.getBBox().width)/2)})),classDef.tooltip&&title.insert("title").text(classDef.tooltip),membersLine.attr("x2",rectWidth),methodsLine.attr("x2",rectWidth),classInfo.width=rectWidth,classInfo.height=classBox.height+conf.padding+.5*conf.dividerMargin,classInfo},parseMember=function parseMember(text){var fieldMatch=text.match(/^(\+|-|~|#)?(\w+)(~\w+~|\[\])?\s+(\w+) *(\*|\$)?$/),methodMatch=text.match(/^([+|\-|~|#])?(\w+) *\( *(.*)\) *(\*|\$)? *(\w*[~|[\]]*\s*\w*~?)$/);return fieldMatch&&!methodMatch?buildFieldDisplay(fieldMatch):methodMatch?buildMethodDisplay(methodMatch):buildLegacyDisplay(text)},buildFieldDisplay=function buildFieldDisplay(parsedText){var cssStyle="",displayText="";try{var visibility=parsedText[1]?parsedText[1].trim():"",fieldType=parsedText[2]?parsedText[2].trim():"",genericType=parsedText[3]?parseGenericTypes(parsedText[3].trim()):"",fieldName=parsedText[4]?parsedText[4].trim():"",classifier=parsedText[5]?parsedText[5].trim():"";displayText=visibility+fieldType+genericType+" "+fieldName,cssStyle=parseClassifier(classifier)}catch(err){displayText=parsedText}return{displayText,cssStyle}},buildMethodDisplay=function buildMethodDisplay(parsedText){var cssStyle="",displayText="";try{var visibility=parsedText[1]?parsedText[1].trim():"",methodName=parsedText[2]?parsedText[2].trim():"",parameters=parsedText[3]?parseGenericTypes(parsedText[3].trim()):"",classifier=parsedText[4]?parsedText[4].trim():"";displayText=visibility+methodName+"("+parameters+")"+(parsedText[5]?" : "+parseGenericTypes(parsedText[5]).trim():""),cssStyle=parseClassifier(classifier)}catch(err){displayText=parsedText}return{displayText,cssStyle}},buildLegacyDisplay=function buildLegacyDisplay(text){var displayText="",cssStyle="",returnType="",methodStart=text.indexOf("("),methodEnd=text.indexOf(")");if(methodStart>1&&methodEnd>methodStart&&methodEnd<=text.length){var visibility="",methodName="",firstChar=text.substring(0,1);firstChar.match(/\w/)?methodName=text.substring(0,methodStart).trim():(firstChar.match(/\+|-|~|#/)&&(visibility=firstChar),methodName=text.substring(1,methodStart).trim());var parameters=text.substring(methodStart+1,methodEnd),classifier=text.substring(methodEnd+1,1);cssStyle=parseClassifier(classifier),displayText=visibility+methodName+"("+parseGenericTypes(parameters.trim())+")",methodEnd<0&&""!==(returnType=text.substring(methodEnd+2).trim())&&(returnType=" : "+parseGenericTypes(returnType))}else displayText=parseGenericTypes(text);return{displayText,cssStyle}},addTspan=function addTspan(textEl,txt,isFirst,conf){var member=parseMember(txt),tSpan=textEl.append("tspan").attr("x",conf.padding).text(member.displayText);""!==member.cssStyle&&tSpan.attr("style",member.cssStyle),isFirst||tSpan.attr("dy",conf.textHeight)},parseGenericTypes=function parseGenericTypes(text){var cleanedText=text;return-1!=text.indexOf("~")?parseGenericTypes(cleanedText=(cleanedText=cleanedText.replace("~","<")).replace("~",">")):cleanedText},parseClassifier=function parseClassifier(classifier){switch(classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}};const __WEBPACK_DEFAULT_EXPORT__={drawClass,drawEdge,parseMember}},"./src/diagrams/common/common.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_589995__)=>{"use strict";__nested_webpack_require_589995__.r(__nested_webpack_exports__),__nested_webpack_require_589995__.d(__nested_webpack_exports__,{getRows:()=>getRows,removeEscapes:()=>removeEscapes,removeScript:()=>removeScript,sanitizeText:()=>sanitizeText,sanitizeTextOrArray:()=>sanitizeTextOrArray,lineBreakRegex:()=>lineBreakRegex,hasBreaks:()=>hasBreaks,splitBreaks:()=>splitBreaks,evaluate:()=>evaluate,default:()=>__WEBPACK_DEFAULT_EXPORT__});var dompurify__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_589995__("dompurify"),dompurify__WEBPACK_IMPORTED_MODULE_0___default=__nested_webpack_require_589995__.n(dompurify__WEBPACK_IMPORTED_MODULE_0__),getRows=function getRows(s){if(!s)return 1;var str=breakToPlaceholder(s);return(str=str.replace(/\\n/g,"#br#")).split("#br#")},removeEscapes=function removeEscapes(text){var newStr=text.replace(/\\u[\dA-F]{4}/gi,(function(match){return String.fromCharCode(parseInt(match.replace(/\\u/g,""),16))}));return newStr=(newStr=(newStr=newStr.replace(/\\x([0-9a-f]{2})/gi,(function(_,c){return String.fromCharCode(parseInt(c,16))}))).replace(/\\[\d\d\d]{3}/gi,(function(match){return String.fromCharCode(parseInt(match.replace(/\\/g,""),8))}))).replace(/\\[\d\d\d]{2}/gi,(function(match){return String.fromCharCode(parseInt(match.replace(/\\/g,""),8))}))},removeScript=function removeScript(txt){for(var rs="",idx=0;idx>=0;){if(!((idx=txt.indexOf("<script"))>=0)){rs+=txt,idx=-1;break}rs+=txt.substr(0,idx),(idx=(txt=txt.substr(idx+1)).indexOf("<\/script>"))>=0&&(idx+=9,txt=txt.substr(idx))}var decodedText=removeEscapes(rs);return decodedText=(decodedText=(decodedText=(decodedText=decodedText.replace(/script>/gi,"#")).replace(/javascript:/gi,"#")).replace(/onerror=/gi,"onerror:")).replace(/<iframe/gi,"")},sanitizeText=function sanitizeText(text,config){if(!text)return text;var txt=dompurify__WEBPACK_IMPORTED_MODULE_0___default().sanitize(function sanitizeMore(text,config){var txt=text,htmlLabels=!0;if(!config.flowchart||!1!==config.flowchart.htmlLabels&&"false"!==config.flowchart.htmlLabels||(htmlLabels=!1),htmlLabels){var level=config.securityLevel;"antiscript"===level||"strict"===level?txt=removeScript(txt):"loose"!==level&&(txt=(txt=(txt=breakToPlaceholder(txt)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),txt=placeholderToBreak(txt))}return txt}(text,config));return txt},sanitizeTextOrArray=function sanitizeTextOrArray(a,config){if("string"==typeof a)return sanitizeText(a,config);return a.flat().map((function f(x){return sanitizeText(x,config)}))},lineBreakRegex=/<br\s*\/?>/gi,hasBreaks=function hasBreaks(text){return lineBreakRegex.test(text)},splitBreaks=function splitBreaks(text){return text.split(lineBreakRegex)},placeholderToBreak=function placeholderToBreak(s){return s.replace(/#br#/g,"<br/>")},breakToPlaceholder=function breakToPlaceholder(s){return s.replace(lineBreakRegex,"#br#")},evaluate=function evaluate(val){return"false"!==val&&!1!==val};const __WEBPACK_DEFAULT_EXPORT__={getRows,sanitizeText,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl:function getUrl(useAbsolute){var url="";return useAbsolute&&(url=(url=(url=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),url},evaluate,removeEscapes}},"./src/diagrams/er/erDb.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_596339__)=>{"use strict";__nested_webpack_require_596339__.r(__nested_webpack_exports__),__nested_webpack_require_596339__.d(__nested_webpack_exports__,{parseDirective:()=>parseDirective,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _logger__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_596339__("./src/logger.js"),_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_596339__("./src/mermaidAPI.js"),_config__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_596339__("./src/config.js"),entities={},relationships=[],title="",parseDirective=function parseDirective(statement,context,type){_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default.parseDirective(this,statement,context,type)},addEntity=function addEntity(name){return void 0===entities[name]&&(entities[name]={attributes:[]},_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Added new entity :",name)),entities[name]};const __WEBPACK_DEFAULT_EXPORT__={Cardinality:{ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification:{NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},parseDirective,getConfig:function getConfig(){return _config__WEBPACK_IMPORTED_MODULE_2__.getConfig().er},addEntity,addAttributes:function addAttributes(entityName,attribs){var i,entity=addEntity(entityName);for(i=attribs.length-1;i>=0;i--)entity.attributes.push(attribs[i]),_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Added attribute ",attribs[i].attributeName)},getEntities:function getEntities(){return entities},addRelationship:function addRelationship(entA,rolA,entB,rSpec){var rel={entityA:entA,roleA:rolA,entityB:entB,relSpec:rSpec};relationships.push(rel),_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Added new relationship :",rel)},getRelationships:function getRelationships(){return relationships},clear:function clear(){entities={},relationships=[],title=""},setTitle:function setTitle(txt){title=txt},getTitle:function getTitle(){return title}}},"./src/diagrams/er/erMarkers.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_599950__)=>{"use strict";__nested_webpack_require_599950__.r(__nested_webpack_exports__),__nested_webpack_require_599950__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var ERMarkers={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"};const __WEBPACK_DEFAULT_EXPORT__={ERMarkers,insertMarkers:function insertMarkers(elem,conf){var marker;elem.append("defs").append("marker").attr("id",ERMarkers.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",conf.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),elem.append("defs").append("marker").attr("id",ERMarkers.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",conf.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),(marker=elem.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto")).append("circle").attr("stroke",conf.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),marker.append("path").attr("stroke",conf.stroke).attr("fill","none").attr("d","M9,0 L9,18"),(marker=elem.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto")).append("circle").attr("stroke",conf.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),marker.append("path").attr("stroke",conf.stroke).attr("fill","none").attr("d","M21,0 L21,18"),elem.append("defs").append("marker").attr("id",ERMarkers.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",conf.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),elem.append("defs").append("marker").attr("id",ERMarkers.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",conf.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),(marker=elem.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto")).append("circle").attr("stroke",conf.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),marker.append("path").attr("stroke",conf.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),(marker=elem.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto")).append("circle").attr("stroke",conf.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),marker.append("path").attr("stroke",conf.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")}}},"./src/diagrams/er/erRenderer.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_603943__)=>{"use strict";__nested_webpack_require_603943__.r(__nested_webpack_exports__),__nested_webpack_require_603943__.d(__nested_webpack_exports__,{setConf:()=>setConf,draw:()=>draw,default:()=>__WEBPACK_DEFAULT_EXPORT__});var graphlib__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_603943__("graphlib"),graphlib__WEBPACK_IMPORTED_MODULE_0___default=__nested_webpack_require_603943__.n(graphlib__WEBPACK_IMPORTED_MODULE_0__),d3__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_603943__("d3"),_erDb__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_603943__("./src/diagrams/er/erDb.js"),_parser_erDiagram__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_603943__("./src/diagrams/er/parser/erDiagram.jison"),_parser_erDiagram__WEBPACK_IMPORTED_MODULE_7___default=__nested_webpack_require_603943__.n(_parser_erDiagram__WEBPACK_IMPORTED_MODULE_7__),dagre__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_603943__("dagre"),dagre__WEBPACK_IMPORTED_MODULE_2___default=__nested_webpack_require_603943__.n(dagre__WEBPACK_IMPORTED_MODULE_2__),_config__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_603943__("./src/config.js"),_logger__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_603943__("./src/logger.js"),_erMarkers__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_603943__("./src/diagrams/er/erMarkers.js"),_utils__WEBPACK_IMPORTED_MODULE_8__=__nested_webpack_require_603943__("./src/utils.js"),conf={},setConf=function setConf(cnf){for(var keys=Object.keys(cnf),i=0;i<keys.length;i++)conf[keys[i]]=cnf[keys[i]]},drawEntities=function drawEntities(svgNode,entities,graph){var firstOne;return Object.keys(entities).forEach((function(id){var groupNode=svgNode.append("g").attr("id",id);firstOne=void 0===firstOne?id:firstOne;var textId="entity-"+id,textNode=groupNode.append("text").attr("class","er entityLabel").attr("id",textId).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("style","font-family: "+(0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().fontFamily+"; font-size: "+conf.fontSize+"px").text(id),_drawAttributes=function drawAttributes(groupNode,entityTextNode,attributes){var heightPadding=conf.entityPadding/3,widthPadding=conf.entityPadding/3,attrFontSize=.85*conf.fontSize,labelBBox=entityTextNode.node().getBBox(),attributeNodes=[],hasKeyType=!1,hasComment=!1,maxTypeWidth=0,maxNameWidth=0,maxKeyWidth=0,maxCommentWidth=0,cumulativeHeight=labelBBox.height+2*heightPadding,attrNum=1;attributes.forEach((function(item){void 0!==item.attributeKeyType&&(hasKeyType=!0),void 0!==item.attributeComment&&(hasComment=!0)})),attributes.forEach((function(item){var attrPrefix="".concat(entityTextNode.node().id,"-attr-").concat(attrNum),nodeHeight=0,typeNode=groupNode.append("text").attr("class","er entityLabel").attr("id","".concat(attrPrefix,"-type")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+(0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().fontFamily+"; font-size: "+attrFontSize+"px").text(item.attributeType),nameNode=groupNode.append("text").attr("class","er entityLabel").attr("id","".concat(attrPrefix,"-name")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+(0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().fontFamily+"; font-size: "+attrFontSize+"px").text(item.attributeName),attributeNode={};attributeNode.tn=typeNode,attributeNode.nn=nameNode;var typeBBox=typeNode.node().getBBox(),nameBBox=nameNode.node().getBBox();if(maxTypeWidth=Math.max(maxTypeWidth,typeBBox.width),maxNameWidth=Math.max(maxNameWidth,nameBBox.width),nodeHeight=Math.max(typeBBox.height,nameBBox.height),hasKeyType){var keyTypeNode=groupNode.append("text").attr("class","er entityLabel").attr("id","".concat(attrPrefix,"-key")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+(0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().fontFamily+"; font-size: "+attrFontSize+"px").text(item.attributeKeyType||"");attributeNode.kn=keyTypeNode;var keyTypeBBox=keyTypeNode.node().getBBox();maxKeyWidth=Math.max(maxKeyWidth,keyTypeBBox.width),nodeHeight=Math.max(nodeHeight,keyTypeBBox.height)}if(hasComment){var commentNode=groupNode.append("text").attr("class","er entityLabel").attr("id","".concat(attrPrefix,"-comment")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+(0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().fontFamily+"; font-size: "+attrFontSize+"px").text(item.attributeComment||"");attributeNode.cn=commentNode;var commentNodeBBox=commentNode.node().getBBox();maxCommentWidth=Math.max(maxCommentWidth,commentNodeBBox.width),nodeHeight=Math.max(nodeHeight,commentNodeBBox.height)}attributeNode.height=nodeHeight,attributeNodes.push(attributeNode),cumulativeHeight+=nodeHeight+2*heightPadding,attrNum+=1}));var widthPaddingFactor=4;hasKeyType&&(widthPaddingFactor+=2),hasComment&&(widthPaddingFactor+=2);var maxWidth=maxTypeWidth+maxNameWidth+maxKeyWidth+maxCommentWidth,bBox={width:Math.max(conf.minEntityWidth,Math.max(labelBBox.width+2*conf.entityPadding,maxWidth+widthPadding*widthPaddingFactor)),height:attributes.length>0?cumulativeHeight:Math.max(conf.minEntityHeight,labelBBox.height+2*conf.entityPadding)};if(attributes.length>0){var spareColumnWidth=Math.max(0,(bBox.width-maxWidth-widthPadding*widthPaddingFactor)/(widthPaddingFactor/2));entityTextNode.attr("transform","translate("+bBox.width/2+","+(heightPadding+labelBBox.height/2)+")");var heightOffset=labelBBox.height+2*heightPadding,attribStyle="attributeBoxOdd";attributeNodes.forEach((function(attributeNode){var alignY=heightOffset+heightPadding+attributeNode.height/2;attributeNode.tn.attr("transform","translate("+widthPadding+","+alignY+")");var typeRect=groupNode.insert("rect","#"+attributeNode.tn.node().id).attr("class","er ".concat(attribStyle)).attr("fill",conf.fill).attr("fill-opacity","100%").attr("stroke",conf.stroke).attr("x",0).attr("y",heightOffset).attr("width",maxTypeWidth+2*widthPadding+spareColumnWidth).attr("height",attributeNode.height+2*heightPadding),nameXOffset=parseFloat(typeRect.attr("x"))+parseFloat(typeRect.attr("width"));attributeNode.nn.attr("transform","translate("+(nameXOffset+widthPadding)+","+alignY+")");var nameRect=groupNode.insert("rect","#"+attributeNode.nn.node().id).attr("class","er ".concat(attribStyle)).attr("fill",conf.fill).attr("fill-opacity","100%").attr("stroke",conf.stroke).attr("x",nameXOffset).attr("y",heightOffset).attr("width",maxNameWidth+2*widthPadding+spareColumnWidth).attr("height",attributeNode.height+2*heightPadding),keyTypeAndCommentXOffset=parseFloat(nameRect.attr("x"))+parseFloat(nameRect.attr("width"));if(hasKeyType){attributeNode.kn.attr("transform","translate("+(keyTypeAndCommentXOffset+widthPadding)+","+alignY+")");var keyTypeRect=groupNode.insert("rect","#"+attributeNode.kn.node().id).attr("class","er ".concat(attribStyle)).attr("fill",conf.fill).attr("fill-opacity","100%").attr("stroke",conf.stroke).attr("x",keyTypeAndCommentXOffset).attr("y",heightOffset).attr("width",maxKeyWidth+2*widthPadding+spareColumnWidth).attr("height",attributeNode.height+2*heightPadding);keyTypeAndCommentXOffset=parseFloat(keyTypeRect.attr("x"))+parseFloat(keyTypeRect.attr("width"))}hasComment&&(attributeNode.cn.attr("transform","translate("+(keyTypeAndCommentXOffset+widthPadding)+","+alignY+")"),groupNode.insert("rect","#"+attributeNode.cn.node().id).attr("class","er ".concat(attribStyle)).attr("fill",conf.fill).attr("fill-opacity","100%").attr("stroke",conf.stroke).attr("x",keyTypeAndCommentXOffset).attr("y",heightOffset).attr("width",maxCommentWidth+2*widthPadding+spareColumnWidth).attr("height",attributeNode.height+2*heightPadding)),heightOffset+=attributeNode.height+2*heightPadding,attribStyle="attributeBoxOdd"==attribStyle?"attributeBoxEven":"attributeBoxOdd"}))}else bBox.height=Math.max(conf.minEntityHeight,cumulativeHeight),entityTextNode.attr("transform","translate("+bBox.width/2+","+bBox.height/2+")");return bBox}(groupNode,textNode,entities[id].attributes),entityWidth=_drawAttributes.width,entityHeight=_drawAttributes.height,rectBBox=groupNode.insert("rect","#"+textId).attr("class","er entityBox").attr("fill",conf.fill).attr("fill-opacity","100%").attr("stroke",conf.stroke).attr("x",0).attr("y",0).attr("width",entityWidth).attr("height",entityHeight).node().getBBox();graph.setNode(id,{width:rectBBox.width,height:rectBBox.height,shape:"rect",id})})),firstOne},getEdgeName=function getEdgeName(rel){return(rel.entityA+rel.roleA+rel.entityB).replace(/\s/g,"")},relCnt=0,draw=function draw(text,id){_logger__WEBPACK_IMPORTED_MODULE_6__.log.info("Drawing ER diagram"),_erDb__WEBPACK_IMPORTED_MODULE_4__.default.clear();var parser=_parser_erDiagram__WEBPACK_IMPORTED_MODULE_7___default().parser;parser.yy=_erDb__WEBPACK_IMPORTED_MODULE_4__.default;var sandboxElement,securityLevel=(0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().securityLevel;"sandbox"===securityLevel&&(sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)("#i"+id));var root="sandbox"===securityLevel?(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body):(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)("body");"sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document;try{parser.parse(text)}catch(err){_logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("Parsing failed")}var g,svg=root.select("[id='".concat(id,"']"));_erMarkers__WEBPACK_IMPORTED_MODULE_5__.default.insertMarkers(svg,conf),g=new(graphlib__WEBPACK_IMPORTED_MODULE_0___default().Graph)({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:conf.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}}));var firstEntity=drawEntities(svg,_erDb__WEBPACK_IMPORTED_MODULE_4__.default.getEntities(),g),relationships=function addRelationships(relationships,g){return relationships.forEach((function(r){g.setEdge(r.entityA,r.entityB,{relationship:r},getEdgeName(r))})),relationships}(_erDb__WEBPACK_IMPORTED_MODULE_4__.default.getRelationships(),g);dagre__WEBPACK_IMPORTED_MODULE_2___default().layout(g),function adjustEntities(svgNode,graph){graph.nodes().forEach((function(v){void 0!==v&&void 0!==graph.node(v)&&svgNode.select("#"+v).attr("transform","translate("+(graph.node(v).x-graph.node(v).width/2)+","+(graph.node(v).y-graph.node(v).height/2)+" )")}))}(svg,g),relationships.forEach((function(rel){!function drawRelationshipFromLayout(svg,rel,g,insert){relCnt++;var edge=g.edge(rel.entityA,rel.entityB,getEdgeName(rel)),lineFunction=(0,d3__WEBPACK_IMPORTED_MODULE_1__.line)().x((function(d){return d.x})).y((function(d){return d.y})).curve(d3__WEBPACK_IMPORTED_MODULE_1__.curveBasis),svgPath=svg.insert("path","#"+insert).attr("class","er relationshipLine").attr("d",lineFunction(edge.points)).attr("stroke",conf.stroke).attr("fill","none");rel.relSpec.relType===_erDb__WEBPACK_IMPORTED_MODULE_4__.default.Identification.NON_IDENTIFYING&&svgPath.attr("stroke-dasharray","8,8");var url="";switch(conf.arrowMarkerAbsolute&&(url=(url=(url=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),rel.relSpec.cardA){case _erDb__WEBPACK_IMPORTED_MODULE_4__.default.Cardinality.ZERO_OR_ONE:svgPath.attr("marker-end","url("+url+"#"+_erMarkers__WEBPACK_IMPORTED_MODULE_5__.default.ERMarkers.ZERO_OR_ONE_END+")");break;case _erDb__WEBPACK_IMPORTED_MODULE_4__.default.Cardinality.ZERO_OR_MORE:svgPath.attr("marker-end","url("+url+"#"+_erMarkers__WEBPACK_IMPORTED_MODULE_5__.default.ERMarkers.ZERO_OR_MORE_END+")");break;case _erDb__WEBPACK_IMPORTED_MODULE_4__.default.Cardinality.ONE_OR_MORE:svgPath.attr("marker-end","url("+url+"#"+_erMarkers__WEBPACK_IMPORTED_MODULE_5__.default.ERMarkers.ONE_OR_MORE_END+")");break;case _erDb__WEBPACK_IMPORTED_MODULE_4__.default.Cardinality.ONLY_ONE:svgPath.attr("marker-end","url("+url+"#"+_erMarkers__WEBPACK_IMPORTED_MODULE_5__.default.ERMarkers.ONLY_ONE_END+")")}switch(rel.relSpec.cardB){case _erDb__WEBPACK_IMPORTED_MODULE_4__.default.Cardinality.ZERO_OR_ONE:svgPath.attr("marker-start","url("+url+"#"+_erMarkers__WEBPACK_IMPORTED_MODULE_5__.default.ERMarkers.ZERO_OR_ONE_START+")");break;case _erDb__WEBPACK_IMPORTED_MODULE_4__.default.Cardinality.ZERO_OR_MORE:svgPath.attr("marker-start","url("+url+"#"+_erMarkers__WEBPACK_IMPORTED_MODULE_5__.default.ERMarkers.ZERO_OR_MORE_START+")");break;case _erDb__WEBPACK_IMPORTED_MODULE_4__.default.Cardinality.ONE_OR_MORE:svgPath.attr("marker-start","url("+url+"#"+_erMarkers__WEBPACK_IMPORTED_MODULE_5__.default.ERMarkers.ONE_OR_MORE_START+")");break;case _erDb__WEBPACK_IMPORTED_MODULE_4__.default.Cardinality.ONLY_ONE:svgPath.attr("marker-start","url("+url+"#"+_erMarkers__WEBPACK_IMPORTED_MODULE_5__.default.ERMarkers.ONLY_ONE_START+")")}var len=svgPath.node().getTotalLength(),labelPoint=svgPath.node().getPointAtLength(.5*len),labelId="rel"+relCnt,labelBBox=svg.append("text").attr("class","er relationshipLabel").attr("id",labelId).attr("x",labelPoint.x).attr("y",labelPoint.y).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("style","font-family: "+(0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().fontFamily+"; font-size: "+conf.fontSize+"px").text(rel.roleA).node().getBBox();svg.insert("rect","#"+labelId).attr("class","er relationshipLabelBox").attr("x",labelPoint.x-labelBBox.width/2).attr("y",labelPoint.y-labelBBox.height/2).attr("width",labelBBox.width).attr("height",labelBBox.height).attr("fill","white").attr("fill-opacity","85%")}(svg,rel,g,firstEntity)}));var padding=conf.diagramPadding,svgBounds=svg.node().getBBox(),width=svgBounds.width+2*padding,height=svgBounds.height+2*padding;(0,_utils__WEBPACK_IMPORTED_MODULE_8__.configureSvgSize)(svg,height,width,conf.useMaxWidth),svg.attr("viewBox","".concat(svgBounds.x-padding," ").concat(svgBounds.y-padding," ").concat(width," ").concat(height))};const __WEBPACK_DEFAULT_EXPORT__={setConf,draw}},"./src/diagrams/er/styles.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_627717__)=>{"use strict";__nested_webpack_require_627717__.r(__nested_webpack_exports__),__nested_webpack_require_627717__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function getStyles(options){return"\n  .entityBox {\n    fill: ".concat(options.mainBkg,";\n    stroke: ").concat(options.nodeBorder,";\n  }\n\n  .attributeBoxOdd {\n    fill: #ffffff;\n    stroke: ").concat(options.nodeBorder,";\n  }\n\n  .attributeBoxEven {\n    fill: #f2f2f2;\n    stroke: ").concat(options.nodeBorder,";\n  }\n\n  .relationshipLabelBox {\n    fill: ").concat(options.tertiaryColor,";\n    opacity: 0.7;\n    background-color: ").concat(options.tertiaryColor,";\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n    .relationshipLine {\n      stroke: ").concat(options.lineColor,";\n    }\n")}},"./src/diagrams/flowchart/flowChartShapes.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_628978__)=>{"use strict";__nested_webpack_require_628978__.r(__nested_webpack_exports__),__nested_webpack_require_628978__.d(__nested_webpack_exports__,{addToRender:()=>addToRender,addToRenderV2:()=>addToRenderV2,default:()=>__WEBPACK_DEFAULT_EXPORT__});var dagre_d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_628978__("dagre-d3"),dagre_d3__WEBPACK_IMPORTED_MODULE_0___default=__nested_webpack_require_628978__.n(dagre_d3__WEBPACK_IMPORTED_MODULE_0__);function question(parent,bbox,node){var s=.9*(bbox.width+bbox.height),points=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}],shapeSvg=insertPolygonShape(parent,s,s,points);return node.intersect=function(point){return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node,points,point)},shapeSvg}function hexagon(parent,bbox,node){var h=bbox.height,m=h/4,w=bbox.width+2*m,points=[{x:m,y:0},{x:w-m,y:0},{x:w,y:-h/2},{x:w-m,y:-h},{x:m,y:-h},{x:0,y:-h/2}],shapeSvg=insertPolygonShape(parent,w,h,points);return node.intersect=function(point){return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node,points,point)},shapeSvg}function rect_left_inv_arrow(parent,bbox,node){var w=bbox.width,h=bbox.height,points=[{x:-h/2,y:0},{x:w,y:0},{x:w,y:-h},{x:-h/2,y:-h},{x:0,y:-h/2}],shapeSvg=insertPolygonShape(parent,w,h,points);return node.intersect=function(point){return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node,points,point)},shapeSvg}function lean_right(parent,bbox,node){var w=bbox.width,h=bbox.height,points=[{x:-2*h/6,y:0},{x:w-h/6,y:0},{x:w+2*h/6,y:-h},{x:h/6,y:-h}],shapeSvg=insertPolygonShape(parent,w,h,points);return node.intersect=function(point){return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node,points,point)},shapeSvg}function lean_left(parent,bbox,node){var w=bbox.width,h=bbox.height,points=[{x:2*h/6,y:0},{x:w+h/6,y:0},{x:w-2*h/6,y:-h},{x:-h/6,y:-h}],shapeSvg=insertPolygonShape(parent,w,h,points);return node.intersect=function(point){return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node,points,point)},shapeSvg}function trapezoid(parent,bbox,node){var w=bbox.width,h=bbox.height,points=[{x:-2*h/6,y:0},{x:w+2*h/6,y:0},{x:w-h/6,y:-h},{x:h/6,y:-h}],shapeSvg=insertPolygonShape(parent,w,h,points);return node.intersect=function(point){return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node,points,point)},shapeSvg}function inv_trapezoid(parent,bbox,node){var w=bbox.width,h=bbox.height,points=[{x:h/6,y:0},{x:w-h/6,y:0},{x:w+2*h/6,y:-h},{x:-2*h/6,y:-h}],shapeSvg=insertPolygonShape(parent,w,h,points);return node.intersect=function(point){return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node,points,point)},shapeSvg}function rect_right_inv_arrow(parent,bbox,node){var w=bbox.width,h=bbox.height,points=[{x:0,y:0},{x:w+h/2,y:0},{x:w,y:-h/2},{x:w+h/2,y:-h},{x:0,y:-h}],shapeSvg=insertPolygonShape(parent,w,h,points);return node.intersect=function(point){return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node,points,point)},shapeSvg}function stadium(parent,bbox,node){var h=bbox.height,w=bbox.width+h/4,shapeSvg=parent.insert("rect",":first-child").attr("rx",h/2).attr("ry",h/2).attr("x",-w/2).attr("y",-h/2).attr("width",w).attr("height",h);return node.intersect=function(point){return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.rect(node,point)},shapeSvg}function subroutine(parent,bbox,node){var w=bbox.width,h=bbox.height,points=[{x:0,y:0},{x:w,y:0},{x:w,y:-h},{x:0,y:-h},{x:0,y:0},{x:-8,y:0},{x:w+8,y:0},{x:w+8,y:-h},{x:-8,y:-h},{x:-8,y:0}],shapeSvg=insertPolygonShape(parent,w,h,points);return node.intersect=function(point){return dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.polygon(node,points,point)},shapeSvg}function cylinder(parent,bbox,node){var w=bbox.width,rx=w/2,ry=rx/(2.5+w/50),h=bbox.height+ry,shape="M 0,"+ry+" a "+rx+","+ry+" 0,0,0 "+w+" 0 a "+rx+","+ry+" 0,0,0 "+-w+" 0 l 0,"+h+" a "+rx+","+ry+" 0,0,0 "+w+" 0 l 0,"+-h,shapeSvg=parent.attr("label-offset-y",ry).insert("path",":first-child").attr("d",shape).attr("transform","translate("+-w/2+","+-(h/2+ry)+")");return node.intersect=function(point){var pos=dagre_d3__WEBPACK_IMPORTED_MODULE_0___default().intersect.rect(node,point),x=pos.x-node.x;if(0!=rx&&(Math.abs(x)<node.width/2||Math.abs(x)==node.width/2&&Math.abs(pos.y-node.y)>node.height/2-ry)){var y=ry*ry*(1-x*x/(rx*rx));0!=y&&(y=Math.sqrt(y)),y=ry-y,point.y-node.y>0&&(y=-y),pos.y+=y}return pos},shapeSvg}function addToRender(render){render.shapes().question=question,render.shapes().hexagon=hexagon,render.shapes().stadium=stadium,render.shapes().subroutine=subroutine,render.shapes().cylinder=cylinder,render.shapes().rect_left_inv_arrow=rect_left_inv_arrow,render.shapes().lean_right=lean_right,render.shapes().lean_left=lean_left,render.shapes().trapezoid=trapezoid,render.shapes().inv_trapezoid=inv_trapezoid,render.shapes().rect_right_inv_arrow=rect_right_inv_arrow}function addToRenderV2(addShape){addShape({question}),addShape({hexagon}),addShape({stadium}),addShape({subroutine}),addShape({cylinder}),addShape({rect_left_inv_arrow}),addShape({lean_right}),addShape({lean_left}),addShape({trapezoid}),addShape({inv_trapezoid}),addShape({rect_right_inv_arrow})}function insertPolygonShape(parent,w,h,points){return parent.insert("polygon",":first-child").attr("points",points.map((function(d){return d.x+","+d.y})).join(" ")).attr("transform","translate("+-w/2+","+h/2+")")}const __WEBPACK_DEFAULT_EXPORT__={addToRender,addToRenderV2}},"./src/diagrams/flowchart/flowDb.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_638822__)=>{"use strict";__nested_webpack_require_638822__.r(__nested_webpack_exports__),__nested_webpack_require_638822__.d(__nested_webpack_exports__,{parseDirective:()=>parseDirective,lookUpDomId:()=>lookUpDomId,addVertex:()=>addVertex,addSingleLink:()=>addSingleLink,addLink:()=>addLink,updateLinkInterpolate:()=>updateLinkInterpolate,updateLink:()=>updateLink,addClass:()=>addClass,setDirection:()=>setDirection,setClass:()=>setClass,setLink:()=>setLink,getTooltip:()=>getTooltip,setClickEvent:()=>setClickEvent,bindFunctions:()=>bindFunctions,getDirection:()=>getDirection,getVertices:()=>getVertices,getEdges:()=>getEdges,getClasses:()=>getClasses,clear:()=>clear,setGen:()=>setGen,defaultStyle:()=>defaultStyle,addSubGraph:()=>addSubGraph,getDepthFirstPos:()=>getDepthFirstPos,indexNodes:()=>indexNodes,getSubGraphs:()=>getSubGraphs,firstGraph:()=>firstGraph,default:()=>__WEBPACK_DEFAULT_EXPORT__});var d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_638822__("d3"),_utils__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_638822__("./src/utils.js"),_config__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_638822__("./src/config.js"),_common_common__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_638822__("./src/diagrams/common/common.js"),_mermaidAPI__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_638822__("./src/mermaidAPI.js"),_logger__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_638822__("./src/logger.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var direction,version,vertexCounter=0,config=_config__WEBPACK_IMPORTED_MODULE_1__.getConfig(),vertices={},edges=[],classes=[],subGraphs=[],subGraphLookup={},tooltips={},subCount=0,firstGraphFlag=!0,funs=[],parseDirective=function parseDirective(statement,context,type){_mermaidAPI__WEBPACK_IMPORTED_MODULE_2__.default.parseDirective(this,statement,context,type)},lookUpDomId=function lookUpDomId(id){for(var veritceKeys=Object.keys(vertices),i=0;i<veritceKeys.length;i++)if(vertices[veritceKeys[i]].id===id)return vertices[veritceKeys[i]].domId;return id},addVertex=function addVertex(_id,text,type,style,classes,dir){var txt,props=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},id=_id;void 0!==id&&0!==id.trim().length&&(void 0===vertices[id]&&(vertices[id]={id,domId:"flowchart-"+id+"-"+vertexCounter,styles:[],classes:[]}),vertexCounter++,void 0!==text?(config=_config__WEBPACK_IMPORTED_MODULE_1__.getConfig(),'"'===(txt=_common_common__WEBPACK_IMPORTED_MODULE_3__.default.sanitizeText(text.trim(),config))[0]&&'"'===txt[txt.length-1]&&(txt=txt.substring(1,txt.length-1)),vertices[id].text=txt):void 0===vertices[id].text&&(vertices[id].text=_id),void 0!==type&&(vertices[id].type=type),null!=style&&style.forEach((function(s){vertices[id].styles.push(s)})),null!=classes&&classes.forEach((function(s){vertices[id].classes.push(s)})),void 0!==dir&&(vertices[id].dir=dir),vertices[id].props=props)},addSingleLink=function addSingleLink(_start,_end,type,linktext){var edge={start:_start,end:_end,type:void 0,text:""};void 0!==(linktext=type.text)&&(edge.text=_common_common__WEBPACK_IMPORTED_MODULE_3__.default.sanitizeText(linktext.trim(),config),'"'===edge.text[0]&&'"'===edge.text[edge.text.length-1]&&(edge.text=edge.text.substring(1,edge.text.length-1))),void 0!==type&&(edge.type=type.type,edge.stroke=type.stroke,edge.length=type.length),edges.push(edge)},addLink=function addLink(_start,_end,type,linktext){var i,j;for(i=0;i<_start.length;i++)for(j=0;j<_end.length;j++)addSingleLink(_start[i],_end[j],type,linktext)},updateLinkInterpolate=function updateLinkInterpolate(positions,interp){positions.forEach((function(pos){"default"===pos?edges.defaultInterpolate=interp:edges[pos].interpolate=interp}))},updateLink=function updateLink(positions,style){positions.forEach((function(pos){"default"===pos?edges.defaultStyle=style:(-1===_utils__WEBPACK_IMPORTED_MODULE_4__.default.isSubstringInArray("fill",style)&&style.push("fill:none"),edges[pos].style=style)}))},addClass=function addClass(id,style){void 0===classes[id]&&(classes[id]={id,styles:[],textStyles:[]}),null!=style&&style.forEach((function(s){if(s.match("color")){var newStyle2=s.replace("fill","bgFill").replace("color","fill");classes[id].textStyles.push(newStyle2)}classes[id].styles.push(s)}))},setDirection=function setDirection(dir){(direction=dir).match(/.*</)&&(direction="RL"),direction.match(/.*\^/)&&(direction="BT"),direction.match(/.*>/)&&(direction="LR"),direction.match(/.*v/)&&(direction="TB")},setClass=function setClass(ids,className){ids.split(",").forEach((function(_id){var id=_id;void 0!==vertices[id]&&vertices[id].classes.push(className),void 0!==subGraphLookup[id]&&subGraphLookup[id].classes.push(className)}))},setLink=function setLink(ids,linkStr,target){ids.split(",").forEach((function(id){void 0!==vertices[id]&&(vertices[id].link=_utils__WEBPACK_IMPORTED_MODULE_4__.default.formatUrl(linkStr,config),vertices[id].linkTarget=target)})),setClass(ids,"clickable")},getTooltip=function getTooltip(id){return tooltips[id]},setClickEvent=function setClickEvent(ids,functionName,functionArgs){ids.split(",").forEach((function(id){!function setClickFun(id,functionName,functionArgs){var domId=lookUpDomId(id);if("loose"===_config__WEBPACK_IMPORTED_MODULE_1__.getConfig().securityLevel&&void 0!==functionName){var argList=[];if("string"==typeof functionArgs){argList=functionArgs.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var i=0;i<argList.length;i++){var item=argList[i].trim();'"'===item.charAt(0)&&'"'===item.charAt(item.length-1)&&(item=item.substr(1,item.length-2)),argList[i]=item}}0===argList.length&&argList.push(id),void 0!==vertices[id]&&(vertices[id].haveCallback=!0,funs.push((function(){var elem=document.querySelector('[id="'.concat(domId,'"]'));null!==elem&&elem.addEventListener("click",(function(){_utils__WEBPACK_IMPORTED_MODULE_4__.default.runFunc.apply(_utils__WEBPACK_IMPORTED_MODULE_4__.default,[functionName].concat(_toConsumableArray(argList)))}),!1)})))}}(id,functionName,functionArgs)})),setClass(ids,"clickable")},bindFunctions=function bindFunctions(element){funs.forEach((function(fun){fun(element)}))},getDirection=function getDirection(){return direction.trim()},getVertices=function getVertices(){return vertices},getEdges=function getEdges(){return edges},getClasses=function getClasses(){return classes},setupToolTips=function setupToolTips(element){var tooltipElem=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(".mermaidTooltip");null===(tooltipElem._groups||tooltipElem)[0][0]&&(tooltipElem=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(element).select("svg").selectAll("g.node").on("mouseover",(function(){var el=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(this);if(null!==el.attr("title")){var rect=this.getBoundingClientRect();tooltipElem.transition().duration(200).style("opacity",".9"),tooltipElem.html(el.attr("title")).style("left",window.scrollX+rect.left+(rect.right-rect.left)/2+"px").style("top",window.scrollY+rect.top-14+document.body.scrollTop+"px"),el.classed("hover",!0)}})).on("mouseout",(function(){tooltipElem.transition().duration(500).style("opacity",0),(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(this).classed("hover",!1)}))};funs.push(setupToolTips);var clear=function clear(ver){vertices={},classes={},edges=[],(funs=[]).push(setupToolTips),subGraphs=[],subGraphLookup={},subCount=0,tooltips=[],firstGraphFlag=!0,version=ver||"gen-1"},setGen=function setGen(ver){version=ver||"gen-1"},defaultStyle=function defaultStyle(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},addSubGraph=function addSubGraph(_id,list,_title){var id=_id.trim(),title=_title;_id===_title&&_title.match(/\s/)&&(id=void 0);var nodeList=[],_uniq=function uniq(a){var dir,prims={boolean:{},number:{},string:{}},objs=[];return{nodeList:a.filter((function(item){var type=_typeof(item);return item.stmt&&"dir"===item.stmt?(dir=item.value,!1):""!==item.trim()&&(type in prims?!prims[type].hasOwnProperty(item)&&(prims[type][item]=!0):!(objs.indexOf(item)>=0)&&objs.push(item))})),dir}}(nodeList.concat.apply(nodeList,list)),nl=_uniq.nodeList,dir=_uniq.dir;if(nodeList=nl,"gen-1"===version){_logger__WEBPACK_IMPORTED_MODULE_5__.log.warn("LOOKING UP");for(var i=0;i<nodeList.length;i++)nodeList[i]=lookUpDomId(nodeList[i])}id=id||"subGraph"+subCount,title=title||"",title=_common_common__WEBPACK_IMPORTED_MODULE_3__.default.sanitizeText(title,config),subCount+=1;var subGraph={id,nodes:nodeList,title:title.trim(),classes:[],dir};return _logger__WEBPACK_IMPORTED_MODULE_5__.log.info("Adding",subGraph.id,subGraph.nodes,subGraph.dir),subGraph.nodes=makeUniq(subGraph,subGraphs).nodes,subGraphs.push(subGraph),subGraphLookup[id]=subGraph,id},getPosForId=function getPosForId(id){for(var i=0;i<subGraphs.length;i++)if(subGraphs[i].id===id)return i;return-1},secCount=-1,posCrossRef=[],indexNodes2=function indexNodes2(id,pos){var nodes=subGraphs[pos].nodes;if(!((secCount+=1)>2e3)){if(posCrossRef[secCount]=pos,subGraphs[pos].id===id)return{result:!0,count:0};for(var count=0,posCount=1;count<nodes.length;){var childPos=getPosForId(nodes[count]);if(childPos>=0){var res=indexNodes2(id,childPos);if(res.result)return{result:!0,count:posCount+res.count};posCount+=res.count}count+=1}return{result:!1,count:posCount}}},getDepthFirstPos=function getDepthFirstPos(pos){return posCrossRef[pos]},indexNodes=function indexNodes(){secCount=-1,subGraphs.length>0&&indexNodes2("none",subGraphs.length-1)},getSubGraphs=function getSubGraphs(){return subGraphs},firstGraph=function firstGraph(){return!!firstGraphFlag&&(firstGraphFlag=!1,!0)},exists=function exists(allSgs,_id){var res=!1;return allSgs.forEach((function(sg){sg.nodes.indexOf(_id)>=0&&(res=!0)})),res},makeUniq=function makeUniq(sg,allSubgraphs){var res=[];return sg.nodes.forEach((function(_id,pos){exists(allSubgraphs,_id)||res.push(sg.nodes[pos])})),{nodes:res}};const __WEBPACK_DEFAULT_EXPORT__={parseDirective,defaultConfig:function defaultConfig(){return _config__WEBPACK_IMPORTED_MODULE_1__.defaultConfig.flowchart},addVertex,lookUpDomId,addLink,updateLinkInterpolate,updateLink,addClass,setDirection,setClass,setTooltip:function setTooltip(ids,tooltip){ids.split(",").forEach((function(id){void 0!==tooltip&&(tooltips["gen-1"===version?lookUpDomId(id):id]=_common_common__WEBPACK_IMPORTED_MODULE_3__.default.sanitizeText(tooltip,config))}))},getTooltip,setClickEvent,setLink,bindFunctions,getDirection,getVertices,getEdges,getClasses,clear,setGen,defaultStyle,addSubGraph,getDepthFirstPos,indexNodes,getSubGraphs,destructLink:function destructLink(_str,_startStr){var startInfo,info=function destructEndLink(_str){var str=_str.trim(),line=str.slice(0,-1),type="arrow_open";switch(str.slice(-1)){case"x":type="arrow_cross","x"===str[0]&&(type="double_"+type,line=line.slice(1));break;case">":type="arrow_point","<"===str[0]&&(type="double_"+type,line=line.slice(1));break;case"o":type="arrow_circle","o"===str[0]&&(type="double_"+type,line=line.slice(1))}var stroke="normal",length=line.length-1;"="===line[0]&&(stroke="thick");var dots=function countChar(char,str){for(var length=str.length,count=0,i=0;i<length;++i)str[i]===char&&++count;return count}(".",line);return dots&&(stroke="dotted",length=dots),{type,stroke,length}}(_str);if(_startStr){if(startInfo=function destructStartLink(_str){var str=_str.trim(),type="arrow_open";switch(str[0]){case"<":type="arrow_point",str=str.slice(1);break;case"x":type="arrow_cross",str=str.slice(1);break;case"o":type="arrow_circle",str=str.slice(1)}var stroke="normal";return-1!==str.indexOf("=")&&(stroke="thick"),-1!==str.indexOf(".")&&(stroke="dotted"),{type,stroke}}(_startStr),startInfo.stroke!==info.stroke)return{type:"INVALID",stroke:"INVALID"};if("arrow_open"===startInfo.type)startInfo.type=info.type;else{if(startInfo.type!==info.type)return{type:"INVALID",stroke:"INVALID"};startInfo.type="double_"+startInfo.type}return"double_arrow"===startInfo.type&&(startInfo.type="double_arrow_point"),startInfo.length=info.length,startInfo}return info},lex:{firstGraph},exists,makeUniq}},"./src/diagrams/flowchart/flowRenderer-v2.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_663489__)=>{"use strict";__nested_webpack_require_663489__.r(__nested_webpack_exports__),__nested_webpack_require_663489__.d(__nested_webpack_exports__,{setConf:()=>setConf,addVertices:()=>addVertices,addEdges:()=>addEdges,getClasses:()=>getClasses,draw:()=>draw,default:()=>__WEBPACK_DEFAULT_EXPORT__});var graphlib__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_663489__("graphlib"),graphlib__WEBPACK_IMPORTED_MODULE_0___default=__nested_webpack_require_663489__.n(graphlib__WEBPACK_IMPORTED_MODULE_0__),d3__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_663489__("d3"),_flowDb__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_663489__("./src/diagrams/flowchart/flowDb.js"),_parser_flow__WEBPACK_IMPORTED_MODULE_8__=__nested_webpack_require_663489__("./src/diagrams/flowchart/parser/flow.jison"),_parser_flow__WEBPACK_IMPORTED_MODULE_8___default=__nested_webpack_require_663489__.n(_parser_flow__WEBPACK_IMPORTED_MODULE_8__),_config__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_663489__("./src/config.js"),_dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_9__=__nested_webpack_require_663489__("./src/dagre-wrapper/index.js"),dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_663489__("dagre-d3/lib/label/add-html-label.js"),dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_2___default=__nested_webpack_require_663489__.n(dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_2__),_logger__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_663489__("./src/logger.js"),_common_common__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_663489__("./src/diagrams/common/common.js"),_utils__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_663489__("./src/utils.js"),conf={},setConf=function setConf(cnf){for(var keys=Object.keys(cnf),i=0;i<keys.length;i++)conf[keys[i]]=cnf[keys[i]]},addVertices=function addVertices(vert,g,svgId,root,doc){var svg=root.select('[id="'.concat(svgId,'"]'));Object.keys(vert).forEach((function(id){var vertex=vert[id],classStr="default";vertex.classes.length>0&&(classStr=vertex.classes.join(" "));var vertexNode,styles=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.getStylesFromArray)(vertex.styles),vertexText=void 0!==vertex.text?vertex.text:vertex.id;if((0,_common_common__WEBPACK_IMPORTED_MODULE_4__.evaluate)((0,_config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().flowchart.htmlLabels)){var node={label:vertexText.replace(/fa[lrsb]?:fa-[\w-]+/g,(function(s){return"<i class='".concat(s.replace(":"," "),"'></i>")}))};(vertexNode=dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_2___default()(svg,node).node()).parentNode.removeChild(vertexNode)}else{var svgLabel=doc.createElementNS("http://www.w3.org/2000/svg","text");svgLabel.setAttribute("style",styles.labelStyle.replace("color:","fill:"));for(var rows=vertexText.split(_common_common__WEBPACK_IMPORTED_MODULE_4__.default.lineBreakRegex),j=0;j<rows.length;j++){var tspan=doc.createElementNS("http://www.w3.org/2000/svg","tspan");tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),tspan.setAttribute("dy","1em"),tspan.setAttribute("x","1"),tspan.textContent=rows[j],svgLabel.appendChild(tspan)}vertexNode=svgLabel}var radious=0,_shape="";switch(vertex.type){case"round":radious=5,_shape="rect";break;case"square":case"group":default:_shape="rect";break;case"diamond":_shape="question";break;case"hexagon":_shape="hexagon";break;case"odd":case"odd_right":_shape="rect_left_inv_arrow";break;case"lean_right":_shape="lean_right";break;case"lean_left":_shape="lean_left";break;case"trapezoid":_shape="trapezoid";break;case"inv_trapezoid":_shape="inv_trapezoid";break;case"circle":_shape="circle";break;case"ellipse":_shape="ellipse";break;case"stadium":_shape="stadium";break;case"subroutine":_shape="subroutine";break;case"cylinder":_shape="cylinder"}g.setNode(vertex.id,{labelStyle:styles.labelStyle,shape:_shape,labelText:vertexText,rx:radious,ry:radious,class:classStr,style:styles.style,id:vertex.id,link:vertex.link,linkTarget:vertex.linkTarget,tooltip:_flowDb__WEBPACK_IMPORTED_MODULE_6__.default.getTooltip(vertex.id)||"",domId:_flowDb__WEBPACK_IMPORTED_MODULE_6__.default.lookUpDomId(vertex.id),haveCallback:vertex.haveCallback,width:"group"===vertex.type?500:void 0,dir:vertex.dir,type:vertex.type,props:vertex.props,padding:(0,_config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().flowchart.padding}),_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("setNode",{labelStyle:styles.labelStyle,shape:_shape,labelText:vertexText,rx:radious,ry:radious,class:classStr,style:styles.style,id:vertex.id,domId:_flowDb__WEBPACK_IMPORTED_MODULE_6__.default.lookUpDomId(vertex.id),width:"group"===vertex.type?500:void 0,type:vertex.type,dir:vertex.dir,props:vertex.props,padding:(0,_config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().flowchart.padding})}))},addEdges=function addEdges(edges,g){_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("abc78 edges = ",edges);var defaultStyle,defaultLabelStyle,cnt=0,linkIdCnt={};if(void 0!==edges.defaultStyle){var defaultStyles=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.getStylesFromArray)(edges.defaultStyle);defaultStyle=defaultStyles.style,defaultLabelStyle=defaultStyles.labelStyle}edges.forEach((function(edge){cnt++;var linkIdBase="L-"+edge.start+"-"+edge.end;void 0===linkIdCnt[linkIdBase]?(linkIdCnt[linkIdBase]=0,_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("abc78 new entry",linkIdBase,linkIdCnt[linkIdBase])):(linkIdCnt[linkIdBase]++,_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("abc78 new entry",linkIdBase,linkIdCnt[linkIdBase]));var linkId=linkIdBase+"-"+linkIdCnt[linkIdBase];_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("abc78 new link id to be used is",linkIdBase,linkId,linkIdCnt[linkIdBase]);var linkNameStart="LS-"+edge.start,linkNameEnd="LE-"+edge.end,edgeData={style:"",labelStyle:""};switch(edgeData.minlen=edge.length||1,"arrow_open"===edge.type?edgeData.arrowhead="none":edgeData.arrowhead="normal",edgeData.arrowTypeStart="arrow_open",edgeData.arrowTypeEnd="arrow_open",edge.type){case"double_arrow_cross":edgeData.arrowTypeStart="arrow_cross";case"arrow_cross":edgeData.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":edgeData.arrowTypeStart="arrow_point";case"arrow_point":edgeData.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":edgeData.arrowTypeStart="arrow_circle";case"arrow_circle":edgeData.arrowTypeEnd="arrow_circle"}var style="",labelStyle="";switch(edge.stroke){case"normal":style="fill:none;",void 0!==defaultStyle&&(style=defaultStyle),void 0!==defaultLabelStyle&&(labelStyle=defaultLabelStyle),edgeData.thickness="normal",edgeData.pattern="solid";break;case"dotted":edgeData.thickness="normal",edgeData.pattern="dotted",edgeData.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":edgeData.thickness="thick",edgeData.pattern="solid",edgeData.style="stroke-width: 3.5px;fill:none;"}if(void 0!==edge.style){var styles=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.getStylesFromArray)(edge.style);style=styles.style,labelStyle=styles.labelStyle}edgeData.style=edgeData.style+=style,edgeData.labelStyle=edgeData.labelStyle+=labelStyle,void 0!==edge.interpolate?edgeData.curve=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.interpolateToCurve)(edge.interpolate,d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear):void 0!==edges.defaultInterpolate?edgeData.curve=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.interpolateToCurve)(edges.defaultInterpolate,d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear):edgeData.curve=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.interpolateToCurve)(conf.curve,d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear),void 0===edge.text?void 0!==edge.style&&(edgeData.arrowheadStyle="fill: #333"):(edgeData.arrowheadStyle="fill: #333",edgeData.labelpos="c"),edgeData.labelType="text",edgeData.label=edge.text.replace(_common_common__WEBPACK_IMPORTED_MODULE_4__.default.lineBreakRegex,"\n"),void 0===edge.style&&(edgeData.style=edgeData.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),edgeData.labelStyle=edgeData.labelStyle.replace("color:","fill:"),edgeData.id=linkId,edgeData.classes="flowchart-link "+linkNameStart+" "+linkNameEnd,g.setEdge(edge.start,edge.end,edgeData,cnt)}))},getClasses=function getClasses(text){_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("Extracting classes"),_flowDb__WEBPACK_IMPORTED_MODULE_6__.default.clear();var parser=_parser_flow__WEBPACK_IMPORTED_MODULE_8___default().parser;parser.yy=_flowDb__WEBPACK_IMPORTED_MODULE_6__.default;try{parser.parse(text)}catch(e){return}return _flowDb__WEBPACK_IMPORTED_MODULE_6__.default.getClasses()},draw=function draw(text,id){_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("Drawing flowchart"),_flowDb__WEBPACK_IMPORTED_MODULE_6__.default.clear(),_flowDb__WEBPACK_IMPORTED_MODULE_6__.default.setGen("gen-2");var parser=_parser_flow__WEBPACK_IMPORTED_MODULE_8___default().parser;parser.yy=_flowDb__WEBPACK_IMPORTED_MODULE_6__.default,parser.parse(text);var dir=_flowDb__WEBPACK_IMPORTED_MODULE_6__.default.getDirection();void 0===dir&&(dir="TD");var sandboxElement,conf=(0,_config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().flowchart,nodeSpacing=conf.nodeSpacing||50,rankSpacing=conf.rankSpacing||50,securityLevel=(0,_config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().securityLevel;"sandbox"===securityLevel&&(sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)("#i"+id));var subG,root="sandbox"===securityLevel?(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body):(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)("body"),doc="sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document,g=new(graphlib__WEBPACK_IMPORTED_MODULE_0___default().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:dir,nodesep:nodeSpacing,ranksep:rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),subGraphs=_flowDb__WEBPACK_IMPORTED_MODULE_6__.default.getSubGraphs();_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("Subgraphs - ",subGraphs);for(var _i=subGraphs.length-1;_i>=0;_i--)subG=subGraphs[_i],_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("Subgraph - ",subG),_flowDb__WEBPACK_IMPORTED_MODULE_6__.default.addVertex(subG.id,subG.title,"group",void 0,subG.classes,subG.dir);var vert=_flowDb__WEBPACK_IMPORTED_MODULE_6__.default.getVertices(),edges=_flowDb__WEBPACK_IMPORTED_MODULE_6__.default.getEdges();_logger__WEBPACK_IMPORTED_MODULE_7__.log.info(edges);var i=0;for(i=subGraphs.length-1;i>=0;i--){subG=subGraphs[i],(0,d3__WEBPACK_IMPORTED_MODULE_1__.selectAll)("cluster").append("text");for(var j=0;j<subG.nodes.length;j++)_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("Setting up subgraphs",subG.nodes[j],subG.id),g.setParent(subG.nodes[j],subG.id)}addVertices(vert,g,id,root,doc),addEdges(edges,g);var svg=root.select('[id="'.concat(id,'"]'));svg.attr("xmlns:xlink","http://www.w3.org/1999/xlink");var element=root.select("#"+id+" g");(0,_dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_9__.render)(element,g,["point","circle","cross"],"flowchart",id);var padding=conf.diagramPadding,svgBounds=svg.node().getBBox(),width=svgBounds.width+2*padding,height=svgBounds.height+2*padding;if(_logger__WEBPACK_IMPORTED_MODULE_7__.log.debug("new ViewBox 0 0 ".concat(width," ").concat(height),"translate(".concat(padding-g._label.marginx,", ").concat(padding-g._label.marginy,")")),(0,_utils__WEBPACK_IMPORTED_MODULE_3__.configureSvgSize)(svg,height,width,conf.useMaxWidth),svg.attr("viewBox","0 0 ".concat(width," ").concat(height)),svg.select("g").attr("transform","translate(".concat(padding-g._label.marginx,", ").concat(padding-svgBounds.y,")")),_flowDb__WEBPACK_IMPORTED_MODULE_6__.default.indexNodes("subGraph"+i),!conf.htmlLabels)for(var labels=doc.querySelectorAll('[id="'+id+'"] .edgeLabel .label'),k=0;k<labels.length;k++){var label=labels[k],dim=label.getBBox(),rect=doc.createElementNS("http://www.w3.org/2000/svg","rect");rect.setAttribute("rx",0),rect.setAttribute("ry",0),rect.setAttribute("width",dim.width),rect.setAttribute("height",dim.height),label.insertBefore(rect,label.firstChild)}Object.keys(vert).forEach((function(key){var vertex=vert[key];if(vertex.link){var node=(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)("#"+id+' [id="'+key+'"]');if(node){var link=doc.createElementNS("http://www.w3.org/2000/svg","a");link.setAttributeNS("http://www.w3.org/2000/svg","class",vertex.classes.join(" ")),link.setAttributeNS("http://www.w3.org/2000/svg","href",vertex.link),link.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===securityLevel?link.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):vertex.linkTarget&&link.setAttributeNS("http://www.w3.org/2000/svg","target",vertex.linkTarget);var linkNode=node.insert((function(){return link}),":first-child"),shape=node.select(".label-container");shape&&linkNode.append((function(){return shape.node()}));var _label=node.select(".label");_label&&linkNode.append((function(){return _label.node()}))}}}))};const __WEBPACK_DEFAULT_EXPORT__={setConf,addVertices,addEdges,getClasses,draw}},"./src/diagrams/flowchart/flowRenderer.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_683892__)=>{"use strict";__nested_webpack_require_683892__.r(__nested_webpack_exports__),__nested_webpack_require_683892__.d(__nested_webpack_exports__,{setConf:()=>setConf,addVertices:()=>addVertices,addEdges:()=>addEdges,getClasses:()=>getClasses,draw:()=>draw,default:()=>__WEBPACK_DEFAULT_EXPORT__});var graphlib__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_683892__("graphlib"),graphlib__WEBPACK_IMPORTED_MODULE_0___default=__nested_webpack_require_683892__.n(graphlib__WEBPACK_IMPORTED_MODULE_0__),d3__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_683892__("d3"),_flowDb__WEBPACK_IMPORTED_MODULE_8__=__nested_webpack_require_683892__("./src/diagrams/flowchart/flowDb.js"),_parser_flow__WEBPACK_IMPORTED_MODULE_9__=__nested_webpack_require_683892__("./src/diagrams/flowchart/parser/flow.jison"),_parser_flow__WEBPACK_IMPORTED_MODULE_9___default=__nested_webpack_require_683892__.n(_parser_flow__WEBPACK_IMPORTED_MODULE_9__),_config__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_683892__("./src/config.js"),dagre_d3__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_683892__("dagre-d3"),dagre_d3__WEBPACK_IMPORTED_MODULE_2___default=__nested_webpack_require_683892__.n(dagre_d3__WEBPACK_IMPORTED_MODULE_2__),dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_683892__("dagre-d3/lib/label/add-html-label.js"),dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_3___default=__nested_webpack_require_683892__.n(dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_3__),_logger__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_683892__("./src/logger.js"),_common_common__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_683892__("./src/diagrams/common/common.js"),_utils__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_683892__("./src/utils.js"),_flowChartShapes__WEBPACK_IMPORTED_MODULE_10__=__nested_webpack_require_683892__("./src/diagrams/flowchart/flowChartShapes.js"),conf={},setConf=function setConf(cnf){for(var keys=Object.keys(cnf),i=0;i<keys.length;i++)conf[keys[i]]=cnf[keys[i]]},addVertices=function addVertices(vert,g,svgId,root,_doc){(0,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().securityLevel;var svg=root?root.select('[id="'.concat(svgId,'"]')):(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)('[id="'.concat(svgId,'"]')),doc=_doc||document;Object.keys(vert).forEach((function(id){var vertex=vert[id],classStr="default";vertex.classes.length>0&&(classStr=vertex.classes.join(" "));var vertexNode,styles=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.getStylesFromArray)(vertex.styles),vertexText=void 0!==vertex.text?vertex.text:vertex.id;if((0,_common_common__WEBPACK_IMPORTED_MODULE_6__.evaluate)((0,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)){var node={label:vertexText.replace(/fa[lrsb]?:fa-[\w-]+/g,(function(s){return"<i class='".concat(s.replace(":"," "),"'></i>")}))};(vertexNode=dagre_d3_lib_label_add_html_label_js__WEBPACK_IMPORTED_MODULE_3___default()(svg,node).node()).parentNode.removeChild(vertexNode)}else{var svgLabel=doc.createElementNS("http://www.w3.org/2000/svg","text");svgLabel.setAttribute("style",styles.labelStyle.replace("color:","fill:"));for(var rows=vertexText.split(_common_common__WEBPACK_IMPORTED_MODULE_6__.default.lineBreakRegex),j=0;j<rows.length;j++){var tspan=doc.createElementNS("http://www.w3.org/2000/svg","tspan");tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),tspan.setAttribute("dy","1em"),tspan.setAttribute("x","1"),tspan.textContent=rows[j],svgLabel.appendChild(tspan)}vertexNode=svgLabel}var radious=0,_shape="";switch(vertex.type){case"round":radious=5,_shape="rect";break;case"square":case"group":default:_shape="rect";break;case"diamond":_shape="question";break;case"hexagon":_shape="hexagon";break;case"odd":case"odd_right":_shape="rect_left_inv_arrow";break;case"lean_right":_shape="lean_right";break;case"lean_left":_shape="lean_left";break;case"trapezoid":_shape="trapezoid";break;case"inv_trapezoid":_shape="inv_trapezoid";break;case"circle":_shape="circle";break;case"ellipse":_shape="ellipse";break;case"stadium":_shape="stadium";break;case"subroutine":_shape="subroutine";break;case"cylinder":_shape="cylinder"}_logger__WEBPACK_IMPORTED_MODULE_7__.log.warn("Adding node",vertex.id,vertex.domId),g.setNode(_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.lookUpDomId(vertex.id),{labelType:"svg",labelStyle:styles.labelStyle,shape:_shape,label:vertexNode,rx:radious,ry:radious,class:classStr,style:styles.style,id:_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.lookUpDomId(vertex.id)})}))},addEdges=function addEdges(edges,g){var defaultStyle,defaultLabelStyle,cnt=0;if(void 0!==edges.defaultStyle){var defaultStyles=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.getStylesFromArray)(edges.defaultStyle);defaultStyle=defaultStyles.style,defaultLabelStyle=defaultStyles.labelStyle}edges.forEach((function(edge){cnt++;var linkId="L-"+edge.start+"-"+edge.end,linkNameStart="LS-"+edge.start,linkNameEnd="LE-"+edge.end,edgeData={};"arrow_open"===edge.type?edgeData.arrowhead="none":edgeData.arrowhead="normal";var style="",labelStyle="";if(void 0!==edge.style){var styles=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.getStylesFromArray)(edge.style);style=styles.style,labelStyle=styles.labelStyle}else switch(edge.stroke){case"normal":style="fill:none",void 0!==defaultStyle&&(style=defaultStyle),void 0!==defaultLabelStyle&&(labelStyle=defaultLabelStyle);break;case"dotted":style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":style=" stroke-width: 3.5px;fill:none"}edgeData.style=style,edgeData.labelStyle=labelStyle,void 0!==edge.interpolate?edgeData.curve=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.interpolateToCurve)(edge.interpolate,d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear):void 0!==edges.defaultInterpolate?edgeData.curve=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.interpolateToCurve)(edges.defaultInterpolate,d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear):edgeData.curve=(0,_utils__WEBPACK_IMPORTED_MODULE_5__.interpolateToCurve)(conf.curve,d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear),void 0===edge.text?void 0!==edge.style&&(edgeData.arrowheadStyle="fill: #333"):(edgeData.arrowheadStyle="fill: #333",edgeData.labelpos="c",(0,_common_common__WEBPACK_IMPORTED_MODULE_6__.evaluate)((0,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart.htmlLabels)?(edgeData.labelType="html",edgeData.label='<span id="L-'.concat(linkId,'" class="edgeLabel L-').concat(linkNameStart,"' L-").concat(linkNameEnd,'">').concat(edge.text.replace(/fa[lrsb]?:fa-[\w-]+/g,(function(s){return"<i class='".concat(s.replace(":"," "),"'></i>")})),"</span>")):(edgeData.labelType="text",edgeData.label=edge.text.replace(_common_common__WEBPACK_IMPORTED_MODULE_6__.default.lineBreakRegex,"\n"),void 0===edge.style&&(edgeData.style=edgeData.style||"stroke: #333; stroke-width: 1.5px;fill:none"),edgeData.labelStyle=edgeData.labelStyle.replace("color:","fill:"))),edgeData.id=linkId,edgeData.class=linkNameStart+" "+linkNameEnd,edgeData.minlen=edge.length||1,g.setEdge(_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.lookUpDomId(edge.start),_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.lookUpDomId(edge.end),edgeData,cnt)}))},getClasses=function getClasses(text){_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("Extracting classes"),_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.clear();try{var parser=_parser_flow__WEBPACK_IMPORTED_MODULE_9___default().parser;return parser.yy=_flowDb__WEBPACK_IMPORTED_MODULE_8__.default,parser.parse(text),_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.getClasses()}catch(e){return}},draw=function draw(text,id){_logger__WEBPACK_IMPORTED_MODULE_7__.log.info("Drawing flowchart"),_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.clear(),_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.setGen("gen-1");var parser=_parser_flow__WEBPACK_IMPORTED_MODULE_9___default().parser;parser.yy=_flowDb__WEBPACK_IMPORTED_MODULE_8__.default;var sandboxElement,securityLevel=(0,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().securityLevel;"sandbox"===securityLevel&&(sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)("#i"+id));var root="sandbox"===securityLevel?(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body):(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)("body"),doc="sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document;parser.parse(text);var dir=_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.getDirection();void 0===dir&&(dir="TD");for(var subG,conf=(0,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().flowchart,nodeSpacing=conf.nodeSpacing||50,rankSpacing=conf.rankSpacing||50,g=new(graphlib__WEBPACK_IMPORTED_MODULE_0___default().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:dir,nodesep:nodeSpacing,ranksep:rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),subGraphs=_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.getSubGraphs(),_i=subGraphs.length-1;_i>=0;_i--)subG=subGraphs[_i],_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.addVertex(subG.id,subG.title,"group",void 0,subG.classes);var vert=_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.getVertices();_logger__WEBPACK_IMPORTED_MODULE_7__.log.warn("Get vertices",vert);var edges=_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.getEdges(),i=0;for(i=subGraphs.length-1;i>=0;i--){subG=subGraphs[i],(0,d3__WEBPACK_IMPORTED_MODULE_1__.selectAll)("cluster").append("text");for(var j=0;j<subG.nodes.length;j++)_logger__WEBPACK_IMPORTED_MODULE_7__.log.warn("Setting subgraph",subG.nodes[j],_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.lookUpDomId(subG.nodes[j]),_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.lookUpDomId(subG.id)),g.setParent(_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.lookUpDomId(subG.nodes[j]),_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.lookUpDomId(subG.id))}addVertices(vert,g,id,root,doc),addEdges(edges,g);var render=new(0,dagre_d3__WEBPACK_IMPORTED_MODULE_2___default().render);_flowChartShapes__WEBPACK_IMPORTED_MODULE_10__.default.addToRender(render),render.arrows().none=function normal(parent,id,edge,type){var path=parent.append("marker").attr("id",id).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");dagre_d3__WEBPACK_IMPORTED_MODULE_2___default().util.applyStyle(path,edge[type+"Style"])},render.arrows().normal=function normal(parent,id){parent.append("marker").attr("id",id).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};var svg=root.select('[id="'.concat(id,'"]'));svg.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),_logger__WEBPACK_IMPORTED_MODULE_7__.log.warn(g);var element=root.select("#"+id+" g");render(element,g),element.selectAll("g.node").attr("title",(function(){return _flowDb__WEBPACK_IMPORTED_MODULE_8__.default.getTooltip(this.id)}));var padding=conf.diagramPadding,svgBounds=svg.node().getBBox(),width=svgBounds.width+2*padding,height=svgBounds.height+2*padding;(0,_utils__WEBPACK_IMPORTED_MODULE_5__.configureSvgSize)(svg,height,width,conf.useMaxWidth);var vBox="".concat(svgBounds.x-padding," ").concat(svgBounds.y-padding," ").concat(width," ").concat(height);for(_logger__WEBPACK_IMPORTED_MODULE_7__.log.debug("viewBox ".concat(vBox)),svg.attr("viewBox",vBox),_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.indexNodes("subGraph"+i),i=0;i<subGraphs.length;i++)if("undefined"!==(subG=subGraphs[i]).title){var clusterRects=doc.querySelectorAll("#"+id+' [id="'+_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.lookUpDomId(subG.id)+'"] rect'),clusterEl=doc.querySelectorAll("#"+id+' [id="'+_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.lookUpDomId(subG.id)+'"]'),xPos=clusterRects[0].x.baseVal.value,yPos=clusterRects[0].y.baseVal.value,_width=clusterRects[0].width.baseVal.value,te=(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)(clusterEl[0]).select(".label");te.attr("transform","translate(".concat(xPos+_width/2,", ").concat(yPos+14,")")),te.attr("id",id+"Text");for(var _j=0;_j<subG.classes.length;_j++)clusterEl[0].classList.add(subG.classes[_j])}(0,_common_common__WEBPACK_IMPORTED_MODULE_6__.evaluate)(conf.htmlLabels);for(var labels=doc.querySelectorAll('[id="'+id+'"] .edgeLabel .label'),k=0;k<labels.length;k++){var label=labels[k],dim=label.getBBox(),rect=doc.createElementNS("http://www.w3.org/2000/svg","rect");rect.setAttribute("rx",0),rect.setAttribute("ry",0),rect.setAttribute("width",dim.width),rect.setAttribute("height",dim.height),label.insertBefore(rect,label.firstChild)}Object.keys(vert).forEach((function(key){var vertex=vert[key];if(vertex.link){var node=root.select("#"+id+' [id="'+_flowDb__WEBPACK_IMPORTED_MODULE_8__.default.lookUpDomId(key)+'"]');if(node){var link=doc.createElementNS("http://www.w3.org/2000/svg","a");link.setAttributeNS("http://www.w3.org/2000/svg","class",vertex.classes.join(" ")),link.setAttributeNS("http://www.w3.org/2000/svg","href",vertex.link),link.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===securityLevel?link.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):vertex.linkTarget&&link.setAttributeNS("http://www.w3.org/2000/svg","target",vertex.linkTarget);var linkNode=node.insert((function(){return link}),":first-child"),shape=node.select(".label-container");shape&&linkNode.append((function(){return shape.node()}));var _label=node.select(".label");_label&&linkNode.append((function(){return _label.node()}))}}}))};const __WEBPACK_DEFAULT_EXPORT__={setConf,addVertices,addEdges,getClasses,draw}},"./src/diagrams/flowchart/styles.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_704804__)=>{"use strict";__nested_webpack_require_704804__.r(__nested_webpack_exports__),__nested_webpack_require_704804__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function getStyles(options){return".label {\n    font-family: ".concat(options.fontFamily,";\n    color: ").concat(options.nodeTextColor||options.textColor,";\n  }\n  .cluster-label text {\n    fill: ").concat(options.titleColor,";\n  }\n  .cluster-label span {\n    color: ").concat(options.titleColor,";\n  }\n\n  .label text,span {\n    fill: ").concat(options.nodeTextColor||options.textColor,";\n    color: ").concat(options.nodeTextColor||options.textColor,";\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(options.mainBkg,";\n    stroke: ").concat(options.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ").concat(options.arrowheadColor,";\n  }\n\n  .edgePath .path {\n    stroke: ").concat(options.lineColor,";\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ").concat(options.lineColor,";\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ").concat(options.edgeLabelBackground,";\n    rect {\n      opacity: 0.5;\n      background-color: ").concat(options.edgeLabelBackground,";\n      fill: ").concat(options.edgeLabelBackground,";\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n    fill: ").concat(options.clusterBkg,";\n    stroke: ").concat(options.clusterBorder,";\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ").concat(options.titleColor,";\n  }\n\n  .cluster span {\n    color: ").concat(options.titleColor,";\n  }\n  /* .cluster div {\n    color: ").concat(options.titleColor,";\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ").concat(options.fontFamily,";\n    font-size: 12px;\n    background: ").concat(options.tertiaryColor,";\n    border: 1px solid ").concat(options.border2,";\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n")}},"./src/diagrams/gantt/ganttDb.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_707937__)=>{"use strict";__nested_webpack_require_707937__.r(__nested_webpack_exports__),__nested_webpack_require_707937__.d(__nested_webpack_exports__,{parseDirective:()=>parseDirective,clear:()=>clear,setAxisFormat:()=>setAxisFormat,getAxisFormat:()=>getAxisFormat,setTodayMarker:()=>setTodayMarker,getTodayMarker:()=>getTodayMarker,setDateFormat:()=>setDateFormat,enableInclusiveEndDates:()=>enableInclusiveEndDates,endDatesAreInclusive:()=>endDatesAreInclusive,enableTopAxis:()=>enableTopAxis,topAxisEnabled:()=>topAxisEnabled,getDateFormat:()=>getDateFormat,setIncludes:()=>setIncludes,getIncludes:()=>getIncludes,setExcludes:()=>setExcludes,getExcludes:()=>getExcludes,getLinks:()=>getLinks,setTitle:()=>setTitle,getTitle:()=>getTitle,addSection:()=>addSection,getSections:()=>getSections,getTasks:()=>getTasks,isInvalidDate:()=>isInvalidDate,addTask:()=>addTask,findTaskById:()=>findTaskById,addTaskOrg:()=>addTaskOrg,setLink:()=>setLink,setClass:()=>setClass,setClickEvent:()=>setClickEvent,bindFunctions:()=>bindFunctions,default:()=>__WEBPACK_DEFAULT_EXPORT__});var moment_mini__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_707937__("moment-mini"),moment_mini__WEBPACK_IMPORTED_MODULE_0___default=__nested_webpack_require_707937__.n(moment_mini__WEBPACK_IMPORTED_MODULE_0__),_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_707937__("@braintree/sanitize-url"),_logger__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_707937__("./src/logger.js"),_config__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_707937__("./src/config.js"),_utils__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_707937__("./src/utils.js"),_mermaidAPI__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_707937__("./src/mermaidAPI.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var lastTask,lastTaskID,dateFormat="",axisFormat="",todayMarker="",includes=[],excludes=[],links={},title="",sections=[],tasks=[],currentSection="",tags=["active","done","crit","milestone"],funs=[],inclusiveEndDates=!1,topAxis=!1,lastOrder=0,parseDirective=function parseDirective(statement,context,type){_mermaidAPI__WEBPACK_IMPORTED_MODULE_2__.default.parseDirective(this,statement,context,type)},clear=function clear(){sections=[],tasks=[],currentSection="",funs=[],title="",taskCnt=0,lastTask=void 0,lastTaskID=void 0,rawTasks=[],dateFormat="",axisFormat="",todayMarker="",includes=[],excludes=[],inclusiveEndDates=!1,topAxis=!1,lastOrder=0,links={}},setAxisFormat=function setAxisFormat(txt){axisFormat=txt},getAxisFormat=function getAxisFormat(){return axisFormat},setTodayMarker=function setTodayMarker(txt){todayMarker=txt},getTodayMarker=function getTodayMarker(){return todayMarker},setDateFormat=function setDateFormat(txt){dateFormat=txt},enableInclusiveEndDates=function enableInclusiveEndDates(){inclusiveEndDates=!0},endDatesAreInclusive=function endDatesAreInclusive(){return inclusiveEndDates},enableTopAxis=function enableTopAxis(){topAxis=!0},topAxisEnabled=function topAxisEnabled(){return topAxis},getDateFormat=function getDateFormat(){return dateFormat},setIncludes=function setIncludes(txt){includes=txt.toLowerCase().split(/[\s,]+/)},getIncludes=function getIncludes(){return includes},setExcludes=function setExcludes(txt){excludes=txt.toLowerCase().split(/[\s,]+/)},getExcludes=function getExcludes(){return excludes},getLinks=function getLinks(){return links},setTitle=function setTitle(txt){title=txt},getTitle=function getTitle(){return title},addSection=function addSection(txt){currentSection=txt,sections.push(txt)},getSections=function getSections(){return sections},getTasks=function getTasks(){for(var allItemsPricessed=compileTasks(),iterationCount=0;!allItemsPricessed&&iterationCount<10;)allItemsPricessed=compileTasks(),iterationCount++;return tasks=rawTasks},isInvalidDate=function isInvalidDate(date,dateFormat,excludes,includes){return!(includes.indexOf(date.format(dateFormat.trim()))>=0)&&(date.isoWeekday()>=6&&excludes.indexOf("weekends")>=0||(excludes.indexOf(date.format("dddd").toLowerCase())>=0||excludes.indexOf(date.format(dateFormat.trim()))>=0))},checkTaskDates=function checkTaskDates(task,dateFormat,excludes,includes){if(excludes.length&&!task.manualEndTime){var startTime=moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(task.startTime,dateFormat,!0);startTime.add(1,"d");var endTime=moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(task.endTime,dateFormat,!0),renderEndTime=fixTaskDates(startTime,endTime,dateFormat,excludes,includes);task.endTime=endTime.toDate(),task.renderEndTime=renderEndTime}},fixTaskDates=function fixTaskDates(startTime,endTime,dateFormat,excludes,includes){for(var invalid=!1,renderEndTime=null;startTime<=endTime;)invalid||(renderEndTime=endTime.toDate()),(invalid=isInvalidDate(startTime,dateFormat,excludes,includes))&&endTime.add(1,"d"),startTime.add(1,"d");return renderEndTime},getStartDate=function getStartDate(prevTime,dateFormat,str){str=str.trim();var afterStatement=/^after\s+([\d\w- ]+)/.exec(str.trim());if(null!==afterStatement){var latestEndingTask=null;if(afterStatement[1].split(" ").forEach((function(id){var task=findTaskById(id);void 0!==task&&(latestEndingTask?task.endTime>latestEndingTask.endTime&&(latestEndingTask=task):latestEndingTask=task)})),latestEndingTask)return latestEndingTask.endTime;var dt=new Date;return dt.setHours(0,0,0,0),dt}var mDate=moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(str,dateFormat.trim(),!0);return mDate.isValid()?mDate.toDate():(_logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("Invalid date:"+str),_logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("With date format:"+dateFormat.trim()),new Date)},durationToDate=function durationToDate(durationStatement,relativeTime){if(null!==durationStatement)switch(durationStatement[2]){case"s":relativeTime.add(durationStatement[1],"seconds");break;case"m":relativeTime.add(durationStatement[1],"minutes");break;case"h":relativeTime.add(durationStatement[1],"hours");break;case"d":relativeTime.add(durationStatement[1],"days");break;case"w":relativeTime.add(durationStatement[1],"weeks")}return relativeTime.toDate()},getEndDate=function getEndDate(prevTime,dateFormat,str,inclusive){inclusive=inclusive||!1,str=str.trim();var mDate=moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(str,dateFormat.trim(),!0);return mDate.isValid()?(inclusive&&mDate.add(1,"d"),mDate.toDate()):durationToDate(/^([\d]+)([wdhms])/.exec(str.trim()),moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(prevTime))},taskCnt=0,parseId=function parseId(idStr){return void 0===idStr?"task"+(taskCnt+=1):idStr},rawTasks=[],taskDb={},addTask=function addTask(descr,data){var rawTask={section:currentSection,type:currentSection,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data},task:descr,classes:[]},taskInfo=function parseData(prevTaskId,dataStr){var data=(":"===dataStr.substr(0,1)?dataStr.substr(1,dataStr.length):dataStr).split(","),task={};getTaskTags(data,task,tags);for(var i=0;i<data.length;i++)data[i]=data[i].trim();switch(data.length){case 1:task.id=parseId(),task.startTime={type:"prevTaskEnd",id:prevTaskId},task.endTime={data:data[0]};break;case 2:task.id=parseId(),task.startTime={type:"getStartDate",startData:data[0]},task.endTime={data:data[1]};break;case 3:task.id=parseId(data[0]),task.startTime={type:"getStartDate",startData:data[1]},task.endTime={data:data[2]}}return task}(lastTaskID,data);rawTask.raw.startTime=taskInfo.startTime,rawTask.raw.endTime=taskInfo.endTime,rawTask.id=taskInfo.id,rawTask.prevTaskId=lastTaskID,rawTask.active=taskInfo.active,rawTask.done=taskInfo.done,rawTask.crit=taskInfo.crit,rawTask.milestone=taskInfo.milestone,rawTask.order=lastOrder,lastOrder++;var pos=rawTasks.push(rawTask);lastTaskID=rawTask.id,taskDb[rawTask.id]=pos-1},findTaskById=function findTaskById(id){var pos=taskDb[id];return rawTasks[pos]},addTaskOrg=function addTaskOrg(descr,data){var newTask={section:currentSection,type:currentSection,description:descr,task:descr,classes:[]},taskInfo=function compileData(prevTask,dataStr){var data=(":"===dataStr.substr(0,1)?dataStr.substr(1,dataStr.length):dataStr).split(","),task={};getTaskTags(data,task,tags);for(var i=0;i<data.length;i++)data[i]=data[i].trim();var endTimeData="";switch(data.length){case 1:task.id=parseId(),task.startTime=prevTask.endTime,endTimeData=data[0];break;case 2:task.id=parseId(),task.startTime=getStartDate(0,dateFormat,data[0]),endTimeData=data[1];break;case 3:task.id=parseId(data[0]),task.startTime=getStartDate(0,dateFormat,data[1]),endTimeData=data[2]}return endTimeData&&(task.endTime=getEndDate(task.startTime,dateFormat,endTimeData,inclusiveEndDates),task.manualEndTime=moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(endTimeData,"YYYY-MM-DD",!0).isValid(),checkTaskDates(task,dateFormat,excludes,includes)),task}(lastTask,data);newTask.startTime=taskInfo.startTime,newTask.endTime=taskInfo.endTime,newTask.id=taskInfo.id,newTask.active=taskInfo.active,newTask.done=taskInfo.done,newTask.crit=taskInfo.crit,newTask.milestone=taskInfo.milestone,lastTask=newTask,tasks.push(newTask)},compileTasks=function compileTasks(){for(var compileTask=function compileTask(pos){var task=rawTasks[pos],startTime="";switch(rawTasks[pos].raw.startTime.type){case"prevTaskEnd":var prevTask=findTaskById(task.prevTaskId);task.startTime=prevTask.endTime;break;case"getStartDate":(startTime=getStartDate(0,dateFormat,rawTasks[pos].raw.startTime.startData))&&(rawTasks[pos].startTime=startTime)}return rawTasks[pos].startTime&&(rawTasks[pos].endTime=getEndDate(rawTasks[pos].startTime,dateFormat,rawTasks[pos].raw.endTime.data,inclusiveEndDates),rawTasks[pos].endTime&&(rawTasks[pos].processed=!0,rawTasks[pos].manualEndTime=moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(rawTasks[pos].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),checkTaskDates(rawTasks[pos],dateFormat,excludes,includes))),rawTasks[pos].processed},allProcessed=!0,i=0;i<rawTasks.length;i++)compileTask(i),allProcessed=allProcessed&&rawTasks[i].processed;return allProcessed},setLink=function setLink(ids,_linkStr){var linkStr=_linkStr;"loose"!==_config__WEBPACK_IMPORTED_MODULE_4__.getConfig().securityLevel&&(linkStr=(0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_1__.sanitizeUrl)(_linkStr)),ids.split(",").forEach((function(id){void 0!==findTaskById(id)&&(pushFun(id,(function(){window.open(linkStr,"_self")})),links[id]=linkStr)})),setClass(ids,"clickable")},setClass=function setClass(ids,className){ids.split(",").forEach((function(id){var rawTask=findTaskById(id);void 0!==rawTask&&rawTask.classes.push(className)}))},pushFun=function pushFun(id,callbackFunction){funs.push((function(){var elem=document.querySelector('[id="'.concat(id,'"]'));null!==elem&&elem.addEventListener("click",(function(){callbackFunction()}))})),funs.push((function(){var elem=document.querySelector('[id="'.concat(id,'-text"]'));null!==elem&&elem.addEventListener("click",(function(){callbackFunction()}))}))},setClickEvent=function setClickEvent(ids,functionName,functionArgs){ids.split(",").forEach((function(id){!function setClickFun(id,functionName,functionArgs){if("loose"===_config__WEBPACK_IMPORTED_MODULE_4__.getConfig().securityLevel&&void 0!==functionName){var argList=[];if("string"==typeof functionArgs){argList=functionArgs.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var i=0;i<argList.length;i++){var item=argList[i].trim();'"'===item.charAt(0)&&'"'===item.charAt(item.length-1)&&(item=item.substr(1,item.length-2)),argList[i]=item}}0===argList.length&&argList.push(id),void 0!==findTaskById(id)&&pushFun(id,(function(){_utils__WEBPACK_IMPORTED_MODULE_5__.default.runFunc.apply(_utils__WEBPACK_IMPORTED_MODULE_5__.default,[functionName].concat(_toConsumableArray(argList)))}))}}(id,functionName,functionArgs)})),setClass(ids,"clickable")},bindFunctions=function bindFunctions(element){funs.forEach((function(fun){fun(element)}))};const __WEBPACK_DEFAULT_EXPORT__={parseDirective,getConfig:function getConfig(){return _config__WEBPACK_IMPORTED_MODULE_4__.getConfig().gantt},clear,setDateFormat,getDateFormat,enableInclusiveEndDates,endDatesAreInclusive,enableTopAxis,topAxisEnabled,setAxisFormat,getAxisFormat,setTodayMarker,getTodayMarker,setTitle,getTitle,addSection,getSections,getTasks,addTask,findTaskById,addTaskOrg,setIncludes,getIncludes,setExcludes,getExcludes,setClickEvent,setLink,getLinks,bindFunctions,durationToDate,isInvalidDate};function getTaskTags(data,task,tags){for(var matchFound=!0;matchFound;)matchFound=!1,tags.forEach((function(t){var regex=new RegExp("^\\s*"+t+"\\s*$");data[0].match(regex)&&(task[t]=!0,data.shift(1),matchFound=!0)}))}},"./src/diagrams/gantt/ganttRenderer.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_730238__)=>{"use strict";__nested_webpack_require_730238__.r(__nested_webpack_exports__),__nested_webpack_require_730238__.d(__nested_webpack_exports__,{setConf:()=>setConf,draw:()=>draw,default:()=>__WEBPACK_DEFAULT_EXPORT__});var moment_mini__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_730238__("moment-mini"),moment_mini__WEBPACK_IMPORTED_MODULE_0___default=__nested_webpack_require_730238__.n(moment_mini__WEBPACK_IMPORTED_MODULE_0__),d3__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_730238__("d3"),_parser_gantt__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_730238__("./src/diagrams/gantt/parser/gantt.jison"),_common_common__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_730238__("./src/diagrams/common/common.js"),_ganttDb__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_730238__("./src/diagrams/gantt/ganttDb.js"),_config__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_730238__("./src/config.js"),_utils__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_730238__("./src/utils.js");_parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy=_ganttDb__WEBPACK_IMPORTED_MODULE_3__.default;var w,setConf=function setConf(){},draw=function draw(text,id){var conf=(0,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().gantt;_parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.clear(),_parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.parse(text);var sandboxElement,securityLevel=(0,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().securityLevel;"sandbox"===securityLevel&&(sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)("#i"+id));var root="sandbox"===securityLevel?(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body):(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)("body"),doc="sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document,elem=doc.getElementById(id);void 0===(w=elem.parentElement.offsetWidth)&&(w=1200),void 0!==conf.useWidth&&(w=conf.useWidth);var taskArray=_parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.getTasks(),h=taskArray.length*(conf.barHeight+conf.barGap)+2*conf.topPadding;elem.setAttribute("viewBox","0 0 "+w+" "+h);for(var svg=root.select('[id="'.concat(id,'"]')),timeScale=(0,d3__WEBPACK_IMPORTED_MODULE_1__.scaleTime)().domain([(0,d3__WEBPACK_IMPORTED_MODULE_1__.min)(taskArray,(function(d){return d.startTime})),(0,d3__WEBPACK_IMPORTED_MODULE_1__.max)(taskArray,(function(d){return d.endTime}))]).rangeRound([0,w-conf.leftPadding-conf.rightPadding]),categories=[],i=0;i<taskArray.length;i++)categories.push(taskArray[i].type);var catsUnfiltered=categories;function getCount(word,arr){return function getCounts(arr){for(var i=arr.length,obj={};i;)obj[arr[--i]]=(obj[arr[i]]||0)+1;return obj}(arr)[word]||0}categories=function checkUnique(arr){for(var hash={},result=[],_i6=0,l=arr.length;_i6<l;++_i6)Object.prototype.hasOwnProperty.call(hash,arr[_i6])||(hash[arr[_i6]]=!0,result.push(arr[_i6]));return result}(categories),taskArray.sort((function taskCompare(a,b){var taskA=a.startTime,taskB=b.startTime,result=0;return taskA>taskB?result=1:taskA<taskB&&(result=-1),result})),function makeGant(tasks,pageWidth,pageHeight){var barHeight=conf.barHeight,gap=barHeight+conf.barGap,topPadding=conf.topPadding,leftPadding=conf.leftPadding;(0,d3__WEBPACK_IMPORTED_MODULE_1__.scaleLinear)().domain([0,categories.length]).range(["#00B9FA","#F95002"]).interpolate(d3__WEBPACK_IMPORTED_MODULE_1__.interpolateHcl);(function drawExcludeDays(theGap,theTopPad,theSidePad,w,h,tasks,excludes,includes){var minTime=tasks.reduce((function(min,_ref){var startTime=_ref.startTime;return min?Math.min(min,startTime):startTime}),0),maxTime=tasks.reduce((function(max,_ref2){var endTime=_ref2.endTime;return max?Math.max(max,endTime):endTime}),0),dateFormat=_parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.getDateFormat();if(!minTime||!maxTime)return;var excludeRanges=[],range=null,d=moment_mini__WEBPACK_IMPORTED_MODULE_0___default()(minTime);for(;d.valueOf()<=maxTime;)_parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.isInvalidDate(d,dateFormat,excludes,includes)?range?range.end=d.clone():range={start:d.clone(),end:d.clone()}:range&&(excludeRanges.push(range),range=null),d.add(1,"d");svg.append("g").selectAll("rect").data(excludeRanges).enter().append("rect").attr("id",(function(d){return"exclude-"+d.start.format("YYYY-MM-DD")})).attr("x",(function(d){return timeScale(d.start)+theSidePad})).attr("y",conf.gridLineStartPadding).attr("width",(function(d){var renderEnd=d.end.clone().add(1,"day");return timeScale(renderEnd)-timeScale(d.start)})).attr("height",h-theTopPad-conf.gridLineStartPadding).attr("transform-origin",(function(d,i){return(timeScale(d.start)+theSidePad+.5*(timeScale(d.end)-timeScale(d.start))).toString()+"px "+(i*theGap+.5*h).toString()+"px"})).attr("class","exclude-range")})(gap,topPadding,leftPadding,0,pageHeight,tasks,_parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.getExcludes(),_parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.getIncludes()),function makeGrid(theSidePad,theTopPad,w,h){var bottomXAxis=(0,d3__WEBPACK_IMPORTED_MODULE_1__.axisBottom)(timeScale).tickSize(-h+theTopPad+conf.gridLineStartPadding).tickFormat((0,d3__WEBPACK_IMPORTED_MODULE_1__.timeFormat)(_parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.getAxisFormat()||conf.axisFormat||"%Y-%m-%d"));if(svg.append("g").attr("class","grid").attr("transform","translate("+theSidePad+", "+(h-50)+")").call(bottomXAxis).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),_ganttDb__WEBPACK_IMPORTED_MODULE_3__.default.topAxisEnabled()||conf.topAxis){var topXAxis=(0,d3__WEBPACK_IMPORTED_MODULE_1__.axisTop)(timeScale).tickSize(-h+theTopPad+conf.gridLineStartPadding).tickFormat((0,d3__WEBPACK_IMPORTED_MODULE_1__.timeFormat)(_parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.getAxisFormat()||conf.axisFormat||"%Y-%m-%d"));svg.append("g").attr("class","grid").attr("transform","translate("+theSidePad+", "+theTopPad+")").call(topXAxis).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}(leftPadding,topPadding,0,pageHeight),function drawRects(theArray,theGap,theTopPad,theSidePad,theBarHeight,theColorScale,w){svg.append("g").selectAll("rect").data(theArray).enter().append("rect").attr("x",0).attr("y",(function(d,i){return d.order*theGap+theTopPad-2})).attr("width",(function(){return w-conf.rightPadding/2})).attr("height",theGap).attr("class",(function(d){for(var _i=0;_i<categories.length;_i++)if(d.type===categories[_i])return"section section"+_i%conf.numberSectionStyles;return"section section0"}));var rectangles=svg.append("g").selectAll("rect").data(theArray).enter(),links=_ganttDb__WEBPACK_IMPORTED_MODULE_3__.default.getLinks();rectangles.append("rect").attr("id",(function(d){return d.id})).attr("rx",3).attr("ry",3).attr("x",(function(d){return d.milestone?timeScale(d.startTime)+theSidePad+.5*(timeScale(d.endTime)-timeScale(d.startTime))-.5*theBarHeight:timeScale(d.startTime)+theSidePad})).attr("y",(function(d,i){return d.order*theGap+theTopPad})).attr("width",(function(d){return d.milestone?theBarHeight:timeScale(d.renderEndTime||d.endTime)-timeScale(d.startTime)})).attr("height",theBarHeight).attr("transform-origin",(function(d,i){return i=d.order,(timeScale(d.startTime)+theSidePad+.5*(timeScale(d.endTime)-timeScale(d.startTime))).toString()+"px "+(i*theGap+theTopPad+.5*theBarHeight).toString()+"px"})).attr("class",(function(d){var res="task",classStr="";d.classes.length>0&&(classStr=d.classes.join(" "));for(var secNum=0,_i2=0;_i2<categories.length;_i2++)d.type===categories[_i2]&&(secNum=_i2%conf.numberSectionStyles);var taskClass="";return d.active?d.crit?taskClass+=" activeCrit":taskClass=" active":d.done?taskClass=d.crit?" doneCrit":" done":d.crit&&(taskClass+=" crit"),0===taskClass.length&&(taskClass=" task"),d.milestone&&(taskClass=" milestone "+taskClass),taskClass+=secNum,res+(taskClass+=" "+classStr)})),rectangles.append("text").attr("id",(function(d){return d.id+"-text"})).text((function(d){return d.task})).attr("font-size",conf.fontSize).attr("x",(function(d){var startX=timeScale(d.startTime),endX=timeScale(d.renderEndTime||d.endTime);d.milestone&&(startX+=.5*(timeScale(d.endTime)-timeScale(d.startTime))-.5*theBarHeight),d.milestone&&(endX=startX+theBarHeight);var textWidth=this.getBBox().width;return textWidth>endX-startX?endX+textWidth+1.5*conf.leftPadding>w?startX+theSidePad-5:endX+theSidePad+5:(endX-startX)/2+startX+theSidePad})).attr("y",(function(d,i){return d.order*theGap+conf.barHeight/2+(conf.fontSize/2-2)+theTopPad})).attr("text-height",theBarHeight).attr("class",(function(d){var startX=timeScale(d.startTime),endX=timeScale(d.endTime);d.milestone&&(endX=startX+theBarHeight);var textWidth=this.getBBox().width,classStr="";d.classes.length>0&&(classStr=d.classes.join(" "));for(var secNum=0,_i3=0;_i3<categories.length;_i3++)d.type===categories[_i3]&&(secNum=_i3%conf.numberSectionStyles);var taskType="";return d.active&&(taskType=d.crit?"activeCritText"+secNum:"activeText"+secNum),d.done?taskType=d.crit?taskType+" doneCritText"+secNum:taskType+" doneText"+secNum:d.crit&&(taskType=taskType+" critText"+secNum),d.milestone&&(taskType+=" milestoneText"),textWidth>endX-startX?endX+textWidth+1.5*conf.leftPadding>w?classStr+" taskTextOutsideLeft taskTextOutside"+secNum+" "+taskType:classStr+" taskTextOutsideRight taskTextOutside"+secNum+" "+taskType+" width-"+textWidth:classStr+" taskText taskText"+secNum+" "+taskType+" width-"+textWidth}));var securityLevel=(0,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().securityLevel;if("sandbox"===securityLevel){var _sandboxElement;_sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)("#i"+id);(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)(_sandboxElement.nodes()[0].contentDocument.body);var _doc=_sandboxElement.nodes()[0].contentDocument;rectangles.filter((function(d){return void 0!==links[d.id]})).each((function(o){var taskRect=_doc.querySelector("#"+o.id),taskText=_doc.querySelector("#"+o.id+"-text"),oldParent=taskRect.parentNode,Link=_doc.createElement("a");Link.setAttribute("xlink:href",links[o.id]),Link.setAttribute("target","_top"),oldParent.appendChild(Link),Link.appendChild(taskRect),Link.appendChild(taskText)}))}}(tasks,gap,topPadding,leftPadding,barHeight,0,pageWidth),function vertLabels(theGap,theTopPad){for(var numOccurances=[],prevGap=0,_i4=0;_i4<categories.length;_i4++)numOccurances[_i4]=[categories[_i4],getCount(categories[_i4],catsUnfiltered)];svg.append("g").selectAll("text").data(numOccurances).enter().append((function(d){var rows=d[0].split(_common_common__WEBPACK_IMPORTED_MODULE_6__.default.lineBreakRegex),dy=-(rows.length-1)/2,svgLabel=doc.createElementNS("http://www.w3.org/2000/svg","text");svgLabel.setAttribute("dy",dy+"em");for(var j=0;j<rows.length;j++){var tspan=doc.createElementNS("http://www.w3.org/2000/svg","tspan");tspan.setAttribute("alignment-baseline","central"),tspan.setAttribute("x","10"),j>0&&tspan.setAttribute("dy","1em"),tspan.textContent=rows[j],svgLabel.appendChild(tspan)}return svgLabel})).attr("x",10).attr("y",(function(d,i){if(!(i>0))return d[1]*theGap/2+theTopPad;for(var j=0;j<i;j++)return prevGap+=numOccurances[i-1][1],d[1]*theGap/2+prevGap*theGap+theTopPad})).attr("font-size",conf.sectionFontSize).attr("font-size",conf.sectionFontSize).attr("class",(function(d){for(var _i5=0;_i5<categories.length;_i5++)if(d[0]===categories[_i5])return"sectionTitle sectionTitle"+_i5%conf.numberSectionStyles;return"sectionTitle"}))}(gap,topPadding),function drawToday(theSidePad,theTopPad,w,h){var todayMarker=_ganttDb__WEBPACK_IMPORTED_MODULE_3__.default.getTodayMarker();if("off"===todayMarker)return;var todayG=svg.append("g").attr("class","today"),today=new Date,todayLine=todayG.append("line");todayLine.attr("x1",timeScale(today)+theSidePad).attr("x2",timeScale(today)+theSidePad).attr("y1",conf.titleTopMargin).attr("y2",h-conf.titleTopMargin).attr("class","today"),""!==todayMarker&&todayLine.attr("style",todayMarker.replace(/,/g,";"))}(leftPadding,0,0,pageHeight)}(taskArray,w,h),(0,_utils__WEBPACK_IMPORTED_MODULE_5__.configureSvgSize)(svg,h,w,conf.useMaxWidth),svg.append("text").text(_parser_gantt__WEBPACK_IMPORTED_MODULE_2__.parser.yy.getTitle()).attr("x",w/2).attr("y",conf.titleTopMargin).attr("class","titleText")};const __WEBPACK_DEFAULT_EXPORT__={setConf,draw}},"./src/diagrams/gantt/styles.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_750216__)=>{"use strict";__nested_webpack_require_750216__.r(__nested_webpack_exports__),__nested_webpack_require_750216__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function getStyles(options){return'\n  .mermaid-main-font {\n    font-family: "trebuchet ms", verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  .exclude-range {\n    fill: '.concat(options.excludeBkgColor,";\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: ").concat(options.sectionBkgColor,";\n  }\n\n  .section2 {\n    fill: ").concat(options.sectionBkgColor2,";\n  }\n\n  .section1,\n  .section3 {\n    fill: ").concat(options.altSectionBkgColor,";\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ").concat(options.titleColor,";\n  }\n\n  .sectionTitle1 {\n    fill: ").concat(options.titleColor,";\n  }\n\n  .sectionTitle2 {\n    fill: ").concat(options.titleColor,";\n  }\n\n  .sectionTitle3 {\n    fill: ").concat(options.titleColor,";\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    // font-size: ").concat(options.ganttFontSize,";\n    // text-height: 14px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ").concat(options.gridColor,";\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n    text {\n      font-family: ").concat(options.fontFamily,";\n      fill: ").concat(options.textColor,";\n    }\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ").concat(options.todayLineColor,";\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n\n  // .taskText:not([font-size]) {\n  //   font-size: ").concat(options.ganttFontSize,";\n  // }\n\n  .taskTextOutsideRight {\n    fill: ").concat(options.taskTextDarkColor,";\n    text-anchor: start;\n    // font-size: ").concat(options.ganttFontSize,";\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n  .taskTextOutsideLeft {\n    fill: ").concat(options.taskTextDarkColor,";\n    text-anchor: end;\n    // font-size: ").concat(options.ganttFontSize,";\n  }\n\n  /* Special case clickable */\n  .task.clickable {\n    cursor: pointer;\n  }\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ").concat(options.taskTextClickableColor," !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ").concat(options.taskTextClickableColor," !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ").concat(options.taskTextClickableColor," !important;\n    font-weight: bold;\n  }\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ").concat(options.taskTextColor,";\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ").concat(options.taskBkgColor,";\n    stroke: ").concat(options.taskBorderColor,";\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ").concat(options.taskTextOutsideColor,";\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ").concat(options.taskTextOutsideColor,";\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ").concat(options.activeTaskBkgColor,";\n    stroke: ").concat(options.activeTaskBorderColor,";\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ").concat(options.taskTextDarkColor," !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ").concat(options.doneTaskBorderColor,";\n    fill: ").concat(options.doneTaskBkgColor,";\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ").concat(options.taskTextDarkColor," !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ").concat(options.critBorderColor,";\n    fill: ").concat(options.critBkgColor,";\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ").concat(options.critBorderColor,";\n    fill: ").concat(options.activeTaskBkgColor,";\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ").concat(options.critBorderColor,";\n    fill: ").concat(options.doneTaskBkgColor,";\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ").concat(options.taskTextDarkColor," !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ").concat(options.taskTextDarkColor," !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ").concat(options.textColor,"    ;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n")}},"./src/diagrams/git/gitGraphAst.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_756169__)=>{"use strict";__nested_webpack_require_756169__.r(__nested_webpack_exports__),__nested_webpack_require_756169__.d(__nested_webpack_exports__,{setDirection:()=>setDirection,setOptions:()=>setOptions,getOptions:()=>getOptions,commit:()=>commit,branch:()=>branch,merge:()=>merge,checkout:()=>checkout,reset:()=>reset,prettyPrint:()=>prettyPrint,clear:()=>clear,getBranchesAsObjArray:()=>getBranchesAsObjArray,getBranches:()=>getBranches,getCommits:()=>getCommits,getCommitsArray:()=>getCommitsArray,getCurrentBranch:()=>getCurrentBranch,getDirection:()=>getDirection,getHead:()=>getHead,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _logger__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_756169__("./src/logger.js"),_utils__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_756169__("./src/utils.js"),commits={},head=null,branches={master:head},curBranch="master",direction="LR",seq=0;function getId(){return(0,_utils__WEBPACK_IMPORTED_MODULE_0__.random)({length:7})}function isfastforwardable(currentCommit,otherCommit){_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Entering isfastforwardable:",currentCommit.id,otherCommit.id);for(var cnt=0;currentCommit.seq<=otherCommit.seq&&currentCommit!==otherCommit&&cnt<1e3&&(cnt++,null!=otherCommit.parent);){if(Array.isArray(otherCommit.parent))return _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("In merge commit:",otherCommit.parent),isfastforwardable(currentCommit,commits[otherCommit.parent[0]])||isfastforwardable(currentCommit,commits[otherCommit.parent[1]]);otherCommit=commits[otherCommit.parent]}return _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug(currentCommit.id,otherCommit.id),currentCommit.id===otherCommit.id}var setDirection=function setDirection(dir){direction=dir},options={},setOptions=function setOptions(rawOptString){_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("options str",rawOptString),rawOptString=(rawOptString=rawOptString&&rawOptString.trim())||"{}";try{options=JSON.parse(rawOptString)}catch(e){_logger__WEBPACK_IMPORTED_MODULE_1__.log.error("error while parsing gitGraph options",e.message)}},getOptions=function getOptions(){return options},commit=function commit(msg){var commit={id:getId(),message:msg,seq:seq++,parent:null==head?null:head.id};head=commit,commits[commit.id]=commit,branches[curBranch]=commit.id,_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("in pushCommit "+commit.id)},branch=function branch(name){branches[name]=null!=head?head.id:null,_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("in createBranch")},merge=function merge(otherBranch){var currentCommit=commits[branches[curBranch]],otherCommit=commits[branches[otherBranch]];if(function isReachableFrom(currentCommit,otherCommit){return currentCommit.seq>otherCommit.seq&&isfastforwardable(otherCommit,currentCommit)}(currentCommit,otherCommit))_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Already merged");else{if(isfastforwardable(currentCommit,otherCommit))branches[curBranch]=branches[otherBranch],head=commits[branches[curBranch]];else{var _commit={id:getId(),message:"merged branch "+otherBranch+" into "+curBranch,seq:seq++,parent:[null==head?null:head.id,branches[otherBranch]]};head=_commit,commits[_commit.id]=_commit,branches[curBranch]=_commit.id}_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug(branches),_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("in mergeBranch")}},checkout=function checkout(branch){_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("in checkout");var id=branches[curBranch=branch];head=commits[id]},reset=function reset(commitRef){_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("in reset",commitRef);var ref=commitRef.split(":")[0],parentCount=parseInt(commitRef.split(":")[1]),commit="HEAD"===ref?head:commits[branches[ref]];for(_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug(commit,parentCount);parentCount>0;)if(parentCount--,!(commit=commits[commit.parent])){var err="Critical error - unique parent commit not found during reset";throw _logger__WEBPACK_IMPORTED_MODULE_1__.log.error(err),err}head=commit,branches[curBranch]=commit.id};function upsert(arr,key,newval){var index=arr.indexOf(key);-1===index?arr.push(newval):arr.splice(index,1,newval)}function prettyPrintCommitHistory(commitArr){var commit=commitArr.reduce((function(out,commit){return out.seq>commit.seq?out:commit}),commitArr[0]),line="";commitArr.forEach((function(c){line+=c===commit?"\t*":"\t|"}));var label=[line,commit.id,commit.seq];for(var _branch in branches)branches[_branch]===commit.id&&label.push(_branch);if(_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug(label.join(" ")),Array.isArray(commit.parent)){var newCommit=commits[commit.parent[0]];upsert(commitArr,commit,newCommit),commitArr.push(commits[commit.parent[1]])}else{if(null==commit.parent)return;var nextCommit=commits[commit.parent];upsert(commitArr,commit,nextCommit)}prettyPrintCommitHistory(commitArr=function uniqBy(list,fn){var recordMap=Object.create(null);return list.reduce((function(out,item){var key=fn(item);return recordMap[key]||(recordMap[key]=!0,out.push(item)),out}),[])}(commitArr,(function(c){return c.id})))}var prettyPrint=function prettyPrint(){_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug(commits),prettyPrintCommitHistory([getCommitsArray()[0]])},clear=function clear(){commits={},branches={master:head=null},curBranch="master",seq=0},getBranchesAsObjArray=function getBranchesAsObjArray(){var branchArr=[];for(var _branch2 in branches)branchArr.push({name:_branch2,commit:commits[branches[_branch2]]});return branchArr},getBranches=function getBranches(){return branches},getCommits=function getCommits(){return commits},getCommitsArray=function getCommitsArray(){var commitArr=Object.keys(commits).map((function(key){return commits[key]}));return commitArr.forEach((function(o){_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug(o.id)})),commitArr.sort((function(a,b){return b.seq-a.seq})),commitArr},getCurrentBranch=function getCurrentBranch(){return curBranch},getDirection=function getDirection(){return direction},getHead=function getHead(){return head};const __WEBPACK_DEFAULT_EXPORT__={setDirection,setOptions,getOptions,commit,branch,merge,checkout,reset,prettyPrint,clear,getBranchesAsObjArray,getBranches,getCommits,getCommitsArray,getCurrentBranch,getDirection,getHead}},"./src/diagrams/git/gitGraphRenderer.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_765598__)=>{"use strict";__nested_webpack_require_765598__.r(__nested_webpack_exports__),__nested_webpack_require_765598__.d(__nested_webpack_exports__,{setConf:()=>setConf,draw:()=>draw,default:()=>__WEBPACK_DEFAULT_EXPORT__});var branchNum,d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_765598__("d3"),_gitGraphAst__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_765598__("./src/diagrams/git/gitGraphAst.js"),_parser_gitGraph__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_765598__("./src/diagrams/git/parser/gitGraph.jison"),_parser_gitGraph__WEBPACK_IMPORTED_MODULE_3___default=__nested_webpack_require_765598__.n(_parser_gitGraph__WEBPACK_IMPORTED_MODULE_3__),_logger__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_765598__("./src/logger.js"),_utils__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_765598__("./src/utils.js"),_config__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_765598__("./src/config.js"),allCommitsDict={},config={nodeSpacing:150,nodeFillColor:"yellow",nodeStrokeWidth:2,nodeStrokeColor:"grey",lineStrokeWidth:4,branchOffset:50,lineColor:"grey",leftMargin:50,branchColors:["#442f74","#983351","#609732","#AA9A39"],nodeRadius:10,nodeLabel:{width:75,height:100,x:-25,y:0}},apiConfig={},setConf=function setConf(c){apiConfig=c};function svgDrawLine(svg,points,colorIdx,interpolate){var curve=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.interpolateToCurve)(interpolate,d3__WEBPACK_IMPORTED_MODULE_0__.curveBasis),color=config.branchColors[colorIdx%config.branchColors.length],lineGen=(0,d3__WEBPACK_IMPORTED_MODULE_0__.line)().x((function(d){return Math.round(d.x)})).y((function(d){return Math.round(d.y)})).curve(curve);svg.append("svg:path").attr("d",lineGen(points)).style("stroke",color).style("stroke-width",config.lineStrokeWidth).style("fill","none")}function getElementCoords(element,coords){coords=coords||element.node().getBBox();var ctm=element.node().getCTM();return{left:ctm.e+coords.x*ctm.a,top:ctm.f+coords.y*ctm.d,width:coords.width,height:coords.height}}function svgDrawLineForCommits(svg,fromId,toId,direction,color){_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("svgDrawLineForCommits: ",fromId,toId);var fromBbox=getElementCoords(svg.select("#node-"+fromId+" circle")),toBbox=getElementCoords(svg.select("#node-"+toId+" circle"));switch(direction){case"LR":if(fromBbox.left-toBbox.left>config.nodeSpacing){var lineStart={x:fromBbox.left-config.nodeSpacing,y:toBbox.top+toBbox.height/2};svgDrawLine(svg,[lineStart,{x:toBbox.left+toBbox.width,y:toBbox.top+toBbox.height/2}],color,"linear"),svgDrawLine(svg,[{x:fromBbox.left,y:fromBbox.top+fromBbox.height/2},{x:fromBbox.left-config.nodeSpacing/2,y:fromBbox.top+fromBbox.height/2},{x:fromBbox.left-config.nodeSpacing/2,y:lineStart.y},lineStart],color)}else svgDrawLine(svg,[{x:fromBbox.left,y:fromBbox.top+fromBbox.height/2},{x:fromBbox.left-config.nodeSpacing/2,y:fromBbox.top+fromBbox.height/2},{x:fromBbox.left-config.nodeSpacing/2,y:toBbox.top+toBbox.height/2},{x:toBbox.left+toBbox.width,y:toBbox.top+toBbox.height/2}],color);break;case"BT":if(toBbox.top-fromBbox.top>config.nodeSpacing){var _lineStart={x:toBbox.left+toBbox.width/2,y:fromBbox.top+fromBbox.height+config.nodeSpacing};svgDrawLine(svg,[_lineStart,{x:toBbox.left+toBbox.width/2,y:toBbox.top}],color,"linear"),svgDrawLine(svg,[{x:fromBbox.left+fromBbox.width/2,y:fromBbox.top+fromBbox.height},{x:fromBbox.left+fromBbox.width/2,y:fromBbox.top+fromBbox.height+config.nodeSpacing/2},{x:toBbox.left+toBbox.width/2,y:_lineStart.y-config.nodeSpacing/2},_lineStart],color)}else svgDrawLine(svg,[{x:fromBbox.left+fromBbox.width/2,y:fromBbox.top+fromBbox.height},{x:fromBbox.left+fromBbox.width/2,y:fromBbox.top+config.nodeSpacing/2},{x:toBbox.left+toBbox.width/2,y:toBbox.top-config.nodeSpacing/2},{x:toBbox.left+toBbox.width/2,y:toBbox.top}],color)}}function cloneNode(svg,selector){return svg.select(selector).node().cloneNode(!0)}function renderCommitHistory(svg,commitid,branches,direction){var commit,numCommits=Object.keys(allCommitsDict).length;if("string"==typeof commitid){var cnt=0;do{if(cnt++,commit=allCommitsDict[commitid],_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("in renderCommitHistory",commit.id,commit.seq),svg.select("#node-"+commitid).size()>0)return;svg.append((function(){return cloneNode(svg,"#def-commit")})).attr("class","commit").attr("id",(function(){return"node-"+commit.id})).attr("transform",(function(){switch(direction){case"LR":return"translate("+(commit.seq*config.nodeSpacing+config.leftMargin)+", "+branchNum*config.branchOffset+")";case"BT":return"translate("+(branchNum*config.branchOffset+config.leftMargin)+", "+(numCommits-commit.seq)*config.nodeSpacing+")"}})).attr("fill",config.nodeFillColor).attr("stroke",config.nodeStrokeColor).attr("stroke-width",config.nodeStrokeWidth);var branch=void 0;for(var branchName in branches)if(branches[branchName].commit===commit){branch=branches[branchName];break}branch&&(_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("found branch ",branch.name),svg.select("#node-"+commit.id+" p").append("xhtml:span").attr("class","branch-label").text(branch.name+", ")),svg.select("#node-"+commit.id+" p").append("xhtml:span").attr("class","commit-id").text(commit.id),""!==commit.message&&"BT"===direction&&svg.select("#node-"+commit.id+" p").append("xhtml:span").attr("class","commit-msg").text(", "+commit.message),commitid=commit.parent}while(commitid&&allCommitsDict[commitid]&&cnt<1e3)}Array.isArray(commitid)&&(_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("found merge commmit",commitid),renderCommitHistory(svg,commitid[0],branches,direction),branchNum++,renderCommitHistory(svg,commitid[1],branches,direction),branchNum--)}function renderLines(svg,commit,direction,branchColor){branchColor=branchColor||0;for(var cnt=0;commit.seq>0&&!commit.lineDrawn&&cnt<1e3;)cnt++,"string"==typeof commit.parent?(svgDrawLineForCommits(svg,commit.id,commit.parent,direction,branchColor),commit.lineDrawn=!0,commit=allCommitsDict[commit.parent]):Array.isArray(commit.parent)&&(svgDrawLineForCommits(svg,commit.id,commit.parent[0],direction,branchColor),svgDrawLineForCommits(svg,commit.id,commit.parent[1],direction,branchColor+1),renderLines(svg,allCommitsDict[commit.parent[1]],direction,branchColor+1),commit.lineDrawn=!0,commit=allCommitsDict[commit.parent[0]])}var draw=function draw(txt,id,ver){try{var parser=_parser_gitGraph__WEBPACK_IMPORTED_MODULE_3___default().parser;parser.yy=_gitGraphAst__WEBPACK_IMPORTED_MODULE_4__.default,parser.yy.clear();var sandboxElement,securityLevel=(0,_config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().securityLevel;"sandbox"===securityLevel&&(sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i"+id));var root="sandbox"===securityLevel?(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body):(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");"sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document;_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("in gitgraph renderer",txt+"\n","id:",id,ver),parser.parse(txt+"\n"),config=Object.assign(config,apiConfig,_gitGraphAst__WEBPACK_IMPORTED_MODULE_4__.default.getOptions()),_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("effective options",config);var direction=_gitGraphAst__WEBPACK_IMPORTED_MODULE_4__.default.getDirection();allCommitsDict=_gitGraphAst__WEBPACK_IMPORTED_MODULE_4__.default.getCommits();var branches=_gitGraphAst__WEBPACK_IMPORTED_MODULE_4__.default.getBranchesAsObjArray();"BT"===direction&&(config.nodeLabel.x=branches.length*config.branchOffset,config.nodeLabel.width="100%",config.nodeLabel.y=-2*config.nodeRadius);var svg=root.select('[id="'.concat(id,'"]'));for(var branch in function svgCreateDefs(svg){svg.append("defs").append("g").attr("id","def-commit").append("circle").attr("r",config.nodeRadius).attr("cx",0).attr("cy",0),svg.select("#def-commit").append("foreignObject").attr("width",config.nodeLabel.width).attr("height",config.nodeLabel.height).attr("x",config.nodeLabel.x).attr("y",config.nodeLabel.y).attr("class","node-label").attr("requiredFeatures","http://www.w3.org/TR/SVG11/feature#Extensibility").append("p").html("")}(svg),branchNum=1,branches){var v=branches[branch];renderCommitHistory(svg,v.commit.id,branches,direction),renderLines(svg,v.commit,direction),branchNum++}svg.attr("height",(function(){return"BT"===direction?Object.keys(allCommitsDict).length*config.nodeSpacing:(branches.length+1)*config.branchOffset}))}catch(e){_logger__WEBPACK_IMPORTED_MODULE_2__.log.error("Error while rendering gitgraph"),_logger__WEBPACK_IMPORTED_MODULE_2__.log.error(e.message)}};const __WEBPACK_DEFAULT_EXPORT__={setConf,draw}},"./src/diagrams/git/styles.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_778200__)=>{"use strict";__nested_webpack_require_778200__.r(__nested_webpack_exports__),__nested_webpack_require_778200__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function getStyles(){return"\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n"}},"./src/diagrams/info/infoDb.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_779021__)=>{"use strict";__nested_webpack_require_779021__.r(__nested_webpack_exports__),__nested_webpack_require_779021__.d(__nested_webpack_exports__,{setMessage:()=>setMessage,getMessage:()=>getMessage,setInfo:()=>setInfo,getInfo:()=>getInfo,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _logger__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_779021__("./src/logger.js"),message="",info=!1,setMessage=function setMessage(txt){_logger__WEBPACK_IMPORTED_MODULE_0__.log.debug("Setting message to: "+txt),message=txt},getMessage=function getMessage(){return message},setInfo=function setInfo(inf){info=inf},getInfo=function getInfo(){return info};const __WEBPACK_DEFAULT_EXPORT__={setMessage,getMessage,setInfo,getInfo}},"./src/diagrams/info/infoRenderer.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_780580__)=>{"use strict";__nested_webpack_require_780580__.r(__nested_webpack_exports__),__nested_webpack_require_780580__.d(__nested_webpack_exports__,{setConf:()=>setConf,draw:()=>draw,default:()=>__WEBPACK_DEFAULT_EXPORT__});var d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_780580__("d3"),_infoDb__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_780580__("./src/diagrams/info/infoDb.js"),_parser_info__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_780580__("./src/diagrams/info/parser/info.jison"),_parser_info__WEBPACK_IMPORTED_MODULE_1___default=__nested_webpack_require_780580__.n(_parser_info__WEBPACK_IMPORTED_MODULE_1__),_logger__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_780580__("./src/logger.js"),_config__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_780580__("./src/config.js"),conf={},setConf=function setConf(cnf){Object.keys(cnf).forEach((function(key){conf[key]=cnf[key]}))},draw=function draw(text,id,version){try{var parser=_parser_info__WEBPACK_IMPORTED_MODULE_1___default().parser;parser.yy=_infoDb__WEBPACK_IMPORTED_MODULE_2__.default,_logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("Renering info diagram\n"+text);var sandboxElement,securityLevel=(0,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig)().securityLevel;"sandbox"===securityLevel&&(sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i"+id));var root="sandbox"===securityLevel?(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body):(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");"sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document;parser.parse(text),_logger__WEBPACK_IMPORTED_MODULE_3__.log.debug("Parsed info diagram");var svg=root.select("#"+id);svg.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+version),svg.attr("height",100),svg.attr("width",400)}catch(e){_logger__WEBPACK_IMPORTED_MODULE_3__.log.error("Error while rendering info diagram"),_logger__WEBPACK_IMPORTED_MODULE_3__.log.error(e.message)}};const __WEBPACK_DEFAULT_EXPORT__={setConf,draw}},"./src/diagrams/info/styles.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_784154__)=>{"use strict";__nested_webpack_require_784154__.r(__nested_webpack_exports__),__nested_webpack_require_784154__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function getStyles(){return""}},"./src/diagrams/pie/pieDb.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_784757__)=>{"use strict";__nested_webpack_require_784757__.r(__nested_webpack_exports__),__nested_webpack_require_784757__.d(__nested_webpack_exports__,{parseDirective:()=>parseDirective,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _logger__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_784757__("./src/logger.js"),_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_784757__("./src/mermaidAPI.js"),_config__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_784757__("./src/config.js"),sections={},title="",showData=!1,parseDirective=function parseDirective(statement,context,type){_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default.parseDirective(this,statement,context,type)};const __WEBPACK_DEFAULT_EXPORT__={parseDirective,getConfig:function getConfig(){return _config__WEBPACK_IMPORTED_MODULE_2__.getConfig().pie},addSection:function addSection(id,value){void 0===sections[id]&&(sections[id]=value,_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Added new section :",id))},getSections:function getSections(){return sections},cleanupValue:function cleanupValue(value){return":"===value.substring(0,1)?(value=value.substring(1).trim(),Number(value.trim())):Number(value.trim())},clear:function clear(){sections={},title="",showData=!1},setTitle:function setTitle(txt){title=txt},getTitle:function getTitle(){return title},setShowData:function setShowData(toggle){showData=toggle},getShowData:function getShowData(){return showData}}},"./src/diagrams/pie/pieRenderer.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_787304__)=>{"use strict";__nested_webpack_require_787304__.r(__nested_webpack_exports__),__nested_webpack_require_787304__.d(__nested_webpack_exports__,{draw:()=>draw,default:()=>__WEBPACK_DEFAULT_EXPORT__});var width,d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_787304__("d3"),_pieDb__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_787304__("./src/diagrams/pie/pieDb.js"),_parser_pie__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_787304__("./src/diagrams/pie/parser/pie.jison"),_parser_pie__WEBPACK_IMPORTED_MODULE_2___default=__nested_webpack_require_787304__.n(_parser_pie__WEBPACK_IMPORTED_MODULE_2__),_logger__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_787304__("./src/logger.js"),_utils__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_787304__("./src/utils.js"),_config__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_787304__("./src/config.js"),conf=_config__WEBPACK_IMPORTED_MODULE_1__.getConfig(),draw=function draw(txt,id){try{conf=_config__WEBPACK_IMPORTED_MODULE_1__.getConfig();var parser=_parser_pie__WEBPACK_IMPORTED_MODULE_2___default().parser;parser.yy=_pieDb__WEBPACK_IMPORTED_MODULE_3__.default,_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Rendering info diagram\n"+txt);var sandboxElement,securityLevel=_config__WEBPACK_IMPORTED_MODULE_1__.getConfig().securityLevel;"sandbox"===securityLevel&&(sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i"+id));var root="sandbox"===securityLevel?(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body):(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("body"),doc="sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document;parser.yy.clear(),parser.parse(txt),_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Parsed info diagram");var elem=doc.getElementById(id);void 0===(width=elem.parentElement.offsetWidth)&&(width=1200),void 0!==conf.useWidth&&(width=conf.useWidth),void 0!==conf.pie.useWidth&&(width=conf.pie.useWidth);var diagram=root.select("#"+id);(0,_utils__WEBPACK_IMPORTED_MODULE_5__.configureSvgSize)(diagram,450,width,conf.pie.useMaxWidth),elem.setAttribute("viewBox","0 0 "+width+" 450");var radius=Math.min(width,450)/2-40,svg=diagram.append("g").attr("transform","translate("+width/2+",225)"),data=_pieDb__WEBPACK_IMPORTED_MODULE_3__.default.getSections(),sum=0;Object.keys(data).forEach((function(key){sum+=data[key]}));var themeVariables=conf.themeVariables,myGeneratedColors=[themeVariables.pie1,themeVariables.pie2,themeVariables.pie3,themeVariables.pie4,themeVariables.pie5,themeVariables.pie6,themeVariables.pie7,themeVariables.pie8,themeVariables.pie9,themeVariables.pie10,themeVariables.pie11,themeVariables.pie12],color=(0,d3__WEBPACK_IMPORTED_MODULE_0__.scaleOrdinal)().range(myGeneratedColors),dataReady=(0,d3__WEBPACK_IMPORTED_MODULE_0__.pie)().value((function(d){return d[1]}))(Object.entries(data)),arcGenerator=(0,d3__WEBPACK_IMPORTED_MODULE_0__.arc)().innerRadius(0).outerRadius(radius);svg.selectAll("mySlices").data(dataReady).enter().append("path").attr("d",arcGenerator).attr("fill",(function(d){return color(d.data[0])})).attr("class","pieCircle"),svg.selectAll("mySlices").data(dataReady).enter().append("text").text((function(d){return(d.data[1]/sum*100).toFixed(0)+"%"})).attr("transform",(function(d){return"translate("+arcGenerator.centroid(d)+")"})).style("text-anchor","middle").attr("class","slice"),svg.append("text").text(parser.yy.getTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");var legend=svg.selectAll(".legend").data(color.domain()).enter().append("g").attr("class","legend").attr("transform",(function(d,i){return"translate(216,"+(22*i-22*color.domain().length/2)+")"}));legend.append("rect").attr("width",18).attr("height",18).style("fill",color).style("stroke",color),legend.data(dataReady).append("text").attr("x",22).attr("y",14).text((function(d){return parser.yy.getShowData()||conf.showData||conf.pie.showData?d.data[0]+" ["+d.data[1]+"]":d.data[0]}))}catch(e){_logger__WEBPACK_IMPORTED_MODULE_4__.log.error("Error while rendering info diagram"),_logger__WEBPACK_IMPORTED_MODULE_4__.log.error(e)}};const __WEBPACK_DEFAULT_EXPORT__={draw}},"./src/diagrams/pie/styles.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_793927__)=>{"use strict";__nested_webpack_require_793927__.r(__nested_webpack_exports__),__nested_webpack_require_793927__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function getStyles(options){return"\n  .pieCircle{\n    stroke: ".concat(options.pieStrokeColor,";\n    stroke-width : ").concat(options.pieStrokeWidth,";\n    opacity : ").concat(options.pieOpacity,";\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ").concat(options.pieTitleTextSize,";\n    fill: ").concat(options.pieTitleTextColor,";\n    font-family: ").concat(options.fontFamily,";\n  }\n  .slice {\n    font-family: ").concat(options.fontFamily,";\n    fill: ").concat(options.pieSectionTextColor,";\n    font-size:").concat(options.pieSectionTextSize,";\n    // fill: white;\n  }\n  .legend text {\n    fill: ").concat(options.pieLegendTextColor,";\n    font-family: ").concat(options.fontFamily,";\n    font-size: ").concat(options.pieLegendTextSize,";\n  }\n")}},"./src/diagrams/requirement/requirementDb.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_795365__)=>{"use strict";__nested_webpack_require_795365__.r(__nested_webpack_exports__),__nested_webpack_require_795365__.d(__nested_webpack_exports__,{parseDirective:()=>parseDirective,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _config__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_795365__("./src/config.js"),_logger__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_795365__("./src/logger.js"),_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_795365__("./src/mermaidAPI.js"),relations=[],latestRequirement={},requirements={},latestElement={},elements={},parseDirective=function parseDirective(statement,context,type){_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default.parseDirective(this,statement,context,type)};const __WEBPACK_DEFAULT_EXPORT__={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective,getConfig:function getConfig(){return _config__WEBPACK_IMPORTED_MODULE_2__.getConfig().req},addRequirement:function addRequirement(name,type){return void 0===requirements[name]&&(requirements[name]={name,type,id:latestRequirement.id,text:latestRequirement.text,risk:latestRequirement.risk,verifyMethod:latestRequirement.verifyMethod}),latestRequirement={},requirements[name]},getRequirements:function getRequirements(){return requirements},setNewReqId:function setNewReqId(id){void 0!==latestRequirement&&(latestRequirement.id=id)},setNewReqText:function setNewReqText(text){void 0!==latestRequirement&&(latestRequirement.text=text)},setNewReqRisk:function setNewReqRisk(risk){void 0!==latestRequirement&&(latestRequirement.risk=risk)},setNewReqVerifyMethod:function setNewReqVerifyMethod(verifyMethod){void 0!==latestRequirement&&(latestRequirement.verifyMethod=verifyMethod)},addElement:function addElement(name){return void 0===elements[name]&&(elements[name]={name,type:latestElement.type,docRef:latestElement.docRef},_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Added new requirement: ",name)),latestElement={},elements[name]},getElements:function getElements(){return elements},setNewElementType:function setNewElementType(type){void 0!==latestElement&&(latestElement.type=type)},setNewElementDocRef:function setNewElementDocRef(docRef){void 0!==latestElement&&(latestElement.docRef=docRef)},addRelationship:function addRelationship(type,src,dst){relations.push({type,src,dst})},getRelationships:function getRelationships(){return relations},clear:function clear(){relations=[],latestRequirement={},requirements={},latestElement={},elements={}}}},"./src/diagrams/requirement/requirementMarkers.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_800302__)=>{"use strict";__nested_webpack_require_800302__.r(__nested_webpack_exports__),__nested_webpack_require_800302__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var ReqMarkers={CONTAINS:"contains",ARROW:"arrow"};const __WEBPACK_DEFAULT_EXPORT__={ReqMarkers,insertLineEndings:function insertLineEndings(parentNode,conf){var containsNode=parentNode.append("defs").append("marker").attr("id",ReqMarkers.CONTAINS+"_line_ending").attr("refX",0).attr("refY",conf.line_height/2).attr("markerWidth",conf.line_height).attr("markerHeight",conf.line_height).attr("orient","auto").append("g");containsNode.append("circle").attr("cx",conf.line_height/2).attr("cy",conf.line_height/2).attr("r",conf.line_height/2).attr("fill","none"),containsNode.append("line").attr("x1",0).attr("x2",conf.line_height).attr("y1",conf.line_height/2).attr("y2",conf.line_height/2).attr("stroke-width",1),containsNode.append("line").attr("y1",0).attr("y2",conf.line_height).attr("x1",conf.line_height/2).attr("x2",conf.line_height/2).attr("stroke-width",1),parentNode.append("defs").append("marker").attr("id",ReqMarkers.ARROW+"_line_ending").attr("refX",conf.line_height).attr("refY",.5*conf.line_height).attr("markerWidth",conf.line_height).attr("markerHeight",conf.line_height).attr("orient","auto").append("path").attr("d","M0,0\n      L".concat(conf.line_height,",").concat(conf.line_height/2,"\n      M").concat(conf.line_height,",").concat(conf.line_height/2,"\n      L0,").concat(conf.line_height)).attr("stroke-width",1)}}},"./src/diagrams/requirement/requirementRenderer.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_802601__)=>{"use strict";__nested_webpack_require_802601__.r(__nested_webpack_exports__),__nested_webpack_require_802601__.d(__nested_webpack_exports__,{setConf:()=>setConf,drawReqs:()=>drawReqs,drawElements:()=>drawElements,draw:()=>draw,default:()=>__WEBPACK_DEFAULT_EXPORT__});var d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_802601__("d3"),dagre__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_802601__("dagre"),dagre__WEBPACK_IMPORTED_MODULE_1___default=__nested_webpack_require_802601__.n(dagre__WEBPACK_IMPORTED_MODULE_1__),graphlib__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_802601__("graphlib"),graphlib__WEBPACK_IMPORTED_MODULE_2___default=__nested_webpack_require_802601__.n(graphlib__WEBPACK_IMPORTED_MODULE_2__),_logger__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_802601__("./src/logger.js"),_utils__WEBPACK_IMPORTED_MODULE_9__=__nested_webpack_require_802601__("./src/utils.js"),_common_common__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_802601__("./src/diagrams/common/common.js"),_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_802601__("./src/diagrams/requirement/parser/requirementDiagram.jison"),_requirementDb__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_802601__("./src/diagrams/requirement/requirementDb.js"),_requirementMarkers__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_802601__("./src/diagrams/requirement/requirementMarkers.js"),_config__WEBPACK_IMPORTED_MODULE_8__=__nested_webpack_require_802601__("./src/config.js"),conf={},relCnt=0,setConf=function setConf(cnf){if(void 0!==cnf)for(var keys=Object.keys(cnf),i=0;i<keys.length;i++)conf[keys[i]]=cnf[keys[i]]},newRectNode=function newRectNode(parentNode,id){return parentNode.insert("rect","#"+id).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",conf.rect_min_width+"px").attr("height",conf.rect_min_height+"px")},newTitleNode=function newTitleNode(parentNode,id,txts){var x=conf.rect_min_width/2,title=parentNode.append("text").attr("class","req reqLabel reqTitle").attr("id",id).attr("x",x).attr("y",conf.rect_padding).attr("dominant-baseline","hanging"),i=0;txts.forEach((function(textStr){0==i?title.append("tspan").attr("text-anchor","middle").attr("x",conf.rect_min_width/2).attr("dy",0).text(textStr):title.append("tspan").attr("text-anchor","middle").attr("x",conf.rect_min_width/2).attr("dy",.75*conf.line_height).text(textStr),i++}));var totalY=1.5*conf.rect_padding+i*conf.line_height*.75;return parentNode.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",conf.rect_min_width).attr("y1",totalY).attr("y2",totalY),{titleNode:title,y:totalY}},newBodyNode=function newBodyNode(parentNode,id,txts,yStart){var body=parentNode.append("text").attr("class","req reqLabel").attr("id",id).attr("x",conf.rect_padding).attr("y",yStart).attr("dominant-baseline","hanging"),currentRow=0,wrappedTxts=[];return txts.forEach((function(textStr){for(var currentTextLen=textStr.length;currentTextLen>30&&currentRow<3;){var firstPart=textStr.substring(0,30);currentTextLen=(textStr=textStr.substring(30,textStr.length)).length,wrappedTxts[wrappedTxts.length]=firstPart,currentRow++}if(3==currentRow){var lastStr=wrappedTxts[wrappedTxts.length-1];wrappedTxts[wrappedTxts.length-1]=lastStr.substring(0,lastStr.length-4)+"..."}else wrappedTxts[wrappedTxts.length]=textStr;currentRow=0})),wrappedTxts.forEach((function(textStr){body.append("tspan").attr("x",conf.rect_padding).attr("dy",conf.line_height).text(textStr)})),body},drawRelationshipFromLayout=function drawRelationshipFromLayout(svg,rel,g,insert){var edge=g.edge(elementString(rel.src),elementString(rel.dst)),lineFunction=(0,d3__WEBPACK_IMPORTED_MODULE_0__.line)().x((function(d){return d.x})).y((function(d){return d.y})),svgPath=svg.insert("path","#"+insert).attr("class","er relationshipLine").attr("d",lineFunction(edge.points)).attr("fill","none");rel.type==_requirementDb__WEBPACK_IMPORTED_MODULE_3__.default.Relationships.CONTAINS?svgPath.attr("marker-start","url("+_common_common__WEBPACK_IMPORTED_MODULE_4__.default.getUrl(conf.arrowMarkerAbsolute)+"#"+rel.type+"_line_ending)"):(svgPath.attr("stroke-dasharray","10,7"),svgPath.attr("marker-end","url("+_common_common__WEBPACK_IMPORTED_MODULE_4__.default.getUrl(conf.arrowMarkerAbsolute)+"#"+_requirementMarkers__WEBPACK_IMPORTED_MODULE_5__.default.ReqMarkers.ARROW+"_line_ending)")),function addEdgeLabel(parentNode,svgPath,conf,txt){var len=svgPath.node().getTotalLength(),labelPoint=svgPath.node().getPointAtLength(.5*len),labelId="rel"+relCnt;relCnt++;var labelBBox=parentNode.append("text").attr("class","req relationshipLabel").attr("id",labelId).attr("x",labelPoint.x).attr("y",labelPoint.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(txt).node().getBBox();parentNode.insert("rect","#"+labelId).attr("class","req reqLabelBox").attr("x",labelPoint.x-labelBBox.width/2).attr("y",labelPoint.y-labelBBox.height/2).attr("width",labelBBox.width).attr("height",labelBBox.height).attr("fill","white").attr("fill-opacity","85%")}(svg,svgPath,0,"<<".concat(rel.type,">>"))},drawReqs=function drawReqs(reqs,graph,svgNode){Object.keys(reqs).forEach((function(reqName){var req=reqs[reqName];reqName=elementString(reqName),_logger__WEBPACK_IMPORTED_MODULE_6__.log.info("Added new requirement: ",reqName);var groupNode=svgNode.append("g").attr("id",reqName),rectNode=newRectNode(groupNode,"req-"+reqName),nodes=[],titleNodeInfo=newTitleNode(groupNode,reqName+"_title",["<<".concat(req.type,">>"),"".concat(req.name)]);nodes.push(titleNodeInfo.titleNode);var bodyNode=newBodyNode(groupNode,reqName+"_body",["Id: ".concat(req.id),"Text: ".concat(req.text),"Risk: ".concat(req.risk),"Verification: ".concat(req.verifyMethod)],titleNodeInfo.y);nodes.push(bodyNode);var rectBBox=rectNode.node().getBBox();graph.setNode(reqName,{width:rectBBox.width,height:rectBBox.height,shape:"rect",id:reqName})}))},drawElements=function drawElements(els,graph,svgNode){Object.keys(els).forEach((function(elName){var el=els[elName],id=elementString(elName),groupNode=svgNode.append("g").attr("id",id),textId="element-"+id,rectNode=newRectNode(groupNode,textId),nodes=[],titleNodeInfo=newTitleNode(groupNode,textId+"_title",["<<Element>>","".concat(elName)]);nodes.push(titleNodeInfo.titleNode);var bodyNode=newBodyNode(groupNode,textId+"_body",["Type: ".concat(el.type||"Not Specified"),"Doc Ref: ".concat(el.docRef||"None")],titleNodeInfo.y);nodes.push(bodyNode);var rectBBox=rectNode.node().getBBox();graph.setNode(id,{width:rectBBox.width,height:rectBBox.height,shape:"rect",id})}))},elementString=function elementString(str){return str.replace(/\s/g,"").replace(/\./g,"_")},draw=function draw(text,id){_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_7__.parser.yy=_requirementDb__WEBPACK_IMPORTED_MODULE_3__.default,_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_7__.parser.yy.clear(),_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_7__.parser.parse(text);var sandboxElement,securityLevel=(0,_config__WEBPACK_IMPORTED_MODULE_8__.getConfig)().securityLevel;"sandbox"===securityLevel&&(sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i"+id));var root="sandbox"===securityLevel?(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body):(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("body"),svg=("sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document,root.select("[id='".concat(id,"']")));_requirementMarkers__WEBPACK_IMPORTED_MODULE_5__.default.insertLineEndings(svg,conf);var g=new(graphlib__WEBPACK_IMPORTED_MODULE_2___default().Graph)({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:conf.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}})),requirements=_requirementDb__WEBPACK_IMPORTED_MODULE_3__.default.getRequirements(),elements=_requirementDb__WEBPACK_IMPORTED_MODULE_3__.default.getElements(),relationships=_requirementDb__WEBPACK_IMPORTED_MODULE_3__.default.getRelationships();drawReqs(requirements,g,svg),drawElements(elements,g,svg),function addRelationships(relationships,g){relationships.forEach((function(r){var src=elementString(r.src),dst=elementString(r.dst);g.setEdge(src,dst,{relationship:r})}))}(relationships,g),dagre__WEBPACK_IMPORTED_MODULE_1___default().layout(g),function adjustEntities(svgNode,graph){graph.nodes().forEach((function(v){void 0!==v&&void 0!==graph.node(v)&&(svgNode.select("#"+v),svgNode.select("#"+v).attr("transform","translate("+(graph.node(v).x-graph.node(v).width/2)+","+(graph.node(v).y-graph.node(v).height/2)+" )"))}))}(svg,g),relationships.forEach((function(rel){drawRelationshipFromLayout(svg,rel,g,id)}));var padding=conf.rect_padding,svgBounds=svg.node().getBBox(),width=svgBounds.width+2*padding,height=svgBounds.height+2*padding;(0,_utils__WEBPACK_IMPORTED_MODULE_9__.configureSvgSize)(svg,height,width,conf.useMaxWidth),svg.attr("viewBox","".concat(svgBounds.x-padding," ").concat(svgBounds.y-padding," ").concat(width," ").concat(height))};const __WEBPACK_DEFAULT_EXPORT__={setConf,draw}},"./src/diagrams/requirement/styles.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_815756__)=>{"use strict";__nested_webpack_require_815756__.r(__nested_webpack_exports__),__nested_webpack_require_815756__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function getStyles(options){return"\n\n  marker {\n    fill: ".concat(options.relationColor,";\n    stroke: ").concat(options.relationColor,";\n  }\n\n  marker.cross {\n    stroke: ").concat(options.lineColor,";\n  }\n\n  svg {\n    font-family: ").concat(options.fontFamily,";\n    font-size: ").concat(options.fontSize,";\n  }\n\n  .reqBox {\n    fill: ").concat(options.requirementBackground,";\n    fill-opacity: 100%;\n    stroke: ").concat(options.requirementBorderColor,";\n    stroke-width: ").concat(options.requirementBorderSize,";\n  }\n  \n  .reqTitle, .reqLabel{\n    fill:  ").concat(options.requirementTextColor,";\n  }\n  .reqLabelBox {\n    fill: ").concat(options.relationLabelBackground,";\n    fill-opacity: 100%;\n  }\n\n  .req-title-line {\n    stroke: ").concat(options.requirementBorderColor,";\n    stroke-width: ").concat(options.requirementBorderSize,";\n  }\n  .relationshipLine {\n    stroke: ").concat(options.relationColor,";\n    stroke-width: 1;\n  }\n  .relationshipLabel {\n    fill: ").concat(options.relationLabelColor,";\n  }\n\n")}},"./src/diagrams/sequence/sequenceDb.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_817480__)=>{"use strict";__nested_webpack_require_817480__.r(__nested_webpack_exports__),__nested_webpack_require_817480__.d(__nested_webpack_exports__,{parseDirective:()=>parseDirective,addActor:()=>addActor,addMessage:()=>addMessage,addSignal:()=>addSignal,getMessages:()=>getMessages,getActors:()=>getActors,getActor:()=>getActor,getActorKeys:()=>getActorKeys,getTitle:()=>getTitle,getTitleWrapped:()=>getTitleWrapped,enableSequenceNumbers:()=>enableSequenceNumbers,showSequenceNumbers:()=>showSequenceNumbers,setWrap:()=>setWrap,autoWrap:()=>autoWrap,clear:()=>clear,parseMessage:()=>parseMessage,LINETYPE:()=>LINETYPE,ARROWTYPE:()=>ARROWTYPE,PLACEMENT:()=>PLACEMENT,addNote:()=>addNote,addLinks:()=>addLinks,addALink:()=>addALink,addProperties:()=>addProperties,addDetails:()=>addDetails,getActorProperty:()=>getActorProperty,setTitle:()=>setTitle,apply:()=>apply,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_817480__("./src/mermaidAPI.js"),_config__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_817480__("./src/config.js"),_logger__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_817480__("./src/logger.js"),_common_common__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_817480__("./src/diagrams/common/common.js"),prevActor=void 0,actors={},messages=[],notes=[],title="",titleWrapped=!1,sequenceNumbersEnabled=!1,wrapEnabled=!1,parseDirective=function parseDirective(statement,context,type){_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default.parseDirective(this,statement,context,type)},addActor=function addActor(id,name,description,type){var old=actors[id];old&&name===old.name&&null==description||(null!=description&&null!=description.text||(description={text:name,wrap:null,type}),null!=type&&null!=description.text||(description={text:name,wrap:null,type}),actors[id]={name,description:description.text,wrap:void 0===description.wrap&&autoWrap()||!!description.wrap,prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:type||"participant"},prevActor&&actors[prevActor]&&(actors[prevActor].nextActor=id),prevActor=id)},addMessage=function addMessage(idFrom,idTo,message,answer){messages.push({from:idFrom,to:idTo,message:message.text,wrap:void 0===message.wrap&&autoWrap()||!!message.wrap,answer})},addSignal=function addSignal(idFrom,idTo){var message=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{text:void 0,wrap:void 0},messageType=arguments.length>3?arguments[3]:void 0;if(messageType===LINETYPE.ACTIVE_END&&function activationCount(part){var i,count=0;for(i=0;i<messages.length;i++)messages[i].type===LINETYPE.ACTIVE_START&&messages[i].from.actor===part&&count++,messages[i].type===LINETYPE.ACTIVE_END&&messages[i].from.actor===part&&count--;return count}(idFrom.actor)<1){var error=new Error("Trying to inactivate an inactive participant ("+idFrom.actor+")");throw error.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},error}return messages.push({from:idFrom,to:idTo,message:message.text,wrap:void 0===message.wrap&&autoWrap()||!!message.wrap,type:messageType}),!0},getMessages=function getMessages(){return messages},getActors=function getActors(){return actors},getActor=function getActor(id){return actors[id]},getActorKeys=function getActorKeys(){return Object.keys(actors)},getTitle=function getTitle(){return title},getTitleWrapped=function getTitleWrapped(){return titleWrapped},enableSequenceNumbers=function enableSequenceNumbers(){sequenceNumbersEnabled=!0},showSequenceNumbers=function showSequenceNumbers(){return sequenceNumbersEnabled},setWrap=function setWrap(wrapSetting){wrapEnabled=wrapSetting},autoWrap=function autoWrap(){return wrapEnabled},clear=function clear(){actors={},messages=[]},parseMessage=function parseMessage(str){var _str=str.trim(),message={text:_str.replace(/^[:]?(?:no)?wrap:/,"").trim(),wrap:null!==_str.match(/^[:]?wrap:/)||null===_str.match(/^[:]?nowrap:/)&&void 0};return _logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("parseMessage:",message),message},LINETYPE={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE={FILLED:0,OPEN:1},PLACEMENT={LEFTOF:0,RIGHTOF:1,OVER:2},addNote=function addNote(actor,placement,message){var note={actor,placement,message:message.text,wrap:void 0===message.wrap&&autoWrap()||!!message.wrap},actors=[].concat(actor,actor);notes.push(note),messages.push({from:actors[0],to:actors[1],message:message.text,wrap:void 0===message.wrap&&autoWrap()||!!message.wrap,type:LINETYPE.NOTE,placement})},addLinks=function addLinks(actorId,text){var actor=getActor(actorId);try{var sanitizedText=(0,_common_common__WEBPACK_IMPORTED_MODULE_2__.sanitizeText)(text.text,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig());sanitizedText=(sanitizedText=sanitizedText.replace(/&amp;/g,"&")).replace(/&equals;/g,"="),insertLinks(actor,JSON.parse(sanitizedText))}catch(e){_logger__WEBPACK_IMPORTED_MODULE_1__.log.error("error while parsing actor link text",e)}},addALink=function addALink(actorId,text){var actor=getActor(actorId);try{var links={},sanitizedText=(0,_common_common__WEBPACK_IMPORTED_MODULE_2__.sanitizeText)(text.text,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig()),sep=sanitizedText.indexOf("@"),label=(sanitizedText=(sanitizedText=sanitizedText.replace(/&amp;/g,"&")).replace(/&equals;/g,"=")).slice(0,sep-1).trim(),link=sanitizedText.slice(sep+1).trim();links[label]=link,insertLinks(actor,links)}catch(e){_logger__WEBPACK_IMPORTED_MODULE_1__.log.error("error while parsing actor link text",e)}};function insertLinks(actor,links){if(null==actor.links)actor.links=links;else for(var key in links)actor.links[key]=links[key]}var addProperties=function addProperties(actorId,text){var actor=getActor(actorId);try{var sanitizedText=(0,_common_common__WEBPACK_IMPORTED_MODULE_2__.sanitizeText)(text.text,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig());insertProperties(actor,JSON.parse(sanitizedText))}catch(e){_logger__WEBPACK_IMPORTED_MODULE_1__.log.error("error while parsing actor properties text",e)}};function insertProperties(actor,properties){if(null==actor.properties)actor.properties=properties;else for(var key in properties)actor.properties[key]=properties[key]}var addDetails=function addDetails(actorId,text){var actor=getActor(actorId),elem=document.getElementById(text.text);try{var _text=elem.innerHTML,details=JSON.parse(_text);details.properties&&insertProperties(actor,details.properties),details.links&&insertLinks(actor,details.links)}catch(e){_logger__WEBPACK_IMPORTED_MODULE_1__.log.error("error while parsing actor details text",e)}},getActorProperty=function getActorProperty(actor,key){if(void 0!==actor&&void 0!==actor.properties)return actor.properties[key]},setTitle=function setTitle(titleWrap){title=titleWrap.text,titleWrapped=void 0===titleWrap.wrap&&autoWrap()||!!titleWrap.wrap},apply=function apply(param){if(param instanceof Array)param.forEach((function(item){apply(item)}));else switch(param.type){case"addParticipant":addActor(param.actor,param.actor,param.description,"participant");break;case"addActor":addActor(param.actor,param.actor,param.description,"actor");break;case"activeStart":case"activeEnd":addSignal(param.actor,void 0,void 0,param.signalType);break;case"addNote":addNote(param.actor,param.placement,param.text);break;case"addLinks":addLinks(param.actor,param.text);break;case"addALink":addALink(param.actor,param.text);break;case"addProperties":addProperties(param.actor,param.text);break;case"addDetails":addDetails(param.actor,param.text);break;case"addMessage":addSignal(param.from,param.to,param.msg,param.signalType);break;case"loopStart":addSignal(void 0,void 0,param.loopText,param.signalType);break;case"loopEnd":case"rectEnd":case"optEnd":case"altEnd":case"parEnd":addSignal(void 0,void 0,void 0,param.signalType);break;case"rectStart":addSignal(void 0,void 0,param.color,param.signalType);break;case"optStart":addSignal(void 0,void 0,param.optText,param.signalType);break;case"altStart":case"else":addSignal(void 0,void 0,param.altText,param.signalType);break;case"setTitle":setTitle(param.text);break;case"parStart":case"and":addSignal(void 0,void 0,param.parText,param.signalType)}};const __WEBPACK_DEFAULT_EXPORT__={addActor,addMessage,addSignal,addLinks,addDetails,addProperties,autoWrap,setWrap,enableSequenceNumbers,showSequenceNumbers,getMessages,getActors,getActor,getActorKeys,getActorProperty,getTitle,parseDirective,getConfig:function getConfig(){return _config__WEBPACK_IMPORTED_MODULE_3__.getConfig().sequence},getTitleWrapped,clear,parseMessage,LINETYPE,ARROWTYPE,PLACEMENT,addNote,setTitle,apply}},"./src/diagrams/sequence/sequenceRenderer.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_832555__)=>{"use strict";__nested_webpack_require_832555__.r(__nested_webpack_exports__),__nested_webpack_require_832555__.d(__nested_webpack_exports__,{bounds:()=>bounds,drawActors:()=>drawActors,drawActorsPopup:()=>drawActorsPopup,setConf:()=>setConf,draw:()=>draw,default:()=>__WEBPACK_DEFAULT_EXPORT__});var d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_832555__("d3"),_svgDraw__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_832555__("./src/diagrams/sequence/svgDraw.js"),_logger__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_832555__("./src/logger.js"),_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_832555__("./src/diagrams/sequence/parser/sequenceDiagram.jison"),_common_common__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_832555__("./src/diagrams/common/common.js"),_sequenceDb__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_832555__("./src/diagrams/sequence/sequenceDb.js"),_config__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_832555__("./src/config.js"),_utils__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_832555__("./src/utils.js");_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy=_sequenceDb__WEBPACK_IMPORTED_MODULE_2__.default;var conf={},bounds={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function getHeight(){return Math.max.apply(null,0===this.actors.length?[0]:this.actors.map((function(actor){return actor.height||0})))+(0===this.loops.length?0:this.loops.map((function(it){return it.height||0})).reduce((function(acc,h){return acc+h})))+(0===this.messages.length?0:this.messages.map((function(it){return it.height||0})).reduce((function(acc,h){return acc+h})))+(0===this.notes.length?0:this.notes.map((function(it){return it.height||0})).reduce((function(acc,h){return acc+h})))},clear:function clear(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function addActor(actorModel){this.actors.push(actorModel)},addLoop:function addLoop(loopModel){this.loops.push(loopModel)},addMessage:function addMessage(msgModel){this.messages.push(msgModel)},addNote:function addNote(noteModel){this.notes.push(noteModel)},lastActor:function lastActor(){return this.actors[this.actors.length-1]},lastLoop:function lastLoop(){return this.loops[this.loops.length-1]},lastMessage:function lastMessage(){return this.messages[this.messages.length-1]},lastNote:function lastNote(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function init(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,setConf(_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getConfig())},updateVal:function updateVal(obj,key,val,fun){void 0===obj[key]?obj[key]=val:obj[key]=fun(val,obj[key])},updateBounds:function updateBounds(startx,starty,stopx,stopy){var _self=this,cnt=0;function updateFn(type){return function updateItemBounds(item){cnt++;var n=_self.sequenceItems.length-cnt+1;_self.updateVal(item,"starty",starty-n*conf.boxMargin,Math.min),_self.updateVal(item,"stopy",stopy+n*conf.boxMargin,Math.max),_self.updateVal(bounds.data,"startx",startx-n*conf.boxMargin,Math.min),_self.updateVal(bounds.data,"stopx",stopx+n*conf.boxMargin,Math.max),"activation"!==type&&(_self.updateVal(item,"startx",startx-n*conf.boxMargin,Math.min),_self.updateVal(item,"stopx",stopx+n*conf.boxMargin,Math.max),_self.updateVal(bounds.data,"starty",starty-n*conf.boxMargin,Math.min),_self.updateVal(bounds.data,"stopy",stopy+n*conf.boxMargin,Math.max))}}this.sequenceItems.forEach(updateFn()),this.activations.forEach(updateFn("activation"))},insert:function insert(startx,starty,stopx,stopy){var _startx=Math.min(startx,stopx),_stopx=Math.max(startx,stopx),_starty=Math.min(starty,stopy),_stopy=Math.max(starty,stopy);this.updateVal(bounds.data,"startx",_startx,Math.min),this.updateVal(bounds.data,"starty",_starty,Math.min),this.updateVal(bounds.data,"stopx",_stopx,Math.max),this.updateVal(bounds.data,"stopy",_stopy,Math.max),this.updateBounds(_startx,_starty,_stopx,_stopy)},newActivation:function newActivation(message,diagram,actors){var actorRect=actors[message.from.actor],stackedSize=actorActivations(message.from.actor).length||0,x=actorRect.x+actorRect.width/2+(stackedSize-1)*conf.activationWidth/2;this.activations.push({startx:x,starty:this.verticalPos+2,stopx:x+conf.activationWidth,stopy:void 0,actor:message.from.actor,anchored:_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.anchorElement(diagram)})},endActivation:function endActivation(message){var lastActorActivationIdx=this.activations.map((function(activation){return activation.actor})).lastIndexOf(message.from.actor);return this.activations.splice(lastActorActivationIdx,1)[0]},createLoop:function createLoop(){var title=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:void 0,wrap:!1,width:void 0},fill=arguments.length>1?arguments[1]:void 0;return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:title.message,wrap:title.wrap,width:title.width,height:0,fill}},newLoop:function newLoop(){var title=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:void 0,wrap:!1,width:void 0},fill=arguments.length>1?arguments[1]:void 0;this.sequenceItems.push(this.createLoop(title,fill))},endLoop:function endLoop(){return this.sequenceItems.pop()},addSectionToLoop:function addSectionToLoop(message){var loop=this.sequenceItems.pop();loop.sections=loop.sections||[],loop.sectionTitles=loop.sectionTitles||[],loop.sections.push({y:bounds.getVerticalPos(),height:0}),loop.sectionTitles.push(message),this.sequenceItems.push(loop)},bumpVerticalPos:function bumpVerticalPos(bump){this.verticalPos=this.verticalPos+bump,this.data.stopy=this.verticalPos},getVerticalPos:function getVerticalPos(){return this.verticalPos},getBounds:function getBounds(){return{bounds:this.data,models:this.models}}},messageFont=function messageFont(cnf){return{fontFamily:cnf.messageFontFamily,fontSize:cnf.messageFontSize,fontWeight:cnf.messageFontWeight}},noteFont=function noteFont(cnf){return{fontFamily:cnf.noteFontFamily,fontSize:cnf.noteFontSize,fontWeight:cnf.noteFontWeight}},actorFont=function actorFont(cnf){return{fontFamily:cnf.actorFontFamily,fontSize:cnf.actorFontSize,fontWeight:cnf.actorFontWeight}},drawActors=function drawActors(diagram,actors,actorKeys,verticalPos){for(var prevWidth=0,prevMargin=0,maxHeight=0,i=0;i<actorKeys.length;i++){var actor=actors[actorKeys[i]];actor.width=actor.width||conf.width,actor.height=Math.max(actor.height||conf.height,conf.height),actor.margin=actor.margin||conf.actorMargin,actor.x=prevWidth+prevMargin,actor.y=verticalPos;var height=_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.drawActor(diagram,actor,conf);maxHeight=Math.max(maxHeight,height),bounds.insert(actor.x,verticalPos,actor.x+actor.width,actor.height),prevWidth+=actor.width,prevMargin+=actor.margin,bounds.models.addActor(actor)}bounds.bumpVerticalPos(maxHeight)},drawActorsPopup=function drawActorsPopup(diagram,actors,actorKeys,doc){for(var maxHeight=0,maxWidth=0,i=0;i<actorKeys.length;i++){var actor=actors[actorKeys[i]],minMenuWidth=getRequiredPopupWidth(actor),menuDimensions=_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.drawPopup(diagram,actor,minMenuWidth,conf,conf.forceMenus,doc);menuDimensions.height>maxHeight&&(maxHeight=menuDimensions.height),menuDimensions.width+actor.x>maxWidth&&(maxWidth=menuDimensions.width+actor.x)}return{maxHeight,maxWidth}},setConf=function setConf(cnf){(0,_utils__WEBPACK_IMPORTED_MODULE_5__.assignWithDepth)(conf,cnf),cnf.fontFamily&&(conf.actorFontFamily=conf.noteFontFamily=conf.messageFontFamily=cnf.fontFamily),cnf.fontSize&&(conf.actorFontSize=conf.noteFontSize=conf.messageFontSize=cnf.fontSize),cnf.fontWeight&&(conf.actorFontWeight=conf.noteFontWeight=conf.messageFontWeight=cnf.fontWeight)},actorActivations=function actorActivations(actor){return bounds.activations.filter((function(activation){return activation.actor===actor}))},activationBounds=function activationBounds(actor,actors){var actorObj=actors[actor],activations=actorActivations(actor);return[activations.reduce((function(acc,activation){return Math.min(acc,activation.startx)}),actorObj.x+actorObj.width/2),activations.reduce((function(acc,activation){return Math.max(acc,activation.stopx)}),actorObj.x+actorObj.width/2)]};function adjustLoopHeightForWrap(loopWidths,msg,preMargin,postMargin,addLoopFn){bounds.bumpVerticalPos(preMargin);var heightAdjust=postMargin;if(msg.id&&msg.message&&loopWidths[msg.id]){var loopWidth=loopWidths[msg.id].width,textConf=messageFont(conf);msg.message=_utils__WEBPACK_IMPORTED_MODULE_5__.default.wrapLabel("[".concat(msg.message,"]"),loopWidth-2*conf.wrapPadding,textConf),msg.width=loopWidth,msg.wrap=!0;var textDims=_utils__WEBPACK_IMPORTED_MODULE_5__.default.calculateTextDimensions(msg.message,textConf),totalOffset=Math.max(textDims.height,conf.labelBoxHeight);heightAdjust=postMargin+totalOffset,_logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("".concat(totalOffset," - ").concat(msg.message))}addLoopFn(msg),bounds.bumpVerticalPos(heightAdjust)}var draw=function draw(text,id){conf=_config__WEBPACK_IMPORTED_MODULE_7__.getConfig().sequence;var sandboxElement,securityLevel=_config__WEBPACK_IMPORTED_MODULE_7__.getConfig().securityLevel;"sandbox"===securityLevel&&(sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i"+id));var root="sandbox"===securityLevel?(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body):(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("body"),doc="sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document;_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.clear(),_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.setWrap(conf.wrap),_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.parse(text+"\n"),bounds.init(),_logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("C:".concat(JSON.stringify(conf,null,2)));var diagram="sandbox"===securityLevel?root.select('[id="'.concat(id,'"]')):(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)('[id="'.concat(id,'"]')),actors=_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getActors(),actorKeys=_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getActorKeys(),messages=_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getMessages(),title=_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getTitle(),maxMessageWidthPerActor=getMaxMessageWidthPerActor(actors,messages);conf.height=calculateActorMargins(actors,maxMessageWidthPerActor),_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.insertComputerIcon(diagram),_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.insertDatabaseIcon(diagram),_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.insertClockIcon(diagram),drawActors(diagram,actors,actorKeys,0);var loopWidths=calculateLoopBounds(messages,actors,maxMessageWidthPerActor);_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.insertArrowHead(diagram),_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.insertArrowCrossHead(diagram),_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.insertArrowFilledHead(diagram),_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.insertSequenceNumber(diagram);var sequenceIndex=1;messages.forEach((function(msg){var loopModel,noteModel,msgModel;switch(msg.type){case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.NOTE:noteModel=msg.noteModel,function drawNote(elem,noteModel){bounds.bumpVerticalPos(conf.boxMargin),noteModel.height=conf.boxMargin,noteModel.starty=bounds.getVerticalPos();var rect=_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.getNoteRect();rect.x=noteModel.startx,rect.y=noteModel.starty,rect.width=noteModel.width||conf.width,rect.class="note";var g=elem.append("g"),rectElem=_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.drawRect(g,rect),textObj=_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.getTextObj();textObj.x=noteModel.startx,textObj.y=noteModel.starty,textObj.width=rect.width,textObj.dy="1em",textObj.text=noteModel.message,textObj.class="noteText",textObj.fontFamily=conf.noteFontFamily,textObj.fontSize=conf.noteFontSize,textObj.fontWeight=conf.noteFontWeight,textObj.anchor=conf.noteAlign,textObj.textMargin=conf.noteMargin,textObj.valign=conf.noteAlign;var textElem=(0,_svgDraw__WEBPACK_IMPORTED_MODULE_3__.drawText)(g,textObj),textHeight=Math.round(textElem.map((function(te){return(te._groups||te)[0][0].getBBox().height})).reduce((function(acc,curr){return acc+curr})));rectElem.attr("height",textHeight+2*conf.noteMargin),noteModel.height+=textHeight+2*conf.noteMargin,bounds.bumpVerticalPos(textHeight+2*conf.noteMargin),noteModel.stopy=noteModel.starty+textHeight+2*conf.noteMargin,noteModel.stopx=noteModel.startx+rect.width,bounds.insert(noteModel.startx,noteModel.starty,noteModel.stopx,noteModel.stopy),bounds.models.addNote(noteModel)}(diagram,noteModel);break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ACTIVE_START:bounds.newActivation(msg,diagram,actors);break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ACTIVE_END:!function activeEnd(msg,verticalPos){var activationData=bounds.endActivation(msg);activationData.starty+18>verticalPos&&(activationData.starty=verticalPos-6,verticalPos+=12),_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.drawActivation(diagram,activationData,verticalPos,conf,actorActivations(msg.from.actor).length),bounds.insert(activationData.startx,verticalPos-10,activationData.stopx,verticalPos)}(msg,bounds.getVerticalPos());break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.LOOP_START:adjustLoopHeightForWrap(loopWidths,msg,conf.boxMargin,conf.boxMargin+conf.boxTextMargin,(function(message){return bounds.newLoop(message)}));break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.LOOP_END:loopModel=bounds.endLoop(),_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.drawLoop(diagram,loopModel,"loop",conf),bounds.bumpVerticalPos(loopModel.stopy-bounds.getVerticalPos()),bounds.models.addLoop(loopModel);break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.RECT_START:adjustLoopHeightForWrap(loopWidths,msg,conf.boxMargin,conf.boxMargin,(function(message){return bounds.newLoop(void 0,message.message)}));break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.RECT_END:loopModel=bounds.endLoop(),_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.drawBackgroundRect(diagram,loopModel),bounds.models.addLoop(loopModel),bounds.bumpVerticalPos(loopModel.stopy-bounds.getVerticalPos());break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.OPT_START:adjustLoopHeightForWrap(loopWidths,msg,conf.boxMargin,conf.boxMargin+conf.boxTextMargin,(function(message){return bounds.newLoop(message)}));break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.OPT_END:loopModel=bounds.endLoop(),_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.drawLoop(diagram,loopModel,"opt",conf),bounds.bumpVerticalPos(loopModel.stopy-bounds.getVerticalPos()),bounds.models.addLoop(loopModel);break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ALT_START:adjustLoopHeightForWrap(loopWidths,msg,conf.boxMargin,conf.boxMargin+conf.boxTextMargin,(function(message){return bounds.newLoop(message)}));break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ALT_ELSE:adjustLoopHeightForWrap(loopWidths,msg,conf.boxMargin+conf.boxTextMargin,conf.boxMargin,(function(message){return bounds.addSectionToLoop(message)}));break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ALT_END:loopModel=bounds.endLoop(),_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.drawLoop(diagram,loopModel,"alt",conf),bounds.bumpVerticalPos(loopModel.stopy-bounds.getVerticalPos()),bounds.models.addLoop(loopModel);break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.PAR_START:adjustLoopHeightForWrap(loopWidths,msg,conf.boxMargin,conf.boxMargin+conf.boxTextMargin,(function(message){return bounds.newLoop(message)}));break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.PAR_AND:adjustLoopHeightForWrap(loopWidths,msg,conf.boxMargin+conf.boxTextMargin,conf.boxMargin,(function(message){return bounds.addSectionToLoop(message)}));break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.PAR_END:loopModel=bounds.endLoop(),_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.drawLoop(diagram,loopModel,"par",conf),bounds.bumpVerticalPos(loopModel.stopy-bounds.getVerticalPos()),bounds.models.addLoop(loopModel);break;default:try{(msgModel=msg.msgModel).starty=bounds.getVerticalPos(),msgModel.sequenceIndex=sequenceIndex,function drawMessage(g,msgModel){bounds.bumpVerticalPos(10);var startx=msgModel.startx,stopx=msgModel.stopx,starty=msgModel.starty,message=msgModel.message,type=msgModel.type,sequenceIndex=msgModel.sequenceIndex,lines=_common_common__WEBPACK_IMPORTED_MODULE_4__.default.splitBreaks(message).length,textDims=_utils__WEBPACK_IMPORTED_MODULE_5__.default.calculateTextDimensions(message,messageFont(conf)),lineHeight=textDims.height/lines;msgModel.height+=lineHeight,bounds.bumpVerticalPos(lineHeight);var textObj=_svgDraw__WEBPACK_IMPORTED_MODULE_3__.default.getTextObj();textObj.x=startx,textObj.y=starty+10,textObj.width=stopx-startx,textObj.class="messageText",textObj.dy="1em",textObj.text=message,textObj.fontFamily=conf.messageFontFamily,textObj.fontSize=conf.messageFontSize,textObj.fontWeight=conf.messageFontWeight,textObj.anchor=conf.messageAlign,textObj.valign=conf.messageAlign,textObj.textMargin=conf.wrapPadding,textObj.tspan=!1,(0,_svgDraw__WEBPACK_IMPORTED_MODULE_3__.drawText)(g,textObj);var line,lineStarty,totalOffset=textDims.height-10,textWidth=textDims.width;if(startx===stopx){lineStarty=bounds.getVerticalPos()+totalOffset,conf.rightAngles?line=g.append("path").attr("d","M  ".concat(startx,",").concat(lineStarty," H ").concat(startx+Math.max(conf.width/2,textWidth/2)," V ").concat(lineStarty+25," H ").concat(startx)):(totalOffset+=conf.boxMargin,lineStarty=bounds.getVerticalPos()+totalOffset,line=g.append("path").attr("d","M "+startx+","+lineStarty+" C "+(startx+60)+","+(lineStarty-10)+" "+(startx+60)+","+(lineStarty+30)+" "+startx+","+(lineStarty+20))),totalOffset+=30;var dx=Math.max(textWidth/2,conf.width/2);bounds.insert(startx-dx,bounds.getVerticalPos()-10+totalOffset,stopx+dx,bounds.getVerticalPos()+30+totalOffset)}else totalOffset+=conf.boxMargin,lineStarty=bounds.getVerticalPos()+totalOffset,(line=g.append("line")).attr("x1",startx),line.attr("y1",lineStarty),line.attr("x2",stopx),line.attr("y2",lineStarty),bounds.insert(startx,lineStarty-10,stopx,lineStarty);type===_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED||type===_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_CROSS||type===_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_POINT||type===_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_OPEN?(line.style("stroke-dasharray","3, 3"),line.attr("class","messageLine1")):line.attr("class","messageLine0");var url="";conf.arrowMarkerAbsolute&&(url=(url=(url=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),line.attr("stroke-width",2),line.attr("stroke","none"),line.style("fill","none"),type!==_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID&&type!==_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED||line.attr("marker-end","url("+url+"#arrowhead)"),type!==_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_POINT&&type!==_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_POINT||line.attr("marker-end","url("+url+"#filled-head)"),type!==_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_CROSS&&type!==_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_CROSS||line.attr("marker-end","url("+url+"#crosshead)"),(_sequenceDb__WEBPACK_IMPORTED_MODULE_2__.default.showSequenceNumbers()||conf.showSequenceNumbers)&&(line.attr("marker-start","url("+url+"#sequencenumber)"),g.append("text").attr("x",startx).attr("y",lineStarty+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("textLength","16px").attr("class","sequenceNumber").text(sequenceIndex)),bounds.bumpVerticalPos(totalOffset),msgModel.height+=totalOffset,msgModel.stopy=msgModel.starty+msgModel.height,bounds.insert(msgModel.fromBounds,msgModel.starty,msgModel.toBounds,msgModel.stopy)}(diagram,msgModel),bounds.models.addMessage(msgModel)}catch(e){_logger__WEBPACK_IMPORTED_MODULE_6__.log.error("error while drawing message",e)}}[_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_OPEN,_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_OPEN,_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID,_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED,_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_CROSS,_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_CROSS,_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_POINT,_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_POINT].includes(msg.type)&&sequenceIndex++})),conf.mirrorActors&&(bounds.bumpVerticalPos(2*conf.boxMargin),drawActors(diagram,actors,actorKeys,bounds.getVerticalPos()),bounds.bumpVerticalPos(conf.boxMargin),(0,_svgDraw__WEBPACK_IMPORTED_MODULE_3__.fixLifeLineHeights)(diagram,bounds.getVerticalPos()));var requiredBoxSize=drawActorsPopup(diagram,actors,actorKeys,doc),box=bounds.getBounds().bounds;_logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("For line height fix Querying: #"+id+" .actor-line"),(0,d3__WEBPACK_IMPORTED_MODULE_0__.selectAll)("#"+id+" .actor-line").attr("y2",box.stopy);var boxHeight=box.stopy-box.starty;boxHeight<requiredBoxSize.maxHeight&&(boxHeight=requiredBoxSize.maxHeight);var height=boxHeight+2*conf.diagramMarginY;conf.mirrorActors&&(height=height-conf.boxMargin+conf.bottomMarginAdj);var boxWidth=box.stopx-box.startx;boxWidth<requiredBoxSize.maxWidth&&(boxWidth=requiredBoxSize.maxWidth);var width=boxWidth+2*conf.diagramMarginX;title&&diagram.append("text").text(title).attr("x",(box.stopx-box.startx)/2-2*conf.diagramMarginX).attr("y",-25),(0,_utils__WEBPACK_IMPORTED_MODULE_5__.configureSvgSize)(diagram,height,width,conf.useMaxWidth);var extraVertForTitle=title?40:0;diagram.attr("viewBox",box.startx-conf.diagramMarginX+" -"+(conf.diagramMarginY+extraVertForTitle)+" "+width+" "+(height+extraVertForTitle)),_logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("models:",bounds.models)},getMaxMessageWidthPerActor=function getMaxMessageWidthPerActor(actors,messages){var maxMessageWidthPerActor={};return messages.forEach((function(msg){if(actors[msg.to]&&actors[msg.from]){var actor=actors[msg.to];if(msg.placement===_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.PLACEMENT.LEFTOF&&!actor.prevActor)return;if(msg.placement===_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.PLACEMENT.RIGHTOF&&!actor.nextActor)return;var isNote=void 0!==msg.placement,isMessage=!isNote,textFont=isNote?noteFont(conf):messageFont(conf),wrappedMessage=msg.wrap?_utils__WEBPACK_IMPORTED_MODULE_5__.default.wrapLabel(msg.message,conf.width-2*conf.wrapPadding,textFont):msg.message,messageWidth=_utils__WEBPACK_IMPORTED_MODULE_5__.default.calculateTextDimensions(wrappedMessage,textFont).width+2*conf.wrapPadding;isMessage&&msg.from===actor.nextActor?maxMessageWidthPerActor[msg.to]=Math.max(maxMessageWidthPerActor[msg.to]||0,messageWidth):isMessage&&msg.from===actor.prevActor?maxMessageWidthPerActor[msg.from]=Math.max(maxMessageWidthPerActor[msg.from]||0,messageWidth):isMessage&&msg.from===msg.to?(maxMessageWidthPerActor[msg.from]=Math.max(maxMessageWidthPerActor[msg.from]||0,messageWidth/2),maxMessageWidthPerActor[msg.to]=Math.max(maxMessageWidthPerActor[msg.to]||0,messageWidth/2)):msg.placement===_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.PLACEMENT.RIGHTOF?maxMessageWidthPerActor[msg.from]=Math.max(maxMessageWidthPerActor[msg.from]||0,messageWidth):msg.placement===_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.PLACEMENT.LEFTOF?maxMessageWidthPerActor[actor.prevActor]=Math.max(maxMessageWidthPerActor[actor.prevActor]||0,messageWidth):msg.placement===_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.PLACEMENT.OVER&&(actor.prevActor&&(maxMessageWidthPerActor[actor.prevActor]=Math.max(maxMessageWidthPerActor[actor.prevActor]||0,messageWidth/2)),actor.nextActor&&(maxMessageWidthPerActor[msg.from]=Math.max(maxMessageWidthPerActor[msg.from]||0,messageWidth/2)))}})),_logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("maxMessageWidthPerActor:",maxMessageWidthPerActor),maxMessageWidthPerActor},getRequiredPopupWidth=function getRequiredPopupWidth(actor){var requiredPopupWidth=0,textFont=actorFont(conf);for(var key in actor.links){var labelWidth=_utils__WEBPACK_IMPORTED_MODULE_5__.default.calculateTextDimensions(key,textFont).width+2*conf.wrapPadding+2*conf.boxMargin;requiredPopupWidth<labelWidth&&(requiredPopupWidth=labelWidth)}return requiredPopupWidth},calculateActorMargins=function calculateActorMargins(actors,actorToMessageWidth){var maxHeight=0;for(var actorKey in Object.keys(actors).forEach((function(prop){var actor=actors[prop];actor.wrap&&(actor.description=_utils__WEBPACK_IMPORTED_MODULE_5__.default.wrapLabel(actor.description,conf.width-2*conf.wrapPadding,actorFont(conf)));var actDims=_utils__WEBPACK_IMPORTED_MODULE_5__.default.calculateTextDimensions(actor.description,actorFont(conf));actor.width=actor.wrap?conf.width:Math.max(conf.width,actDims.width+2*conf.wrapPadding),actor.height=actor.wrap?Math.max(actDims.height,conf.height):conf.height,maxHeight=Math.max(maxHeight,actor.height)})),actorToMessageWidth){var actor=actors[actorKey];if(actor){var nextActor=actors[actor.nextActor];if(nextActor){var actorWidth=actorToMessageWidth[actorKey]+conf.actorMargin-actor.width/2-nextActor.width/2;actor.margin=Math.max(actorWidth,conf.actorMargin)}}}return Math.max(maxHeight,conf.height)},calculateLoopBounds=function calculateLoopBounds(messages,actors){var current,noteModel,msgModel,loops={},stack=[];return messages.forEach((function(msg){switch(msg.id=_utils__WEBPACK_IMPORTED_MODULE_5__.default.random({length:10}),msg.type){case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.LOOP_START:case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ALT_START:case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.OPT_START:case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.PAR_START:stack.push({id:msg.id,msg:msg.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ALT_ELSE:case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.PAR_AND:msg.message&&(current=stack.pop(),loops[current.id]=current,loops[msg.id]=current,stack.push(current));break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.LOOP_END:case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ALT_END:case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.OPT_END:case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.PAR_END:current=stack.pop(),loops[current.id]=current;break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ACTIVE_START:var actorRect=actors[msg.from?msg.from.actor:msg.to.actor],stackedSize=actorActivations(msg.from?msg.from.actor:msg.to.actor).length,x=actorRect.x+actorRect.width/2+(stackedSize-1)*conf.activationWidth/2,toAdd={startx:x,stopx:x+conf.activationWidth,actor:msg.from.actor,enabled:!0};bounds.activations.push(toAdd);break;case _parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.ACTIVE_END:var lastActorActivationIdx=bounds.activations.map((function(a){return a.actor})).lastIndexOf(msg.from.actor);delete bounds.activations.splice(lastActorActivationIdx,1)[0]}void 0!==msg.placement?(noteModel=function buildNoteModel(msg,actors){var startx=actors[msg.from].x,stopx=actors[msg.to].x,shouldWrap=msg.wrap&&msg.message,textDimensions=_utils__WEBPACK_IMPORTED_MODULE_5__.default.calculateTextDimensions(shouldWrap?_utils__WEBPACK_IMPORTED_MODULE_5__.default.wrapLabel(msg.message,conf.width,noteFont(conf)):msg.message,noteFont(conf)),noteModel={width:shouldWrap?conf.width:Math.max(conf.width,textDimensions.width+2*conf.noteMargin),height:0,startx:actors[msg.from].x,stopx:0,starty:0,stopy:0,message:msg.message};return msg.placement===_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.PLACEMENT.RIGHTOF?(noteModel.width=shouldWrap?Math.max(conf.width,textDimensions.width):Math.max(actors[msg.from].width/2+actors[msg.to].width/2,textDimensions.width+2*conf.noteMargin),noteModel.startx=startx+(actors[msg.from].width+conf.actorMargin)/2):msg.placement===_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.PLACEMENT.LEFTOF?(noteModel.width=shouldWrap?Math.max(conf.width,textDimensions.width+2*conf.noteMargin):Math.max(actors[msg.from].width/2+actors[msg.to].width/2,textDimensions.width+2*conf.noteMargin),noteModel.startx=startx-noteModel.width+(actors[msg.from].width-conf.actorMargin)/2):msg.to===msg.from?(textDimensions=_utils__WEBPACK_IMPORTED_MODULE_5__.default.calculateTextDimensions(shouldWrap?_utils__WEBPACK_IMPORTED_MODULE_5__.default.wrapLabel(msg.message,Math.max(conf.width,actors[msg.from].width),noteFont(conf)):msg.message,noteFont(conf)),noteModel.width=shouldWrap?Math.max(conf.width,actors[msg.from].width):Math.max(actors[msg.from].width,conf.width,textDimensions.width+2*conf.noteMargin),noteModel.startx=startx+(actors[msg.from].width-noteModel.width)/2):(noteModel.width=Math.abs(startx+actors[msg.from].width/2-(stopx+actors[msg.to].width/2))+conf.actorMargin,noteModel.startx=startx<stopx?startx+actors[msg.from].width/2-conf.actorMargin/2:stopx+actors[msg.to].width/2-conf.actorMargin/2),shouldWrap&&(noteModel.message=_utils__WEBPACK_IMPORTED_MODULE_5__.default.wrapLabel(msg.message,noteModel.width-2*conf.wrapPadding,noteFont(conf))),_logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("NM:[".concat(noteModel.startx,",").concat(noteModel.stopx,",").concat(noteModel.starty,",").concat(noteModel.stopy,":").concat(noteModel.width,",").concat(noteModel.height,"=").concat(msg.message,"]")),noteModel}(msg,actors),msg.noteModel=noteModel,stack.forEach((function(stk){(current=stk).from=Math.min(current.from,noteModel.startx),current.to=Math.max(current.to,noteModel.startx+noteModel.width),current.width=Math.max(current.width,Math.abs(current.from-current.to))-conf.labelBoxWidth}))):(msgModel=function buildMessageModel(msg,actors){var process=!1;if([_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_OPEN,_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_OPEN,_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID,_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED,_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_CROSS,_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_CROSS,_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.SOLID_POINT,_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_1__.parser.yy.LINETYPE.DOTTED_POINT].includes(msg.type)&&(process=!0),!process)return{};var fromBounds=activationBounds(msg.from,actors),toBounds=activationBounds(msg.to,actors),fromIdx=fromBounds[0]<=toBounds[0]?1:0,toIdx=fromBounds[0]<toBounds[0]?0:1,allBounds=fromBounds.concat(toBounds),boundedWidth=Math.abs(toBounds[toIdx]-fromBounds[fromIdx]);msg.wrap&&msg.message&&(msg.message=_utils__WEBPACK_IMPORTED_MODULE_5__.default.wrapLabel(msg.message,Math.max(boundedWidth+2*conf.wrapPadding,conf.width),messageFont(conf)));var msgDims=_utils__WEBPACK_IMPORTED_MODULE_5__.default.calculateTextDimensions(msg.message,messageFont(conf));return{width:Math.max(msg.wrap?0:msgDims.width+2*conf.wrapPadding,boundedWidth+2*conf.wrapPadding,conf.width),height:0,startx:fromBounds[fromIdx],stopx:toBounds[toIdx],starty:0,stopy:0,message:msg.message,type:msg.type,wrap:msg.wrap,fromBounds:Math.min.apply(null,allBounds),toBounds:Math.max.apply(null,allBounds)}}(msg,actors),msg.msgModel=msgModel,msgModel.startx&&msgModel.stopx&&stack.length>0&&stack.forEach((function(stk){if(current=stk,msgModel.startx===msgModel.stopx){var from=actors[msg.from],to=actors[msg.to];current.from=Math.min(from.x-msgModel.width/2,from.x-from.width/2,current.from),current.to=Math.max(to.x+msgModel.width/2,to.x+from.width/2,current.to),current.width=Math.max(current.width,Math.abs(current.to-current.from))-conf.labelBoxWidth}else current.from=Math.min(msgModel.startx,current.from),current.to=Math.max(msgModel.stopx,current.to),current.width=Math.max(current.width,msgModel.width)-conf.labelBoxWidth})))})),bounds.activations=[],_logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("Loop type widths:",loops),loops};const __WEBPACK_DEFAULT_EXPORT__={bounds,drawActors,drawActorsPopup,setConf,draw}},"./src/diagrams/sequence/styles.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_879362__)=>{"use strict";__nested_webpack_require_879362__.r(__nested_webpack_exports__),__nested_webpack_require_879362__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function getStyles(options){return".actor {\n    stroke: ".concat(options.actorBorder,";\n    fill: ").concat(options.actorBkg,";\n  }\n\n  text.actor > tspan {\n    fill: ").concat(options.actorTextColor,";\n    stroke: none;\n  }\n\n  .actor-line {\n    stroke: ").concat(options.actorLineColor,";\n  }\n\n  .messageLine0 {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n    stroke: ").concat(options.signalColor,";\n  }\n\n  .messageLine1 {\n    stroke-width: 1.5;\n    stroke-dasharray: 2, 2;\n    stroke: ").concat(options.signalColor,";\n  }\n\n  #arrowhead path {\n    fill: ").concat(options.signalColor,";\n    stroke: ").concat(options.signalColor,";\n  }\n\n  .sequenceNumber {\n    fill: ").concat(options.sequenceNumberColor,";\n  }\n\n  #sequencenumber {\n    fill: ").concat(options.signalColor,";\n  }\n\n  #crosshead path {\n    fill: ").concat(options.signalColor,";\n    stroke: ").concat(options.signalColor,";\n  }\n\n  .messageText {\n    fill: ").concat(options.signalTextColor,";\n    stroke: ").concat(options.signalTextColor,";\n  }\n\n  .labelBox {\n    stroke: ").concat(options.labelBoxBorderColor,";\n    fill: ").concat(options.labelBoxBkgColor,";\n  }\n\n  .labelText, .labelText > tspan {\n    fill: ").concat(options.labelTextColor,";\n    stroke: none;\n  }\n\n  .loopText, .loopText > tspan {\n    fill: ").concat(options.loopTextColor,";\n    stroke: none;\n  }\n\n  .loopLine {\n    stroke-width: 2px;\n    stroke-dasharray: 2, 2;\n    stroke: ").concat(options.labelBoxBorderColor,";\n    fill: ").concat(options.labelBoxBorderColor,";\n  }\n\n  .note {\n    //stroke: #decc93;\n    stroke: ").concat(options.noteBorderColor,";\n    fill: ").concat(options.noteBkgColor,";\n  }\n\n  .noteText, .noteText > tspan {\n    fill: ").concat(options.noteTextColor,";\n    stroke: none;\n  }\n\n  .activation0 {\n    fill: ").concat(options.activationBkgColor,";\n    stroke: ").concat(options.activationBorderColor,";\n  }\n\n  .activation1 {\n    fill: ").concat(options.activationBkgColor,";\n    stroke: ").concat(options.activationBorderColor,";\n  }\n\n  .activation2 {\n    fill: ").concat(options.activationBkgColor,";\n    stroke: ").concat(options.activationBorderColor,";\n  }\n\n  .actorPopupMenu {\n    position: absolute;\n  }\n\n  .actorPopupMenuPanel {\n    position: absolute;\n    fill: ").concat(options.actorBkg,";\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));\n}\n  .actor-man line {\n    stroke: ").concat(options.actorBorder,";\n    fill: ").concat(options.actorBkg,";\n  }\n  .actor-man circle, line {\n    stroke: ").concat(options.actorBorder,";\n    fill: ").concat(options.actorBkg,";\n    stroke-width: 2px;\n  }\n")}},"./src/diagrams/sequence/svgDraw.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_882742__)=>{"use strict";__nested_webpack_require_882742__.r(__nested_webpack_exports__),__nested_webpack_require_882742__.d(__nested_webpack_exports__,{drawRect:()=>drawRect,drawPopup:()=>drawPopup,drawImage:()=>drawImage,drawEmbeddedImage:()=>drawEmbeddedImage,popupMenu:()=>popupMenu,popdownMenu:()=>popdownMenu,drawText:()=>drawText,drawLabel:()=>drawLabel,fixLifeLineHeights:()=>fixLifeLineHeights,drawActor:()=>drawActor,anchorElement:()=>anchorElement,drawActivation:()=>drawActivation,drawLoop:()=>drawLoop,drawBackgroundRect:()=>drawBackgroundRect,insertDatabaseIcon:()=>insertDatabaseIcon,insertComputerIcon:()=>insertComputerIcon,insertClockIcon:()=>insertClockIcon,insertArrowHead:()=>insertArrowHead,insertArrowFilledHead:()=>insertArrowFilledHead,insertSequenceNumber:()=>insertSequenceNumber,insertArrowCrossHead:()=>insertArrowCrossHead,getTextObj:()=>getTextObj,getNoteRect:()=>getNoteRect,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _common_common__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_882742__("./src/diagrams/common/common.js"),_interactionDb__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_882742__("./src/interactionDb.js"),_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_882742__("@braintree/sanitize-url"),drawRect=function drawRect(elem,rectData){var rectElem=elem.append("rect");return rectElem.attr("x",rectData.x),rectElem.attr("y",rectData.y),rectElem.attr("fill",rectData.fill),rectElem.attr("stroke",rectData.stroke),rectElem.attr("width",rectData.width),rectElem.attr("height",rectData.height),rectElem.attr("rx",rectData.rx),rectElem.attr("ry",rectData.ry),void 0!==rectData.class&&rectElem.attr("class",rectData.class),rectElem},addPopupInteraction=function addPopupInteraction(id,actorCnt){(0,_interactionDb__WEBPACK_IMPORTED_MODULE_1__.addFunction)((function(){var arr=document.querySelectorAll(id);0!==arr.length&&(arr[0].addEventListener("mouseover",(function(){popupMenuUpFunc("actor"+actorCnt+"_popup")})),arr[0].addEventListener("mouseout",(function(){popupMenuDownFunc("actor"+actorCnt+"_popup")})))}))},drawPopup=function drawPopup(elem,actor,minMenuWidth,textAttrs,forceMenus){if(void 0===actor.links||null===actor.links||0===Object.keys(actor.links).length)return{height:0,width:0};var links=actor.links,actorCnt=actor.actorCnt,rectData=actor.rectData,displayValue="none";forceMenus&&(displayValue="block !important");var g=elem.append("g");g.attr("id","actor"+actorCnt+"_popup"),g.attr("class","actorPopupMenu"),g.attr("display",displayValue),addPopupInteraction("#actor"+actorCnt+"_popup",actorCnt);var actorClass="";void 0!==rectData.class&&(actorClass=" "+rectData.class);var menuWidth=rectData.width>minMenuWidth?rectData.width:minMenuWidth,rectElem=g.append("rect");if(rectElem.attr("class","actorPopupMenuPanel"+actorClass),rectElem.attr("x",rectData.x),rectElem.attr("y",rectData.height),rectElem.attr("fill",rectData.fill),rectElem.attr("stroke",rectData.stroke),rectElem.attr("width",menuWidth),rectElem.attr("height",rectData.height),rectElem.attr("rx",rectData.rx),rectElem.attr("ry",rectData.ry),null!=links){var linkY=20;for(var key in links){var linkElem=g.append("a"),sanitizedLink=(0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(links[key]);linkElem.attr("xlink:href",sanitizedLink),linkElem.attr("target","_blank"),_drawMenuItemTextCandidateFunc(textAttrs)(key,linkElem,rectData.x+10,rectData.height+linkY,menuWidth,20,{class:"actor"},textAttrs),linkY+=30}}return rectElem.attr("height",linkY),{height:rectData.height+linkY,width:menuWidth}},drawImage=function drawImage(elem,x,y,link){var imageElem=elem.append("image");imageElem.attr("x",x),imageElem.attr("y",y);var sanitizedLink=(0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(link);imageElem.attr("xlink:href",sanitizedLink)},drawEmbeddedImage=function drawEmbeddedImage(elem,x,y,link){var imageElem=elem.append("use");imageElem.attr("x",x),imageElem.attr("y",y);var sanitizedLink=(0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(link);imageElem.attr("xlink:href","#"+sanitizedLink)},popupMenu=function popupMenu(popid){return"var pu = document.getElementById('"+popid+"'); if (pu != null) { pu.style.display = 'block'; }"},popdownMenu=function popdownMenu(popid){return"var pu = document.getElementById('"+popid+"'); if (pu != null) { pu.style.display = 'none'; }"},popupMenuUpFunc=function popupMenuUpFunc(popupId){var pu=document.getElementById(popupId);null!=pu&&(pu.style.display="block")},popupMenuDownFunc=function popupMenuDownFunc(popupId){var pu=document.getElementById(popupId);null!=pu&&(pu.style.display="none")},drawText=function drawText(elem,textData){var prevTextHeight=0,textHeight=0,lines=textData.text.split(_common_common__WEBPACK_IMPORTED_MODULE_2__.default.lineBreakRegex),textElems=[],dy=0,yfunc=function yfunc(){return textData.y};if(void 0!==textData.valign&&void 0!==textData.textMargin&&textData.textMargin>0)switch(textData.valign){case"top":case"start":yfunc=function yfunc(){return Math.round(textData.y+textData.textMargin)};break;case"middle":case"center":yfunc=function yfunc(){return Math.round(textData.y+(prevTextHeight+textHeight+textData.textMargin)/2)};break;case"bottom":case"end":yfunc=function yfunc(){return Math.round(textData.y+(prevTextHeight+textHeight+2*textData.textMargin)-textData.textMargin)}}if(void 0!==textData.anchor&&void 0!==textData.textMargin&&void 0!==textData.width)switch(textData.anchor){case"left":case"start":textData.x=Math.round(textData.x+textData.textMargin),textData.anchor="start",textData.dominantBaseline="text-after-edge",textData.alignmentBaseline="middle";break;case"middle":case"center":textData.x=Math.round(textData.x+textData.width/2),textData.anchor="middle",textData.dominantBaseline="middle",textData.alignmentBaseline="middle";break;case"right":case"end":textData.x=Math.round(textData.x+textData.width-textData.textMargin),textData.anchor="end",textData.dominantBaseline="text-before-edge",textData.alignmentBaseline="middle"}for(var i=0;i<lines.length;i++){var line=lines[i];void 0!==textData.textMargin&&0===textData.textMargin&&void 0!==textData.fontSize&&(dy=i*textData.fontSize);var textElem=elem.append("text");if(textElem.attr("x",textData.x),textElem.attr("y",yfunc()),void 0!==textData.anchor&&textElem.attr("text-anchor",textData.anchor).attr("dominant-baseline",textData.dominantBaseline).attr("alignment-baseline",textData.alignmentBaseline),void 0!==textData.fontFamily&&textElem.style("font-family",textData.fontFamily),void 0!==textData.fontSize&&textElem.style("font-size",textData.fontSize),void 0!==textData.fontWeight&&textElem.style("font-weight",textData.fontWeight),void 0!==textData.fill&&textElem.attr("fill",textData.fill),void 0!==textData.class&&textElem.attr("class",textData.class),void 0!==textData.dy?textElem.attr("dy",textData.dy):0!==dy&&textElem.attr("dy",dy),textData.tspan){var span=textElem.append("tspan");span.attr("x",textData.x),void 0!==textData.fill&&span.attr("fill",textData.fill),span.text(line)}else textElem.text(line);void 0!==textData.valign&&void 0!==textData.textMargin&&textData.textMargin>0&&(textHeight+=(textElem._groups||textElem)[0][0].getBBox().height,prevTextHeight=textHeight),textElems.push(textElem)}return textElems},drawLabel=function drawLabel(elem,txtObject){var polygon=elem.append("polygon");return polygon.attr("points",function genPoints(x,y,width,height,cut){return x+","+y+" "+(x+width)+","+y+" "+(x+width)+","+(y+height-cut)+" "+(x+width-1.2*cut)+","+(y+height)+" "+x+","+(y+height)}(txtObject.x,txtObject.y,txtObject.width,txtObject.height,7)),polygon.attr("class","labelBox"),txtObject.y=txtObject.y+txtObject.height/2,drawText(elem,txtObject),polygon},actorCnt=-1,fixLifeLineHeights=function fixLifeLineHeights(diagram,bounds){diagram.selectAll&&diagram.selectAll(".actor-line").attr("class","200").attr("y2",bounds-55)},drawActor=function drawActor(elem,actor,conf){switch(actor.type){case"actor":return function drawActorTypeActor(elem,actor,conf){var center=actor.x+actor.width/2;0===actor.y&&(actorCnt++,elem.append("line").attr("id","actor"+actorCnt).attr("x1",center).attr("y1",80).attr("x2",center).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));var actElem=elem.append("g");actElem.attr("class","actor-man");var rect=getNoteRect();rect.x=actor.x,rect.y=actor.y,rect.fill="#eaeaea",rect.width=actor.width,rect.height=actor.height,rect.class="actor",rect.rx=3,rect.ry=3,actElem.append("line").attr("id","actor-man-torso"+actorCnt).attr("x1",center).attr("y1",actor.y+25).attr("x2",center).attr("y2",actor.y+45),actElem.append("line").attr("id","actor-man-arms"+actorCnt).attr("x1",center-18).attr("y1",actor.y+33).attr("x2",center+18).attr("y2",actor.y+33),actElem.append("line").attr("x1",center-18).attr("y1",actor.y+60).attr("x2",center).attr("y2",actor.y+45),actElem.append("line").attr("x1",center).attr("y1",actor.y+45).attr("x2",center+16).attr("y2",actor.y+60);var circle=actElem.append("circle");circle.attr("cx",actor.x+actor.width/2),circle.attr("cy",actor.y+10),circle.attr("r",15),circle.attr("width",actor.width),circle.attr("height",actor.height);var bounds=actElem.node().getBBox();return actor.height=bounds.height,_drawTextCandidateFunc(conf)(actor.description,actElem,rect.x,rect.y+35,rect.width,rect.height,{class:"actor"},conf),actor.height}(elem,actor,conf);case"participant":return function drawActorTypeParticipant(elem,actor,conf){var center=actor.x+actor.width/2,boxpluslineGroup=elem.append("g"),g=boxpluslineGroup;0===actor.y&&(actorCnt++,g.append("line").attr("id","actor"+actorCnt).attr("x1",center).attr("y1",5).attr("x2",center).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),g=boxpluslineGroup.append("g"),actor.actorCnt=actorCnt,null!=actor.links&&(g.attr("id","root-"+actorCnt),addPopupInteraction("#root-"+actorCnt,actorCnt)));var rect=getNoteRect(),cssclass="actor";null!=actor.properties&&actor.properties.class?cssclass=actor.properties.class:rect.fill="#eaeaea",rect.x=actor.x,rect.y=actor.y,rect.width=actor.width,rect.height=actor.height,rect.class=cssclass,rect.rx=3,rect.ry=3;var rectElem=drawRect(g,rect);if(actor.rectData=rect,null!=actor.properties&&actor.properties.icon){var iconSrc=actor.properties.icon.trim();"@"===iconSrc.charAt(0)?drawEmbeddedImage(g,rect.x+rect.width-20,rect.y+10,iconSrc.substr(1)):drawImage(g,rect.x+rect.width-20,rect.y+10,iconSrc)}_drawTextCandidateFunc(conf)(actor.description,g,rect.x,rect.y,rect.width,rect.height,{class:"actor"},conf);var height=actor.height;if(rectElem.node){var bounds=rectElem.node().getBBox();actor.height=bounds.height,height=bounds.height}return height}(elem,actor,conf)}},anchorElement=function anchorElement(elem){return elem.append("g")},drawActivation=function drawActivation(elem,bounds,verticalPos,conf,actorActivations){var rect=getNoteRect(),g=bounds.anchored;rect.x=bounds.startx,rect.y=bounds.starty,rect.class="activation"+actorActivations%3,rect.width=bounds.stopx-bounds.startx,rect.height=verticalPos-bounds.starty,drawRect(g,rect)},drawLoop=function drawLoop(elem,loopModel,labelText,conf){var boxMargin=conf.boxMargin,boxTextMargin=conf.boxTextMargin,labelBoxHeight=conf.labelBoxHeight,labelBoxWidth=conf.labelBoxWidth,fontFamily=conf.messageFontFamily,fontSize=conf.messageFontSize,fontWeight=conf.messageFontWeight,g=elem.append("g"),drawLoopLine=function drawLoopLine(startx,starty,stopx,stopy){return g.append("line").attr("x1",startx).attr("y1",starty).attr("x2",stopx).attr("y2",stopy).attr("class","loopLine")};drawLoopLine(loopModel.startx,loopModel.starty,loopModel.stopx,loopModel.starty),drawLoopLine(loopModel.stopx,loopModel.starty,loopModel.stopx,loopModel.stopy),drawLoopLine(loopModel.startx,loopModel.stopy,loopModel.stopx,loopModel.stopy),drawLoopLine(loopModel.startx,loopModel.starty,loopModel.startx,loopModel.stopy),void 0!==loopModel.sections&&loopModel.sections.forEach((function(item){drawLoopLine(loopModel.startx,item.y,loopModel.stopx,item.y).style("stroke-dasharray","3, 3")}));var txt=getTextObj();txt.text=labelText,txt.x=loopModel.startx,txt.y=loopModel.starty,txt.fontFamily=fontFamily,txt.fontSize=fontSize,txt.fontWeight=fontWeight,txt.anchor="middle",txt.valign="middle",txt.tspan=!1,txt.width=labelBoxWidth||50,txt.height=labelBoxHeight||20,txt.textMargin=boxTextMargin,txt.class="labelText",drawLabel(g,txt),(txt=getTextObj()).text=loopModel.title,txt.x=loopModel.startx+labelBoxWidth/2+(loopModel.stopx-loopModel.startx)/2,txt.y=loopModel.starty+boxMargin+boxTextMargin,txt.anchor="middle",txt.valign="middle",txt.textMargin=boxTextMargin,txt.class="loopText",txt.fontFamily=fontFamily,txt.fontSize=fontSize,txt.fontWeight=fontWeight,txt.wrap=!0;var textElem=drawText(g,txt);return void 0!==loopModel.sectionTitles&&loopModel.sectionTitles.forEach((function(item,idx){if(item.message){txt.text=item.message,txt.x=loopModel.startx+(loopModel.stopx-loopModel.startx)/2,txt.y=loopModel.sections[idx].y+boxMargin+boxTextMargin,txt.class="loopText",txt.anchor="middle",txt.valign="middle",txt.tspan=!1,txt.fontFamily=fontFamily,txt.fontSize=fontSize,txt.fontWeight=fontWeight,txt.wrap=loopModel.wrap,textElem=drawText(g,txt);var sectionHeight=Math.round(textElem.map((function(te){return(te._groups||te)[0][0].getBBox().height})).reduce((function(acc,curr){return acc+curr})));loopModel.sections[idx].height+=sectionHeight-(boxMargin+boxTextMargin)}})),loopModel.height=Math.round(loopModel.stopy-loopModel.starty),g},drawBackgroundRect=function drawBackgroundRect(elem,bounds){drawRect(elem,{x:bounds.startx,y:bounds.starty,width:bounds.stopx-bounds.startx,height:bounds.stopy-bounds.starty,fill:bounds.fill,class:"rect"}).lower()},insertDatabaseIcon=function insertDatabaseIcon(elem){elem.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},insertComputerIcon=function insertComputerIcon(elem){elem.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},insertClockIcon=function insertClockIcon(elem){elem.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},insertArrowHead=function insertArrowHead(elem){elem.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},insertArrowFilledHead=function insertArrowFilledHead(elem){elem.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},insertSequenceNumber=function insertSequenceNumber(elem){elem.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},insertArrowCrossHead=function insertArrowCrossHead(elem){var marker=elem.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);marker.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),marker.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},getTextObj=function getTextObj(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},getNoteRect=function getNoteRect(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},_drawTextCandidateFunc=function(){function byText(content,g,x,y,width,height,textAttrs){_setTextAttrs(g.append("text").attr("x",x+width/2).attr("y",y+height/2+5).style("text-anchor","middle").text(content),textAttrs)}function byTspan(content,g,x,y,width,height,textAttrs,conf){for(var actorFontSize=conf.actorFontSize,actorFontFamily=conf.actorFontFamily,actorFontWeight=conf.actorFontWeight,lines=content.split(_common_common__WEBPACK_IMPORTED_MODULE_2__.default.lineBreakRegex),i=0;i<lines.length;i++){var dy=i*actorFontSize-actorFontSize*(lines.length-1)/2,text=g.append("text").attr("x",x+width/2).attr("y",y).style("text-anchor","middle").style("font-size",actorFontSize).style("font-weight",actorFontWeight).style("font-family",actorFontFamily);text.append("tspan").attr("x",x+width/2).attr("dy",dy).text(lines[i]),text.attr("y",y+height/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),_setTextAttrs(text,textAttrs)}}function byFo(content,g,x,y,width,height,textAttrs,conf){var s=g.append("switch"),text=s.append("foreignObject").attr("x",x).attr("y",y).attr("width",width).attr("height",height).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");text.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(content),byTspan(content,s,x,y,width,height,textAttrs,conf),_setTextAttrs(text,textAttrs)}function _setTextAttrs(toText,fromTextAttrsDict){for(var key in fromTextAttrsDict)fromTextAttrsDict.hasOwnProperty(key)&&toText.attr(key,fromTextAttrsDict[key])}return function(conf){return"fo"===conf.textPlacement?byFo:"old"===conf.textPlacement?byText:byTspan}}(),_drawMenuItemTextCandidateFunc=function(){function byText(content,g,x,y,width,height,textAttrs){_setTextAttrs(g.append("text").attr("x",x).attr("y",y).style("text-anchor","start").text(content),textAttrs)}function byTspan(content,g,x,y,width,height,textAttrs,conf){for(var actorFontSize=conf.actorFontSize,actorFontFamily=conf.actorFontFamily,actorFontWeight=conf.actorFontWeight,lines=content.split(_common_common__WEBPACK_IMPORTED_MODULE_2__.default.lineBreakRegex),i=0;i<lines.length;i++){var dy=i*actorFontSize-actorFontSize*(lines.length-1)/2,text=g.append("text").attr("x",x).attr("y",y).style("text-anchor","start").style("font-size",actorFontSize).style("font-weight",actorFontWeight).style("font-family",actorFontFamily);text.append("tspan").attr("x",x).attr("dy",dy).text(lines[i]),text.attr("y",y+height/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),_setTextAttrs(text,textAttrs)}}function byFo(content,g,x,y,width,height,textAttrs,conf){var s=g.append("switch"),text=s.append("foreignObject").attr("x",x).attr("y",y).attr("width",width).attr("height",height).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");text.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(content),byTspan(content,s,x,y,0,height,textAttrs,conf),_setTextAttrs(text,textAttrs)}function _setTextAttrs(toText,fromTextAttrsDict){for(var key in fromTextAttrsDict)fromTextAttrsDict.hasOwnProperty(key)&&toText.attr(key,fromTextAttrsDict[key])}return function(conf){return"fo"===conf.textPlacement?byFo:"old"===conf.textPlacement?byText:byTspan}}();const __WEBPACK_DEFAULT_EXPORT__={drawRect,drawText,drawLabel,drawActor,drawPopup,drawImage,drawEmbeddedImage,anchorElement,drawActivation,drawLoop,drawBackgroundRect,insertArrowHead,insertArrowFilledHead,insertSequenceNumber,insertArrowCrossHead,insertDatabaseIcon,insertComputerIcon,insertClockIcon,getTextObj,getNoteRect,popupMenu,popdownMenu,fixLifeLineHeights,sanitizeUrl:_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl}},"./src/diagrams/state/id-cache.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_926485__)=>{"use strict";__nested_webpack_require_926485__.r(__nested_webpack_exports__),__nested_webpack_require_926485__.d(__nested_webpack_exports__,{set:()=>set,get:()=>get,keys:()=>keys,size:()=>size,default:()=>__WEBPACK_DEFAULT_EXPORT__});var idCache={},set=function set(key,val){idCache[key]=val},get=function get(k){return idCache[k]},keys=function keys(){return Object.keys(idCache)},size=function size(){return keys().length};const __WEBPACK_DEFAULT_EXPORT__={get,set,keys,size}},"./src/diagrams/state/shapes.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_927570__)=>{"use strict";__nested_webpack_require_927570__.r(__nested_webpack_exports__),__nested_webpack_require_927570__.d(__nested_webpack_exports__,{drawStartState:()=>drawStartState,drawDivider:()=>drawDivider,drawSimpleState:()=>drawSimpleState,drawDescrState:()=>drawDescrState,addTitleAndBox:()=>addTitleAndBox,drawText:()=>drawText,drawNote:()=>drawNote,drawState:()=>drawState,drawEdge:()=>drawEdge});var d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_927570__("d3"),_id_cache_js__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_927570__("./src/diagrams/state/id-cache.js"),_stateDb__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_927570__("./src/diagrams/state/stateDb.js"),_utils__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_927570__("./src/utils.js"),_common_common__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_927570__("./src/diagrams/common/common.js"),_config__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_927570__("./src/config.js"),_logger__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_927570__("./src/logger.js");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var drawStartState=function drawStartState(g){return g.append("circle").attr("class","start-state").attr("r",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit).attr("cx",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit).attr("cy",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit)},drawDivider=function drawDivider(g){return g.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight).attr("class","divider").attr("x2",2*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight).attr("y1",0).attr("y2",0)},drawSimpleState=function drawSimpleState(g,stateDef){var state=g.append("text").attr("x",2*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("y",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight+2*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("font-size",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.fontSize).attr("class","state-title").text(stateDef.id),classBox=state.node().getBBox();return g.insert("rect",":first-child").attr("x",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("y",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("width",classBox.width+2*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("height",classBox.height+2*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("rx",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.radius),state},drawDescrState=function drawDescrState(g,stateDef){var titleBox=g.append("text").attr("x",2*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("y",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight+1.3*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("font-size",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.fontSize).attr("class","state-title").text(stateDef.descriptions[0]).node().getBBox(),titleHeight=titleBox.height,description=g.append("text").attr("x",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("y",titleHeight+.4*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.dividerMargin+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight).attr("class","state-description"),isFirst=!0,isSecond=!0;stateDef.descriptions.forEach((function(descr){isFirst||(!function addTspan(textEl,txt,isFirst){var tSpan=textEl.append("tspan").attr("x",2*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).text(txt);isFirst||tSpan.attr("dy",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight)}(description,descr,isSecond),isSecond=!1),isFirst=!1}));var descrLine=g.append("line").attr("x1",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("y1",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding+titleHeight+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.dividerMargin/2).attr("y2",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding+titleHeight+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.dividerMargin/2).attr("class","descr-divider"),descrBox=description.node().getBBox(),width=Math.max(descrBox.width,titleBox.width);return descrLine.attr("x2",width+3*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding),g.insert("rect",":first-child").attr("x",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("y",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("width",width+2*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("height",descrBox.height+titleHeight+2*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("rx",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.radius),g},addTitleAndBox=function addTitleAndBox(g,stateDef,altBkg){var startX,pad=(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding,dblPad=2*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding,orgBox=g.node().getBBox(),orgWidth=orgBox.width,orgX=orgBox.x,title=g.append("text").attr("x",0).attr("y",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.titleShift).attr("font-size",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.fontSize).attr("class","state-title").text(stateDef.id),titleWidth=title.node().getBBox().width+dblPad,width=Math.max(titleWidth,orgWidth);width===orgWidth&&(width+=dblPad);var graphBox=g.node().getBBox();stateDef.doc,startX=orgX-pad,titleWidth>orgWidth&&(startX=(orgWidth-width)/2+pad),Math.abs(orgX-graphBox.x)<pad&&titleWidth>orgWidth&&(startX=orgX-(titleWidth-orgWidth)/2);var lineY=1-(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight;return g.insert("rect",":first-child").attr("x",startX).attr("y",lineY).attr("class",altBkg?"alt-composit":"composit").attr("width",width).attr("height",graphBox.height+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.titleShift+1).attr("rx","0"),title.attr("x",startX+pad),titleWidth<=orgWidth&&title.attr("x",orgX+(width-dblPad)/2-titleWidth/2+pad),g.insert("rect",":first-child").attr("x",startX).attr("y",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.titleShift-(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight-(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("width",width).attr("height",3*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight).attr("rx",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.radius),g.insert("rect",":first-child").attr("x",startX).attr("y",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.titleShift-(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight-(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("width",width).attr("height",graphBox.height+3+2*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.textHeight).attr("rx",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.radius),g},drawText=function drawText(elem,textData){var nText=textData.text.replace(_common_common__WEBPACK_IMPORTED_MODULE_2__.default.lineBreakRegex," "),textElem=elem.append("text");textElem.attr("x",textData.x),textElem.attr("y",textData.y),textElem.style("text-anchor",textData.anchor),textElem.attr("fill",textData.fill),void 0!==textData.class&&textElem.attr("class",textData.class);var span=textElem.append("tspan");return span.attr("x",textData.x+2*textData.textMargin),span.attr("fill",textData.fill),span.text(nText),textElem},drawNote=function drawNote(text,g){g.attr("class","state-note");var note=g.append("rect").attr("x",0).attr("y",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding),_drawLongText2=function _drawLongText(_text,x,y,g){var textHeight=0,textElem=g.append("text");textElem.style("text-anchor","start"),textElem.attr("class","noteText");var _step,text=_text.replace(/\r\n/g,"<br/>"),lines=(text=text.replace(/\n/g,"<br/>")).split(_common_common__WEBPACK_IMPORTED_MODULE_2__.default.lineBreakRegex),tHeight=1.25*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.noteMargin,_iterator=_createForOfIteratorHelper(lines);try{for(_iterator.s();!(_step=_iterator.n()).done;){var txt=_step.value.trim();if(txt.length>0){var span=textElem.append("tspan");span.text(txt),0===tHeight&&(tHeight+=span.node().getBBox().height),textHeight+=tHeight,span.attr("x",x+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.noteMargin),span.attr("y",y+textHeight+1.25*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.noteMargin)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return{textWidth:textElem.node().getBBox().width,textHeight}}(text,0,0,g.append("g")),textWidth=_drawLongText2.textWidth,textHeight=_drawLongText2.textHeight;return note.attr("height",textHeight+2*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.noteMargin),note.attr("width",textWidth+2*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.noteMargin),note},drawState=function drawState(elem,stateDef){var id=stateDef.id,stateInfo={id,label:stateDef.id,width:0,height:0},g=elem.append("g").attr("id",id).attr("class","stateGroup");"start"===stateDef.type&&drawStartState(g),"end"===stateDef.type&&function drawEndState(g){g.append("circle").attr("class","end-state-outer").attr("r",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.miniPadding).attr("cx",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.miniPadding).attr("cy",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.miniPadding),g.append("circle").attr("class","end-state-inner").attr("r",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit).attr("cx",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit+2).attr("cy",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.sizeUnit+2)}(g),"fork"!==stateDef.type&&"join"!==stateDef.type||function drawForkJoinState(g,stateDef){var width=(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.forkWidth,height=(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.forkHeight;if(stateDef.parentId){var tmp=width;width=height,height=tmp}g.append("rect").style("stroke","black").style("fill","black").attr("width",width).attr("height",height).attr("x",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("y",(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding)}(g,stateDef),"note"===stateDef.type&&drawNote(stateDef.note.text,g),"divider"===stateDef.type&&drawDivider(g),"default"===stateDef.type&&0===stateDef.descriptions.length&&drawSimpleState(g,stateDef),"default"===stateDef.type&&stateDef.descriptions.length>0&&drawDescrState(g,stateDef);var stateBox=g.node().getBBox();return stateInfo.width=stateBox.width+2*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding,stateInfo.height=stateBox.height+2*(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding,_id_cache_js__WEBPACK_IMPORTED_MODULE_3__.default.set(id,stateInfo),stateInfo},edgeCount=0,drawEdge=function drawEdge(elem,path,relation){path.points=path.points.filter((function(p){return!Number.isNaN(p.y)}));var lineData=path.points,lineFunction=(0,d3__WEBPACK_IMPORTED_MODULE_0__.line)().x((function(d){return d.x})).y((function(d){return d.y})).curve(d3__WEBPACK_IMPORTED_MODULE_0__.curveBasis),svgPath=elem.append("path").attr("d",lineFunction(lineData)).attr("id","edge"+edgeCount).attr("class","transition"),url="";if((0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.arrowMarkerAbsolute&&(url=(url=(url=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),svgPath.attr("marker-end","url("+url+"#"+function getRelationType(type){switch(type){case _stateDb__WEBPACK_IMPORTED_MODULE_4__.default.relationType.AGGREGATION:return"aggregation";case _stateDb__WEBPACK_IMPORTED_MODULE_4__.default.relationType.EXTENSION:return"extension";case _stateDb__WEBPACK_IMPORTED_MODULE_4__.default.relationType.COMPOSITION:return"composition";case _stateDb__WEBPACK_IMPORTED_MODULE_4__.default.relationType.DEPENDENCY:return"dependency"}}(_stateDb__WEBPACK_IMPORTED_MODULE_4__.default.relationType.DEPENDENCY)+"End)"),void 0!==relation.title){for(var label=elem.append("g").attr("class","stateLabel"),_utils$calcLabelPosit=_utils__WEBPACK_IMPORTED_MODULE_5__.default.calcLabelPosition(path.points),x=_utils$calcLabelPosit.x,y=_utils$calcLabelPosit.y,rows=_common_common__WEBPACK_IMPORTED_MODULE_2__.default.getRows(relation.title),titleHeight=0,titleRows=[],maxWidth=0,minX=0,i=0;i<=rows.length;i++){var title=label.append("text").attr("text-anchor","middle").text(rows[i]).attr("x",x).attr("y",y+titleHeight),boundstmp=title.node().getBBox();if(maxWidth=Math.max(maxWidth,boundstmp.width),minX=Math.min(minX,boundstmp.x),_logger__WEBPACK_IMPORTED_MODULE_6__.log.info(boundstmp.x,x,y+titleHeight),0===titleHeight){var titleBox=title.node().getBBox();titleHeight=titleBox.height,_logger__WEBPACK_IMPORTED_MODULE_6__.log.info("Title height",titleHeight,y)}titleRows.push(title)}var boxHeight=titleHeight*rows.length;if(rows.length>1){var heightAdj=(rows.length-1)*titleHeight*.5;titleRows.forEach((function(title,i){return title.attr("y",y+i*titleHeight-heightAdj)})),boxHeight=titleHeight*rows.length}var bounds=label.node().getBBox();label.insert("rect",":first-child").attr("class","box").attr("x",x-maxWidth/2-(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding/2).attr("y",y-boxHeight/2-(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding/2-3.5).attr("width",maxWidth+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding).attr("height",boxHeight+(0,_config__WEBPACK_IMPORTED_MODULE_1__.getConfig)().state.padding),_logger__WEBPACK_IMPORTED_MODULE_6__.log.info(bounds)}edgeCount++}},"./src/diagrams/state/stateDb.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_950142__)=>{"use strict";__nested_webpack_require_950142__.r(__nested_webpack_exports__),__nested_webpack_require_950142__.d(__nested_webpack_exports__,{parseDirective:()=>parseDirective,addState:()=>addState,clear:()=>clear,getState:()=>getState,getStates:()=>getStates,logDocuments:()=>logDocuments,getRelations:()=>getRelations,addRelation:()=>addRelation,cleanupLabel:()=>cleanupLabel,lineType:()=>lineType,relationType:()=>relationType,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _logger__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_950142__("./src/logger.js"),_utils__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_950142__("./src/utils.js"),_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_950142__("./src/mermaidAPI.js"),_common_common__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_950142__("./src/diagrams/common/common.js"),_config__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_950142__("./src/config.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var clone=function clone(o){return JSON.parse(JSON.stringify(o))},rootDoc=[],parseDirective=function parseDirective(statement,context,type){_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default.parseDirective(this,statement,context,type)},docTranslator=function docTranslator(parent,node,first){if("relation"===node.stmt)docTranslator(parent,node.state1,!0),docTranslator(parent,node.state2,!1);else if("state"===node.stmt&&"[*]"===node.id&&(node.id=first?parent.id+"_start":parent.id+"_end",node.start=first),node.doc){var doc=[],i=0,currentDoc=[];for(i=0;i<node.doc.length;i++)if("divider"===node.doc[i].type){var newNode=clone(node.doc[i]);newNode.doc=clone(currentDoc),doc.push(newNode),currentDoc=[]}else currentDoc.push(node.doc[i]);if(doc.length>0&&currentDoc.length>0){var _newNode={stmt:"state",id:(0,_utils__WEBPACK_IMPORTED_MODULE_2__.generateId)(),type:"divider",doc:clone(currentDoc)};doc.push(clone(_newNode)),node.doc=doc}node.doc.forEach((function(docNode){return docTranslator(node,docNode,!0)}))}},documents={root:{relations:[],states:{},documents:{}}},currentDocument=documents.root,startCnt=0,addState=function addState(id,type,doc,descr,note){void 0===currentDocument.states[id]?currentDocument.states[id]={id,descriptions:[],type,doc,note}:(currentDocument.states[id].doc||(currentDocument.states[id].doc=doc),currentDocument.states[id].type||(currentDocument.states[id].type=type)),descr&&(_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Adding state ",id,descr),"string"==typeof descr&&addDescription(id,descr.trim()),"object"===_typeof(descr)&&descr.forEach((function(des){return addDescription(id,des.trim())}))),note&&(currentDocument.states[id].note=note,currentDocument.states[id].note.text=_common_common__WEBPACK_IMPORTED_MODULE_3__.default.sanitizeText(currentDocument.states[id].note.text,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig()))},clear=function clear(){currentDocument=(documents={root:{relations:[],states:{},documents:{}}}).root,currentDocument=documents.root,startCnt=0,classes=[]},getState=function getState(id){return currentDocument.states[id]},getStates=function getStates(){return currentDocument.states},logDocuments=function logDocuments(){_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Documents = ",documents)},getRelations=function getRelations(){return currentDocument.relations},addRelation=function addRelation(_id1,_id2,title){var id1=_id1,id2=_id2,type1="default",type2="default";"[*]"===_id1&&(id1="start"+ ++startCnt,type1="start"),"[*]"===_id2&&(id2="end"+startCnt,type2="end"),addState(id1,type1),addState(id2,type2),currentDocument.relations.push({id1,id2,title:_common_common__WEBPACK_IMPORTED_MODULE_3__.default.sanitizeText(title,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig())})},addDescription=function addDescription(id,_descr){var theState=currentDocument.states[id],descr=_descr;":"===descr[0]&&(descr=descr.substr(1).trim()),theState.descriptions.push(_common_common__WEBPACK_IMPORTED_MODULE_3__.default.sanitizeText(descr,_config__WEBPACK_IMPORTED_MODULE_4__.getConfig()))},cleanupLabel=function cleanupLabel(label){return":"===label.substring(0,1)?label.substr(2).trim():label.trim()},lineType={LINE:0,DOTTED_LINE:1},dividerCnt=0,classes=[],direction="TB",relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3};const __WEBPACK_DEFAULT_EXPORT__={parseDirective,getConfig:function getConfig(){return _config__WEBPACK_IMPORTED_MODULE_4__.getConfig().state},addState,clear,getState,getStates,getRelations,getClasses:function getClasses(){return classes},getDirection:function getDirection(){return direction},addRelation,getDividerId:function getDividerId(){return"divider-id-"+ ++dividerCnt},setDirection:function setDirection(dir){direction=dir},cleanupLabel,lineType,relationType,logDocuments,getRootDoc:function getRootDoc(){return rootDoc},setRootDoc:function setRootDoc(o){_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Setting root doc",o),rootDoc=o},getRootDocV2:function getRootDocV2(){return docTranslator({id:"root"},{id:"root",doc:rootDoc},!0),{id:"root",doc:rootDoc}},extract:function extract(_doc){var doc;doc=_doc.doc?_doc.doc:_doc,_logger__WEBPACK_IMPORTED_MODULE_1__.log.info(doc),clear(),_logger__WEBPACK_IMPORTED_MODULE_1__.log.info("Extract",doc),doc.forEach((function(item){"state"===item.stmt&&addState(item.id,item.type,item.doc,item.description,item.note),"relation"===item.stmt&&addRelation(item.state1.id,item.state2.id,item.description)}))},trimColon:function trimColon(str){return str&&":"===str[0]?str.substr(1).trim():str.trim()}}},"./src/diagrams/state/stateRenderer-v2.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_959585__)=>{"use strict";__nested_webpack_require_959585__.r(__nested_webpack_exports__),__nested_webpack_require_959585__.d(__nested_webpack_exports__,{setConf:()=>setConf,getClasses:()=>getClasses,draw:()=>draw,default:()=>__WEBPACK_DEFAULT_EXPORT__});var graphlib__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_959585__("graphlib"),graphlib__WEBPACK_IMPORTED_MODULE_0___default=__nested_webpack_require_959585__.n(graphlib__WEBPACK_IMPORTED_MODULE_0__),d3__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_959585__("d3"),_stateDb__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_959585__("./src/diagrams/state/stateDb.js"),_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_959585__("./src/diagrams/state/parser/stateDiagram.jison"),_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_4___default=__nested_webpack_require_959585__.n(_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_4__),_config__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_959585__("./src/config.js"),_dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_959585__("./src/dagre-wrapper/index.js"),_logger__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_959585__("./src/logger.js"),_utils__WEBPACK_IMPORTED_MODULE_8__=__nested_webpack_require_959585__("./src/utils.js"),_common_common__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_959585__("./src/diagrams/common/common.js"),conf={},setConf=function setConf(cnf){for(var keys=Object.keys(cnf),i=0;i<keys.length;i++)conf[keys[i]]=cnf[keys[i]]},nodeDb={},getClasses=function getClasses(text){_logger__WEBPACK_IMPORTED_MODULE_2__.log.trace("Extracting classes"),_stateDb__WEBPACK_IMPORTED_MODULE_3__.default.clear();var parser=_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_4___default().parser;return parser.yy=_stateDb__WEBPACK_IMPORTED_MODULE_3__.default,parser.parse(text),_stateDb__WEBPACK_IMPORTED_MODULE_3__.default.getClasses()},setupNode=function setupNode(g,parent,node,altFlag){if("root"!==node.id){var shape="rect";!0===node.start&&(shape="start"),!1===node.start&&(shape="end"),"default"!==node.type&&(shape=node.type),nodeDb[node.id]||(nodeDb[node.id]={id:node.id,shape,description:_common_common__WEBPACK_IMPORTED_MODULE_5__.default.sanitizeText(node.id,(0,_config__WEBPACK_IMPORTED_MODULE_6__.getConfig)()),classes:"statediagram-state"}),node.description&&(Array.isArray(nodeDb[node.id].description)?(nodeDb[node.id].shape="rectWithTitle",nodeDb[node.id].description.push(node.description)):nodeDb[node.id].description.length>0?(nodeDb[node.id].shape="rectWithTitle",nodeDb[node.id].description===node.id?nodeDb[node.id].description=[node.description]:nodeDb[node.id].description=[nodeDb[node.id].description,node.description]):(nodeDb[node.id].shape="rect",nodeDb[node.id].description=node.description),nodeDb[node.id].description=_common_common__WEBPACK_IMPORTED_MODULE_5__.default.sanitizeTextOrArray(nodeDb[node.id].description,(0,_config__WEBPACK_IMPORTED_MODULE_6__.getConfig)())),1===nodeDb[node.id].description.length&&"rectWithTitle"===nodeDb[node.id].shape&&(nodeDb[node.id].shape="rect"),!nodeDb[node.id].type&&node.doc&&(_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Setting cluster for ",node.id,getDir(node)),nodeDb[node.id].type="group",nodeDb[node.id].dir=getDir(node),nodeDb[node.id].shape="divider"===node.type?"divider":"roundedWithTitle",nodeDb[node.id].classes=nodeDb[node.id].classes+" "+(altFlag?"statediagram-cluster statediagram-cluster-alt":"statediagram-cluster"));var nodeData={labelStyle:"",shape:nodeDb[node.id].shape,labelText:nodeDb[node.id].description,classes:nodeDb[node.id].classes,style:"",id:node.id,dir:nodeDb[node.id].dir,domId:"state-"+node.id+"-"+cnt,type:nodeDb[node.id].type,padding:15};if(node.note){var noteData={labelStyle:"",shape:"note",labelText:node.note.text,classes:"statediagram-note",style:"",id:node.id+"----note-"+cnt,domId:"state-"+node.id+"----note-"+cnt,type:nodeDb[node.id].type,padding:15},groupData={labelStyle:"",shape:"noteGroup",labelText:node.note.text,classes:nodeDb[node.id].classes,style:"",id:node.id+"----parent",domId:"state-"+node.id+"----parent-"+cnt,type:"group",padding:0};cnt++,g.setNode(node.id+"----parent",groupData),g.setNode(noteData.id,noteData),g.setNode(node.id,nodeData),g.setParent(node.id,node.id+"----parent"),g.setParent(noteData.id,node.id+"----parent");var from=node.id,to=noteData.id;"left of"===node.note.position&&(from=noteData.id,to=node.id),g.setEdge(from,to,{arrowhead:"none",arrowType:"",style:"fill:none",labelStyle:"",classes:"transition note-edge",arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal"})}else g.setNode(node.id,nodeData)}parent&&"root"!==parent.id&&(_logger__WEBPACK_IMPORTED_MODULE_2__.log.trace("Setting node ",node.id," to be child of its parent ",parent.id),g.setParent(node.id,parent.id)),node.doc&&(_logger__WEBPACK_IMPORTED_MODULE_2__.log.trace("Adding nodes children "),setupDoc(g,node,node.doc,!altFlag))},cnt=0,setupDoc=function setupDoc(g,parent,doc,altFlag){_logger__WEBPACK_IMPORTED_MODULE_2__.log.trace("items",doc),doc.forEach((function(item){if("state"===item.stmt||"default"===item.stmt)setupNode(g,parent,item,altFlag);else if("relation"===item.stmt){setupNode(g,parent,item.state1,altFlag),setupNode(g,parent,item.state2,altFlag);var edgeData={id:"edge"+cnt,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:"fill:none",labelStyle:"",label:_common_common__WEBPACK_IMPORTED_MODULE_5__.default.sanitizeText(item.description,(0,_config__WEBPACK_IMPORTED_MODULE_6__.getConfig)()),arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal",classes:"transition"},startId=item.state1.id,endId=item.state2.id;g.setEdge(startId,endId,edgeData,cnt),cnt++}}))},getDir=function getDir(nodes,defaultDir){var dir=defaultDir||"TB";if(nodes.doc)for(var i=0;i<nodes.doc.length;i++){var node=nodes.doc[i];"dir"===node.stmt&&(dir=node.value)}return dir},draw=function draw(text,id){_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("Drawing state diagram (v2)",id),_stateDb__WEBPACK_IMPORTED_MODULE_3__.default.clear(),nodeDb={};var parser=_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_4___default().parser;parser.yy=_stateDb__WEBPACK_IMPORTED_MODULE_3__.default,parser.parse(text);var dir=_stateDb__WEBPACK_IMPORTED_MODULE_3__.default.getDirection();void 0===dir&&(dir="LR");var conf=(0,_config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().state,nodeSpacing=conf.nodeSpacing||50,rankSpacing=conf.rankSpacing||50,securityLevel=(0,_config__WEBPACK_IMPORTED_MODULE_6__.getConfig)().securityLevel;_logger__WEBPACK_IMPORTED_MODULE_2__.log.info(_stateDb__WEBPACK_IMPORTED_MODULE_3__.default.getRootDocV2()),_stateDb__WEBPACK_IMPORTED_MODULE_3__.default.extract(_stateDb__WEBPACK_IMPORTED_MODULE_3__.default.getRootDocV2()),_logger__WEBPACK_IMPORTED_MODULE_2__.log.info(_stateDb__WEBPACK_IMPORTED_MODULE_3__.default.getRootDocV2());var sandboxElement,g=new(graphlib__WEBPACK_IMPORTED_MODULE_0___default().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:getDir(_stateDb__WEBPACK_IMPORTED_MODULE_3__.default.getRootDocV2()),nodesep:nodeSpacing,ranksep:rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));setupNode(g,void 0,_stateDb__WEBPACK_IMPORTED_MODULE_3__.default.getRootDocV2(),!0),"sandbox"===securityLevel&&(sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)("#i"+id));var root="sandbox"===securityLevel?(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body):(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)("body"),svg=("sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document,root.select('[id="'.concat(id,'"]'))),element=root.select("#"+id+" g");(0,_dagre_wrapper_index_js__WEBPACK_IMPORTED_MODULE_7__.render)(element,g,["barb"],"statediagram",id);var bounds=svg.node().getBBox(),width=bounds.width+16,height=bounds.height+16;svg.attr("class","statediagram");var svgBounds=svg.node().getBBox();(0,_utils__WEBPACK_IMPORTED_MODULE_8__.configureSvgSize)(svg,height,1.75*width,conf.useMaxWidth);var vBox="".concat(svgBounds.x-8," ").concat(svgBounds.y-8," ").concat(width," ").concat(height);_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("viewBox ".concat(vBox)),svg.attr("viewBox",vBox);for(var labels=document.querySelectorAll('[id="'+id+'"] .edgeLabel .label'),k=0;k<labels.length;k++){var label=labels[k],dim=label.getBBox(),rect=document.createElementNS("http://www.w3.org/2000/svg","rect");rect.setAttribute("rx",0),rect.setAttribute("ry",0),rect.setAttribute("width",dim.width),rect.setAttribute("height",dim.height),label.insertBefore(rect,label.firstChild)}};const __WEBPACK_DEFAULT_EXPORT__={setConf,getClasses,draw}},"./src/diagrams/state/stateRenderer.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_973106__)=>{"use strict";__nested_webpack_require_973106__.r(__nested_webpack_exports__),__nested_webpack_require_973106__.d(__nested_webpack_exports__,{setConf:()=>setConf,draw:()=>draw,default:()=>__WEBPACK_DEFAULT_EXPORT__});var conf,d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_973106__("d3"),dagre__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_973106__("dagre"),dagre__WEBPACK_IMPORTED_MODULE_1___default=__nested_webpack_require_973106__.n(dagre__WEBPACK_IMPORTED_MODULE_1__),graphlib__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_973106__("graphlib"),graphlib__WEBPACK_IMPORTED_MODULE_2___default=__nested_webpack_require_973106__.n(graphlib__WEBPACK_IMPORTED_MODULE_2__),_logger__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_973106__("./src/logger.js"),_stateDb__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_973106__("./src/diagrams/state/stateDb.js"),_common_common__WEBPACK_IMPORTED_MODULE_9__=__nested_webpack_require_973106__("./src/diagrams/common/common.js"),_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_973106__("./src/diagrams/state/parser/stateDiagram.jison"),_shapes__WEBPACK_IMPORTED_MODULE_8__=__nested_webpack_require_973106__("./src/diagrams/state/shapes.js"),_config__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_973106__("./src/config.js"),_utils__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_973106__("./src/utils.js");_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.yy=_stateDb__WEBPACK_IMPORTED_MODULE_4__.default;var transformationLog={},setConf=function setConf(){},draw=function draw(text,id){conf=(0,_config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().state;var sandboxElement,securityLevel=(0,_config__WEBPACK_IMPORTED_MODULE_5__.getConfig)().securityLevel;"sandbox"===securityLevel&&(sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i"+id));var root="sandbox"===securityLevel?(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body):(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("body"),doc="sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document;_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.yy.clear(),_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_3__.parser.parse(text),_logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("Rendering diagram "+text);var diagram=root.select("[id='".concat(id,"']"));!function insertMarkers(elem){elem.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}(diagram),new(graphlib__WEBPACK_IMPORTED_MODULE_2___default().Graph)({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel((function(){return{}}));var rootDoc=_stateDb__WEBPACK_IMPORTED_MODULE_4__.default.getRootDoc();renderDoc(rootDoc,diagram,void 0,!1,root,doc);var padding=conf.padding,bounds=diagram.node().getBBox(),width=bounds.width+2*padding,height=bounds.height+2*padding,svgWidth=1.75*width;(0,_utils__WEBPACK_IMPORTED_MODULE_7__.configureSvgSize)(diagram,height,svgWidth,conf.useMaxWidth),diagram.attr("viewBox","".concat(bounds.x-conf.padding,"  ").concat(bounds.y-conf.padding," ")+width+" "+height)},getLabelWidth=function getLabelWidth(text){return text?text.length*conf.fontSizeFactor:1},renderDoc=function renderDoc(doc,diagram,parentId,altBkg,root,domDocument){var i,graph=new(graphlib__WEBPACK_IMPORTED_MODULE_2___default().Graph)({compound:!0,multigraph:!0}),edgeFreeDoc=!0;for(i=0;i<doc.length;i++)if("relation"===doc[i].stmt){edgeFreeDoc=!1;break}parentId?graph.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:edgeFreeDoc?1:conf.edgeLengthFactor,nodeSep:edgeFreeDoc?1:50,isMultiGraph:!0}):graph.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:edgeFreeDoc?1:conf.edgeLengthFactor,nodeSep:edgeFreeDoc?1:50,ranker:"tight-tree",isMultiGraph:!0}),graph.setDefaultEdgeLabel((function(){return{}})),_stateDb__WEBPACK_IMPORTED_MODULE_4__.default.extract(doc);for(var states=_stateDb__WEBPACK_IMPORTED_MODULE_4__.default.getStates(),relations=_stateDb__WEBPACK_IMPORTED_MODULE_4__.default.getRelations(),keys=Object.keys(states),_i=0;_i<keys.length;_i++){var stateDef=states[keys[_i]];parentId&&(stateDef.parentId=parentId);var node=void 0;if(stateDef.doc){var sub=diagram.append("g").attr("id",stateDef.id).attr("class","stateGroup");node=renderDoc(stateDef.doc,sub,stateDef.id,!altBkg,root,domDocument);var boxBounds=(sub=(0,_shapes__WEBPACK_IMPORTED_MODULE_8__.addTitleAndBox)(sub,stateDef,altBkg)).node().getBBox();node.width=boxBounds.width,node.height=boxBounds.height+conf.padding/2,transformationLog[stateDef.id]={y:conf.compositTitleSize}}else node=(0,_shapes__WEBPACK_IMPORTED_MODULE_8__.drawState)(diagram,stateDef,graph);if(stateDef.note){var noteDef={descriptions:[],id:stateDef.id+"-note",note:stateDef.note,type:"note"},note=(0,_shapes__WEBPACK_IMPORTED_MODULE_8__.drawState)(diagram,noteDef,graph);"left of"===stateDef.note.position?(graph.setNode(node.id+"-note",note),graph.setNode(node.id,node)):(graph.setNode(node.id,node),graph.setNode(node.id+"-note",note)),graph.setParent(node.id,node.id+"-group"),graph.setParent(node.id+"-note",node.id+"-group")}else graph.setNode(node.id,node)}_logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("Count=",graph.nodeCount(),graph);var cnt=0;relations.forEach((function(relation){cnt++,_logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("Setting edge",relation),graph.setEdge(relation.id1,relation.id2,{relation,width:getLabelWidth(relation.title),height:conf.labelHeight*_common_common__WEBPACK_IMPORTED_MODULE_9__.default.getRows(relation.title).length,labelpos:"c"},"id"+cnt)})),dagre__WEBPACK_IMPORTED_MODULE_1___default().layout(graph),_logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("Graph after layout",graph.nodes());var svgElem=diagram.node();graph.nodes().forEach((function(v){void 0!==v&&void 0!==graph.node(v)?(_logger__WEBPACK_IMPORTED_MODULE_6__.log.warn("Node "+v+": "+JSON.stringify(graph.node(v))),root.select("#"+svgElem.id+" #"+v).attr("transform","translate("+(graph.node(v).x-graph.node(v).width/2)+","+(graph.node(v).y+(transformationLog[v]?transformationLog[v].y:0)-graph.node(v).height/2)+" )"),root.select("#"+svgElem.id+" #"+v).attr("data-x-shift",graph.node(v).x-graph.node(v).width/2),domDocument.querySelectorAll("#"+svgElem.id+" #"+v+" .divider").forEach((function(divider){var parent=divider.parentElement,pWidth=0,pShift=0;parent&&(parent.parentElement&&(pWidth=parent.parentElement.getBBox().width),pShift=parseInt(parent.getAttribute("data-x-shift"),10),Number.isNaN(pShift)&&(pShift=0)),divider.setAttribute("x1",0-pShift+8),divider.setAttribute("x2",pWidth-pShift-8)}))):_logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("No Node "+v+": "+JSON.stringify(graph.node(v)))}));var stateBox=svgElem.getBBox();graph.edges().forEach((function(e){void 0!==e&&void 0!==graph.edge(e)&&(_logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(graph.edge(e))),(0,_shapes__WEBPACK_IMPORTED_MODULE_8__.drawEdge)(diagram,graph.edge(e),graph.edge(e).relation))})),stateBox=svgElem.getBBox();var stateInfo={id:parentId||"root",label:parentId||"root",width:0,height:0};return stateInfo.width=stateBox.width+2*conf.padding,stateInfo.height=stateBox.height+2*conf.padding,_logger__WEBPACK_IMPORTED_MODULE_6__.log.debug("Doc rendered",stateInfo,graph),stateInfo};const __WEBPACK_DEFAULT_EXPORT__={setConf,draw}},"./src/diagrams/state/styles.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_985018__)=>{"use strict";__nested_webpack_require_985018__.r(__nested_webpack_exports__),__nested_webpack_require_985018__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function getStyles(options){return"\ndefs #statediagram-barbEnd {\n    fill: ".concat(options.transitionColor,";\n    stroke: ").concat(options.transitionColor,";\n  }\ng.stateGroup text {\n  fill: ").concat(options.nodeBorder,";\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ").concat(options.textColor,";\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ").concat(options.stateLabelColor,";\n}\n\ng.stateGroup rect {\n  fill: ").concat(options.mainBkg,";\n  stroke: ").concat(options.nodeBorder,";\n}\n\ng.stateGroup line {\n  stroke: ").concat(options.lineColor,";\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ").concat(options.transitionColor,";\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ").concat(options.background,";\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ").concat(options.noteBorderColor,";\n  fill: ").concat(options.noteBkgColor,";\n\n  text {\n    fill: ").concat(options.noteTextColor,";\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ").concat(options.mainBkg,";\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ").concat(options.labelBackgroundColor,";\n  opacity: 0.5;\n}\n.edgeLabel .label text {\n  fill: ").concat(options.transitionLabelColor||options.tertiaryTextColor,";\n}\n.label div .edgeLabel {\n  color: ").concat(options.transitionLabelColor||options.tertiaryTextColor,";\n}\n\n.stateLabel text {\n  fill: ").concat(options.stateLabelColor,";\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ").concat(options.specialStateColor,";\n  stroke: ").concat(options.specialStateColor,";\n}\n\n.node .fork-join {\n  fill: ").concat(options.specialStateColor,";\n  stroke: ").concat(options.specialStateColor,";\n}\n\n.node circle.state-end {\n  fill: ").concat(options.innerEndBackground,";\n  stroke: ").concat(options.background,";\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ").concat(options.compositeBackground||options.background,";\n  // stroke: ").concat(options.background,";\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ").concat(options.stateBkg||options.mainBkg,";\n  stroke: ").concat(options.stateBorder||options.nodeBorder,";\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ").concat(options.mainBkg,";\n  stroke: ").concat(options.stateBorder||options.nodeBorder,";;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ").concat(options.lineColor,";\n}\n\n.statediagram-cluster rect {\n  fill: ").concat(options.compositeTitleBackground,";\n  stroke: ").concat(options.stateBorder||options.nodeBorder,";\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ").concat(options.stateLabelColor,";\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ").concat(options.stateBorder||options.nodeBorder,";\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ").concat(options.compositeBackground||options.background,";\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ").concat(options.altBackground?options.altBackground:"#efefef",";\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ").concat(options.altBackground?options.altBackground:"#efefef",";\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ").concat(options.noteBkgColor,";\n  stroke: ").concat(options.noteBorderColor,";\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ").concat(options.noteBkgColor,";\n  stroke: ").concat(options.noteBorderColor,";\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ").concat(options.noteTextColor,";\n}\n\n.statediagram-note .nodeLabel {\n  color: ").concat(options.noteTextColor,";\n}\n.statediagram .edgeLabel {\n  color: red; // ").concat(options.noteTextColor,";\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ").concat(options.lineColor,";\n  stroke: ").concat(options.lineColor,";\n  stroke-width: 1;\n}\n")}},"./src/diagrams/user-journey/journeyDb.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_990117__)=>{"use strict";__nested_webpack_require_990117__.r(__nested_webpack_exports__),__nested_webpack_require_990117__.d(__nested_webpack_exports__,{parseDirective:()=>parseDirective,clear:()=>clear,setTitle:()=>setTitle,getTitle:()=>getTitle,addSection:()=>addSection,getSections:()=>getSections,getTasks:()=>getTasks,addTask:()=>addTask,addTaskOrg:()=>addTaskOrg,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _mermaidAPI__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_990117__("./src/mermaidAPI.js"),_config__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_990117__("./src/config.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var title="",currentSection="",sections=[],tasks=[],rawTasks=[],parseDirective=function parseDirective(statement,context,type){_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default.parseDirective(this,statement,context,type)},clear=function clear(){sections.length=0,tasks.length=0,currentSection="",title="",rawTasks.length=0},setTitle=function setTitle(txt){title=txt},getTitle=function getTitle(){return title},addSection=function addSection(txt){currentSection=txt,sections.push(txt)},getSections=function getSections(){return sections},getTasks=function getTasks(){for(var allItemsProcessed=compileTasks(),iterationCount=0;!allItemsProcessed&&iterationCount<100;)allItemsProcessed=compileTasks(),iterationCount++;return tasks.push.apply(tasks,rawTasks),tasks},addTask=function addTask(descr,taskData){var pieces=taskData.substr(1).split(":"),score=0,peeps=[];1===pieces.length?(score=Number(pieces[0]),peeps=[]):(score=Number(pieces[0]),peeps=pieces[1].split(","));var peopleList=peeps.map((function(s){return s.trim()})),rawTask={section:currentSection,type:currentSection,people:peopleList,task:descr,score};rawTasks.push(rawTask)},addTaskOrg=function addTaskOrg(descr){var newTask={section:currentSection,type:currentSection,description:descr,task:descr,classes:[]};tasks.push(newTask)},compileTasks=function compileTasks(){for(var compileTask=function compileTask(pos){return rawTasks[pos].processed},allProcessed=!0,i=0;i<rawTasks.length;i++)compileTask(i),allProcessed=allProcessed&&rawTasks[i].processed;return allProcessed};const __WEBPACK_DEFAULT_EXPORT__={parseDirective,getConfig:function getConfig(){return _config__WEBPACK_IMPORTED_MODULE_1__.getConfig().journey},clear,setTitle,getTitle,addSection,getSections,getTasks,addTask,addTaskOrg,getActors:function getActors(){return function updateActors(){var tempActors=[];return tasks.forEach((function(task){task.people&&tempActors.push.apply(tempActors,_toConsumableArray(task.people))})),_toConsumableArray(new Set(tempActors)).sort()}()}}},"./src/diagrams/user-journey/journeyRenderer.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_995578__)=>{"use strict";__nested_webpack_require_995578__.r(__nested_webpack_exports__),__nested_webpack_require_995578__.d(__nested_webpack_exports__,{setConf:()=>setConf,draw:()=>draw,bounds:()=>bounds,drawTasks:()=>drawTasks,default:()=>__WEBPACK_DEFAULT_EXPORT__});var d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_995578__("d3"),_parser_journey__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_995578__("./src/diagrams/user-journey/parser/journey.jison"),_journeyDb__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_995578__("./src/diagrams/user-journey/journeyDb.js"),_svgDraw__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_995578__("./src/diagrams/user-journey/svgDraw.js"),_config__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_995578__("./src/config.js"),_utils__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_995578__("./src/utils.js");_parser_journey__WEBPACK_IMPORTED_MODULE_1__.parser.yy=_journeyDb__WEBPACK_IMPORTED_MODULE_2__.default;var setConf=function setConf(cnf){Object.keys(cnf).forEach((function(key){conf[key]=cnf[key]}))},actors={};var conf=(0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().journey,LEFT_MARGIN=(0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().journey.leftMargin,draw=function draw(text,id){var conf=(0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().journey;_parser_journey__WEBPACK_IMPORTED_MODULE_1__.parser.yy.clear(),_parser_journey__WEBPACK_IMPORTED_MODULE_1__.parser.parse(text+"\n");var sandboxElement,securityLevel=(0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().securityLevel;"sandbox"===securityLevel&&(sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("#i"+id));var root="sandbox"===securityLevel?(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(sandboxElement.nodes()[0].contentDocument.body):(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");"sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document;bounds.init();var diagram=root.select("#"+id);diagram.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),_svgDraw__WEBPACK_IMPORTED_MODULE_4__.default.initGraphics(diagram);var tasks=_parser_journey__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getTasks(),title=_parser_journey__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getTitle(),actorNames=_parser_journey__WEBPACK_IMPORTED_MODULE_1__.parser.yy.getActors();for(var member in actors)delete actors[member];var actorPos=0;actorNames.forEach((function(actorName){actors[actorName]={color:conf.actorColours[actorPos%conf.actorColours.length],position:actorPos},actorPos++})),function drawActorLegend(diagram){var conf=(0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().journey,yPos=60;Object.keys(actors).forEach((function(person){var colour=actors[person].color,circleData={cx:20,cy:yPos,r:7,fill:colour,stroke:"#000",pos:actors[person].position};_svgDraw__WEBPACK_IMPORTED_MODULE_4__.default.drawCircle(diagram,circleData);var labelData={x:40,y:yPos+7,fill:"#666",text:person,textMargin:5|conf.boxTextMargin};_svgDraw__WEBPACK_IMPORTED_MODULE_4__.default.drawText(diagram,labelData),yPos+=20}))}(diagram),bounds.insert(0,0,LEFT_MARGIN,50*Object.keys(actors).length),drawTasks(diagram,tasks,0);var box=bounds.getBounds();title&&diagram.append("text").text(title).attr("x",LEFT_MARGIN).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);var height=box.stopy-box.starty+2*conf.diagramMarginY,width=LEFT_MARGIN+box.stopx+2*conf.diagramMarginX;(0,_utils__WEBPACK_IMPORTED_MODULE_5__.configureSvgSize)(diagram,height,width,conf.useMaxWidth),diagram.append("line").attr("x1",LEFT_MARGIN).attr("y1",4*conf.height).attr("x2",width-LEFT_MARGIN-4).attr("y2",4*conf.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");var extraVertForTitle=title?70:0;diagram.attr("viewBox","".concat(box.startx," -25 ").concat(width," ").concat(height+extraVertForTitle)),diagram.attr("preserveAspectRatio","xMinYMin meet"),diagram.attr("height",height+extraVertForTitle+25)},bounds={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function init(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function updateVal(obj,key,val,fun){void 0===obj[key]?obj[key]=val:obj[key]=fun(val,obj[key])},updateBounds:function updateBounds(startx,starty,stopx,stopy){var conf=(0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().journey,_self=this,cnt=0;this.sequenceItems.forEach(function updateFn(type){return function updateItemBounds(item){cnt++;var n=_self.sequenceItems.length-cnt+1;_self.updateVal(item,"starty",starty-n*conf.boxMargin,Math.min),_self.updateVal(item,"stopy",stopy+n*conf.boxMargin,Math.max),_self.updateVal(bounds.data,"startx",startx-n*conf.boxMargin,Math.min),_self.updateVal(bounds.data,"stopx",stopx+n*conf.boxMargin,Math.max),"activation"!==type&&(_self.updateVal(item,"startx",startx-n*conf.boxMargin,Math.min),_self.updateVal(item,"stopx",stopx+n*conf.boxMargin,Math.max),_self.updateVal(bounds.data,"starty",starty-n*conf.boxMargin,Math.min),_self.updateVal(bounds.data,"stopy",stopy+n*conf.boxMargin,Math.max))}}())},insert:function insert(startx,starty,stopx,stopy){var _startx=Math.min(startx,stopx),_stopx=Math.max(startx,stopx),_starty=Math.min(starty,stopy),_stopy=Math.max(starty,stopy);this.updateVal(bounds.data,"startx",_startx,Math.min),this.updateVal(bounds.data,"starty",_starty,Math.min),this.updateVal(bounds.data,"stopx",_stopx,Math.max),this.updateVal(bounds.data,"stopy",_stopy,Math.max),this.updateBounds(_startx,_starty,_stopx,_stopy)},bumpVerticalPos:function bumpVerticalPos(bump){this.verticalPos=this.verticalPos+bump,this.data.stopy=this.verticalPos},getVerticalPos:function getVerticalPos(){return this.verticalPos},getBounds:function getBounds(){return this.data}},fills=conf.sectionFills,textColours=conf.sectionColours,drawTasks=function drawTasks(diagram,tasks,verticalPos){for(var conf=(0,_config__WEBPACK_IMPORTED_MODULE_3__.getConfig)().journey,lastSection="",taskPos=verticalPos+(2*conf.height+conf.diagramMarginY),sectionNumber=0,fill="#CCC",colour="black",num=0,i=0;i<tasks.length;i++){var task=tasks[i];if(lastSection!==task.section){fill=fills[sectionNumber%fills.length],num=sectionNumber%fills.length,colour=textColours[sectionNumber%textColours.length];var section={x:i*conf.taskMargin+i*conf.width+LEFT_MARGIN,y:50,text:task.section,fill,num,colour};_svgDraw__WEBPACK_IMPORTED_MODULE_4__.default.drawSection(diagram,section,conf),lastSection=task.section,sectionNumber++}var taskActors=task.people.reduce((function(acc,actorName){return actors[actorName]&&(acc[actorName]=actors[actorName]),acc}),{});task.x=i*conf.taskMargin+i*conf.width+LEFT_MARGIN,task.y=taskPos,task.width=conf.diagramMarginX,task.height=conf.diagramMarginY,task.colour=colour,task.fill=fill,task.num=num,task.actors=taskActors,_svgDraw__WEBPACK_IMPORTED_MODULE_4__.default.drawTask(diagram,task,conf),bounds.insert(task.x,task.y,task.x+task.width+conf.taskMargin,450)}};const __WEBPACK_DEFAULT_EXPORT__={setConf,draw}},"./src/diagrams/user-journey/styles.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1005935__)=>{"use strict";__nested_webpack_require_1005935__.r(__nested_webpack_exports__),__nested_webpack_require_1005935__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function getStyles(options){return".label {\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    color: ".concat(options.textColor,";\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ").concat(options.textColor,"\n  }\n\n  .legend {\n    fill: ").concat(options.textColor,";\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ").concat(options.textColor,"\n  }\n\n  .face {\n    ").concat(options.faceColor?"fill: ".concat(options.faceColor):"fill: #FFF8DC",";\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(options.mainBkg,";\n    stroke: ").concat(options.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ").concat(options.arrowheadColor,";\n  }\n\n  .edgePath .path {\n    stroke: ").concat(options.lineColor,";\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ").concat(options.lineColor,";\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ").concat(options.edgeLabelBackground,";\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ").concat(options.titleColor,";\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    font-size: 12px;\n    background: ").concat(options.tertiaryColor,";\n    border: 1px solid ").concat(options.border2,";\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ").concat(options.fillType0?"fill: ".concat(options.fillType0):"",";\n  }\n  .task-type-1, .section-type-1  {\n    ").concat(options.fillType0?"fill: ".concat(options.fillType1):"",";\n  }\n  .task-type-2, .section-type-2  {\n    ").concat(options.fillType0?"fill: ".concat(options.fillType2):"",";\n  }\n  .task-type-3, .section-type-3  {\n    ").concat(options.fillType0?"fill: ".concat(options.fillType3):"",";\n  }\n  .task-type-4, .section-type-4  {\n    ").concat(options.fillType0?"fill: ".concat(options.fillType4):"",";\n  }\n  .task-type-5, .section-type-5  {\n    ").concat(options.fillType0?"fill: ".concat(options.fillType5):"",";\n  }\n  .task-type-6, .section-type-6  {\n    ").concat(options.fillType0?"fill: ".concat(options.fillType6):"",";\n  }\n  .task-type-7, .section-type-7  {\n    ").concat(options.fillType0?"fill: ".concat(options.fillType7):"",";\n  }\n\n  .actor-0 {\n    ").concat(options.actor0?"fill: ".concat(options.actor0):"",";\n  }\n  .actor-1 {\n    ").concat(options.actor1?"fill: ".concat(options.actor1):"",";\n  }\n  .actor-2 {\n    ").concat(options.actor2?"fill: ".concat(options.actor2):"",";\n  }\n  .actor-3 {\n    ").concat(options.actor3?"fill: ".concat(options.actor3):"",";\n  }\n  .actor-4 {\n    ").concat(options.actor4?"fill: ".concat(options.actor4):"",";\n  }\n  .actor-5 {\n    ").concat(options.actor5?"fill: ".concat(options.actor5):"",";\n  }\n\n  }\n")}},"./src/diagrams/user-journey/svgDraw.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1009912__)=>{"use strict";__nested_webpack_require_1009912__.r(__nested_webpack_exports__),__nested_webpack_require_1009912__.d(__nested_webpack_exports__,{drawRect:()=>drawRect,drawFace:()=>drawFace,drawCircle:()=>drawCircle,drawText:()=>drawText,drawLabel:()=>drawLabel,drawSection:()=>drawSection,drawTask:()=>drawTask,drawBackgroundRect:()=>drawBackgroundRect,getTextObj:()=>getTextObj,getNoteRect:()=>getNoteRect,default:()=>__WEBPACK_DEFAULT_EXPORT__});var d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1009912__("d3"),drawRect=function drawRect(elem,rectData){var rectElem=elem.append("rect");return rectElem.attr("x",rectData.x),rectElem.attr("y",rectData.y),rectElem.attr("fill",rectData.fill),rectElem.attr("stroke",rectData.stroke),rectElem.attr("width",rectData.width),rectElem.attr("height",rectData.height),rectElem.attr("rx",rectData.rx),rectElem.attr("ry",rectData.ry),void 0!==rectData.class&&rectElem.attr("class",rectData.class),rectElem},drawFace=function drawFace(element,faceData){var circleElement=element.append("circle").attr("cx",faceData.cx).attr("cy",faceData.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),face=element.append("g");return face.append("circle").attr("cx",faceData.cx-5).attr("cy",faceData.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),face.append("circle").attr("cx",faceData.cx+5).attr("cy",faceData.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),faceData.score>3?function smile(face){var arc=(0,d3__WEBPACK_IMPORTED_MODULE_0__.arc)().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(15/2.2);face.append("path").attr("class","mouth").attr("d",arc).attr("transform","translate("+faceData.cx+","+(faceData.cy+2)+")")}(face):faceData.score<3?function sad(face){var arc=(0,d3__WEBPACK_IMPORTED_MODULE_0__.arc)().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(15/2.2);face.append("path").attr("class","mouth").attr("d",arc).attr("transform","translate("+faceData.cx+","+(faceData.cy+7)+")")}(face):function ambivalent(face){face.append("line").attr("class","mouth").attr("stroke",2).attr("x1",faceData.cx-5).attr("y1",faceData.cy+7).attr("x2",faceData.cx+5).attr("y2",faceData.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}(face),circleElement},drawCircle=function drawCircle(element,circleData){var circleElement=element.append("circle");return circleElement.attr("cx",circleData.cx),circleElement.attr("cy",circleData.cy),circleElement.attr("class","actor-"+circleData.pos),circleElement.attr("fill",circleData.fill),circleElement.attr("stroke",circleData.stroke),circleElement.attr("r",circleData.r),void 0!==circleElement.class&&circleElement.attr("class",circleElement.class),void 0!==circleData.title&&circleElement.append("title").text(circleData.title),circleElement},drawText=function drawText(elem,textData){var nText=textData.text.replace(/<br\s*\/?>/gi," "),textElem=elem.append("text");textElem.attr("x",textData.x),textElem.attr("y",textData.y),textElem.attr("class","legend"),textElem.style("text-anchor",textData.anchor),void 0!==textData.class&&textElem.attr("class",textData.class);var span=textElem.append("tspan");return span.attr("x",textData.x+2*textData.textMargin),span.text(nText),textElem},drawLabel=function drawLabel(elem,txtObject){var polygon=elem.append("polygon");polygon.attr("points",function genPoints(x,y,width,height,cut){return x+","+y+" "+(x+width)+","+y+" "+(x+width)+","+(y+height-cut)+" "+(x+width-1.2*cut)+","+(y+height)+" "+x+","+(y+height)}(txtObject.x,txtObject.y,50,20,7)),polygon.attr("class","labelBox"),txtObject.y=txtObject.y+txtObject.labelMargin,txtObject.x=txtObject.x+.5*txtObject.labelMargin,drawText(elem,txtObject)},drawSection=function drawSection(elem,section,conf){var g=elem.append("g"),rect=getNoteRect();rect.x=section.x,rect.y=section.y,rect.fill=section.fill,rect.width=conf.width,rect.height=conf.height,rect.class="journey-section section-type-"+section.num,rect.rx=3,rect.ry=3,drawRect(g,rect),_drawTextCandidateFunc(conf)(section.text,g,rect.x,rect.y,rect.width,rect.height,{class:"journey-section section-type-"+section.num},conf,section.colour)},taskCount=-1,drawTask=function drawTask(elem,task,conf){var center=task.x+conf.width/2,g=elem.append("g");taskCount++;g.append("line").attr("id","task"+taskCount).attr("x1",center).attr("y1",task.y).attr("x2",center).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),drawFace(g,{cx:center,cy:300+30*(5-task.score),score:task.score});var rect=getNoteRect();rect.x=task.x,rect.y=task.y,rect.fill=task.fill,rect.width=conf.width,rect.height=conf.height,rect.class="task task-type-"+task.num,rect.rx=3,rect.ry=3,drawRect(g,rect);var xPos=task.x+14;task.people.forEach((function(person){var colour=task.actors[person].color,circle={cx:xPos,cy:task.y,r:7,fill:colour,stroke:"#000",title:person,pos:task.actors[person].position};drawCircle(g,circle),xPos+=10})),_drawTextCandidateFunc(conf)(task.task,g,rect.x,rect.y,rect.width,rect.height,{class:"task"},conf,task.colour)},drawBackgroundRect=function drawBackgroundRect(elem,bounds){drawRect(elem,{x:bounds.startx,y:bounds.starty,width:bounds.stopx-bounds.startx,height:bounds.stopy-bounds.starty,fill:bounds.fill,class:"rect"}).lower()},getTextObj=function getTextObj(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},getNoteRect=function getNoteRect(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},_drawTextCandidateFunc=function(){function byText(content,g,x,y,width,height,textAttrs,colour){_setTextAttrs(g.append("text").attr("x",x+width/2).attr("y",y+height/2+5).style("font-color",colour).style("text-anchor","middle").text(content),textAttrs)}function byTspan(content,g,x,y,width,height,textAttrs,conf,colour){for(var taskFontSize=conf.taskFontSize,taskFontFamily=conf.taskFontFamily,lines=content.split(/<br\s*\/?>/gi),i=0;i<lines.length;i++){var dy=i*taskFontSize-taskFontSize*(lines.length-1)/2,text=g.append("text").attr("x",x+width/2).attr("y",y).attr("fill",colour).style("text-anchor","middle").style("font-size",taskFontSize).style("font-family",taskFontFamily);text.append("tspan").attr("x",x+width/2).attr("dy",dy).text(lines[i]),text.attr("y",y+height/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),_setTextAttrs(text,textAttrs)}}function byFo(content,g,x,y,width,height,textAttrs,conf){var body=g.append("switch"),text=body.append("foreignObject").attr("x",x).attr("y",y).attr("width",width).attr("height",height).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");text.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(content),byTspan(content,body,x,y,width,height,textAttrs,conf),_setTextAttrs(text,textAttrs)}function _setTextAttrs(toText,fromTextAttrsDict){for(var key in fromTextAttrsDict)key in fromTextAttrsDict&&toText.attr(key,fromTextAttrsDict[key])}return function(conf){return"fo"===conf.textPlacement?byFo:"old"===conf.textPlacement?byText:byTspan}}();const __WEBPACK_DEFAULT_EXPORT__={drawRect,drawCircle,drawSection,drawText,drawLabel,drawTask,drawBackgroundRect,getTextObj,getNoteRect,initGraphics:function initGraphics(graphics){graphics.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")}}},"./src/errorRenderer.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1021867__)=>{"use strict";__nested_webpack_require_1021867__.r(__nested_webpack_exports__),__nested_webpack_require_1021867__.d(__nested_webpack_exports__,{setConf:()=>setConf,draw:()=>draw,default:()=>__WEBPACK_DEFAULT_EXPORT__});var d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1021867__("d3"),_logger__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_1021867__("./src/logger.js"),conf={},setConf=function setConf(cnf){Object.keys(cnf).forEach((function(key){conf[key]=cnf[key]}))},draw=function draw(id,ver){try{_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Renering svg for syntax error\n");var svg=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("#"+id),g=svg.append("g");g.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),g.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),g.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),g.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),g.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),g.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),g.append("text").attr("class","error-text").attr("x",1240).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),g.append("text").attr("class","error-text").attr("x",1050).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+ver),svg.attr("height",100),svg.attr("width",400),svg.attr("viewBox","768 0 512 512")}catch(e){_logger__WEBPACK_IMPORTED_MODULE_1__.log.error("Error while rendering info diagram"),_logger__WEBPACK_IMPORTED_MODULE_1__.log.error(e.message)}};const __WEBPACK_DEFAULT_EXPORT__={setConf,draw}},"./src/interactionDb.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1026033__)=>{"use strict";__nested_webpack_require_1026033__.r(__nested_webpack_exports__),__nested_webpack_require_1026033__.d(__nested_webpack_exports__,{addFunction:()=>addFunction,attachFunctions:()=>attachFunctions});var interactionFunctions=[],addFunction=function addFunction(func){interactionFunctions.push(func)},attachFunctions=function attachFunctions(){interactionFunctions.forEach((function(f){f()})),interactionFunctions=[]}},"./src/logger.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1026799__)=>{"use strict";__nested_webpack_require_1026799__.r(__nested_webpack_exports__),__nested_webpack_require_1026799__.d(__nested_webpack_exports__,{LEVELS:()=>LEVELS,log:()=>log,setLogLevel:()=>setLogLevel});var moment_mini__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1026799__("moment-mini"),moment_mini__WEBPACK_IMPORTED_MODULE_0___default=__nested_webpack_require_1026799__.n(moment_mini__WEBPACK_IMPORTED_MODULE_0__),LEVELS={debug:1,info:2,warn:3,error:4,fatal:5},log={debug:function debug(){},info:function info(){},warn:function warn(){},error:function error(){},fatal:function fatal(){}},setLogLevel=function setLogLevel(){var level=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fatal";isNaN(level)&&(level=level.toLowerCase(),void 0!==LEVELS[level]&&(level=LEVELS[level])),log.trace=function(){},log.debug=function(){},log.info=function(){},log.warn=function(){},log.error=function(){},log.fatal=function(){},level<=LEVELS.fatal&&(log.fatal=console.error?console.error.bind(console,format("FATAL"),"color: orange"):console.log.bind(console,"[35m",format("FATAL"))),level<=LEVELS.error&&(log.error=console.error?console.error.bind(console,format("ERROR"),"color: orange"):console.log.bind(console,"[31m",format("ERROR"))),level<=LEVELS.warn&&(log.warn=console.warn?console.warn.bind(console,format("WARN"),"color: orange"):console.log.bind(console,"[33m",format("WARN"))),level<=LEVELS.info&&(log.info=console.info?console.info.bind(console,format("INFO"),"color: lightblue"):console.log.bind(console,"[34m",format("INFO"))),level<=LEVELS.debug&&(log.debug=console.debug?console.debug.bind(console,format("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",format("DEBUG")))},format=function format(level){var time=moment_mini__WEBPACK_IMPORTED_MODULE_0___default()().format("ss.SSS");return"%c".concat(time," : ").concat(level," : ")}},"./src/mermaid.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1029952__)=>{"use strict";__nested_webpack_require_1029952__.r(__nested_webpack_exports__),__nested_webpack_require_1029952__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _logger__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_1029952__("./src/logger.js"),_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1029952__("./src/mermaidAPI.js"),_utils__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_1029952__("./src/utils.js"),contentLoaded=function contentLoaded(){mermaid.startOnLoad?_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default.getConfig().startOnLoad&&mermaid.init():void 0===mermaid.startOnLoad&&(_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("In start, no config"),_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default.getConfig().startOnLoad&&mermaid.init())};"undefined"!=typeof document&&window.addEventListener("load",(function(){contentLoaded()}),!1);var mermaid={startOnLoad:!0,htmlLabels:!0,mermaidAPI:_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default,parse:_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default.parse,render:_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default.render,init:function init(){var nodes,callback,_this=this,conf=_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default.getConfig();arguments.length>=2?(void 0!==arguments[0]&&(mermaid.sequenceConfig=arguments[0]),nodes=arguments[1]):nodes=arguments[0],"function"==typeof arguments[arguments.length-1]?(callback=arguments[arguments.length-1],_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Callback function found")):void 0!==conf.mermaid&&("function"==typeof conf.mermaid.callback?(callback=conf.mermaid.callback,_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Callback function found")):_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("No Callback function found")),nodes=void 0===nodes?document.querySelectorAll(".mermaid"):"string"==typeof nodes?document.querySelectorAll(nodes):nodes instanceof window.Node?[nodes]:nodes,_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Start On Load before: "+mermaid.startOnLoad),void 0!==mermaid.startOnLoad&&(_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Start On Load inner: "+mermaid.startOnLoad),_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default.updateSiteConfig({startOnLoad:mermaid.startOnLoad})),void 0!==mermaid.ganttConfig&&_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default.updateSiteConfig({gantt:mermaid.ganttConfig});for(var txt,idGeneratior=new _utils__WEBPACK_IMPORTED_MODULE_2__.default.initIdGeneratior(conf.deterministicIds,conf.deterministicIDSeed),_loop=function _loop(i){var element=nodes[i];if(element.getAttribute("data-processed"))return"continue";element.setAttribute("data-processed",!0);var id="mermaid-".concat(idGeneratior.next());txt=element.innerHTML,txt=_utils__WEBPACK_IMPORTED_MODULE_2__.default.entityDecode(txt).trim().replace(/<br\s*\/?>/gi,"<br/>");var init=_utils__WEBPACK_IMPORTED_MODULE_2__.default.detectInit(txt);init&&_logger__WEBPACK_IMPORTED_MODULE_1__.log.debug("Detected early reinit: ",init);try{_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default.render(id,txt,(function(svgCode,bindFunctions){element.innerHTML=svgCode,void 0!==callback&&callback(id),bindFunctions&&bindFunctions(element)}),element)}catch(e){_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn("Syntax Error rendering"),_logger__WEBPACK_IMPORTED_MODULE_1__.log.warn(e),_this.parseError&&_this.parseError(e)}},i=0;i<nodes.length;i++)_loop(i)},initialize:function initialize(config){void 0!==config.mermaid&&(void 0!==config.mermaid.startOnLoad&&(mermaid.startOnLoad=config.mermaid.startOnLoad),void 0!==config.mermaid.htmlLabels&&(mermaid.htmlLabels="false"!==config.mermaid.htmlLabels&&!1!==config.mermaid.htmlLabels)),_mermaidAPI__WEBPACK_IMPORTED_MODULE_0__.default.initialize(config)},contentLoaded};const __WEBPACK_DEFAULT_EXPORT__=mermaid},"./src/mermaidAPI.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1037000__)=>{"use strict";__nested_webpack_require_1037000__.r(__nested_webpack_exports__),__nested_webpack_require_1037000__.d(__nested_webpack_exports__,{encodeEntities:()=>encodeEntities,decodeEntities:()=>decodeEntities,default:()=>__WEBPACK_DEFAULT_EXPORT__});var d3__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1037000__("d3"),stylis__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_1037000__("stylis"),_package_json__WEBPACK_IMPORTED_MODULE_38__=__nested_webpack_require_1037000__("./package.json"),_config__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_1037000__("./src/config.js"),_diagrams_class_classDb__WEBPACK_IMPORTED_MODULE_14__=__nested_webpack_require_1037000__("./src/diagrams/class/classDb.js"),_diagrams_class_classRenderer__WEBPACK_IMPORTED_MODULE_33__=__nested_webpack_require_1037000__("./src/diagrams/class/classRenderer.js"),_diagrams_class_classRenderer_v2__WEBPACK_IMPORTED_MODULE_34__=__nested_webpack_require_1037000__("./src/diagrams/class/classRenderer-v2.js"),_diagrams_class_parser_classDiagram__WEBPACK_IMPORTED_MODULE_13__=__nested_webpack_require_1037000__("./src/diagrams/class/parser/classDiagram.jison"),_diagrams_class_parser_classDiagram__WEBPACK_IMPORTED_MODULE_13___default=__nested_webpack_require_1037000__.n(_diagrams_class_parser_classDiagram__WEBPACK_IMPORTED_MODULE_13__),_diagrams_er_erDb__WEBPACK_IMPORTED_MODULE_22__=__nested_webpack_require_1037000__("./src/diagrams/er/erDb.js"),_diagrams_er_erRenderer__WEBPACK_IMPORTED_MODULE_40__=__nested_webpack_require_1037000__("./src/diagrams/er/erRenderer.js"),_diagrams_er_parser_erDiagram__WEBPACK_IMPORTED_MODULE_21__=__nested_webpack_require_1037000__("./src/diagrams/er/parser/erDiagram.jison"),_diagrams_er_parser_erDiagram__WEBPACK_IMPORTED_MODULE_21___default=__nested_webpack_require_1037000__.n(_diagrams_er_parser_erDiagram__WEBPACK_IMPORTED_MODULE_21__),_diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_1037000__("./src/diagrams/flowchart/flowDb.js"),_diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_27__=__nested_webpack_require_1037000__("./src/diagrams/flowchart/flowRenderer.js"),_diagrams_flowchart_flowRenderer_v2__WEBPACK_IMPORTED_MODULE_30__=__nested_webpack_require_1037000__("./src/diagrams/flowchart/flowRenderer-v2.js"),_diagrams_flowchart_parser_flow__WEBPACK_IMPORTED_MODULE_8__=__nested_webpack_require_1037000__("./src/diagrams/flowchart/parser/flow.jison"),_diagrams_flowchart_parser_flow__WEBPACK_IMPORTED_MODULE_8___default=__nested_webpack_require_1037000__.n(_diagrams_flowchart_parser_flow__WEBPACK_IMPORTED_MODULE_8__),_diagrams_gantt_ganttDb__WEBPACK_IMPORTED_MODULE_12__=__nested_webpack_require_1037000__("./src/diagrams/gantt/ganttDb.js"),_diagrams_gantt_ganttRenderer__WEBPACK_IMPORTED_MODULE_32__=__nested_webpack_require_1037000__("./src/diagrams/gantt/ganttRenderer.js"),_diagrams_gantt_parser_gantt__WEBPACK_IMPORTED_MODULE_11__=__nested_webpack_require_1037000__("./src/diagrams/gantt/parser/gantt.jison"),_diagrams_gantt_parser_gantt__WEBPACK_IMPORTED_MODULE_11___default=__nested_webpack_require_1037000__.n(_diagrams_gantt_parser_gantt__WEBPACK_IMPORTED_MODULE_11__),_diagrams_git_gitGraphAst__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_1037000__("./src/diagrams/git/gitGraphAst.js"),_diagrams_git_gitGraphRenderer__WEBPACK_IMPORTED_MODULE_29__=__nested_webpack_require_1037000__("./src/diagrams/git/gitGraphRenderer.js"),_diagrams_git_parser_gitGraph__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_1037000__("./src/diagrams/git/parser/gitGraph.jison"),_diagrams_git_parser_gitGraph__WEBPACK_IMPORTED_MODULE_5___default=__nested_webpack_require_1037000__.n(_diagrams_git_parser_gitGraph__WEBPACK_IMPORTED_MODULE_5__),_diagrams_info_infoDb__WEBPACK_IMPORTED_MODULE_18__=__nested_webpack_require_1037000__("./src/diagrams/info/infoDb.js"),_diagrams_info_infoRenderer__WEBPACK_IMPORTED_MODULE_37__=__nested_webpack_require_1037000__("./src/diagrams/info/infoRenderer.js"),_diagrams_info_parser_info__WEBPACK_IMPORTED_MODULE_17__=__nested_webpack_require_1037000__("./src/diagrams/info/parser/info.jison"),_diagrams_info_parser_info__WEBPACK_IMPORTED_MODULE_17___default=__nested_webpack_require_1037000__.n(_diagrams_info_parser_info__WEBPACK_IMPORTED_MODULE_17__),_diagrams_pie_parser_pie__WEBPACK_IMPORTED_MODULE_19__=__nested_webpack_require_1037000__("./src/diagrams/pie/parser/pie.jison"),_diagrams_pie_parser_pie__WEBPACK_IMPORTED_MODULE_19___default=__nested_webpack_require_1037000__.n(_diagrams_pie_parser_pie__WEBPACK_IMPORTED_MODULE_19__),_diagrams_pie_pieDb__WEBPACK_IMPORTED_MODULE_20__=__nested_webpack_require_1037000__("./src/diagrams/pie/pieDb.js"),_diagrams_pie_pieRenderer__WEBPACK_IMPORTED_MODULE_39__=__nested_webpack_require_1037000__("./src/diagrams/pie/pieRenderer.js"),_diagrams_requirement_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_25__=__nested_webpack_require_1037000__("./src/diagrams/requirement/parser/requirementDiagram.jison"),_diagrams_requirement_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_25___default=__nested_webpack_require_1037000__.n(_diagrams_requirement_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_25__),_diagrams_requirement_requirementDb__WEBPACK_IMPORTED_MODULE_26__=__nested_webpack_require_1037000__("./src/diagrams/requirement/requirementDb.js"),_diagrams_requirement_requirementRenderer__WEBPACK_IMPORTED_MODULE_42__=__nested_webpack_require_1037000__("./src/diagrams/requirement/requirementRenderer.js"),_diagrams_sequence_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_9__=__nested_webpack_require_1037000__("./src/diagrams/sequence/parser/sequenceDiagram.jison"),_diagrams_sequence_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_9___default=__nested_webpack_require_1037000__.n(_diagrams_sequence_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_9__),_diagrams_sequence_sequenceDb__WEBPACK_IMPORTED_MODULE_10__=__nested_webpack_require_1037000__("./src/diagrams/sequence/sequenceDb.js"),_diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_31__=__nested_webpack_require_1037000__("./src/diagrams/sequence/sequenceRenderer.js"),_diagrams_state_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_15__=__nested_webpack_require_1037000__("./src/diagrams/state/parser/stateDiagram.jison"),_diagrams_state_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_15___default=__nested_webpack_require_1037000__.n(_diagrams_state_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_15__),_diagrams_state_stateDb__WEBPACK_IMPORTED_MODULE_16__=__nested_webpack_require_1037000__("./src/diagrams/state/stateDb.js"),_diagrams_state_stateRenderer__WEBPACK_IMPORTED_MODULE_35__=__nested_webpack_require_1037000__("./src/diagrams/state/stateRenderer.js"),_diagrams_state_stateRenderer_v2__WEBPACK_IMPORTED_MODULE_36__=__nested_webpack_require_1037000__("./src/diagrams/state/stateRenderer-v2.js"),_diagrams_user_journey_journeyDb__WEBPACK_IMPORTED_MODULE_24__=__nested_webpack_require_1037000__("./src/diagrams/user-journey/journeyDb.js"),_diagrams_user_journey_journeyRenderer__WEBPACK_IMPORTED_MODULE_41__=__nested_webpack_require_1037000__("./src/diagrams/user-journey/journeyRenderer.js"),_diagrams_user_journey_parser_journey__WEBPACK_IMPORTED_MODULE_23__=__nested_webpack_require_1037000__("./src/diagrams/user-journey/parser/journey.jison"),_diagrams_user_journey_parser_journey__WEBPACK_IMPORTED_MODULE_23___default=__nested_webpack_require_1037000__.n(_diagrams_user_journey_parser_journey__WEBPACK_IMPORTED_MODULE_23__),_errorRenderer__WEBPACK_IMPORTED_MODULE_43__=__nested_webpack_require_1037000__("./src/errorRenderer.js"),_interactionDb__WEBPACK_IMPORTED_MODULE_44__=__nested_webpack_require_1037000__("./src/interactionDb.js"),_logger__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_1037000__("./src/logger.js"),_styles__WEBPACK_IMPORTED_MODULE_28__=__nested_webpack_require_1037000__("./src/styles.js"),_themes__WEBPACK_IMPORTED_MODULE_45__=__nested_webpack_require_1037000__("./src/themes/index.js"),_utils__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_1037000__("./src/utils.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var encodeEntities=function encodeEntities(text){var txt=text;return txt=(txt=(txt=txt.replace(/style.*:\S*#.*;/g,(function(s){return s.substring(0,s.length-1)}))).replace(/classDef.*:\S*#.*;/g,(function(s){return s.substring(0,s.length-1)}))).replace(/#\w+;/g,(function(s){var innerTxt=s.substring(1,s.length-1);return/^\+?\d+$/.test(innerTxt)?""+innerTxt+"":""+innerTxt+""}))},decodeEntities=function decodeEntities(text){var txt=text;return txt=(txt=(txt=txt.replace(//g,(function(){return"&#"}))).replace(//g,(function(){return"&"}))).replace(//g,(function(){return";"}))},currentDirective={},handleDirective=function handleDirective(p,directive,type){switch(_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Directive type=".concat(directive.type," with args:"),directive.args),directive.type){case"init":case"initialize":["config"].forEach((function(prop){void 0!==directive.args[prop]&&("flowchart-v2"===type&&(type="flowchart"),directive.args[type]=directive.args[prop],delete directive.args[prop])})),_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("sanitize in handleDirective",directive.args),(0,_utils__WEBPACK_IMPORTED_MODULE_3__.directiveSanitizer)(directive.args),_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("sanitize in handleDirective (done)",directive.args),directive.args,_config__WEBPACK_IMPORTED_MODULE_2__.addDirective(directive.args);break;case"wrap":case"nowrap":p&&p.setWrap&&p.setWrap("wrap"===directive.type);break;case"themeCss":_logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("themeCss encountered");break;default:_logger__WEBPACK_IMPORTED_MODULE_4__.log.warn("Unhandled directive: source: '%%{".concat(directive.type,": ").concat(JSON.stringify(directive.args?directive.args:{}),"}%%"),directive)}};function updateRendererConfigs(conf){_diagrams_git_gitGraphRenderer__WEBPACK_IMPORTED_MODULE_29__.default.setConf(conf.git),_diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_27__.default.setConf(conf.flowchart),_diagrams_flowchart_flowRenderer_v2__WEBPACK_IMPORTED_MODULE_30__.default.setConf(conf.flowchart),void 0!==conf.sequenceDiagram&&_diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_31__.default.setConf((0,_utils__WEBPACK_IMPORTED_MODULE_3__.assignWithDepth)(conf.sequence,conf.sequenceDiagram)),_diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_31__.default.setConf(conf.sequence),_diagrams_gantt_ganttRenderer__WEBPACK_IMPORTED_MODULE_32__.default.setConf(conf.gantt),_diagrams_class_classRenderer__WEBPACK_IMPORTED_MODULE_33__.default.setConf(conf.class),_diagrams_state_stateRenderer__WEBPACK_IMPORTED_MODULE_35__.default.setConf(conf.state),_diagrams_state_stateRenderer_v2__WEBPACK_IMPORTED_MODULE_36__.default.setConf(conf.state),_diagrams_info_infoRenderer__WEBPACK_IMPORTED_MODULE_37__.default.setConf(conf.class),_diagrams_er_erRenderer__WEBPACK_IMPORTED_MODULE_40__.default.setConf(conf.er),_diagrams_user_journey_journeyRenderer__WEBPACK_IMPORTED_MODULE_41__.default.setConf(conf.journey),_diagrams_requirement_requirementRenderer__WEBPACK_IMPORTED_MODULE_42__.default.setConf(conf.requirement),_errorRenderer__WEBPACK_IMPORTED_MODULE_43__.default.setConf(conf.class)}function reinitialize(){}var mermaidAPI=Object.freeze({render:function render(id,_txt,cb,container){_config__WEBPACK_IMPORTED_MODULE_2__.reset();var txt=_txt,graphInit=_utils__WEBPACK_IMPORTED_MODULE_3__.default.detectInit(txt);graphInit&&((0,_utils__WEBPACK_IMPORTED_MODULE_3__.directiveSanitizer)(graphInit),_config__WEBPACK_IMPORTED_MODULE_2__.addDirective(graphInit));var cnf=_config__WEBPACK_IMPORTED_MODULE_2__.getConfig();_txt.length>cnf.maxTextSize&&(txt="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");var root=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");if(void 0!==container){if("sandbox"===cnf.securityLevel){var iframe=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("body").append("iframe").attr("id","i"+id).attr("style","width: 100%; height: 100%;").attr("sandbox","");(root=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(iframe.nodes()[0].contentDocument.body)).node().style.margin=0}if(container.innerHTML="","sandbox"===cnf.securityLevel){var _iframe=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(container).append("iframe").attr("id","i"+id).attr("style","width: 100%; height: 100%;").attr("sandbox","");(root=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(_iframe.nodes()[0].contentDocument.body)).node().style.margin=0}else root=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(container);root.append("div").attr("id","d"+id).attr("style","font-family: "+cnf.fontFamily).append("svg").attr("id",id).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}else{var _element,existingSvg=document.getElementById(id);if(existingSvg&&existingSvg.remove(),(_element="sandbox"!==cnf.securityLevel?document.querySelector("#d"+id):document.querySelector("#i"+id))&&_element.remove(),"sandbox"===cnf.securityLevel){var _iframe2=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("body").append("iframe").attr("id","i"+id).attr("style","width: 100%; height: 100%;").attr("sandbox","");(root=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(_iframe2.nodes()[0].contentDocument.body)).node().style.margin=0}else root=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)("body");root.append("div").attr("id","d"+id).append("svg").attr("id",id).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}txt=encodeEntities(txt);var element=root.select("#d"+id).node(),graphType=_utils__WEBPACK_IMPORTED_MODULE_3__.default.detectType(txt,cnf),svg=element.firstChild,firstChild=svg.firstChild,userStyles="";if(void 0!==cnf.themeCSS&&(userStyles+="\n".concat(cnf.themeCSS)),void 0!==cnf.fontFamily&&(userStyles+="\n:root { --mermaid-font-family: ".concat(cnf.fontFamily,"}")),void 0!==cnf.altFontFamily&&(userStyles+="\n:root { --mermaid-alt-font-family: ".concat(cnf.altFontFamily,"}")),"flowchart"===graphType||"flowchart-v2"===graphType||"graph"===graphType){var classes=_diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_27__.default.getClasses(txt),htmlLabels=cnf.htmlLabels||cnf.flowchart.htmlLabels;for(var className in classes)htmlLabels?(userStyles+="\n.".concat(className," > * { ").concat(classes[className].styles.join(" !important; ")," !important; }"),userStyles+="\n.".concat(className," span { ").concat(classes[className].styles.join(" !important; ")," !important; }")):(userStyles+="\n.".concat(className," path { ").concat(classes[className].styles.join(" !important; ")," !important; }"),userStyles+="\n.".concat(className," rect { ").concat(classes[className].styles.join(" !important; ")," !important; }"),userStyles+="\n.".concat(className," polygon { ").concat(classes[className].styles.join(" !important; ")," !important; }"),userStyles+="\n.".concat(className," ellipse { ").concat(classes[className].styles.join(" !important; ")," !important; }"),userStyles+="\n.".concat(className," circle { ").concat(classes[className].styles.join(" !important; ")," !important; }"),classes[className].textStyles&&(userStyles+="\n.".concat(className," tspan { ").concat(classes[className].textStyles.join(" !important; ")," !important; }")))}var rules=function stylis(selector,styles){return(0,stylis__WEBPACK_IMPORTED_MODULE_1__.serialize)((0,stylis__WEBPACK_IMPORTED_MODULE_1__.compile)("".concat(selector,"{").concat(styles,"}")),stylis__WEBPACK_IMPORTED_MODULE_1__.stringify)}("#".concat(id),(0,_styles__WEBPACK_IMPORTED_MODULE_28__.default)(graphType,userStyles,cnf.themeVariables)),style1=document.createElement("style");style1.innerHTML="#".concat(id," ")+rules,svg.insertBefore(style1,firstChild);try{switch(graphType){case"git":cnf.flowchart.arrowMarkerAbsolute=cnf.arrowMarkerAbsolute,_diagrams_git_gitGraphRenderer__WEBPACK_IMPORTED_MODULE_29__.default.setConf(cnf.git),_diagrams_git_gitGraphRenderer__WEBPACK_IMPORTED_MODULE_29__.default.draw(txt,id,!1);break;case"flowchart":cnf.flowchart.arrowMarkerAbsolute=cnf.arrowMarkerAbsolute,_diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_27__.default.setConf(cnf.flowchart),_diagrams_flowchart_flowRenderer__WEBPACK_IMPORTED_MODULE_27__.default.draw(txt,id,!1);break;case"flowchart-v2":cnf.flowchart.arrowMarkerAbsolute=cnf.arrowMarkerAbsolute,_diagrams_flowchart_flowRenderer_v2__WEBPACK_IMPORTED_MODULE_30__.default.setConf(cnf.flowchart),_diagrams_flowchart_flowRenderer_v2__WEBPACK_IMPORTED_MODULE_30__.default.draw(txt,id,!1);break;case"sequence":cnf.sequence.arrowMarkerAbsolute=cnf.arrowMarkerAbsolute,cnf.sequenceDiagram?(_diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_31__.default.setConf(Object.assign(cnf.sequence,cnf.sequenceDiagram)),console.error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.")):_diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_31__.default.setConf(cnf.sequence),_diagrams_sequence_sequenceRenderer__WEBPACK_IMPORTED_MODULE_31__.default.draw(txt,id);break;case"gantt":cnf.gantt.arrowMarkerAbsolute=cnf.arrowMarkerAbsolute,_diagrams_gantt_ganttRenderer__WEBPACK_IMPORTED_MODULE_32__.default.setConf(cnf.gantt),_diagrams_gantt_ganttRenderer__WEBPACK_IMPORTED_MODULE_32__.default.draw(txt,id);break;case"class":cnf.class.arrowMarkerAbsolute=cnf.arrowMarkerAbsolute,_diagrams_class_classRenderer__WEBPACK_IMPORTED_MODULE_33__.default.setConf(cnf.class),_diagrams_class_classRenderer__WEBPACK_IMPORTED_MODULE_33__.default.draw(txt,id);break;case"classDiagram":cnf.class.arrowMarkerAbsolute=cnf.arrowMarkerAbsolute,_diagrams_class_classRenderer_v2__WEBPACK_IMPORTED_MODULE_34__.default.setConf(cnf.class),_diagrams_class_classRenderer_v2__WEBPACK_IMPORTED_MODULE_34__.default.draw(txt,id);break;case"state":cnf.class.arrowMarkerAbsolute=cnf.arrowMarkerAbsolute,_diagrams_state_stateRenderer__WEBPACK_IMPORTED_MODULE_35__.default.setConf(cnf.state),_diagrams_state_stateRenderer__WEBPACK_IMPORTED_MODULE_35__.default.draw(txt,id);break;case"stateDiagram":cnf.class.arrowMarkerAbsolute=cnf.arrowMarkerAbsolute,_diagrams_state_stateRenderer_v2__WEBPACK_IMPORTED_MODULE_36__.default.setConf(cnf.state),_diagrams_state_stateRenderer_v2__WEBPACK_IMPORTED_MODULE_36__.default.draw(txt,id);break;case"info":cnf.class.arrowMarkerAbsolute=cnf.arrowMarkerAbsolute,_diagrams_info_infoRenderer__WEBPACK_IMPORTED_MODULE_37__.default.setConf(cnf.class),_diagrams_info_infoRenderer__WEBPACK_IMPORTED_MODULE_37__.default.draw(txt,id,_package_json__WEBPACK_IMPORTED_MODULE_38__.version);break;case"pie":_diagrams_pie_pieRenderer__WEBPACK_IMPORTED_MODULE_39__.default.draw(txt,id,_package_json__WEBPACK_IMPORTED_MODULE_38__.version);break;case"er":_diagrams_er_erRenderer__WEBPACK_IMPORTED_MODULE_40__.default.setConf(cnf.er),_diagrams_er_erRenderer__WEBPACK_IMPORTED_MODULE_40__.default.draw(txt,id,_package_json__WEBPACK_IMPORTED_MODULE_38__.version);break;case"journey":_diagrams_user_journey_journeyRenderer__WEBPACK_IMPORTED_MODULE_41__.default.setConf(cnf.journey),_diagrams_user_journey_journeyRenderer__WEBPACK_IMPORTED_MODULE_41__.default.draw(txt,id,_package_json__WEBPACK_IMPORTED_MODULE_38__.version);break;case"requirement":_diagrams_requirement_requirementRenderer__WEBPACK_IMPORTED_MODULE_42__.default.setConf(cnf.requirement),_diagrams_requirement_requirementRenderer__WEBPACK_IMPORTED_MODULE_42__.default.draw(txt,id,_package_json__WEBPACK_IMPORTED_MODULE_38__.version)}}catch(e){throw _errorRenderer__WEBPACK_IMPORTED_MODULE_43__.default.draw(id,_package_json__WEBPACK_IMPORTED_MODULE_38__.version),e}root.select('[id="'.concat(id,'"]')).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");var svgCode=root.select("#d"+id).node().innerHTML;if(_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("cnf.arrowMarkerAbsolute",cnf.arrowMarkerAbsolute),cnf.arrowMarkerAbsolute&&"false"!==cnf.arrowMarkerAbsolute||"sandbox"===cnf.arrowMarkerAbsolute||(svgCode=svgCode.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),svgCode=(svgCode=decodeEntities(svgCode)).replace(/<br>/g,"<br/>"),"sandbox"===cnf.securityLevel){var svgEl=root.select("#d"+id+" svg").node(),height="100%";svgEl&&(height=svgEl.viewBox.baseVal.height+"px"),svgCode='<iframe style="width:'.concat("100%",";height:").concat(height,';border:0;margin:0;" src="data:text/html;base64,').concat(btoa('<body style="margin:0">'+svgCode+"</body>"),'" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The iframe tag is not supported by your browser.\n</iframe>')}if(void 0!==cb)switch(graphType){case"flowchart":case"flowchart-v2":cb(svgCode,_diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_7__.default.bindFunctions);break;case"gantt":cb(svgCode,_diagrams_gantt_ganttDb__WEBPACK_IMPORTED_MODULE_12__.default.bindFunctions);break;case"class":case"classDiagram":cb(svgCode,_diagrams_class_classDb__WEBPACK_IMPORTED_MODULE_14__.default.bindFunctions);break;default:cb(svgCode)}else _logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("CB = undefined!");(0,_interactionDb__WEBPACK_IMPORTED_MODULE_44__.attachFunctions)();var tmpElementSelector="sandbox"===cnf.securityLevel?"#i"+id:"#d"+id,node=(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(tmpElementSelector).node();return null!==node&&"function"==typeof node.remove&&(0,d3__WEBPACK_IMPORTED_MODULE_0__.select)(tmpElementSelector).node().remove(),svgCode},parse:function parse(text){var cnf=_config__WEBPACK_IMPORTED_MODULE_2__.getConfig(),graphInit=_utils__WEBPACK_IMPORTED_MODULE_3__.default.detectInit(text,cnf);graphInit&&_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("reinit ",graphInit);var parser,graphType=_utils__WEBPACK_IMPORTED_MODULE_3__.default.detectType(text,cnf);switch(_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Type "+graphType),graphType){case"git":(parser=_diagrams_git_parser_gitGraph__WEBPACK_IMPORTED_MODULE_5___default()).parser.yy=_diagrams_git_gitGraphAst__WEBPACK_IMPORTED_MODULE_6__.default;break;case"flowchart":case"flowchart-v2":_diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_7__.default.clear(),(parser=_diagrams_flowchart_parser_flow__WEBPACK_IMPORTED_MODULE_8___default()).parser.yy=_diagrams_flowchart_flowDb__WEBPACK_IMPORTED_MODULE_7__.default;break;case"sequence":(parser=_diagrams_sequence_parser_sequenceDiagram__WEBPACK_IMPORTED_MODULE_9___default()).parser.yy=_diagrams_sequence_sequenceDb__WEBPACK_IMPORTED_MODULE_10__.default;break;case"gantt":(parser=_diagrams_gantt_parser_gantt__WEBPACK_IMPORTED_MODULE_11___default()).parser.yy=_diagrams_gantt_ganttDb__WEBPACK_IMPORTED_MODULE_12__.default;break;case"class":case"classDiagram":(parser=_diagrams_class_parser_classDiagram__WEBPACK_IMPORTED_MODULE_13___default()).parser.yy=_diagrams_class_classDb__WEBPACK_IMPORTED_MODULE_14__.default;break;case"state":case"stateDiagram":(parser=_diagrams_state_parser_stateDiagram__WEBPACK_IMPORTED_MODULE_15___default()).parser.yy=_diagrams_state_stateDb__WEBPACK_IMPORTED_MODULE_16__.default;break;case"info":_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("info info info"),(parser=_diagrams_info_parser_info__WEBPACK_IMPORTED_MODULE_17___default()).parser.yy=_diagrams_info_infoDb__WEBPACK_IMPORTED_MODULE_18__.default;break;case"pie":_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("pie"),(parser=_diagrams_pie_parser_pie__WEBPACK_IMPORTED_MODULE_19___default()).parser.yy=_diagrams_pie_pieDb__WEBPACK_IMPORTED_MODULE_20__.default;break;case"er":_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("er"),(parser=_diagrams_er_parser_erDiagram__WEBPACK_IMPORTED_MODULE_21___default()).parser.yy=_diagrams_er_erDb__WEBPACK_IMPORTED_MODULE_22__.default;break;case"journey":_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("Journey"),(parser=_diagrams_user_journey_parser_journey__WEBPACK_IMPORTED_MODULE_23___default()).parser.yy=_diagrams_user_journey_journeyDb__WEBPACK_IMPORTED_MODULE_24__.default;break;case"requirement":case"requirementDiagram":_logger__WEBPACK_IMPORTED_MODULE_4__.log.debug("RequirementDiagram"),(parser=_diagrams_requirement_parser_requirementDiagram__WEBPACK_IMPORTED_MODULE_25___default()).parser.yy=_diagrams_requirement_requirementDb__WEBPACK_IMPORTED_MODULE_26__.default}return parser.parser.yy.graphType=graphType,parser.parser.yy.parseError=function(str,hash){throw{str,hash}},parser.parse(text),parser},parseDirective:function parseDirective(p,statement,context,type){try{if(void 0!==statement)switch(statement=statement.trim(),context){case"open_directive":currentDirective={};break;case"type_directive":currentDirective.type=statement.toLowerCase();break;case"arg_directive":currentDirective.args=JSON.parse(statement);break;case"close_directive":handleDirective(p,currentDirective,type),currentDirective=null}}catch(error){_logger__WEBPACK_IMPORTED_MODULE_4__.log.error("Error while rendering sequenceDiagram directive: ".concat(statement," jison context: ").concat(context)),_logger__WEBPACK_IMPORTED_MODULE_4__.log.error(error.message)}},initialize:function initialize(options){options&&options.fontFamily&&(options.themeVariables&&options.themeVariables.fontFamily||(options.themeVariables={fontFamily:options.fontFamily})),_config__WEBPACK_IMPORTED_MODULE_2__.saveConfigFromInitilize(options),options&&options.theme&&_themes__WEBPACK_IMPORTED_MODULE_45__.default[options.theme]?options.themeVariables=_themes__WEBPACK_IMPORTED_MODULE_45__.default[options.theme].getThemeVariables(options.themeVariables):options&&(options.themeVariables=_themes__WEBPACK_IMPORTED_MODULE_45__.default.default.getThemeVariables(options.themeVariables));var config="object"===_typeof(options)?_config__WEBPACK_IMPORTED_MODULE_2__.setSiteConfig(options):_config__WEBPACK_IMPORTED_MODULE_2__.getSiteConfig();updateRendererConfigs(config),(0,_logger__WEBPACK_IMPORTED_MODULE_4__.setLogLevel)(config.logLevel)},reinitialize,getConfig:_config__WEBPACK_IMPORTED_MODULE_2__.getConfig,setConfig:_config__WEBPACK_IMPORTED_MODULE_2__.setConfig,getSiteConfig:_config__WEBPACK_IMPORTED_MODULE_2__.getSiteConfig,updateSiteConfig:_config__WEBPACK_IMPORTED_MODULE_2__.updateSiteConfig,reset:function reset(){_config__WEBPACK_IMPORTED_MODULE_2__.reset()},globalReset:function globalReset(){_config__WEBPACK_IMPORTED_MODULE_2__.reset(_config__WEBPACK_IMPORTED_MODULE_2__.defaultConfig),updateRendererConfigs(_config__WEBPACK_IMPORTED_MODULE_2__.getConfig())},defaultConfig:_config__WEBPACK_IMPORTED_MODULE_2__.defaultConfig});(0,_logger__WEBPACK_IMPORTED_MODULE_4__.setLogLevel)(_config__WEBPACK_IMPORTED_MODULE_2__.getConfig().logLevel),_config__WEBPACK_IMPORTED_MODULE_2__.reset(_config__WEBPACK_IMPORTED_MODULE_2__.getConfig());const __WEBPACK_DEFAULT_EXPORT__=mermaidAPI},"./src/styles.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1078450__)=>{"use strict";__nested_webpack_require_1078450__.r(__nested_webpack_exports__),__nested_webpack_require_1078450__.d(__nested_webpack_exports__,{calcThemeVariables:()=>calcThemeVariables,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _diagrams_class_styles__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_1078450__("./src/diagrams/class/styles.js"),_diagrams_er_styles__WEBPACK_IMPORTED_MODULE_8__=__nested_webpack_require_1078450__("./src/diagrams/er/styles.js"),_diagrams_flowchart_styles__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1078450__("./src/diagrams/flowchart/styles.js"),_diagrams_gantt_styles__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_1078450__("./src/diagrams/gantt/styles.js"),_diagrams_git_styles__WEBPACK_IMPORTED_MODULE_5__=__nested_webpack_require_1078450__("./src/diagrams/git/styles.js"),_diagrams_info_styles__WEBPACK_IMPORTED_MODULE_6__=__nested_webpack_require_1078450__("./src/diagrams/info/styles.js"),_diagrams_pie_styles__WEBPACK_IMPORTED_MODULE_7__=__nested_webpack_require_1078450__("./src/diagrams/pie/styles.js"),_diagrams_requirement_styles__WEBPACK_IMPORTED_MODULE_10__=__nested_webpack_require_1078450__("./src/diagrams/requirement/styles.js"),_diagrams_sequence_styles__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_1078450__("./src/diagrams/sequence/styles.js"),_diagrams_state_styles__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_1078450__("./src/diagrams/state/styles.js"),_diagrams_user_journey_styles__WEBPACK_IMPORTED_MODULE_9__=__nested_webpack_require_1078450__("./src/diagrams/user-journey/styles.js"),themes={flowchart:_diagrams_flowchart_styles__WEBPACK_IMPORTED_MODULE_0__.default,"flowchart-v2":_diagrams_flowchart_styles__WEBPACK_IMPORTED_MODULE_0__.default,sequence:_diagrams_sequence_styles__WEBPACK_IMPORTED_MODULE_1__.default,gantt:_diagrams_gantt_styles__WEBPACK_IMPORTED_MODULE_2__.default,classDiagram:_diagrams_class_styles__WEBPACK_IMPORTED_MODULE_3__.default,"classDiagram-v2":_diagrams_class_styles__WEBPACK_IMPORTED_MODULE_3__.default,class:_diagrams_class_styles__WEBPACK_IMPORTED_MODULE_3__.default,stateDiagram:_diagrams_state_styles__WEBPACK_IMPORTED_MODULE_4__.default,state:_diagrams_state_styles__WEBPACK_IMPORTED_MODULE_4__.default,git:_diagrams_git_styles__WEBPACK_IMPORTED_MODULE_5__.default,info:_diagrams_info_styles__WEBPACK_IMPORTED_MODULE_6__.default,pie:_diagrams_pie_styles__WEBPACK_IMPORTED_MODULE_7__.default,er:_diagrams_er_styles__WEBPACK_IMPORTED_MODULE_8__.default,journey:_diagrams_user_journey_styles__WEBPACK_IMPORTED_MODULE_9__.default,requirement:_diagrams_requirement_styles__WEBPACK_IMPORTED_MODULE_10__.default},calcThemeVariables=function calcThemeVariables(theme,userOverRides){return theme.calcColors(userOverRides)};const __WEBPACK_DEFAULT_EXPORT__=function getStyles(type,userStyles,options){return" {\n    font-family: ".concat(options.fontFamily,";\n    font-size: ").concat(options.fontSize,";\n    fill: ").concat(options.textColor,"\n  }\n\n  /* Classes common for multiple diagrams */\n\n  .error-icon {\n    fill: ").concat(options.errorBkgColor,";\n  }\n  .error-text {\n    fill: ").concat(options.errorTextColor,";\n    stroke: ").concat(options.errorTextColor,";\n  }\n\n  .edge-thickness-normal {\n    stroke-width: 2px;\n  }\n  .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n\n  .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  .marker {\n    fill: ").concat(options.lineColor,";\n    stroke: ").concat(options.lineColor,";\n  }\n  .marker.cross {\n    stroke: ").concat(options.lineColor,";\n  }\n\n  svg {\n    font-family: ").concat(options.fontFamily,";\n    font-size: ").concat(options.fontSize,";\n  }\n\n  ").concat(themes[type](options),"\n\n  ").concat(userStyles,"\n")}},"./src/themes/index.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1083383__)=>{"use strict";__nested_webpack_require_1083383__.r(__nested_webpack_exports__),__nested_webpack_require_1083383__.d(__nested_webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _theme_base__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1083383__("./src/themes/theme-base.js"),_theme_dark__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_1083383__("./src/themes/theme-dark.js"),_theme_default__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_1083383__("./src/themes/theme-default.js"),_theme_forest__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_1083383__("./src/themes/theme-forest.js"),_theme_neutral__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_1083383__("./src/themes/theme-neutral.js");const __WEBPACK_DEFAULT_EXPORT__={base:{getThemeVariables:_theme_base__WEBPACK_IMPORTED_MODULE_0__.getThemeVariables},dark:{getThemeVariables:_theme_dark__WEBPACK_IMPORTED_MODULE_1__.getThemeVariables},default:{getThemeVariables:_theme_default__WEBPACK_IMPORTED_MODULE_2__.getThemeVariables},forest:{getThemeVariables:_theme_forest__WEBPACK_IMPORTED_MODULE_3__.getThemeVariables},neutral:{getThemeVariables:_theme_neutral__WEBPACK_IMPORTED_MODULE_4__.getThemeVariables}}},"./src/themes/theme-base.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1085144__)=>{"use strict";__nested_webpack_require_1085144__.r(__nested_webpack_exports__),__nested_webpack_require_1085144__.d(__nested_webpack_exports__,{getThemeVariables:()=>getThemeVariables});var khroma__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1085144__("khroma"),_theme_helpers__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_1085144__("./src/themes/theme-helpers.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Theme=function(){function Theme(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Theme),this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Theme,[{key:"updateColors",value:function updateColors(){this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#ddd":"#333"),this.secondaryColor=this.secondaryColor||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.tertiaryColor),this.lineColor=this.lineColor||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?(0,khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:64}),this.fillType3=this.fillType3||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:128}),this.fillType7=this.fillType7||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{l:-10}),this.pie5=this.pie5||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{l:-10}),this.pie6=this.pie6||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor}},{key:"calculate",value:function calculate(overrides){var _this=this;if("object"===_typeof(overrides)){var keys=Object.keys(overrides);keys.forEach((function(k){_this[k]=overrides[k]})),this.updateColors(),keys.forEach((function(k){_this[k]=overrides[k]}))}else this.updateColors()}}]),Theme}(),getThemeVariables=function getThemeVariables(userOverrides){var theme=new Theme;return theme.calculate(userOverrides),theme}},"./src/themes/theme-dark.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1099103__)=>{"use strict";__nested_webpack_require_1099103__.r(__nested_webpack_exports__),__nested_webpack_require_1099103__.d(__nested_webpack_exports__,{getThemeVariables:()=>getThemeVariables});var khroma__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1099103__("khroma"),_theme_helpers__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_1099103__("./src/themes/theme-helpers.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Theme=function(){function Theme(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Theme),this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.primaryColor,16),this.tertiaryColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:-160}),this.primaryBorderColor=(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.primaryColor,this.darkMode),this.secondaryBorderColor=(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.primaryColor),this.secondaryTextColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.secondaryColor),this.tertiaryTextColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.tertiaryColor),this.lineColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background),this.textColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)((0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.rgba)(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.darken)("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.rgba)(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.rgba)(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Theme,[{key:"updateColors",value:function updateColors(){this.secondBkg=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||"#0b0000",this.pie2=this.pie2||"#4d1037",this.pie3=this.pie3||"#3f5258",this.pie4=this.pie4||"#4f2f1b",this.pie5=this.pie5||"#6e0a0a",this.pie6=this.pie6||"#3b0048",this.pie7=this.pie7||"#995a01",this.pie8=this.pie8||"#154706",this.pie9=this.pie9||"#161722",this.pie10=this.pie10||"#00296f",this.pie11=this.pie11||"#01629c",this.pie12=this.pie12||"#010029",this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor}},{key:"calculate",value:function calculate(overrides){var _this=this;if("object"===_typeof(overrides)){var keys=Object.keys(overrides);keys.forEach((function(k){_this[k]=overrides[k]})),this.updateColors(),keys.forEach((function(k){_this[k]=overrides[k]}))}else this.updateColors()}}]),Theme}(),getThemeVariables=function getThemeVariables(userOverrides){var theme=new Theme;return theme.calculate(userOverrides),theme}},"./src/themes/theme-default.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1111304__)=>{"use strict";__nested_webpack_require_1111304__.r(__nested_webpack_exports__),__nested_webpack_require_1111304__.d(__nested_webpack_exports__,{getThemeVariables:()=>getThemeVariables});var khroma__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1111304__("khroma"),_theme_helpers__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_1111304__("./src/themes/theme-helpers.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Theme=function(){function Theme(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Theme),this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:-160}),this.primaryBorderColor=(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.primaryColor,this.darkMode),this.secondaryBorderColor=(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.primaryColor),this.secondaryTextColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.secondaryColor),this.tertiaryTextColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.tertiaryColor),this.lineColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background),this.textColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.rgba)(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Theme,[{key:"updateColors",value:function updateColors(){this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{l:-10}),this.pie5=this.pie5||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{l:-30}),this.pie6=this.pie6||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor}},{key:"calculate",value:function calculate(overrides){var _this=this;if("object"===_typeof(overrides)){var keys=Object.keys(overrides);keys.forEach((function(k){_this[k]=overrides[k]})),this.updateColors(),keys.forEach((function(k){_this[k]=overrides[k]}))}else this.updateColors()}}]),Theme}(),getThemeVariables=function getThemeVariables(userOverrides){var theme=new Theme;return theme.calculate(userOverrides),theme}},"./src/themes/theme-forest.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1124340__)=>{"use strict";__nested_webpack_require_1124340__.r(__nested_webpack_exports__),__nested_webpack_require_1124340__.d(__nested_webpack_exports__,{getThemeVariables:()=>getThemeVariables});var khroma__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1124340__("khroma"),_theme_helpers__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_1124340__("./src/themes/theme-helpers.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Theme=function(){function Theme(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Theme),this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)("#cde498",10),this.primaryBorderColor=(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.primaryColor,this.darkMode),this.secondaryBorderColor=(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.primaryColor),this.secondaryTextColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.secondaryColor),this.tertiaryTextColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.primaryColor),this.lineColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background),this.textColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background),this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Theme,[{key:"updateColors",value:function updateColors(){this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{l:-30}),this.pie5=this.pie5||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{l:-30}),this.pie6=this.pie6||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor}},{key:"calculate",value:function calculate(overrides){var _this=this;if("object"===_typeof(overrides)){var keys=Object.keys(overrides);keys.forEach((function(k){_this[k]=overrides[k]})),this.updateColors(),keys.forEach((function(k){_this[k]=overrides[k]}))}else this.updateColors()}}]),Theme}(),getThemeVariables=function getThemeVariables(userOverrides){var theme=new Theme;return theme.calculate(userOverrides),theme}},"./src/themes/theme-helpers.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1136013__)=>{"use strict";__nested_webpack_require_1136013__.r(__nested_webpack_exports__),__nested_webpack_require_1136013__.d(__nested_webpack_exports__,{mkBorder:()=>mkBorder});var khroma__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1136013__("khroma"),mkBorder=function mkBorder(col,darkMode){return darkMode?(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(col,{s:-40,l:10}):(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(col,{s:-40,l:-10})}},"./src/themes/theme-neutral.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1136980__)=>{"use strict";__nested_webpack_require_1136980__.r(__nested_webpack_exports__),__nested_webpack_require_1136980__.d(__nested_webpack_exports__,{getThemeVariables:()=>getThemeVariables});var khroma__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1136980__("khroma"),_theme_helpers__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_1136980__("./src/themes/theme-helpers.js");function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Theme=function(){function Theme(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Theme),this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.contrast,55),this.background="#ffffff",this.tertiaryColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:-160}),this.primaryBorderColor=(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.primaryColor,this.darkMode),this.secondaryBorderColor=(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=(0,_theme_helpers__WEBPACK_IMPORTED_MODULE_1__.mkBorder)(this.tertiaryColor,this.darkMode),this.primaryTextColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.primaryColor),this.secondaryTextColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.secondaryColor),this.tertiaryTextColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.tertiaryColor),this.lineColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background),this.textColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.invert)(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(Theme,[{key:"updateColors",value:function updateColors(){this.secondBkg=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.contrast,55),this.border2=this.contrast,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.contrast,30),this.sectionBkgColor2=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.contrast,30),this.taskBorderColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.lighten)(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.darken)(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:64}),this.fillType3=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{h:64}),this.fillType4=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:-64}),this.fillType5=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{h:-64}),this.fillType6=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.primaryColor,{h:128}),this.fillType7=(0,khroma__WEBPACK_IMPORTED_MODULE_0__.adjust)(this.secondaryColor,{h:128}),this.pie1=this.pie1||"#F4F4F4",this.pie2=this.pie2||"#555",this.pie3=this.pie3||"#BBB",this.pie4=this.pie4||"#777",this.pie5=this.pie5||"#999",this.pie6=this.pie6||"#DDD",this.pie7=this.pie7||"#FFF",this.pie8=this.pie8||"#DDD",this.pie9=this.pie9||"#BBB",this.pie10=this.pie10||"#999",this.pie11=this.pie11||"#777",this.pie12=this.pie12||"#555",this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor}},{key:"calculate",value:function calculate(overrides){var _this=this;if("object"===_typeof(overrides)){var keys=Object.keys(overrides);keys.forEach((function(k){_this[k]=overrides[k]})),this.updateColors(),keys.forEach((function(k){_this[k]=overrides[k]}))}else this.updateColors()}}]),Theme}(),getThemeVariables=function getThemeVariables(userOverrides){var theme=new Theme;return theme.calculate(userOverrides),theme}},"./src/utils.js":(__unused_webpack_module,__nested_webpack_exports__,__nested_webpack_require_1150031__)=>{"use strict";__nested_webpack_require_1150031__.r(__nested_webpack_exports__),__nested_webpack_require_1150031__.d(__nested_webpack_exports__,{detectInit:()=>detectInit,detectDirective:()=>detectDirective,detectType:()=>detectType,isSubstringInArray:()=>isSubstringInArray,interpolateToCurve:()=>interpolateToCurve,formatUrl:()=>formatUrl,runFunc:()=>runFunc,getStylesFromArray:()=>getStylesFromArray,generateId:()=>generateId,random:()=>random,assignWithDepth:()=>assignWithDepth,getTextObj:()=>getTextObj,drawSimpleText:()=>drawSimpleText,wrapLabel:()=>wrapLabel,calculateTextHeight:()=>calculateTextHeight,calculateTextWidth:()=>calculateTextWidth,calculateTextDimensions:()=>calculateTextDimensions,calculateSvgSizeAttrs:()=>calculateSvgSizeAttrs,configureSvgSize:()=>configureSvgSize,initIdGeneratior:()=>initIdGeneratior,entityDecode:()=>entityDecode,directiveSanitizer:()=>directiveSanitizer,sanitizeCss:()=>sanitizeCss,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__=__nested_webpack_require_1150031__("@braintree/sanitize-url"),d3__WEBPACK_IMPORTED_MODULE_1__=__nested_webpack_require_1150031__("d3"),_diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__=__nested_webpack_require_1150031__("./src/diagrams/common/common.js"),_defaultConfig__WEBPACK_IMPORTED_MODULE_4__=__nested_webpack_require_1150031__("./src/defaultConfig.js"),_logger__WEBPACK_IMPORTED_MODULE_2__=__nested_webpack_require_1150031__("./src/logger.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var d3CurveTypes={curveBasis:d3__WEBPACK_IMPORTED_MODULE_1__.curveBasis,curveBasisClosed:d3__WEBPACK_IMPORTED_MODULE_1__.curveBasisClosed,curveBasisOpen:d3__WEBPACK_IMPORTED_MODULE_1__.curveBasisOpen,curveLinear:d3__WEBPACK_IMPORTED_MODULE_1__.curveLinear,curveLinearClosed:d3__WEBPACK_IMPORTED_MODULE_1__.curveLinearClosed,curveMonotoneX:d3__WEBPACK_IMPORTED_MODULE_1__.curveMonotoneX,curveMonotoneY:d3__WEBPACK_IMPORTED_MODULE_1__.curveMonotoneY,curveNatural:d3__WEBPACK_IMPORTED_MODULE_1__.curveNatural,curveStep:d3__WEBPACK_IMPORTED_MODULE_1__.curveStep,curveStepAfter:d3__WEBPACK_IMPORTED_MODULE_1__.curveStepAfter,curveStepBefore:d3__WEBPACK_IMPORTED_MODULE_1__.curveStepBefore},directive=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,directiveWithoutOpen=/\s*(?:(?:(\w+)(?=:):|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,anyComment=/\s*%%.*\n/gm,detectInit=function detectInit(text,cnf){var inits=detectDirective(text,/(?:init\b)|(?:initialize\b)/),results={};if(Array.isArray(inits)){var args=inits.map((function(init){return init.args}));directiveSanitizer(args),results=assignWithDepth(results,_toConsumableArray(args))}else results=inits.args;if(results){var type=detectType(text,cnf);["config"].forEach((function(prop){void 0!==results[prop]&&("flowchart-v2"===type&&(type="flowchart"),results[type]=results[prop],delete results[prop])}))}return results},detectDirective=function detectDirective(text){var type=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var commentWithoutDirectives=new RegExp("[%]{2}(?![{]".concat(directiveWithoutOpen.source,")(?=[}][%]{2}).*\n"),"ig");text=text.trim().replace(commentWithoutDirectives,"").replace(/'/gm,'"'),_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("Detecting diagram directive".concat(null!==type?" type:"+type:""," based on the text:").concat(text));for(var match,result=[];null!==(match=directive.exec(text));)if(match.index===directive.lastIndex&&directive.lastIndex++,match&&!type||type&&match[1]&&match[1].match(type)||type&&match[2]&&match[2].match(type)){var _type=match[1]?match[1]:match[2],args=match[3]?match[3].trim():match[4]?JSON.parse(match[4].trim()):null;result.push({type:_type,args})}return 0===result.length&&result.push({type:text,args:null}),1===result.length?result[0]:result}catch(error){return _logger__WEBPACK_IMPORTED_MODULE_2__.log.error("ERROR: ".concat(error.message," - Unable to parse directive\n      ").concat(null!==type?" type:"+type:""," based on the text:").concat(text)),{type:null,args:null}}},detectType=function detectType(text,cnf){return(text=text.replace(directive,"").replace(anyComment,"\n")).match(/^\s*sequenceDiagram/)?"sequence":text.match(/^\s*gantt/)?"gantt":text.match(/^\s*classDiagram-v2/)?"classDiagram":text.match(/^\s*classDiagram/)?cnf&&cnf.class&&"dagre-wrapper"===cnf.class.defaultRenderer?"classDiagram":"class":text.match(/^\s*stateDiagram-v2/)?"stateDiagram":text.match(/^\s*stateDiagram/)?cnf&&cnf.class&&"dagre-wrapper"===cnf.state.defaultRenderer?"stateDiagram":"state":text.match(/^\s*gitGraph/)?"git":text.match(/^\s*flowchart/)?"flowchart-v2":text.match(/^\s*info/)?"info":text.match(/^\s*pie/)?"pie":text.match(/^\s*erDiagram/)?"er":text.match(/^\s*journey/)?"journey":text.match(/^\s*requirement/)||text.match(/^\s*requirementDiagram/)?"requirement":cnf&&cnf.flowchart&&"dagre-wrapper"===cnf.flowchart.defaultRenderer?"flowchart-v2":"flowchart"},memoize=function memoize(fn,resolver){var cache={};return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var n=resolver?resolver.apply(undefined,args):args[0];if(n in cache)return cache[n];var result=fn.apply(void 0,args);return cache[n]=result,result}},isSubstringInArray=function isSubstringInArray(str,arr){for(var i=0;i<arr.length;i++)if(arr[i].match(str))return i;return-1},interpolateToCurve=function interpolateToCurve(interpolate,defaultCurve){if(!interpolate)return defaultCurve;var curveName="curve".concat(interpolate.charAt(0).toUpperCase()+interpolate.slice(1));return d3CurveTypes[curveName]||defaultCurve},formatUrl=function formatUrl(linkStr,config){var url=linkStr.trim();if(url)return"loose"!==config.securityLevel?(0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_0__.sanitizeUrl)(url):url},runFunc=function runFunc(functionName){for(var _obj,arrPaths=functionName.split("."),len=arrPaths.length-1,fnName=arrPaths[len],obj=window,i=0;i<len;i++)if(!(obj=obj[arrPaths[i]]))return;for(var _len2=arguments.length,params=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)params[_key2-1]=arguments[_key2];(_obj=obj)[fnName].apply(_obj,params)},distance=function distance(p1,p2){return p1&&p2?Math.sqrt(Math.pow(p2.x-p1.x,2)+Math.pow(p2.y-p1.y,2)):0},getStylesFromArray=function getStylesFromArray(arr){for(var style="",labelStyle="",i=0;i<arr.length;i++)void 0!==arr[i]&&(arr[i].startsWith("color:")||arr[i].startsWith("text-align:")?labelStyle=labelStyle+arr[i]+";":style=style+arr[i]+";");return{style,labelStyle}},cnt=0,generateId=function generateId(){return cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt};var decoder,random=function random(options){return function makeid(length){for(var result="",i=0;i<length;i++)result+="0123456789abcdef".charAt(Math.floor(16*Math.random()));return result}(options.length)},assignWithDepth=function assignWithDepth(dst,src,config){var _Object$assign=Object.assign({depth:2,clobber:!1},config),depth=_Object$assign.depth,clobber=_Object$assign.clobber;return Array.isArray(src)&&!Array.isArray(dst)?(src.forEach((function(s){return assignWithDepth(dst,s,config)})),dst):Array.isArray(src)&&Array.isArray(dst)?(src.forEach((function(s){-1===dst.indexOf(s)&&dst.push(s)})),dst):void 0===dst||depth<=0?null!=dst&&"object"===_typeof(dst)&&"object"===_typeof(src)?Object.assign(dst,src):src:(void 0!==src&&"object"===_typeof(dst)&&"object"===_typeof(src)&&Object.keys(src).forEach((function(key){"object"!==_typeof(src[key])||void 0!==dst[key]&&"object"!==_typeof(dst[key])?(clobber||"object"!==_typeof(dst[key])&&"object"!==_typeof(src[key]))&&(dst[key]=src[key]):(void 0===dst[key]&&(dst[key]=Array.isArray(src[key])?[]:{}),dst[key]=assignWithDepth(dst[key],src[key],{depth:depth-1,clobber}))})),dst)},getTextObj=function getTextObj(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},drawSimpleText=function drawSimpleText(elem,textData){var nText=textData.text.replace(_diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__.default.lineBreakRegex," "),textElem=elem.append("text");textElem.attr("x",textData.x),textElem.attr("y",textData.y),textElem.style("text-anchor",textData.anchor),textElem.style("font-family",textData.fontFamily),textElem.style("font-size",textData.fontSize),textElem.style("font-weight",textData.fontWeight),textElem.attr("fill",textData.fill),void 0!==textData.class&&textElem.attr("class",textData.class);var span=textElem.append("tspan");return span.attr("x",textData.x+2*textData.textMargin),span.attr("fill",textData.fill),span.text(nText),textElem},wrapLabel=memoize((function(label,maxWidth,config){if(!label)return label;if(config=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},config),_diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__.default.lineBreakRegex.test(label))return label;var words=label.split(" "),completedLines=[],nextLine="";return words.forEach((function(word,index){var wordLength=calculateTextWidth("".concat(word," "),config),nextLineLength=calculateTextWidth(nextLine,config);if(wordLength>maxWidth){var _breakString=breakString(word,maxWidth,"-",config),hyphenatedStrings=_breakString.hyphenatedStrings,remainingWord=_breakString.remainingWord;completedLines.push.apply(completedLines,[nextLine].concat(_toConsumableArray(hyphenatedStrings))),nextLine=remainingWord}else nextLineLength+wordLength>=maxWidth?(completedLines.push(nextLine),nextLine=word):nextLine=[nextLine,word].filter(Boolean).join(" ");index+1===words.length&&completedLines.push(nextLine)})),completedLines.filter((function(line){return""!==line})).join(config.joinWith)}),(function(label,maxWidth,config){return"".concat(label,"-").concat(maxWidth,"-").concat(config.fontSize,"-").concat(config.fontWeight,"-").concat(config.fontFamily,"-").concat(config.joinWith)})),breakString=memoize((function(word,maxWidth){var hyphenCharacter=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",config=arguments.length>3?arguments[3]:void 0;config=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},config);var characters=word.split(""),lines=[],currentLine="";return characters.forEach((function(character,index){var nextLine="".concat(currentLine).concat(character);if(calculateTextWidth(nextLine,config)>=maxWidth){var currentCharacter=index+1,isLastLine=characters.length===currentCharacter,hyphenatedNextLine="".concat(nextLine).concat(hyphenCharacter);lines.push(isLastLine?nextLine:hyphenatedNextLine),currentLine=""}else currentLine=nextLine})),{hyphenatedStrings:lines,remainingWord:currentLine}}),(function(word,maxWidth){var hyphenCharacter=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",config=arguments.length>3?arguments[3]:void 0;return"".concat(word,"-").concat(maxWidth,"-").concat(hyphenCharacter,"-").concat(config.fontSize,"-").concat(config.fontWeight,"-").concat(config.fontFamily)})),calculateTextHeight=function calculateTextHeight(text,config){return config=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},config),calculateTextDimensions(text,config).height},calculateTextWidth=function calculateTextWidth(text,config){return config=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},config),calculateTextDimensions(text,config).width},calculateTextDimensions=memoize((function(text,config){var _config=config=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},config),fontSize=_config.fontSize,fontFamily=_config.fontFamily,fontWeight=_config.fontWeight;if(!text)return{width:0,height:0};var fontFamilies=["sans-serif",fontFamily],lines=text.split(_diagrams_common_common__WEBPACK_IMPORTED_MODULE_3__.default.lineBreakRegex),dims=[],body=(0,d3__WEBPACK_IMPORTED_MODULE_1__.select)("body");if(!body.remove)return{width:0,height:0,lineHeight:0};for(var g=body.append("svg"),_i=0,_fontFamilies=fontFamilies;_i<_fontFamilies.length;_i++){var _step,_fontFamily=_fontFamilies[_i],cheight=0,dim={width:0,height:0,lineHeight:0},_iterator=_createForOfIteratorHelper(lines);try{for(_iterator.s();!(_step=_iterator.n()).done;){var line=_step.value,textObj=getTextObj();textObj.text=line;var textElem=drawSimpleText(g,textObj).style("font-size",fontSize).style("font-weight",fontWeight).style("font-family",_fontFamily),bBox=(textElem._groups||textElem)[0][0].getBBox();dim.width=Math.round(Math.max(dim.width,bBox.width)),cheight=Math.round(bBox.height),dim.height+=cheight,dim.lineHeight=Math.round(Math.max(dim.lineHeight,cheight))}}catch(err){_iterator.e(err)}finally{_iterator.f()}dims.push(dim)}return g.remove(),dims[isNaN(dims[1].height)||isNaN(dims[1].width)||isNaN(dims[1].lineHeight)||dims[0].height>dims[1].height&&dims[0].width>dims[1].width&&dims[0].lineHeight>dims[1].lineHeight?0:1]}),(function(text,config){return"".concat(text,"-").concat(config.fontSize,"-").concat(config.fontWeight,"-").concat(config.fontFamily)})),calculateSvgSizeAttrs=function calculateSvgSizeAttrs(height,width,useMaxWidth){var attrs=new Map;return attrs.set("height",height),useMaxWidth?(attrs.set("width","100%"),attrs.set("style","max-width: ".concat(width,"px;"))):attrs.set("width",width),attrs},configureSvgSize=function configureSvgSize(svgElem,height,width,useMaxWidth){!function d3Attrs(d3Elem,attrs){var _step2,_iterator2=_createForOfIteratorHelper(attrs);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var attr=_step2.value;d3Elem.attr(attr[0],attr[1])}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}(svgElem,calculateSvgSizeAttrs(height,width,useMaxWidth))},initIdGeneratior=function(){function iterator(deterministic,seed){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,iterator),this.deterministic=deterministic,this.seed=seed,this.count=seed?seed.length:0}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(iterator,[{key:"next",value:function next(){return this.deterministic?this.count++:Date.now()}}]),iterator}(),entityDecode=function entityDecode(html){return decoder=decoder||document.createElement("div"),html=escape(html).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=html,unescape(decoder.textContent)},directiveSanitizer=function directiveSanitizer(args){_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("directiveSanitizer called with",args),"object"===_typeof(args)&&(args.length?args.forEach((function(arg){return directiveSanitizer(arg)})):Object.keys(args).forEach((function(key){_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("Checking key",key),0===key.indexOf("__")&&(_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("sanitize deleting __ option",key),delete args[key]),key.indexOf("proto")>=0&&(_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("sanitize deleting proto option",key),delete args[key]),key.indexOf("constr")>=0&&(_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("sanitize deleting constr option",key),delete args[key]),key.indexOf("themeCSS")>=0&&(_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("sanitizing themeCss option"),args[key]=sanitizeCss(args[key])),_defaultConfig__WEBPACK_IMPORTED_MODULE_4__.configKeys.indexOf(key)<0?(_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("sanitize deleting option",key),delete args[key]):"object"===_typeof(args[key])&&(_logger__WEBPACK_IMPORTED_MODULE_2__.log.debug("sanitize deleting object",key),directiveSanitizer(args[key]))})))},sanitizeCss=function sanitizeCss(str){return(str.match(/\{/g)||[]).length!==(str.match(/\}/g)||[]).length?"{ /* ERROR: Unbalanced CSS */ }":str};const __WEBPACK_DEFAULT_EXPORT__={assignWithDepth,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,calculateSvgSizeAttrs,configureSvgSize,detectInit,detectDirective,detectType,isSubstringInArray,interpolateToCurve,calcLabelPosition:function calcLabelPosition(points){return function traverseEdge(points){var prevPoint,totalDistance=0;points.forEach((function(point){totalDistance+=distance(point,prevPoint),prevPoint=point}));var remainingDistance=totalDistance/2,center=void 0;return prevPoint=void 0,points.forEach((function(point){if(prevPoint&&!center){var vectorDistance=distance(point,prevPoint);if(vectorDistance<remainingDistance)remainingDistance-=vectorDistance;else{var distanceRatio=remainingDistance/vectorDistance;distanceRatio<=0&&(center=prevPoint),distanceRatio>=1&&(center={x:point.x,y:point.y}),distanceRatio>0&&distanceRatio<1&&(center={x:(1-distanceRatio)*prevPoint.x+distanceRatio*point.x,y:(1-distanceRatio)*prevPoint.y+distanceRatio*point.y})}}prevPoint=point})),center}(points)},calcCardinalityPosition:function calcCardinalityPosition(isRelationTypePresent,points,initialPosition){var prevPoint;_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("our points",points),points[0]!==initialPosition&&(points=points.reverse()),points.forEach((function(point){distance(point,prevPoint),prevPoint=point}));var center,remainingDistance=25;prevPoint=void 0,points.forEach((function(point){if(prevPoint&&!center){var vectorDistance=distance(point,prevPoint);if(vectorDistance<remainingDistance)remainingDistance-=vectorDistance;else{var distanceRatio=remainingDistance/vectorDistance;distanceRatio<=0&&(center=prevPoint),distanceRatio>=1&&(center={x:point.x,y:point.y}),distanceRatio>0&&distanceRatio<1&&(center={x:(1-distanceRatio)*prevPoint.x+distanceRatio*point.x,y:(1-distanceRatio)*prevPoint.y+distanceRatio*point.y})}}prevPoint=point}));var d=isRelationTypePresent?10:5,angle=Math.atan2(points[0].y-center.y,points[0].x-center.x),cardinalityPosition={x:0,y:0};return cardinalityPosition.x=Math.sin(angle)*d+(points[0].x+center.x)/2,cardinalityPosition.y=-Math.cos(angle)*d+(points[0].y+center.y)/2,cardinalityPosition},calcTerminalLabelPosition:function calcTerminalLabelPosition(terminalMarkerSize,position,_points){var prevPoint,points=JSON.parse(JSON.stringify(_points));_logger__WEBPACK_IMPORTED_MODULE_2__.log.info("our points",points),"start_left"!==position&&"start_right"!==position&&(points=points.reverse()),points.forEach((function(point){distance(point,prevPoint),prevPoint=point}));var center,remainingDistance=25+terminalMarkerSize;prevPoint=void 0,points.forEach((function(point){if(prevPoint&&!center){var vectorDistance=distance(point,prevPoint);if(vectorDistance<remainingDistance)remainingDistance-=vectorDistance;else{var distanceRatio=remainingDistance/vectorDistance;distanceRatio<=0&&(center=prevPoint),distanceRatio>=1&&(center={x:point.x,y:point.y}),distanceRatio>0&&distanceRatio<1&&(center={x:(1-distanceRatio)*prevPoint.x+distanceRatio*point.x,y:(1-distanceRatio)*prevPoint.y+distanceRatio*point.y})}}prevPoint=point}));var d=10+.5*terminalMarkerSize,angle=Math.atan2(points[0].y-center.y,points[0].x-center.x),cardinalityPosition={x:0,y:0};return cardinalityPosition.x=Math.sin(angle)*d+(points[0].x+center.x)/2,cardinalityPosition.y=-Math.cos(angle)*d+(points[0].y+center.y)/2,"start_left"===position&&(cardinalityPosition.x=Math.sin(angle+Math.PI)*d+(points[0].x+center.x)/2,cardinalityPosition.y=-Math.cos(angle+Math.PI)*d+(points[0].y+center.y)/2),"end_right"===position&&(cardinalityPosition.x=Math.sin(angle-Math.PI)*d+(points[0].x+center.x)/2-5,cardinalityPosition.y=-Math.cos(angle-Math.PI)*d+(points[0].y+center.y)/2-5),"end_left"===position&&(cardinalityPosition.x=Math.sin(angle)*d+(points[0].x+center.x)/2-5,cardinalityPosition.y=-Math.cos(angle)*d+(points[0].y+center.y)/2-5),cardinalityPosition},formatUrl,getStylesFromArray,generateId,random,memoize,runFunc,entityDecode,initIdGeneratior,directiveSanitizer,sanitizeCss}},"./node_modules/path-browserify/index.js":module=>{"use strict";function assertPath(path){if("string"!=typeof path)throw new TypeError("Path must be a string. Received "+JSON.stringify(path))}function normalizeStringPosix(path,allowAboveRoot){for(var code,res="",lastSegmentLength=0,lastSlash=-1,dots=0,i=0;i<=path.length;++i){if(i<path.length)code=path.charCodeAt(i);else{if(47===code)break;code=47}if(47===code){if(lastSlash===i-1||1===dots);else if(lastSlash!==i-1&&2===dots){if(res.length<2||2!==lastSegmentLength||46!==res.charCodeAt(res.length-1)||46!==res.charCodeAt(res.length-2))if(res.length>2){var lastSlashIndex=res.lastIndexOf("/");if(lastSlashIndex!==res.length-1){-1===lastSlashIndex?(res="",lastSegmentLength=0):lastSegmentLength=(res=res.slice(0,lastSlashIndex)).length-1-res.lastIndexOf("/"),lastSlash=i,dots=0;continue}}else if(2===res.length||1===res.length){res="",lastSegmentLength=0,lastSlash=i,dots=0;continue}allowAboveRoot&&(res.length>0?res+="/..":res="..",lastSegmentLength=2)}else res.length>0?res+="/"+path.slice(lastSlash+1,i):res=path.slice(lastSlash+1,i),lastSegmentLength=i-lastSlash-1;lastSlash=i,dots=0}else 46===code&&-1!==dots?++dots:dots=-1}return res}var posix={resolve:function resolve(){for(var cwd,resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path;i>=0?path=arguments[i]:(void 0===cwd&&(cwd=process.cwd()),path=cwd),assertPath(path),0!==path.length&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute=47===path.charCodeAt(0))}return resolvedPath=normalizeStringPosix(resolvedPath,!resolvedAbsolute),resolvedAbsolute?resolvedPath.length>0?"/"+resolvedPath:"/":resolvedPath.length>0?resolvedPath:"."},normalize:function normalize(path){if(assertPath(path),0===path.length)return".";var isAbsolute=47===path.charCodeAt(0),trailingSeparator=47===path.charCodeAt(path.length-1);return 0!==(path=normalizeStringPosix(path,!isAbsolute)).length||isAbsolute||(path="."),path.length>0&&trailingSeparator&&(path+="/"),isAbsolute?"/"+path:path},isAbsolute:function isAbsolute(path){return assertPath(path),path.length>0&&47===path.charCodeAt(0)},join:function join(){if(0===arguments.length)return".";for(var joined,i=0;i<arguments.length;++i){var arg=arguments[i];assertPath(arg),arg.length>0&&(void 0===joined?joined=arg:joined+="/"+arg)}return void 0===joined?".":posix.normalize(joined)},relative:function relative(from,to){if(assertPath(from),assertPath(to),from===to)return"";if((from=posix.resolve(from))===(to=posix.resolve(to)))return"";for(var fromStart=1;fromStart<from.length&&47===from.charCodeAt(fromStart);++fromStart);for(var fromEnd=from.length,fromLen=fromEnd-fromStart,toStart=1;toStart<to.length&&47===to.charCodeAt(toStart);++toStart);for(var toLen=to.length-toStart,length=fromLen<toLen?fromLen:toLen,lastCommonSep=-1,i=0;i<=length;++i){if(i===length){if(toLen>length){if(47===to.charCodeAt(toStart+i))return to.slice(toStart+i+1);if(0===i)return to.slice(toStart+i)}else fromLen>length&&(47===from.charCodeAt(fromStart+i)?lastCommonSep=i:0===i&&(lastCommonSep=0));break}var fromCode=from.charCodeAt(fromStart+i);if(fromCode!==to.charCodeAt(toStart+i))break;47===fromCode&&(lastCommonSep=i)}var out="";for(i=fromStart+lastCommonSep+1;i<=fromEnd;++i)i!==fromEnd&&47!==from.charCodeAt(i)||(0===out.length?out+="..":out+="/..");return out.length>0?out+to.slice(toStart+lastCommonSep):(toStart+=lastCommonSep,47===to.charCodeAt(toStart)&&++toStart,to.slice(toStart))},_makeLong:function _makeLong(path){return path},dirname:function dirname(path){if(assertPath(path),0===path.length)return".";for(var code=path.charCodeAt(0),hasRoot=47===code,end=-1,matchedSlash=!0,i=path.length-1;i>=1;--i)if(47===(code=path.charCodeAt(i))){if(!matchedSlash){end=i;break}}else matchedSlash=!1;return-1===end?hasRoot?"/":".":hasRoot&&1===end?"//":path.slice(0,end)},basename:function basename(path,ext){if(void 0!==ext&&"string"!=typeof ext)throw new TypeError('"ext" argument must be a string');assertPath(path);var i,start=0,end=-1,matchedSlash=!0;if(void 0!==ext&&ext.length>0&&ext.length<=path.length){if(ext.length===path.length&&ext===path)return"";var extIdx=ext.length-1,firstNonSlashEnd=-1;for(i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(47===code){if(!matchedSlash){start=i+1;break}}else-1===firstNonSlashEnd&&(matchedSlash=!1,firstNonSlashEnd=i+1),extIdx>=0&&(code===ext.charCodeAt(extIdx)?-1===--extIdx&&(end=i):(extIdx=-1,end=firstNonSlashEnd))}return start===end?end=firstNonSlashEnd:-1===end&&(end=path.length),path.slice(start,end)}for(i=path.length-1;i>=0;--i)if(47===path.charCodeAt(i)){if(!matchedSlash){start=i+1;break}}else-1===end&&(matchedSlash=!1,end=i+1);return-1===end?"":path.slice(start,end)},extname:function extname(path){assertPath(path);for(var startDot=-1,startPart=0,end=-1,matchedSlash=!0,preDotState=0,i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(47!==code)-1===end&&(matchedSlash=!1,end=i+1),46===code?-1===startDot?startDot=i:1!==preDotState&&(preDotState=1):-1!==startDot&&(preDotState=-1);else if(!matchedSlash){startPart=i+1;break}}return-1===startDot||-1===end||0===preDotState||1===preDotState&&startDot===end-1&&startDot===startPart+1?"":path.slice(startDot,end)},format:function format(pathObject){if(null===pathObject||"object"!=typeof pathObject)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof pathObject);return function _format(sep,pathObject){var dir=pathObject.dir||pathObject.root,base=pathObject.base||(pathObject.name||"")+(pathObject.ext||"");return dir?dir===pathObject.root?dir+base:dir+sep+base:base}("/",pathObject)},parse:function parse(path){assertPath(path);var ret={root:"",dir:"",base:"",ext:"",name:""};if(0===path.length)return ret;var start,code=path.charCodeAt(0),isAbsolute=47===code;isAbsolute?(ret.root="/",start=1):start=0;for(var startDot=-1,startPart=0,end=-1,matchedSlash=!0,i=path.length-1,preDotState=0;i>=start;--i)if(47!==(code=path.charCodeAt(i)))-1===end&&(matchedSlash=!1,end=i+1),46===code?-1===startDot?startDot=i:1!==preDotState&&(preDotState=1):-1!==startDot&&(preDotState=-1);else if(!matchedSlash){startPart=i+1;break}return-1===startDot||-1===end||0===preDotState||1===preDotState&&startDot===end-1&&startDot===startPart+1?-1!==end&&(ret.base=ret.name=0===startPart&&isAbsolute?path.slice(1,end):path.slice(startPart,end)):(0===startPart&&isAbsolute?(ret.name=path.slice(1,startDot),ret.base=path.slice(1,end)):(ret.name=path.slice(startPart,startDot),ret.base=path.slice(startPart,end)),ret.ext=path.slice(startDot,end)),startPart>0?ret.dir=path.slice(0,startPart-1):isAbsolute&&(ret.dir="/"),ret},sep:"/",delimiter:":",win32:null,posix:null};posix.posix=posix,module.exports=posix},"@braintree/sanitize-url":module=>{"use strict";module.exports=__webpack_require__("./node_modules/react-mermaid2/node_modules/@braintree/sanitize-url/index.js")},d3:module=>{"use strict";module.exports=__webpack_require__("./node_modules/d3/src/index.js")},dagre:module=>{"use strict";module.exports=__webpack_require__("./node_modules/dagre/index.js")},"dagre-d3":module=>{"use strict";module.exports=__webpack_require__("./node_modules/dagre-d3/index.js")},"dagre-d3/lib/label/add-html-label.js":module=>{"use strict";module.exports=__webpack_require__("./node_modules/dagre-d3/lib/label/add-html-label.js")},dompurify:module=>{"use strict";module.exports=__webpack_require__("./node_modules/react-mermaid2/node_modules/dompurify/dist/purify.js")},graphlib:module=>{"use strict";module.exports=__webpack_require__("./node_modules/graphlib/index.js")},khroma:module=>{"use strict";module.exports=__webpack_require__("./node_modules/react-mermaid2/node_modules/khroma/dist/index.js")},"moment-mini":module=>{"use strict";module.exports=__webpack_require__("./node_modules/moment-mini/moment.min.js")},stylis:module=>{"use strict";module.exports=__webpack_require__("./node_modules/stylis/dist/umd/stylis.js")},"?35ed":()=>{},"?3c87":()=>{},"?dbae":()=>{},"?8ed1":()=>{},"?2b40":()=>{},"?c5f1":()=>{},"?a3fa":()=>{},"?ebf4":()=>{},"?e940":()=>{},"?a3b8":()=>{},"?0f62":()=>{},"./package.json":module=>{"use strict";module.exports=JSON.parse('{"name":"mermaid","version":"8.14.0","description":"Markdownish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.","main":"dist/mermaid.core.js","module":"dist/mermaid.esm.min.mjs","exports":{".":{"require":"./dist/mermaid.core.js","import":"./dist/mermaid.esm.min.mjs"},"./*":"./*"},"keywords":["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],"scripts":{"build:development":"webpack --mode development --progress --color","build:production":"webpack --mode production --progress --color","build":"concurrently \\"yarn build:development\\" \\"yarn build:production\\"","postbuild":"documentation build src/mermaidAPI.js src/config.js src/defaultConfig.js --shallow -f md --markdown-toc false > docs/Setup.md","build:watch":"yarn build:development --watch","release":"yarn build","lint":"eslint ./ --ext js,html","lint:fix":"yarn lint --fix","e2e:depr":"yarn lint && jest e2e --config e2e/jest.config.js","cypress":"percy exec -- cypress run","e2e":"start-server-and-test dev http://localhost:9000/ cypress","e2e-upd":"yarn lint && jest e2e -u --config e2e/jest.config.js","dev":"webpack serve --config ./.webpack/webpack.config.e2e.babel.js","test":"yarn lint && jest src/.*","test:watch":"jest --watch src","prepublishOnly":"yarn build && yarn test","prepare":"husky install && yarn build","pre-commit":"lint-staged"},"repository":{"type":"git","url":"https://github.com/knsv/mermaid"},"author":"Knut Sveidqvist","license":"MIT","standard":{"ignore":["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],"globals":["page"]},"dependencies":{"@braintree/sanitize-url":"^3.1.0","d3":"^7.0.0","dagre":"^0.8.5","dagre-d3":"^0.6.4","dompurify":"2.3.5","graphlib":"^2.1.8","khroma":"^1.4.1","moment-mini":"^2.24.0","stylis":"^4.0.10"},"devDependencies":{"@babel/core":"^7.14.6","@babel/eslint-parser":"^7.14.7","@babel/preset-env":"^7.14.7","@babel/register":"^7.14.5","@commitlint/cli":"^16.0.0","@commitlint/config-conventional":"^16.0.0","@percy/cli":"^1.0.0-beta.58","@percy/cypress":"^3.1.0","@percy/migrate":"^0.11.0","babel-jest":"^27.0.6","babel-loader":"^8.2.2","concurrently":"^7.0.0","coveralls":"^3.0.2","css-to-string-loader":"^0.1.3","cypress":"9.4.1","documentation":"13.2.0","eslint":"^8.2.0","eslint-config-prettier":"^8.3.0","eslint-plugin-cypress":"^2.12.1","eslint-plugin-html":"^6.2.0","eslint-plugin-jest":"^26.0.0","eslint-plugin-jsdoc":"^37.0.3","eslint-plugin-markdown":"^2.2.1","eslint-plugin-prettier":"^4.0.0","husky":"^7.0.1","identity-obj-proxy":"^3.0.0","jest":"^27.0.6","jison":"^0.4.18","js-base64":"3.7.2","lint-staged":"^12.1.2","moment":"^2.23.0","path-browserify":"^1.0.1","prettier":"^2.3.2","prettier-plugin-jsdoc":"^0.3.30","start-server-and-test":"^1.12.6","terser-webpack-plugin":"^5.2.4","webpack":"^5.53.0","webpack-cli":"^4.7.2","webpack-dev-server":"^4.3.0","webpack-merge":"^5.8.0","webpack-node-externals":"^3.0.0"},"files":["dist"],"sideEffects":["**/*.css","**/*.scss"]}')}},__webpack_module_cache__={};function __nested_webpack_require_1215169__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={id:moduleId,loaded:!1,exports:{}};return __webpack_modules__[moduleId](module,module.exports,__nested_webpack_require_1215169__),module.loaded=!0,module.exports}__nested_webpack_require_1215169__.c=__webpack_module_cache__,__nested_webpack_require_1215169__.n=module=>{var getter=module&&module.__esModule?()=>module.default:()=>module;return __nested_webpack_require_1215169__.d(getter,{a:getter}),getter},__nested_webpack_require_1215169__.d=(exports,definition)=>{for(var key in definition)__nested_webpack_require_1215169__.o(definition,key)&&!__nested_webpack_require_1215169__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__nested_webpack_require_1215169__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop),__nested_webpack_require_1215169__.r=exports=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__nested_webpack_require_1215169__.nmd=module=>(module.paths=[],module.children||(module.children=[]),module);var __nested_webpack_exports__=__nested_webpack_require_1215169__(__nested_webpack_require_1215169__.s="./src/mermaid.js");return __nested_webpack_exports__=__nested_webpack_exports__.default})()}))},"./node_modules/stylis/dist/umd/stylis.js":function(__unused_webpack_module,exports){!function(e){"use strict";var r="-ms-",a="-moz-",c="-webkit-",t="comm",n="rule",s="decl",i="@page",u="@media",o="@import",l="@charset",f="@viewport",p="@supports",h="@document",v="@namespace",d="@keyframes",b="@font-face",w="@counter-style",m="@font-feature-values",g="@layer",k="@scope",$=Math.abs,x=String.fromCharCode,E=Object.assign;function y(e,r){return 45^M(e,0)?(((r<<2^M(e,0))<<2^M(e,1))<<2^M(e,2))<<2^M(e,3):0}function O(e){return e.trim()}function T(e,r){return(e=r.exec(e))?e[0]:e}function A(e,r,a){return e.replace(r,a)}function C(e,r,a){return e.indexOf(r,a)}function M(e,r){return 0|e.charCodeAt(r)}function S(e,r,a){return e.slice(r,a)}function R(e){return e.length}function P(e){return e.length}function z(e,r){return r.push(e),e}function N(e,r){return e.map(r).join("")}function j(e,r){return e.filter((function(e){return!T(e,r)}))}function U(r,a,c,t,n,s,i,u){return{value:r,root:a,parent:c,type:t,props:n,children:s,line:e.line,column:e.column,length:i,return:"",siblings:u}}function _(e,r){return E(U("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},r)}function F(e){for(;e.root;)e=_(e.root,{children:[e]});z(e,e.siblings)}function I(){return e.character}function L(){return e.character=e.position>0?M(e.characters,--e.position):0,e.column--,10===e.character&&(e.column=1,e.line--),e.character}function D(){return e.character=e.position<e.length?M(e.characters,e.position++):0,e.column++,10===e.character&&(e.column=1,e.line++),e.character}function Y(){return M(e.characters,e.position)}function K(){return e.position}function V(r,a){return S(e.characters,r,a)}function W(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function B(r){return e.line=e.column=1,e.length=R(e.characters=r),e.position=0,[]}function G(r){return e.characters="",r}function H(r){return O(V(e.position-1,X(91===r?r+2:40===r?r+1:r)))}function Z(e){return G(J(B(e)))}function q(r){for(;(e.character=Y())&&e.character<33;)D();return W(r)>2||W(e.character)>3?"":" "}function J(r){for(;D();)switch(W(e.character)){case 0:z(re(e.position-1),r);break;case 2:z(H(e.character),r);break;default:z(x(e.character),r)}return r}function Q(r,a){for(;--a&&D()&&!(e.character<48||e.character>102||e.character>57&&e.character<65||e.character>70&&e.character<97););return V(r,K()+(a<6&&32==Y()&&32==D()))}function X(r){for(;D();)switch(e.character){case r:return e.position;case 34:case 39:34!==r&&39!==r&&X(e.character);break;case 40:41===r&&X(r);break;case 92:D()}return e.position}function ee(r,a){for(;D()&&r+e.character!==57&&(r+e.character!==84||47!==Y()););return"/*"+V(a,e.position-1)+"*"+x(47===r?r:D())}function re(r){for(;!W(Y());)D();return V(r,e.position)}function ae(e){return G(ce("",null,null,null,[""],e=B(e),0,[0],e))}function ce(e,r,a,c,t,n,s,i,u){for(var o=0,l=0,f=s,p=0,h=0,v=0,d=1,b=1,w=1,m=0,g="",k=t,E=n,y=c,O=g;b;)switch(v=m,m=D()){case 40:if(108!=v&&58==M(O,f-1)){-1!=C(O+=A(H(m),"&","&\f"),"&\f",$(o?i[o-1]:0))&&(w=-1);break}case 34:case 39:case 91:O+=H(m);break;case 9:case 10:case 13:case 32:O+=q(v);break;case 92:O+=Q(K()-1,7);continue;case 47:switch(Y()){case 42:case 47:z(ne(ee(D(),K()),r,a,u),u),5!=W(v||1)&&5!=W(Y()||1)||!R(O)||" "===S(O,-1,void 0)||(O+=" ");break;default:O+="/"}break;case 123*d:i[o++]=R(O)*w;case 125*d:case 59:case 0:switch(m){case 0:case 125:b=0;case 59+l:-1==w&&(O=A(O,/\f/g,"")),h>0&&(R(O)-f||0===d&&47===v)&&z(h>32?se(O+";",c,a,f-1,u):se(A(O," ","")+";",c,a,f-2,u),u);break;case 59:O+=";";default:if(z(y=te(O,r,a,o,l,t,i,g,k=[],E=[],f,n),n),123===m)if(0===l)ce(O,r,y,y,k,n,f,i,E);else{switch(p){case 99:if(110===M(O,3))break;case 108:if(97===M(O,2))break;default:l=0;case 100:case 109:case 115:}l?ce(e,y,y,c&&z(te(e,y,y,0,0,t,i,g,t,k=[],f,E),E),t,E,f,i,c?k:E):ce(O,y,y,y,[""],E,0,i,E)}}o=l=h=0,d=w=1,g=O="",f=s;break;case 58:f=1+R(O),h=v;default:if(d<1)if(123==m)--d;else if(125==m&&0==d++&&125==L())continue;switch(O+=x(m),m*d){case 38:w=l>0?1:(O+="\f",-1);break;case 44:i[o++]=(R(O)-1)*w,w=1;break;case 64:45===Y()&&(O+=H(D())),p=Y(),l=f=R(g=O+=re(K())),m++;break;case 45:45===v&&2==R(O)&&(d=0)}}return n}function te(e,r,a,c,t,s,i,u,o,l,f,p){for(var h=t-1,v=0===t?s:[""],d=P(v),b=0,w=0,m=0;b<c;++b)for(var g=0,k=S(e,h+1,h=$(w=i[b])),x=e;g<d;++g)(x=O(w>0?v[g]+" "+k:A(k,/&\f/g,v[g])))&&(o[m++]=x);return U(e,r,a,0===t?n:u,o,l,f,p)}function ne(e,r,a,c){return U(e,r,a,t,x(I()),S(e,2,-2),0,c)}function se(e,r,a,c,t){return U(e,r,a,s,S(e,0,c),S(e,c+1,-1),c,t)}function ie(e,t,n){switch(y(e,t)){case 5103:return c+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return c+e+e;case 4855:return c+e.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+e;case 4789:return a+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return c+e+a+e+r+e+e;case 5936:switch(M(e,t+11)){case 114:return c+e+r+A(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return c+e+r+A(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return c+e+r+A(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return c+e+r+e+e;case 6165:return c+e+r+"flex-"+e+e;case 5187:return c+e+A(e,/(\w+).+(:[^]+)/,c+"box-$1$2"+r+"flex-$1$2")+e;case 5443:return c+e+r+"flex-item-"+A(e,/flex-|-self/g,"")+(T(e,/flex-|baseline/)?"":r+"grid-row-"+A(e,/flex-|-self/g,""))+e;case 4675:return c+e+r+"flex-line-pack"+A(e,/align-content|flex-|-self/g,"")+e;case 5548:return c+e+r+A(e,"shrink","negative")+e;case 5292:return c+e+r+A(e,"basis","preferred-size")+e;case 6060:return c+"box-"+A(e,"-grow","")+c+e+r+A(e,"grow","positive")+e;case 4554:return c+A(e,/([^-])(transform)/g,"$1"+c+"$2")+e;case 6187:return A(A(A(e,/(zoom-|grab)/,c+"$1"),/(image-set)/,c+"$1"),e,"")+e;case 5495:case 3959:return A(e,/(image-set\([^]*)/,c+"$1$`$1");case 4968:return A(A(e,/(.+:)(flex-)?(.*)/,c+"box-pack:$3"+r+"flex-pack:$3"),/space-between/,"justify")+c+e+e;case 4200:if(!T(e,/flex-|baseline/))return r+"grid-column-align"+S(e,t)+e;break;case 2592:case 3360:return r+A(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,r){return t=r,T(e.props,/grid-\w+-end/)}))?~C(e+(n=n[t].value),"span",0)?e:r+A(e,"-start","")+e+r+"grid-row-span:"+(~C(n,"span",0)?T(n,/\d+/):+T(n,/\d+/)-+T(e,/\d+/))+";":r+A(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return T(e.props,/grid-\w+-start/)}))?e:r+A(A(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return A(e,/(.+)-inline(.+)/,c+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(R(e)-1-t>6)switch(M(e,t+1)){case 109:if(45!==M(e,t+4))break;case 102:return A(e,/(.+:)(.+)-([^]+)/,"$1"+c+"$2-$3$1"+a+(108==M(e,t+3)?"$3":"$2-$3"))+e;case 115:return~C(e,"stretch",0)?ie(A(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return A(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(a,c,t,n,s,i,u){return r+c+":"+t+u+(n?r+c+"-span:"+(s?i:+i-+t)+u:"")+e}));case 4949:if(121===M(e,t+6))return A(e,":",":"+c)+e;break;case 6444:switch(M(e,45===M(e,14)?18:11)){case 120:return A(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+c+(45===M(e,14)?"inline-":"")+"box$3$1"+c+"$2$3$1"+r+"$2box$3")+e;case 100:return A(e,":",":"+r)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return A(e,"scroll-","scroll-snap-")+e}return e}function ue(e,r){for(var a="",c=0;c<e.length;c++)a+=r(e[c],c,e,r)||"";return a}function oe(e,r,a,c){switch(e.type){case g:if(e.children.length)break;case o:case v:case s:return e.return=e.return||e.value;case t:return"";case d:return e.return=e.value+"{"+ue(e.children,c)+"}";case n:if(!R(e.value=e.props.join(",")))return""}return R(a=ue(e.children,c))?e.return=e.value+"{"+a+"}":""}function le(e){var r=P(e);return function(a,c,t,n){for(var s="",i=0;i<r;i++)s+=e[i](a,c,t,n)||"";return s}}function fe(e){return function(r){r.root||(r=r.return)&&e(r)}}function pe(e,t,i,u){if(e.length>-1&&!e.return)switch(e.type){case s:return void(e.return=ie(e.value,e.length,i));case d:return ue([_(e,{value:A(e.value,"@","@"+c)})],u);case n:if(e.length)return N(i=e.props,(function(t){switch(T(t,u=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":F(_(e,{props:[A(t,/:(read-\w+)/,":"+a+"$1")]})),F(_(e,{props:[t]})),E(e,{props:j(i,u)});break;case"::placeholder":F(_(e,{props:[A(t,/:(plac\w+)/,":"+c+"input-$1")]})),F(_(e,{props:[A(t,/:(plac\w+)/,":"+a+"$1")]})),F(_(e,{props:[A(t,/:(plac\w+)/,r+"input-$1")]})),F(_(e,{props:[t]})),E(e,{props:j(i,u)})}return""}))}}function he(e){e.type===n&&(e.props=e.props.map((function(r){return N(Z(r),(function(r,a,c){switch(M(r,0)){case 12:return S(r,1,R(r));case 0:case 40:case 43:case 62:case 126:return r;case 58:"global"===c[++a]&&(c[a]="",c[++a]="\f"+S(c[a],a=1,-1));case 32:return 1===a?"":r;default:switch(a){case 0:return e=r,P(c)>1?"":r;case a=P(c)-1:case 2:return 2===a?r+e+e:r+e;default:return r}}}))})))}e.line=1,e.column=1,e.length=0,e.position=0,e.character=0,e.characters="",e.CHARSET=l,e.COMMENT=t,e.COUNTER_STYLE=w,e.DECLARATION=s,e.DOCUMENT=h,e.FONT_FACE=b,e.FONT_FEATURE_VALUES=m,e.IMPORT=o,e.KEYFRAMES=d,e.LAYER=g,e.MEDIA=u,e.MOZ=a,e.MS=r,e.NAMESPACE=v,e.PAGE=i,e.RULESET=n,e.SCOPE=k,e.SUPPORTS=p,e.VIEWPORT=f,e.WEBKIT=c,e.abs=$,e.alloc=B,e.append=z,e.assign=E,e.caret=K,e.char=I,e.charat=M,e.combine=N,e.comment=ne,e.commenter=ee,e.compile=ae,e.copy=_,e.dealloc=G,e.declaration=se,e.delimit=H,e.delimiter=X,e.escaping=Q,e.filter=j,e.from=x,e.hash=y,e.identifier=re,e.indexof=C,e.lift=F,e.match=T,e.middleware=le,e.namespace=he,e.next=D,e.node=U,e.parse=ce,e.peek=Y,e.prefix=ie,e.prefixer=pe,e.prev=L,e.replace=A,e.ruleset=te,e.rulesheet=fe,e.serialize=ue,e.sizeof=P,e.slice=V,e.stringify=oe,e.strlen=R,e.substr=S,e.token=W,e.tokenize=Z,e.tokenizer=J,e.trim=O,e.whitespace=q,Object.defineProperty(e,"__esModule",{value:!0})}(exports)}}]);