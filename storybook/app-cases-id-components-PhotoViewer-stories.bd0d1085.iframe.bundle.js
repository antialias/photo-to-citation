"use strict";(self.webpackChunkapp_scaffold=self.webpackChunkapp_scaffold||[]).push([[3970],{"./src/app/cases/[id]/components/PhotoViewer.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_PhotoViewer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/app/cases/[id]/components/PhotoViewer.tsx");const __WEBPACK_DEFAULT_EXPORT__={component:_PhotoViewer__WEBPACK_IMPORTED_MODULE_1__.A,title:"Components/PhotoViewer"},base={id:"1",photos:["https://placehold.co/600x400"],photoTimes:{},createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),analysis:null,analysisStatus:"pending",public:!1},Default={render:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_PhotoViewer__WEBPACK_IMPORTED_MODULE_1__.A,{caseData:base,selectedPhoto:base.photos[0],progress:null,progressDescription:"Analyzing...",requestValue:50,isPhotoReanalysis:!1,reanalyzingPhoto:null,analysisActive:!1,readOnly:!1,photoNote:"",updatePhotoNote:async()=>{},removePhoto:async()=>{},reanalyzePhoto:async()=>{},onTranslate:async()=>{}})},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  render: () => <PhotoViewer caseData={base} selectedPhoto={base.photos[0]} progress={null} progressDescription="Analyzing..." requestValue={50} isPhotoReanalysis={false} reanalyzingPhoto={null} analysisActive={false} readOnly={false} photoNote="" updatePhotoNote={async () => {}} removePhoto={async () => {}} reanalyzePhoto={async () => {}} onTranslate={async () => {}} />\n}',...Default.parameters?.docs?.source}}}},"./src/app/components/InlineTranslateButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>InlineTranslateButton});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),index_esm=__webpack_require__("__barrel_optimize__?names=FaBars!=!./node_modules/react-icons/fa/index.esm.js");const FLAGS={en:"ðŸ‡ºðŸ‡¸",es:"ðŸ‡ªðŸ‡¸",fr:"ðŸ‡«ðŸ‡·"};function TranslateIcon({lang,loading=!1,error=!1}){const flag=(0,react.useMemo)(()=>{var _FLAGS_lang;return null!==(_FLAGS_lang=FLAGS[lang])&&void 0!==_FLAGS_lang?_FLAGS_lang:"ðŸ³ï¸"},[lang]),ArrowIcon=error?index_esm.KP4:index_esm.Z0P;return(0,jsx_runtime.jsxs)("span",{className:"inline-flex items-center text-xs relative",children:[(0,jsx_runtime.jsx)(ArrowIcon,{className:"mr-0.5 "+(loading?"animate-translate-arrow":"")}),(0,jsx_runtime.jsxs)("span",{"aria-label":lang,className:"relative "+(loading?"animate-translate-flag":""),children:[flag,error?(0,jsx_runtime.jsx)("span",{className:"absolute inset-0 flex items-center justify-center text-red-600",children:"âœ–"}):null]})]})}function InlineTranslateButton({lang,onTranslate}){const[state,setState]=(0,react.useState)("idle");return(0,jsx_runtime.jsx)("button",{type:"button",onClick:async function handleClick(){if("loading"!==state){setState("loading");try{await Promise.resolve(onTranslate()),setState("idle")}catch(e){setState("error")}}},"aria-label":"translate",className:"ml-2 text-blue-500 hover:text-blue-700",children:(0,jsx_runtime.jsx)(TranslateIcon,{lang,loading:"loading"===state,error:"error"===state})})}TranslateIcon.__docgenInfo={description:"",methods:[],displayName:"TranslateIcon",props:{lang:{required:!0,tsType:{name:"string"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},error:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}},InlineTranslateButton.__docgenInfo={description:"",methods:[],displayName:"InlineTranslateButton",props:{lang:{required:!0,tsType:{name:"string"},description:""},onTranslate:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void> | void",signature:{arguments:[],return:{name:"union",raw:"Promise<void> | void",elements:[{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"},{name:"void"}]}}},description:""}}}},"./src/lib/localizedText.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function getLocalizedText(textMap,lang){if(!textMap)return{text:"",needsTranslation:!1};if("string"==typeof textMap)return{text:textMap,needsTranslation:!1};var _textMap_lang,_ref,_ref1;return{text:null!==(_ref1=null!==(_ref=null!==(_textMap_lang=textMap[lang])&&void 0!==_textMap_lang?_textMap_lang:textMap.en)&&void 0!==_ref?_ref:Object.values(textMap)[0])&&void 0!==_ref1?_ref1:"",needsTranslation:!(lang in textMap)}}__webpack_require__.d(__webpack_exports__,{P:()=>getLocalizedText})}}]);