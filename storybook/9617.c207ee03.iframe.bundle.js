"use strict";(self.webpackChunkapp_scaffold=self.webpackChunkapp_scaffold||[]).push([[9617],{"./node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{UC:()=>dist_Content2,q7:()=>dist_Item2,ZL:()=>Portal2,bL:()=>Root2,wv:()=>Separator2,l9:()=>Trigger});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),dist=__webpack_require__("./node_modules/@radix-ui/primitive/dist/index.mjs"),react_compose_refs_dist=__webpack_require__("./node_modules/@radix-ui/react-compose-refs/dist/index.mjs"),react_context_dist=__webpack_require__("./node_modules/@radix-ui/react-context/dist/index.mjs"),react_use_controllable_state_dist=__webpack_require__("./node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs"),react_primitive_dist=__webpack_require__("./node_modules/@radix-ui/react-primitive/dist/index.mjs"),react_collection_dist=__webpack_require__("./node_modules/@radix-ui/react-collection/dist/index.mjs"),react_direction_dist=__webpack_require__("./node_modules/@radix-ui/react-direction/dist/index.mjs"),react_dismissable_layer_dist=__webpack_require__("./node_modules/@radix-ui/react-dismissable-layer/dist/index.mjs"),react_focus_guards_dist=__webpack_require__("./node_modules/@radix-ui/react-focus-guards/dist/index.mjs"),react_focus_scope_dist=__webpack_require__("./node_modules/@radix-ui/react-focus-scope/dist/index.mjs"),react_id_dist=__webpack_require__("./node_modules/@radix-ui/react-id/dist/index.mjs"),react_popper_dist=__webpack_require__("./node_modules/@radix-ui/react-popper/dist/index.mjs"),react_portal_dist=__webpack_require__("./node_modules/@radix-ui/react-portal/dist/index.mjs"),react_presence_dist=__webpack_require__("./node_modules/@radix-ui/react-presence/dist/index.mjs"),react_roving_focus_dist=__webpack_require__("./node_modules/@radix-ui/react-roving-focus/dist/index.mjs"),react_slot_dist=__webpack_require__("./node_modules/@radix-ui/react-slot/dist/index.mjs"),react_use_callback_ref_dist=__webpack_require__("./node_modules/@radix-ui/react-use-callback-ref/dist/index.mjs"),es2015=__webpack_require__("./node_modules/aria-hidden/dist/es2015/index.js"),Combination=__webpack_require__("./node_modules/react-remove-scroll/dist/es2015/Combination.js"),jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),SELECTION_KEYS=["Enter"," "],LAST_KEYS=["ArrowUp","PageDown","End"],FIRST_LAST_KEYS=["ArrowDown","PageUp","Home",...LAST_KEYS],SUB_OPEN_KEYS={ltr:[...SELECTION_KEYS,"ArrowRight"],rtl:[...SELECTION_KEYS,"ArrowLeft"]},SUB_CLOSE_KEYS={ltr:["ArrowLeft"],rtl:["ArrowRight"]},[Collection,useCollection,createCollectionScope]=(0,react_collection_dist.N)("Menu"),[createMenuContext,createMenuScope]=(0,react_context_dist.A)("Menu",[createCollectionScope,react_popper_dist.Bk,react_roving_focus_dist.RG]),usePopperScope=(0,react_popper_dist.Bk)(),useRovingFocusGroupScope=(0,react_roving_focus_dist.RG)(),[MenuProvider,useMenuContext]=createMenuContext("Menu"),[MenuRootProvider,useMenuRootContext]=createMenuContext("Menu"),Menu=props=>{const{__scopeMenu,open=!1,children,dir,onOpenChange,modal=!0}=props,popperScope=usePopperScope(__scopeMenu),[content,setContent]=react.useState(null),isUsingKeyboardRef=react.useRef(!1),handleOpenChange=(0,react_use_callback_ref_dist.c)(onOpenChange),direction=(0,react_direction_dist.jH)(dir);return react.useEffect(()=>{const handleKeyDown=()=>{isUsingKeyboardRef.current=!0,document.addEventListener("pointerdown",handlePointer,{capture:!0,once:!0}),document.addEventListener("pointermove",handlePointer,{capture:!0,once:!0})},handlePointer=()=>isUsingKeyboardRef.current=!1;return document.addEventListener("keydown",handleKeyDown,{capture:!0}),()=>{document.removeEventListener("keydown",handleKeyDown,{capture:!0}),document.removeEventListener("pointerdown",handlePointer,{capture:!0}),document.removeEventListener("pointermove",handlePointer,{capture:!0})}},[]),(0,jsx_runtime.jsx)(react_popper_dist.bL,{...popperScope,children:(0,jsx_runtime.jsx)(MenuProvider,{scope:__scopeMenu,open,onOpenChange:handleOpenChange,content,onContentChange:setContent,children:(0,jsx_runtime.jsx)(MenuRootProvider,{scope:__scopeMenu,onClose:react.useCallback(()=>handleOpenChange(!1),[handleOpenChange]),isUsingKeyboardRef,dir:direction,modal,children})})})};Menu.displayName="Menu";var MenuAnchor=react.forwardRef((props,forwardedRef)=>{const{__scopeMenu,...anchorProps}=props,popperScope=usePopperScope(__scopeMenu);return(0,jsx_runtime.jsx)(react_popper_dist.Mz,{...popperScope,...anchorProps,ref:forwardedRef})});MenuAnchor.displayName="MenuAnchor";var[PortalProvider,usePortalContext]=createMenuContext("MenuPortal",{forceMount:void 0}),MenuPortal=props=>{const{__scopeMenu,forceMount,children,container}=props,context=useMenuContext("MenuPortal",__scopeMenu);return(0,jsx_runtime.jsx)(PortalProvider,{scope:__scopeMenu,forceMount,children:(0,jsx_runtime.jsx)(react_presence_dist.C,{present:forceMount||context.open,children:(0,jsx_runtime.jsx)(react_portal_dist.Z,{asChild:!0,container,children})})})};MenuPortal.displayName="MenuPortal";var[MenuContentProvider,useMenuContentContext]=createMenuContext("MenuContent"),MenuContent=react.forwardRef((props,forwardedRef)=>{const portalContext=usePortalContext("MenuContent",props.__scopeMenu),{forceMount=portalContext.forceMount,...contentProps}=props,context=useMenuContext("MenuContent",props.__scopeMenu),rootContext=useMenuRootContext("MenuContent",props.__scopeMenu);return(0,jsx_runtime.jsx)(Collection.Provider,{scope:props.__scopeMenu,children:(0,jsx_runtime.jsx)(react_presence_dist.C,{present:forceMount||context.open,children:(0,jsx_runtime.jsx)(Collection.Slot,{scope:props.__scopeMenu,children:rootContext.modal?(0,jsx_runtime.jsx)(MenuRootContentModal,{...contentProps,ref:forwardedRef}):(0,jsx_runtime.jsx)(MenuRootContentNonModal,{...contentProps,ref:forwardedRef})})})})}),MenuRootContentModal=react.forwardRef((props,forwardedRef)=>{const context=useMenuContext("MenuContent",props.__scopeMenu),ref=react.useRef(null),composedRefs=(0,react_compose_refs_dist.s)(forwardedRef,ref);return react.useEffect(()=>{const content=ref.current;if(content)return(0,es2015.Eq)(content)},[]),(0,jsx_runtime.jsx)(MenuContentImpl,{...props,ref:composedRefs,trapFocus:context.open,disableOutsidePointerEvents:context.open,disableOutsideScroll:!0,onFocusOutside:(0,dist.m)(props.onFocusOutside,event=>event.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>context.onOpenChange(!1)})}),MenuRootContentNonModal=react.forwardRef((props,forwardedRef)=>{const context=useMenuContext("MenuContent",props.__scopeMenu);return(0,jsx_runtime.jsx)(MenuContentImpl,{...props,ref:forwardedRef,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>context.onOpenChange(!1)})}),Slot=(0,react_slot_dist.TL)("MenuContent.ScrollLock"),MenuContentImpl=react.forwardRef((props,forwardedRef)=>{const{__scopeMenu,loop=!1,trapFocus,onOpenAutoFocus,onCloseAutoFocus,disableOutsidePointerEvents,onEntryFocus,onEscapeKeyDown,onPointerDownOutside,onFocusOutside,onInteractOutside,onDismiss,disableOutsideScroll,...contentProps}=props,context=useMenuContext("MenuContent",__scopeMenu),rootContext=useMenuRootContext("MenuContent",__scopeMenu),popperScope=usePopperScope(__scopeMenu),rovingFocusGroupScope=useRovingFocusGroupScope(__scopeMenu),getItems=useCollection(__scopeMenu),[currentItemId,setCurrentItemId]=react.useState(null),contentRef=react.useRef(null),composedRefs=(0,react_compose_refs_dist.s)(forwardedRef,contentRef,context.onContentChange),timerRef=react.useRef(0),searchRef=react.useRef(""),pointerGraceTimerRef=react.useRef(0),pointerGraceIntentRef=react.useRef(null),pointerDirRef=react.useRef("right"),lastPointerXRef=react.useRef(0),ScrollLockWrapper=disableOutsideScroll?Combination.A:react.Fragment,scrollLockWrapperProps=disableOutsideScroll?{as:Slot,allowPinchZoom:!0}:void 0,handleTypeaheadSearch=key=>{const search=searchRef.current+key,items=getItems().filter(item=>!item.disabled),currentItem=document.activeElement,currentMatch=items.find(item=>item.ref.current===currentItem)?.textValue,nextMatch=function getNextMatch(values,search,currentMatch){const isRepeated=search.length>1&&Array.from(search).every(char=>char===search[0]),normalizedSearch=isRepeated?search[0]:search,currentMatchIndex=currentMatch?values.indexOf(currentMatch):-1;let wrappedValues=function wrapArray(array,startIndex){return array.map((_,index)=>array[(startIndex+index)%array.length])}(values,Math.max(currentMatchIndex,0));1===normalizedSearch.length&&(wrappedValues=wrappedValues.filter(v=>v!==currentMatch));const nextMatch=wrappedValues.find(value=>value.toLowerCase().startsWith(normalizedSearch.toLowerCase()));return nextMatch!==currentMatch?nextMatch:void 0}(items.map(item=>item.textValue),search,currentMatch),newItem=items.find(item=>item.textValue===nextMatch)?.ref.current;!function updateSearch(value){searchRef.current=value,window.clearTimeout(timerRef.current),""!==value&&(timerRef.current=window.setTimeout(()=>updateSearch(""),1e3))}(search),newItem&&setTimeout(()=>newItem.focus())};react.useEffect(()=>()=>window.clearTimeout(timerRef.current),[]),(0,react_focus_guards_dist.Oh)();const isPointerMovingToSubmenu=react.useCallback(event=>pointerDirRef.current===pointerGraceIntentRef.current?.side&&function isPointerInGraceArea(event,area){if(!area)return!1;const cursorPos={x:event.clientX,y:event.clientY};return function isPointInPolygon(point,polygon){const{x,y}=point;let inside=!1;for(let i=0,j=polygon.length-1;i<polygon.length;j=i++){const ii=polygon[i],jj=polygon[j],xi=ii.x,yi=ii.y,xj=jj.x,yj=jj.y;yi>y!=yj>y&&x<(xj-xi)*(y-yi)/(yj-yi)+xi&&(inside=!inside)}return inside}(cursorPos,area)}(event,pointerGraceIntentRef.current?.area),[]);return(0,jsx_runtime.jsx)(MenuContentProvider,{scope:__scopeMenu,searchRef,onItemEnter:react.useCallback(event=>{isPointerMovingToSubmenu(event)&&event.preventDefault()},[isPointerMovingToSubmenu]),onItemLeave:react.useCallback(event=>{isPointerMovingToSubmenu(event)||(contentRef.current?.focus(),setCurrentItemId(null))},[isPointerMovingToSubmenu]),onTriggerLeave:react.useCallback(event=>{isPointerMovingToSubmenu(event)&&event.preventDefault()},[isPointerMovingToSubmenu]),pointerGraceTimerRef,onPointerGraceIntentChange:react.useCallback(intent=>{pointerGraceIntentRef.current=intent},[]),children:(0,jsx_runtime.jsx)(ScrollLockWrapper,{...scrollLockWrapperProps,children:(0,jsx_runtime.jsx)(react_focus_scope_dist.n,{asChild:!0,trapped:trapFocus,onMountAutoFocus:(0,dist.m)(onOpenAutoFocus,event=>{event.preventDefault(),contentRef.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:onCloseAutoFocus,children:(0,jsx_runtime.jsx)(react_dismissable_layer_dist.qW,{asChild:!0,disableOutsidePointerEvents,onEscapeKeyDown,onPointerDownOutside,onFocusOutside,onInteractOutside,onDismiss,children:(0,jsx_runtime.jsx)(react_roving_focus_dist.bL,{asChild:!0,...rovingFocusGroupScope,dir:rootContext.dir,orientation:"vertical",loop,currentTabStopId:currentItemId,onCurrentTabStopIdChange:setCurrentItemId,onEntryFocus:(0,dist.m)(onEntryFocus,event=>{rootContext.isUsingKeyboardRef.current||event.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,jsx_runtime.jsx)(react_popper_dist.UC,{role:"menu","aria-orientation":"vertical","data-state":getOpenState(context.open),"data-radix-menu-content":"",dir:rootContext.dir,...popperScope,...contentProps,ref:composedRefs,style:{outline:"none",...contentProps.style},onKeyDown:(0,dist.m)(contentProps.onKeyDown,event=>{const isKeyDownInside=event.target.closest("[data-radix-menu-content]")===event.currentTarget,isModifierKey=event.ctrlKey||event.altKey||event.metaKey,isCharacterKey=1===event.key.length;isKeyDownInside&&("Tab"===event.key&&event.preventDefault(),!isModifierKey&&isCharacterKey&&handleTypeaheadSearch(event.key));const content=contentRef.current;if(event.target!==content)return;if(!FIRST_LAST_KEYS.includes(event.key))return;event.preventDefault();const candidateNodes=getItems().filter(item=>!item.disabled).map(item=>item.ref.current);LAST_KEYS.includes(event.key)&&candidateNodes.reverse(),function focusFirst(candidates){const PREVIOUSLY_FOCUSED_ELEMENT=document.activeElement;for(const candidate of candidates){if(candidate===PREVIOUSLY_FOCUSED_ELEMENT)return;if(candidate.focus(),document.activeElement!==PREVIOUSLY_FOCUSED_ELEMENT)return}}(candidateNodes)}),onBlur:(0,dist.m)(props.onBlur,event=>{event.currentTarget.contains(event.target)||(window.clearTimeout(timerRef.current),searchRef.current="")}),onPointerMove:(0,dist.m)(props.onPointerMove,whenMouse(event=>{const target=event.target,pointerXHasChanged=lastPointerXRef.current!==event.clientX;if(event.currentTarget.contains(target)&&pointerXHasChanged){const newDir=event.clientX>lastPointerXRef.current?"right":"left";pointerDirRef.current=newDir,lastPointerXRef.current=event.clientX}}))})})})})})})});MenuContent.displayName="MenuContent";var MenuGroup=react.forwardRef((props,forwardedRef)=>{const{__scopeMenu,...groupProps}=props;return(0,jsx_runtime.jsx)(react_primitive_dist.sG.div,{role:"group",...groupProps,ref:forwardedRef})});MenuGroup.displayName="MenuGroup";var MenuLabel=react.forwardRef((props,forwardedRef)=>{const{__scopeMenu,...labelProps}=props;return(0,jsx_runtime.jsx)(react_primitive_dist.sG.div,{...labelProps,ref:forwardedRef})});MenuLabel.displayName="MenuLabel";var MenuItem=react.forwardRef((props,forwardedRef)=>{const{disabled=!1,onSelect,...itemProps}=props,ref=react.useRef(null),rootContext=useMenuRootContext("MenuItem",props.__scopeMenu),contentContext=useMenuContentContext("MenuItem",props.__scopeMenu),composedRefs=(0,react_compose_refs_dist.s)(forwardedRef,ref),isPointerDownRef=react.useRef(!1);return(0,jsx_runtime.jsx)(MenuItemImpl,{...itemProps,ref:composedRefs,disabled,onClick:(0,dist.m)(props.onClick,()=>{const menuItem=ref.current;if(!disabled&&menuItem){const itemSelectEvent=new CustomEvent("menu.itemSelect",{bubbles:!0,cancelable:!0});menuItem.addEventListener("menu.itemSelect",event=>onSelect?.(event),{once:!0}),(0,react_primitive_dist.hO)(menuItem,itemSelectEvent),itemSelectEvent.defaultPrevented?isPointerDownRef.current=!1:rootContext.onClose()}}),onPointerDown:event=>{props.onPointerDown?.(event),isPointerDownRef.current=!0},onPointerUp:(0,dist.m)(props.onPointerUp,event=>{isPointerDownRef.current||event.currentTarget?.click()}),onKeyDown:(0,dist.m)(props.onKeyDown,event=>{const isTypingAhead=""!==contentContext.searchRef.current;disabled||isTypingAhead&&" "===event.key||SELECTION_KEYS.includes(event.key)&&(event.currentTarget.click(),event.preventDefault())})})});MenuItem.displayName="MenuItem";var MenuItemImpl=react.forwardRef((props,forwardedRef)=>{const{__scopeMenu,disabled=!1,textValue,...itemProps}=props,contentContext=useMenuContentContext("MenuItem",__scopeMenu),rovingFocusGroupScope=useRovingFocusGroupScope(__scopeMenu),ref=react.useRef(null),composedRefs=(0,react_compose_refs_dist.s)(forwardedRef,ref),[isFocused,setIsFocused]=react.useState(!1),[textContent,setTextContent]=react.useState("");return react.useEffect(()=>{const menuItem=ref.current;menuItem&&setTextContent((menuItem.textContent??"").trim())},[itemProps.children]),(0,jsx_runtime.jsx)(Collection.ItemSlot,{scope:__scopeMenu,disabled,textValue:textValue??textContent,children:(0,jsx_runtime.jsx)(react_roving_focus_dist.q7,{asChild:!0,...rovingFocusGroupScope,focusable:!disabled,children:(0,jsx_runtime.jsx)(react_primitive_dist.sG.div,{role:"menuitem","data-highlighted":isFocused?"":void 0,"aria-disabled":disabled||void 0,"data-disabled":disabled?"":void 0,...itemProps,ref:composedRefs,onPointerMove:(0,dist.m)(props.onPointerMove,whenMouse(event=>{if(disabled)contentContext.onItemLeave(event);else if(contentContext.onItemEnter(event),!event.defaultPrevented){event.currentTarget.focus({preventScroll:!0})}})),onPointerLeave:(0,dist.m)(props.onPointerLeave,whenMouse(event=>contentContext.onItemLeave(event))),onFocus:(0,dist.m)(props.onFocus,()=>setIsFocused(!0)),onBlur:(0,dist.m)(props.onBlur,()=>setIsFocused(!1))})})})}),MenuCheckboxItem=react.forwardRef((props,forwardedRef)=>{const{checked=!1,onCheckedChange,...checkboxItemProps}=props;return(0,jsx_runtime.jsx)(ItemIndicatorProvider,{scope:props.__scopeMenu,checked,children:(0,jsx_runtime.jsx)(MenuItem,{role:"menuitemcheckbox","aria-checked":isIndeterminate(checked)?"mixed":checked,...checkboxItemProps,ref:forwardedRef,"data-state":getCheckedState(checked),onSelect:(0,dist.m)(checkboxItemProps.onSelect,()=>onCheckedChange?.(!!isIndeterminate(checked)||!checked),{checkForDefaultPrevented:!1})})})});MenuCheckboxItem.displayName="MenuCheckboxItem";var[RadioGroupProvider,useRadioGroupContext]=createMenuContext("MenuRadioGroup",{value:void 0,onValueChange:()=>{}}),MenuRadioGroup=react.forwardRef((props,forwardedRef)=>{const{value,onValueChange,...groupProps}=props,handleValueChange=(0,react_use_callback_ref_dist.c)(onValueChange);return(0,jsx_runtime.jsx)(RadioGroupProvider,{scope:props.__scopeMenu,value,onValueChange:handleValueChange,children:(0,jsx_runtime.jsx)(MenuGroup,{...groupProps,ref:forwardedRef})})});MenuRadioGroup.displayName="MenuRadioGroup";var MenuRadioItem=react.forwardRef((props,forwardedRef)=>{const{value,...radioItemProps}=props,context=useRadioGroupContext("MenuRadioItem",props.__scopeMenu),checked=value===context.value;return(0,jsx_runtime.jsx)(ItemIndicatorProvider,{scope:props.__scopeMenu,checked,children:(0,jsx_runtime.jsx)(MenuItem,{role:"menuitemradio","aria-checked":checked,...radioItemProps,ref:forwardedRef,"data-state":getCheckedState(checked),onSelect:(0,dist.m)(radioItemProps.onSelect,()=>context.onValueChange?.(value),{checkForDefaultPrevented:!1})})})});MenuRadioItem.displayName="MenuRadioItem";var[ItemIndicatorProvider,useItemIndicatorContext]=createMenuContext("MenuItemIndicator",{checked:!1}),MenuItemIndicator=react.forwardRef((props,forwardedRef)=>{const{__scopeMenu,forceMount,...itemIndicatorProps}=props,indicatorContext=useItemIndicatorContext("MenuItemIndicator",__scopeMenu);return(0,jsx_runtime.jsx)(react_presence_dist.C,{present:forceMount||isIndeterminate(indicatorContext.checked)||!0===indicatorContext.checked,children:(0,jsx_runtime.jsx)(react_primitive_dist.sG.span,{...itemIndicatorProps,ref:forwardedRef,"data-state":getCheckedState(indicatorContext.checked)})})});MenuItemIndicator.displayName="MenuItemIndicator";var MenuSeparator=react.forwardRef((props,forwardedRef)=>{const{__scopeMenu,...separatorProps}=props;return(0,jsx_runtime.jsx)(react_primitive_dist.sG.div,{role:"separator","aria-orientation":"horizontal",...separatorProps,ref:forwardedRef})});MenuSeparator.displayName="MenuSeparator";var MenuArrow=react.forwardRef((props,forwardedRef)=>{const{__scopeMenu,...arrowProps}=props,popperScope=usePopperScope(__scopeMenu);return(0,jsx_runtime.jsx)(react_popper_dist.i3,{...popperScope,...arrowProps,ref:forwardedRef})});MenuArrow.displayName="MenuArrow";var[MenuSubProvider,useMenuSubContext]=createMenuContext("MenuSub"),MenuSub=props=>{const{__scopeMenu,children,open=!1,onOpenChange}=props,parentMenuContext=useMenuContext("MenuSub",__scopeMenu),popperScope=usePopperScope(__scopeMenu),[trigger,setTrigger]=react.useState(null),[content,setContent]=react.useState(null),handleOpenChange=(0,react_use_callback_ref_dist.c)(onOpenChange);return react.useEffect(()=>(!1===parentMenuContext.open&&handleOpenChange(!1),()=>handleOpenChange(!1)),[parentMenuContext.open,handleOpenChange]),(0,jsx_runtime.jsx)(react_popper_dist.bL,{...popperScope,children:(0,jsx_runtime.jsx)(MenuProvider,{scope:__scopeMenu,open,onOpenChange:handleOpenChange,content,onContentChange:setContent,children:(0,jsx_runtime.jsx)(MenuSubProvider,{scope:__scopeMenu,contentId:(0,react_id_dist.B)(),triggerId:(0,react_id_dist.B)(),trigger,onTriggerChange:setTrigger,children})})})};MenuSub.displayName="MenuSub";var MenuSubTrigger=react.forwardRef((props,forwardedRef)=>{const context=useMenuContext("MenuSubTrigger",props.__scopeMenu),rootContext=useMenuRootContext("MenuSubTrigger",props.__scopeMenu),subContext=useMenuSubContext("MenuSubTrigger",props.__scopeMenu),contentContext=useMenuContentContext("MenuSubTrigger",props.__scopeMenu),openTimerRef=react.useRef(null),{pointerGraceTimerRef,onPointerGraceIntentChange}=contentContext,scope={__scopeMenu:props.__scopeMenu},clearOpenTimer=react.useCallback(()=>{openTimerRef.current&&window.clearTimeout(openTimerRef.current),openTimerRef.current=null},[]);return react.useEffect(()=>clearOpenTimer,[clearOpenTimer]),react.useEffect(()=>{const pointerGraceTimer=pointerGraceTimerRef.current;return()=>{window.clearTimeout(pointerGraceTimer),onPointerGraceIntentChange(null)}},[pointerGraceTimerRef,onPointerGraceIntentChange]),(0,jsx_runtime.jsx)(MenuAnchor,{asChild:!0,...scope,children:(0,jsx_runtime.jsx)(MenuItemImpl,{id:subContext.triggerId,"aria-haspopup":"menu","aria-expanded":context.open,"aria-controls":subContext.contentId,"data-state":getOpenState(context.open),...props,ref:(0,react_compose_refs_dist.t)(forwardedRef,subContext.onTriggerChange),onClick:event=>{props.onClick?.(event),props.disabled||event.defaultPrevented||(event.currentTarget.focus(),context.open||context.onOpenChange(!0))},onPointerMove:(0,dist.m)(props.onPointerMove,whenMouse(event=>{contentContext.onItemEnter(event),event.defaultPrevented||props.disabled||context.open||openTimerRef.current||(contentContext.onPointerGraceIntentChange(null),openTimerRef.current=window.setTimeout(()=>{context.onOpenChange(!0),clearOpenTimer()},100))})),onPointerLeave:(0,dist.m)(props.onPointerLeave,whenMouse(event=>{clearOpenTimer();const contentRect=context.content?.getBoundingClientRect();if(contentRect){const side=context.content?.dataset.side,rightSide="right"===side,bleed=rightSide?-5:5,contentNearEdge=contentRect[rightSide?"left":"right"],contentFarEdge=contentRect[rightSide?"right":"left"];contentContext.onPointerGraceIntentChange({area:[{x:event.clientX+bleed,y:event.clientY},{x:contentNearEdge,y:contentRect.top},{x:contentFarEdge,y:contentRect.top},{x:contentFarEdge,y:contentRect.bottom},{x:contentNearEdge,y:contentRect.bottom}],side}),window.clearTimeout(pointerGraceTimerRef.current),pointerGraceTimerRef.current=window.setTimeout(()=>contentContext.onPointerGraceIntentChange(null),300)}else{if(contentContext.onTriggerLeave(event),event.defaultPrevented)return;contentContext.onPointerGraceIntentChange(null)}})),onKeyDown:(0,dist.m)(props.onKeyDown,event=>{const isTypingAhead=""!==contentContext.searchRef.current;props.disabled||isTypingAhead&&" "===event.key||SUB_OPEN_KEYS[rootContext.dir].includes(event.key)&&(context.onOpenChange(!0),context.content?.focus(),event.preventDefault())})})})});MenuSubTrigger.displayName="MenuSubTrigger";var MenuSubContent=react.forwardRef((props,forwardedRef)=>{const portalContext=usePortalContext("MenuContent",props.__scopeMenu),{forceMount=portalContext.forceMount,...subContentProps}=props,context=useMenuContext("MenuContent",props.__scopeMenu),rootContext=useMenuRootContext("MenuContent",props.__scopeMenu),subContext=useMenuSubContext("MenuSubContent",props.__scopeMenu),ref=react.useRef(null),composedRefs=(0,react_compose_refs_dist.s)(forwardedRef,ref);return(0,jsx_runtime.jsx)(Collection.Provider,{scope:props.__scopeMenu,children:(0,jsx_runtime.jsx)(react_presence_dist.C,{present:forceMount||context.open,children:(0,jsx_runtime.jsx)(Collection.Slot,{scope:props.__scopeMenu,children:(0,jsx_runtime.jsx)(MenuContentImpl,{id:subContext.contentId,"aria-labelledby":subContext.triggerId,...subContentProps,ref:composedRefs,align:"start",side:"rtl"===rootContext.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:event=>{rootContext.isUsingKeyboardRef.current&&ref.current?.focus(),event.preventDefault()},onCloseAutoFocus:event=>event.preventDefault(),onFocusOutside:(0,dist.m)(props.onFocusOutside,event=>{event.target!==subContext.trigger&&context.onOpenChange(!1)}),onEscapeKeyDown:(0,dist.m)(props.onEscapeKeyDown,event=>{rootContext.onClose(),event.preventDefault()}),onKeyDown:(0,dist.m)(props.onKeyDown,event=>{const isKeyDownInside=event.currentTarget.contains(event.target),isCloseKey=SUB_CLOSE_KEYS[rootContext.dir].includes(event.key);isKeyDownInside&&isCloseKey&&(context.onOpenChange(!1),subContext.trigger?.focus(),event.preventDefault())})})})})})});function getOpenState(open){return open?"open":"closed"}function isIndeterminate(checked){return"indeterminate"===checked}function getCheckedState(checked){return isIndeterminate(checked)?"indeterminate":checked?"checked":"unchecked"}function whenMouse(handler){return event=>"mouse"===event.pointerType?handler(event):void 0}MenuSubContent.displayName="MenuSubContent";var Root3=Menu,Anchor2=MenuAnchor,Portal=MenuPortal,Content2=MenuContent,Group=MenuGroup,Label=MenuLabel,Item2=MenuItem,CheckboxItem=MenuCheckboxItem,RadioGroup=MenuRadioGroup,RadioItem=MenuRadioItem,ItemIndicator=MenuItemIndicator,Separator=MenuSeparator,Arrow2=MenuArrow,SubTrigger=MenuSubTrigger,SubContent=MenuSubContent,[createDropdownMenuContext,createDropdownMenuScope]=(0,react_context_dist.A)("DropdownMenu",[createMenuScope]),useMenuScope=createMenuScope(),[DropdownMenuProvider,useDropdownMenuContext]=createDropdownMenuContext("DropdownMenu"),DropdownMenu=props=>{const{__scopeDropdownMenu,children,dir,open:openProp,defaultOpen,onOpenChange,modal=!0}=props,menuScope=useMenuScope(__scopeDropdownMenu),triggerRef=react.useRef(null),[open,setOpen]=(0,react_use_controllable_state_dist.i)({prop:openProp,defaultProp:defaultOpen??!1,onChange:onOpenChange,caller:"DropdownMenu"});return(0,jsx_runtime.jsx)(DropdownMenuProvider,{scope:__scopeDropdownMenu,triggerId:(0,react_id_dist.B)(),triggerRef,contentId:(0,react_id_dist.B)(),open,onOpenChange:setOpen,onOpenToggle:react.useCallback(()=>setOpen(prevOpen=>!prevOpen),[setOpen]),modal,children:(0,jsx_runtime.jsx)(Root3,{...menuScope,open,onOpenChange:setOpen,dir,modal,children})})};DropdownMenu.displayName="DropdownMenu";var DropdownMenuTrigger=react.forwardRef((props,forwardedRef)=>{const{__scopeDropdownMenu,disabled=!1,...triggerProps}=props,context=useDropdownMenuContext("DropdownMenuTrigger",__scopeDropdownMenu),menuScope=useMenuScope(__scopeDropdownMenu);return(0,jsx_runtime.jsx)(Anchor2,{asChild:!0,...menuScope,children:(0,jsx_runtime.jsx)(react_primitive_dist.sG.button,{type:"button",id:context.triggerId,"aria-haspopup":"menu","aria-expanded":context.open,"aria-controls":context.open?context.contentId:void 0,"data-state":context.open?"open":"closed","data-disabled":disabled?"":void 0,disabled,...triggerProps,ref:(0,react_compose_refs_dist.t)(forwardedRef,context.triggerRef),onPointerDown:(0,dist.m)(props.onPointerDown,event=>{disabled||0!==event.button||!1!==event.ctrlKey||(context.onOpenToggle(),context.open||event.preventDefault())}),onKeyDown:(0,dist.m)(props.onKeyDown,event=>{disabled||(["Enter"," "].includes(event.key)&&context.onOpenToggle(),"ArrowDown"===event.key&&context.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(event.key)&&event.preventDefault())})})})});DropdownMenuTrigger.displayName="DropdownMenuTrigger";var DropdownMenuPortal=props=>{const{__scopeDropdownMenu,...portalProps}=props,menuScope=useMenuScope(__scopeDropdownMenu);return(0,jsx_runtime.jsx)(Portal,{...menuScope,...portalProps})};DropdownMenuPortal.displayName="DropdownMenuPortal";var DropdownMenuContent=react.forwardRef((props,forwardedRef)=>{const{__scopeDropdownMenu,...contentProps}=props,context=useDropdownMenuContext("DropdownMenuContent",__scopeDropdownMenu),menuScope=useMenuScope(__scopeDropdownMenu),hasInteractedOutsideRef=react.useRef(!1);return(0,jsx_runtime.jsx)(Content2,{id:context.contentId,"aria-labelledby":context.triggerId,...menuScope,...contentProps,ref:forwardedRef,onCloseAutoFocus:(0,dist.m)(props.onCloseAutoFocus,event=>{hasInteractedOutsideRef.current||context.triggerRef.current?.focus(),hasInteractedOutsideRef.current=!1,event.preventDefault()}),onInteractOutside:(0,dist.m)(props.onInteractOutside,event=>{const originalEvent=event.detail.originalEvent,ctrlLeftClick=0===originalEvent.button&&!0===originalEvent.ctrlKey,isRightClick=2===originalEvent.button||ctrlLeftClick;context.modal&&!isRightClick||(hasInteractedOutsideRef.current=!0)}),style:{...props.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuContent.displayName="DropdownMenuContent";var DropdownMenuGroup=react.forwardRef((props,forwardedRef)=>{const{__scopeDropdownMenu,...groupProps}=props,menuScope=useMenuScope(__scopeDropdownMenu);return(0,jsx_runtime.jsx)(Group,{...menuScope,...groupProps,ref:forwardedRef})});DropdownMenuGroup.displayName="DropdownMenuGroup";var DropdownMenuLabel=react.forwardRef((props,forwardedRef)=>{const{__scopeDropdownMenu,...labelProps}=props,menuScope=useMenuScope(__scopeDropdownMenu);return(0,jsx_runtime.jsx)(Label,{...menuScope,...labelProps,ref:forwardedRef})});DropdownMenuLabel.displayName="DropdownMenuLabel";var DropdownMenuItem=react.forwardRef((props,forwardedRef)=>{const{__scopeDropdownMenu,...itemProps}=props,menuScope=useMenuScope(__scopeDropdownMenu);return(0,jsx_runtime.jsx)(Item2,{...menuScope,...itemProps,ref:forwardedRef})});DropdownMenuItem.displayName="DropdownMenuItem";var DropdownMenuCheckboxItem=react.forwardRef((props,forwardedRef)=>{const{__scopeDropdownMenu,...checkboxItemProps}=props,menuScope=useMenuScope(__scopeDropdownMenu);return(0,jsx_runtime.jsx)(CheckboxItem,{...menuScope,...checkboxItemProps,ref:forwardedRef})});DropdownMenuCheckboxItem.displayName="DropdownMenuCheckboxItem";var DropdownMenuRadioGroup=react.forwardRef((props,forwardedRef)=>{const{__scopeDropdownMenu,...radioGroupProps}=props,menuScope=useMenuScope(__scopeDropdownMenu);return(0,jsx_runtime.jsx)(RadioGroup,{...menuScope,...radioGroupProps,ref:forwardedRef})});DropdownMenuRadioGroup.displayName="DropdownMenuRadioGroup";var DropdownMenuRadioItem=react.forwardRef((props,forwardedRef)=>{const{__scopeDropdownMenu,...radioItemProps}=props,menuScope=useMenuScope(__scopeDropdownMenu);return(0,jsx_runtime.jsx)(RadioItem,{...menuScope,...radioItemProps,ref:forwardedRef})});DropdownMenuRadioItem.displayName="DropdownMenuRadioItem";var DropdownMenuItemIndicator=react.forwardRef((props,forwardedRef)=>{const{__scopeDropdownMenu,...itemIndicatorProps}=props,menuScope=useMenuScope(__scopeDropdownMenu);return(0,jsx_runtime.jsx)(ItemIndicator,{...menuScope,...itemIndicatorProps,ref:forwardedRef})});DropdownMenuItemIndicator.displayName="DropdownMenuItemIndicator";var DropdownMenuSeparator=react.forwardRef((props,forwardedRef)=>{const{__scopeDropdownMenu,...separatorProps}=props,menuScope=useMenuScope(__scopeDropdownMenu);return(0,jsx_runtime.jsx)(Separator,{...menuScope,...separatorProps,ref:forwardedRef})});DropdownMenuSeparator.displayName="DropdownMenuSeparator";var DropdownMenuArrow=react.forwardRef((props,forwardedRef)=>{const{__scopeDropdownMenu,...arrowProps}=props,menuScope=useMenuScope(__scopeDropdownMenu);return(0,jsx_runtime.jsx)(Arrow2,{...menuScope,...arrowProps,ref:forwardedRef})});DropdownMenuArrow.displayName="DropdownMenuArrow";var DropdownMenuSubTrigger=react.forwardRef((props,forwardedRef)=>{const{__scopeDropdownMenu,...subTriggerProps}=props,menuScope=useMenuScope(__scopeDropdownMenu);return(0,jsx_runtime.jsx)(SubTrigger,{...menuScope,...subTriggerProps,ref:forwardedRef})});DropdownMenuSubTrigger.displayName="DropdownMenuSubTrigger";var DropdownMenuSubContent=react.forwardRef((props,forwardedRef)=>{const{__scopeDropdownMenu,...subContentProps}=props,menuScope=useMenuScope(__scopeDropdownMenu);return(0,jsx_runtime.jsx)(SubContent,{...menuScope,...subContentProps,ref:forwardedRef,style:{...props.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DropdownMenuSubContent.displayName="DropdownMenuSubContent";var Root2=DropdownMenu,Trigger=DropdownMenuTrigger,Portal2=DropdownMenuPortal,dist_Content2=DropdownMenuContent,dist_Item2=DropdownMenuItem,Separator2=DropdownMenuSeparator},"./node_modules/@radix-ui/react-popper/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Mz:()=>Anchor,i3:()=>dist_Arrow,UC:()=>Content,bL:()=>Root2,Bk:()=>createPopperScope});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),floating_ui_react_dom=__webpack_require__("./node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs"),floating_ui_dom=__webpack_require__("./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),dist=__webpack_require__("./node_modules/@radix-ui/react-primitive/dist/index.mjs"),jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),Arrow=react.forwardRef((props,forwardedRef)=>{const{children,width=10,height=5,...arrowProps}=props;return(0,jsx_runtime.jsx)(dist.sG.svg,{...arrowProps,ref:forwardedRef,width,height,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:props.asChild?children:(0,jsx_runtime.jsx)("polygon",{points:"0,0 30,0 15,10"})})});Arrow.displayName="Arrow";var Root=Arrow,react_compose_refs_dist=__webpack_require__("./node_modules/@radix-ui/react-compose-refs/dist/index.mjs"),react_context_dist=__webpack_require__("./node_modules/@radix-ui/react-context/dist/index.mjs"),react_use_callback_ref_dist=__webpack_require__("./node_modules/@radix-ui/react-use-callback-ref/dist/index.mjs"),react_use_layout_effect_dist=__webpack_require__("./node_modules/@radix-ui/react-use-layout-effect/dist/index.mjs");var[createPopperContext,createPopperScope]=(0,react_context_dist.A)("Popper"),[PopperProvider,usePopperContext]=createPopperContext("Popper"),Popper=props=>{const{__scopePopper,children}=props,[anchor,setAnchor]=react.useState(null);return(0,jsx_runtime.jsx)(PopperProvider,{scope:__scopePopper,anchor,onAnchorChange:setAnchor,children})};Popper.displayName="Popper";var PopperAnchor=react.forwardRef((props,forwardedRef)=>{const{__scopePopper,virtualRef,...anchorProps}=props,context=usePopperContext("PopperAnchor",__scopePopper),ref=react.useRef(null),composedRefs=(0,react_compose_refs_dist.s)(forwardedRef,ref);return react.useEffect(()=>{context.onAnchorChange(virtualRef?.current||ref.current)}),virtualRef?null:(0,jsx_runtime.jsx)(dist.sG.div,{...anchorProps,ref:composedRefs})});PopperAnchor.displayName="PopperAnchor";var[PopperContentProvider,useContentContext]=createPopperContext("PopperContent"),PopperContent=react.forwardRef((props,forwardedRef)=>{const{__scopePopper,side="bottom",sideOffset=0,align="center",alignOffset=0,arrowPadding=0,avoidCollisions=!0,collisionBoundary=[],collisionPadding:collisionPaddingProp=0,sticky="partial",hideWhenDetached=!1,updatePositionStrategy="optimized",onPlaced,...contentProps}=props,context=usePopperContext("PopperContent",__scopePopper),[content,setContent]=react.useState(null),composedRefs=(0,react_compose_refs_dist.s)(forwardedRef,node=>setContent(node)),[arrow,setArrow]=react.useState(null),arrowSize=function useSize(element){const[size,setSize]=react.useState(void 0);return(0,react_use_layout_effect_dist.N)(()=>{if(element){setSize({width:element.offsetWidth,height:element.offsetHeight});const resizeObserver=new ResizeObserver(entries=>{if(!Array.isArray(entries))return;if(!entries.length)return;const entry=entries[0];let width,height;if("borderBoxSize"in entry){const borderSizeEntry=entry.borderBoxSize,borderSize=Array.isArray(borderSizeEntry)?borderSizeEntry[0]:borderSizeEntry;width=borderSize.inlineSize,height=borderSize.blockSize}else width=element.offsetWidth,height=element.offsetHeight;setSize({width,height})});return resizeObserver.observe(element,{box:"border-box"}),()=>resizeObserver.unobserve(element)}setSize(void 0)},[element]),size}(arrow),arrowWidth=arrowSize?.width??0,arrowHeight=arrowSize?.height??0,desiredPlacement=side+("center"!==align?"-"+align:""),collisionPadding="number"==typeof collisionPaddingProp?collisionPaddingProp:{top:0,right:0,bottom:0,left:0,...collisionPaddingProp},boundary=Array.isArray(collisionBoundary)?collisionBoundary:[collisionBoundary],hasExplicitBoundaries=boundary.length>0,detectOverflowOptions={padding:collisionPadding,boundary:boundary.filter(isNotNull),altBoundary:hasExplicitBoundaries},{refs,floatingStyles,placement,isPositioned,middlewareData}=(0,floating_ui_react_dom.we)({strategy:"fixed",placement:desiredPlacement,whileElementsMounted:(...args)=>(0,floating_ui_dom.ll)(...args,{animationFrame:"always"===updatePositionStrategy}),elements:{reference:context.anchor},middleware:[(0,floating_ui_react_dom.cY)({mainAxis:sideOffset+arrowHeight,alignmentAxis:alignOffset}),avoidCollisions&&(0,floating_ui_react_dom.BN)({mainAxis:!0,crossAxis:!1,limiter:"partial"===sticky?(0,floating_ui_react_dom.ER)():void 0,...detectOverflowOptions}),avoidCollisions&&(0,floating_ui_react_dom.UU)({...detectOverflowOptions}),(0,floating_ui_react_dom.Ej)({...detectOverflowOptions,apply:({elements,rects,availableWidth,availableHeight})=>{const{width:anchorWidth,height:anchorHeight}=rects.reference,contentStyle=elements.floating.style;contentStyle.setProperty("--radix-popper-available-width",`${availableWidth}px`),contentStyle.setProperty("--radix-popper-available-height",`${availableHeight}px`),contentStyle.setProperty("--radix-popper-anchor-width",`${anchorWidth}px`),contentStyle.setProperty("--radix-popper-anchor-height",`${anchorHeight}px`)}}),arrow&&(0,floating_ui_react_dom.UE)({element:arrow,padding:arrowPadding}),transformOrigin({arrowWidth,arrowHeight}),hideWhenDetached&&(0,floating_ui_react_dom.jD)({strategy:"referenceHidden",...detectOverflowOptions})]}),[placedSide,placedAlign]=getSideAndAlignFromPlacement(placement),handlePlaced=(0,react_use_callback_ref_dist.c)(onPlaced);(0,react_use_layout_effect_dist.N)(()=>{isPositioned&&handlePlaced?.()},[isPositioned,handlePlaced]);const arrowX=middlewareData.arrow?.x,arrowY=middlewareData.arrow?.y,cannotCenterArrow=0!==middlewareData.arrow?.centerOffset,[contentZIndex,setContentZIndex]=react.useState();return(0,react_use_layout_effect_dist.N)(()=>{content&&setContentZIndex(window.getComputedStyle(content).zIndex)},[content]),(0,jsx_runtime.jsx)("div",{ref:refs.setFloating,"data-radix-popper-content-wrapper":"",style:{...floatingStyles,transform:isPositioned?floatingStyles.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:contentZIndex,"--radix-popper-transform-origin":[middlewareData.transformOrigin?.x,middlewareData.transformOrigin?.y].join(" "),...middlewareData.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:props.dir,children:(0,jsx_runtime.jsx)(PopperContentProvider,{scope:__scopePopper,placedSide,onArrowChange:setArrow,arrowX,arrowY,shouldHideArrow:cannotCenterArrow,children:(0,jsx_runtime.jsx)(dist.sG.div,{"data-side":placedSide,"data-align":placedAlign,...contentProps,ref:composedRefs,style:{...contentProps.style,animation:isPositioned?void 0:"none"}})})})});PopperContent.displayName="PopperContent";var OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},PopperArrow=react.forwardRef(function PopperArrow2(props,forwardedRef){const{__scopePopper,...arrowProps}=props,contentContext=useContentContext("PopperArrow",__scopePopper),baseSide=OPPOSITE_SIDE[contentContext.placedSide];return(0,jsx_runtime.jsx)("span",{ref:contentContext.onArrowChange,style:{position:"absolute",left:contentContext.arrowX,top:contentContext.arrowY,[baseSide]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[contentContext.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[contentContext.placedSide],visibility:contentContext.shouldHideArrow?"hidden":void 0},children:(0,jsx_runtime.jsx)(Root,{...arrowProps,ref:forwardedRef,style:{...arrowProps.style,display:"block"}})})});function isNotNull(value){return null!==value}PopperArrow.displayName="PopperArrow";var transformOrigin=options=>({name:"transformOrigin",options,fn(data){const{placement,rects,middlewareData}=data,isArrowHidden=0!==middlewareData.arrow?.centerOffset,arrowWidth=isArrowHidden?0:options.arrowWidth,arrowHeight=isArrowHidden?0:options.arrowHeight,[placedSide,placedAlign]=getSideAndAlignFromPlacement(placement),noArrowAlign={start:"0%",center:"50%",end:"100%"}[placedAlign],arrowXCenter=(middlewareData.arrow?.x??0)+arrowWidth/2,arrowYCenter=(middlewareData.arrow?.y??0)+arrowHeight/2;let x="",y="";return"bottom"===placedSide?(x=isArrowHidden?noArrowAlign:`${arrowXCenter}px`,y=-arrowHeight+"px"):"top"===placedSide?(x=isArrowHidden?noArrowAlign:`${arrowXCenter}px`,y=`${rects.floating.height+arrowHeight}px`):"right"===placedSide?(x=-arrowHeight+"px",y=isArrowHidden?noArrowAlign:`${arrowYCenter}px`):"left"===placedSide&&(x=`${rects.floating.width+arrowHeight}px`,y=isArrowHidden?noArrowAlign:`${arrowYCenter}px`),{data:{x,y}}}});function getSideAndAlignFromPlacement(placement){const[side,align="center"]=placement.split("-");return[side,align]}var Root2=Popper,Anchor=PopperAnchor,Content=PopperContent,dist_Arrow=PopperArrow},"./node_modules/@radix-ui/react-progress/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C1:()=>Indicator,bL:()=>Root});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@radix-ui/react-context/dist/index.mjs"),_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@radix-ui/react-primitive/dist/index.mjs"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),console=__webpack_require__("./node_modules/console-browserify/index.js"),[createProgressContext,createProgressScope]=(0,_radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__.A)("Progress"),[ProgressProvider,useProgressContext]=createProgressContext("Progress"),Progress=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props,forwardedRef)=>{const{__scopeProgress,value:valueProp=null,max:maxProp,getValueLabel=defaultGetValueLabel,...progressProps}=props;!maxProp&&0!==maxProp||isValidMaxNumber(maxProp)||console.error(function getInvalidMaxError(propValue,componentName){return`Invalid prop \`max\` of value \`${propValue}\` supplied to \`${componentName}\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`}(`${maxProp}`,"Progress"));const max=isValidMaxNumber(maxProp)?maxProp:100;null===valueProp||isValidValueNumber(valueProp,max)||console.error(function getInvalidValueError(propValue,componentName){return`Invalid prop \`value\` of value \`${propValue}\` supplied to \`${componentName}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${valueProp}`,"Progress"));const value=isValidValueNumber(valueProp,max)?valueProp:null,valueLabel=isNumber(value)?getValueLabel(value,max):void 0;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ProgressProvider,{scope:__scopeProgress,value,max,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_3__.sG.div,{"aria-valuemax":max,"aria-valuemin":0,"aria-valuenow":isNumber(value)?value:void 0,"aria-valuetext":valueLabel,role:"progressbar","data-state":getProgressState(value,max),"data-value":value??void 0,"data-max":max,...progressProps,ref:forwardedRef})})});Progress.displayName="Progress";var ProgressIndicator=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props,forwardedRef)=>{const{__scopeProgress,...indicatorProps}=props,context=useProgressContext("ProgressIndicator",__scopeProgress);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_3__.sG.div,{"data-state":getProgressState(context.value,context.max),"data-value":context.value??void 0,"data-max":context.max,...indicatorProps,ref:forwardedRef})});function defaultGetValueLabel(value,max){return`${Math.round(value/max*100)}%`}function getProgressState(value,maxValue){return null==value?"indeterminate":value===maxValue?"complete":"loading"}function isNumber(value){return"number"==typeof value}function isValidMaxNumber(max){return isNumber(max)&&!isNaN(max)&&max>0}function isValidValueNumber(value,max){return isNumber(value)&&!isNaN(value)&&value<=max&&value>=0}ProgressIndicator.displayName="ProgressIndicator";var Root=Progress,Indicator=ProgressIndicator},"./node_modules/react-zoom-pan-pinch/dist/index.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GT:()=>TransformWrapper,WZ:()=>TransformComponent});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),console=__webpack_require__("./node_modules/console-browserify/index.js"),roundNumber=function(num,decimal){return Number(num.toFixed(decimal))},handleCallback=function(context,event,callback){callback&&"function"==typeof callback&&callback(context,event)},animations={easeOut:function(t){return-Math.cos(t*Math.PI)/2+.5},linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},handleCancelAnimationFrame=function(animation){"number"==typeof animation&&cancelAnimationFrame(animation)},handleCancelAnimation=function(contextInstance){contextInstance.mounted&&(handleCancelAnimationFrame(contextInstance.animation),contextInstance.animate=!1,contextInstance.animation=null,contextInstance.velocity=null)};function handleSetupAnimation(contextInstance,animationName,animationTime,callback){if(contextInstance.mounted){var startTime=(new Date).getTime();handleCancelAnimation(contextInstance),contextInstance.animation=function(){if(!contextInstance.mounted)return handleCancelAnimationFrame(contextInstance.animation);var frameTime=(new Date).getTime()-startTime,step=(0,animations[animationName])(frameTime/animationTime);frameTime>=animationTime?(callback(1),contextInstance.animation=null):contextInstance.animation&&(callback(step),requestAnimationFrame(contextInstance.animation))},requestAnimationFrame(contextInstance.animation)}}function animate(contextInstance,targetState,animationTime,animationName){var isValid=function isValidTargetState(targetState){var scale=targetState.scale,positionX=targetState.positionX,positionY=targetState.positionY;return!(Number.isNaN(scale)||Number.isNaN(positionX)||Number.isNaN(positionY))}(targetState);if(contextInstance.mounted&&isValid){var setTransformState=contextInstance.setTransformState,_a=contextInstance.transformState,scale=_a.scale,positionX=_a.positionX,positionY=_a.positionY,scaleDiff=targetState.scale-scale,positionXDiff=targetState.positionX-positionX,positionYDiff=targetState.positionY-positionY;0===animationTime?setTransformState(targetState.scale,targetState.positionX,targetState.positionY):handleSetupAnimation(contextInstance,animationName,animationTime,function(step){setTransformState(scale+scaleDiff*step,positionX+positionXDiff*step,positionY+positionYDiff*step)})}}var calculateBounds=function(contextInstance,newScale){var wrapperComponent=contextInstance.wrapperComponent,contentComponent=contextInstance.contentComponent,centerZoomedOut=contextInstance.setup.centerZoomedOut;if(!wrapperComponent||!contentComponent)throw new Error("Components are not mounted");var _a=function getComponentsSizes(wrapperComponent,contentComponent,newScale){var wrapperWidth=wrapperComponent.offsetWidth,wrapperHeight=wrapperComponent.offsetHeight,newContentWidth=contentComponent.offsetWidth*newScale,newContentHeight=contentComponent.offsetHeight*newScale;return{wrapperWidth,wrapperHeight,newContentWidth,newDiffWidth:wrapperWidth-newContentWidth,newContentHeight,newDiffHeight:wrapperHeight-newContentHeight}}(wrapperComponent,contentComponent,newScale),wrapperWidth=_a.wrapperWidth,wrapperHeight=_a.wrapperHeight,bounds=function(wrapperWidth,newContentWidth,diffWidth,wrapperHeight,newContentHeight,diffHeight,centerZoomedOut){var scaleWidthFactor=wrapperWidth>newContentWidth?diffWidth*(centerZoomedOut?1:.5):0,scaleHeightFactor=wrapperHeight>newContentHeight?diffHeight*(centerZoomedOut?1:.5):0;return{minPositionX:wrapperWidth-newContentWidth-scaleWidthFactor,maxPositionX:scaleWidthFactor,minPositionY:wrapperHeight-newContentHeight-scaleHeightFactor,maxPositionY:scaleHeightFactor}}(wrapperWidth,_a.newContentWidth,_a.newDiffWidth,wrapperHeight,_a.newContentHeight,_a.newDiffHeight,Boolean(centerZoomedOut));return bounds},boundLimiter=function(value,minBound,maxBound,isActive){return roundNumber(isActive?value<minBound?minBound:value>maxBound?maxBound:value:value,2)},handleCalculateBounds=function(contextInstance,newScale){var bounds=calculateBounds(contextInstance,newScale);return contextInstance.bounds=bounds,bounds};function getMouseBoundedPosition(positionX,positionY,bounds,limitToBounds,paddingValueX,paddingValueY,wrapperComponent){var minPositionX=bounds.minPositionX,minPositionY=bounds.minPositionY,maxPositionX=bounds.maxPositionX,maxPositionY=bounds.maxPositionY,paddingX=0,paddingY=0;return wrapperComponent&&(paddingX=paddingValueX,paddingY=paddingValueY),{x:boundLimiter(positionX,minPositionX-paddingX,maxPositionX+paddingX,limitToBounds),y:boundLimiter(positionY,minPositionY-paddingY,maxPositionY+paddingY,limitToBounds)}}function handleCalculateZoomPositions(contextInstance,mouseX,mouseY,newScale,bounds,limitToBounds){var _a=contextInstance.transformState,scale=_a.scale,positionX=_a.positionX,positionY=_a.positionY,scaleDifference=newScale-scale;return"number"!=typeof mouseX||"number"!=typeof mouseY?(console.error("Mouse X and Y position were not provided!"),{x:positionX,y:positionY}):getMouseBoundedPosition(positionX-mouseX*scaleDifference,positionY-mouseY*scaleDifference,bounds,limitToBounds,0,0,null)}function checkZoomBounds(zoom,minScale,maxScale,zoomPadding,enablePadding){var minScaleWithPadding=minScale-(enablePadding?zoomPadding:0);return!Number.isNaN(maxScale)&&zoom>=maxScale?maxScale:!Number.isNaN(minScale)&&zoom<=minScaleWithPadding?minScaleWithPadding:zoom}var isPanningStartAllowed=function(contextInstance,event){var excluded=contextInstance.setup.panning.excluded,isInitialized=contextInstance.isInitialized,wrapperComponent=contextInstance.wrapperComponent,target=event.target,isWrapperChild="shadowRoot"in target&&"composedPath"in event?event.composedPath().some(function(el){return el instanceof Element&&(null==wrapperComponent?void 0:wrapperComponent.contains(el))}):null==wrapperComponent?void 0:wrapperComponent.contains(target);return!!(isInitialized&&target&&isWrapperChild)&&!isExcludedNode(target,excluded)},isPanningAllowed=function(contextInstance){var isInitialized=contextInstance.isInitialized,isPanning=contextInstance.isPanning,disabled=contextInstance.setup.panning.disabled;return!(!isInitialized||!isPanning||disabled)};function handleNewPosition(contextInstance,newPositionX,newPositionY,paddingValueX,paddingValueY){var limitToBounds=contextInstance.setup.limitToBounds,wrapperComponent=contextInstance.wrapperComponent,bounds=contextInstance.bounds,_a=contextInstance.transformState,scale=_a.scale,positionX=_a.positionX,positionY=_a.positionY;if(null!==wrapperComponent&&null!==bounds&&(newPositionX!==positionX||newPositionY!==positionY)){var _b=getMouseBoundedPosition(newPositionX,newPositionY,bounds,limitToBounds,paddingValueX,paddingValueY,wrapperComponent),x=_b.x,y=_b.y;contextInstance.setTransformState(scale,x,y)}}var getPaddingValue=function(contextInstance,size){var setup=contextInstance.setup,scale=contextInstance.transformState.scale,minScale=setup.minScale,disablePadding=setup.disablePadding;return size>0&&scale>=minScale&&!disablePadding?size:0};function getVelocityPosition(newPosition,startPosition,currentPosition,isLocked,limitToBounds,minPosition,maxPosition,minTarget,maxTarget,step){if(limitToBounds){var calculatedPosition;if(startPosition>maxPosition&&currentPosition>maxPosition)return(calculatedPosition=maxPosition+(newPosition-maxPosition)*step)>maxTarget?maxTarget:calculatedPosition<maxPosition?maxPosition:calculatedPosition;if(startPosition<minPosition&&currentPosition<minPosition)return(calculatedPosition=minPosition+(newPosition-minPosition)*step)<minTarget?minTarget:calculatedPosition>minPosition?minPosition:calculatedPosition}return isLocked?startPosition:boundLimiter(newPosition,minPosition,maxPosition,limitToBounds)}function handleCalculateVelocity(contextInstance,position){var isAllowed=function(contextInstance){var mounted=contextInstance.mounted,_a=contextInstance.setup,disabled=_a.disabled,velocityAnimation=_a.velocityAnimation,scale=contextInstance.transformState.scale;return!(velocityAnimation.disabled&&!(scale>1)&&disabled&&!mounted)}(contextInstance);if(isAllowed){var lastMousePosition=contextInstance.lastMousePosition,velocityTime=contextInstance.velocityTime,setup=contextInstance.setup,wrapperComponent=contextInstance.wrapperComponent,equalToMove=setup.velocityAnimation.equalToMove,now=Date.now();if(lastMousePosition&&velocityTime&&wrapperComponent){var sizeMultiplier=function getSizeMultiplier(wrapperComponent,equalToMove){return equalToMove?Math.min(1,wrapperComponent.offsetWidth/window.innerWidth):1}(wrapperComponent,equalToMove),distanceX=position.x-lastMousePosition.x,distanceY=position.y-lastMousePosition.y,velocityX=distanceX/sizeMultiplier,velocityY=distanceY/sizeMultiplier,interval=now-velocityTime,speed=distanceX*distanceX+distanceY*distanceY,velocity=Math.sqrt(speed)/interval;contextInstance.velocity={velocityX,velocityY,total:velocity}}contextInstance.lastMousePosition=position,contextInstance.velocityTime=now}}function handlePanningStart(contextInstance,event){var scale=contextInstance.transformState.scale;handleCancelAnimation(contextInstance),handleCalculateBounds(contextInstance,scale),void 0!==window.TouchEvent&&event instanceof TouchEvent?function(contextInstance,event){var touches=event.touches,_a=contextInstance.transformState,positionX=_a.positionX,positionY=_a.positionY;if(contextInstance.isPanning=!0,1===touches.length){var x=touches[0].clientX,y=touches[0].clientY;contextInstance.startCoords={x:x-positionX,y:y-positionY}}}(contextInstance,event):function(contextInstance,event){var _a=contextInstance.transformState,positionX=_a.positionX,positionY=_a.positionY;contextInstance.isPanning=!0;var x=event.clientX,y=event.clientY;contextInstance.startCoords={x:x-positionX,y:y-positionY}}(contextInstance,event)}function handleAlignToBounds(contextInstance,customAnimationTime){var scale=contextInstance.transformState.scale,_a=contextInstance.setup,minScale=_a.minScale,alignmentAnimation=_a.alignmentAnimation,disabled=alignmentAnimation.disabled,sizeX=alignmentAnimation.sizeX,sizeY=alignmentAnimation.sizeY,animationTime=alignmentAnimation.animationTime,animationType=alignmentAnimation.animationType;if(!(disabled||scale<minScale||!sizeX&&!sizeY)){var targetState=function handlePanToBounds(contextInstance){var _a=contextInstance.transformState,positionX=_a.positionX,positionY=_a.positionY,scale=_a.scale,_b=contextInstance.setup,disabled=_b.disabled,limitToBounds=_b.limitToBounds,centerZoomedOut=_b.centerZoomedOut,wrapperComponent=contextInstance.wrapperComponent;if(!disabled&&wrapperComponent&&contextInstance.bounds){var _c=contextInstance.bounds,maxPositionX=_c.maxPositionX,minPositionX=_c.minPositionX,maxPositionY=_c.maxPositionY,minPositionY=_c.minPositionY,xChanged=positionX>maxPositionX||positionX<minPositionX,yChanged=positionY>maxPositionY||positionY<minPositionY,_d=handleCalculateZoomPositions(contextInstance,positionX>maxPositionX?wrapperComponent.offsetWidth:contextInstance.setup.minPositionX||0,positionY>maxPositionY?wrapperComponent.offsetHeight:contextInstance.setup.minPositionY||0,scale,contextInstance.bounds,limitToBounds||centerZoomedOut),x=_d.x,y=_d.y;return{scale,positionX:xChanged?x:positionX,positionY:yChanged?y:positionY}}}(contextInstance);targetState&&animate(contextInstance,targetState,null!=customAnimationTime?customAnimationTime:animationTime,animationType)}}function handlePanning(contextInstance,clientX,clientY){var startCoords=contextInstance.startCoords,_a=contextInstance.setup.alignmentAnimation,sizeX=_a.sizeX,sizeY=_a.sizeY;if(startCoords){var _b=function(contextInstance,clientX,clientY){var startCoords=contextInstance.startCoords,transformState=contextInstance.transformState,panning=contextInstance.setup.panning,lockAxisX=panning.lockAxisX,lockAxisY=panning.lockAxisY,positionX=transformState.positionX,positionY=transformState.positionY;if(!startCoords)return{x:positionX,y:positionY};var mouseX=clientX-startCoords.x,mouseY=clientY-startCoords.y;return{x:lockAxisX?positionX:mouseX,y:lockAxisY?positionY:mouseY}}(contextInstance,clientX,clientY),x=_b.x,y=_b.y,paddingValueX=getPaddingValue(contextInstance,sizeX),paddingValueY=getPaddingValue(contextInstance,sizeY);handleCalculateVelocity(contextInstance,{x,y}),handleNewPosition(contextInstance,x,y,paddingValueX,paddingValueY)}}function handlePanningEnd(contextInstance){if(contextInstance.isPanning){var velocityDisabled=contextInstance.setup.panning.velocityDisabled,velocity=contextInstance.velocity,wrapperComponent=contextInstance.wrapperComponent,contentComponent=contextInstance.contentComponent;contextInstance.isPanning=!1,contextInstance.animate=!1,contextInstance.animation=null;var wrapperRect=null==wrapperComponent?void 0:wrapperComponent.getBoundingClientRect(),contentRect=null==contentComponent?void 0:contentComponent.getBoundingClientRect(),wrapperWidth=(null==wrapperRect?void 0:wrapperRect.width)||0,wrapperHeight=(null==wrapperRect?void 0:wrapperRect.height)||0,contentWidth=(null==contentRect?void 0:contentRect.width)||0,contentHeight=(null==contentRect?void 0:contentRect.height)||0,isZoomed=wrapperWidth<contentWidth||wrapperHeight<contentHeight;!velocityDisabled&&velocity&&(null==velocity?void 0:velocity.total)>.1&&isZoomed?function handleVelocityPanning(contextInstance){var velocity=contextInstance.velocity,bounds=contextInstance.bounds,setup=contextInstance.setup,wrapperComponent=contextInstance.wrapperComponent,isAllowed=function(contextInstance){var mounted=contextInstance.mounted,velocity=contextInstance.velocity,bounds=contextInstance.bounds,_a=contextInstance.setup,disabled=_a.disabled,velocityAnimation=_a.velocityAnimation,scale=contextInstance.transformState.scale;return!(velocityAnimation.disabled&&!(scale>1)&&disabled&&!mounted||!velocity||!bounds)}(contextInstance);if(isAllowed&&velocity&&bounds&&wrapperComponent){var velocityX=velocity.velocityX,velocityY=velocity.velocityY,total=velocity.total,maxPositionX=bounds.maxPositionX,minPositionX=bounds.minPositionX,maxPositionY=bounds.maxPositionY,minPositionY=bounds.minPositionY,limitToBounds=setup.limitToBounds,alignmentAnimation=setup.alignmentAnimation,zoomAnimation=setup.zoomAnimation,panning=setup.panning,lockAxisY=panning.lockAxisY,lockAxisX=panning.lockAxisX,animationType=zoomAnimation.animationType,sizeX=alignmentAnimation.sizeX,sizeY=alignmentAnimation.sizeY,alignAnimationTime=alignmentAnimation.velocityAlignmentTime,moveAnimationTime=function getVelocityMoveTime(contextInstance,velocity){var velocityAnimation=contextInstance.setup.velocityAnimation,equalToMove=velocityAnimation.equalToMove,animationTime=velocityAnimation.animationTime,sensitivity=velocityAnimation.sensitivity;return equalToMove?animationTime*velocity*sensitivity:animationTime}(contextInstance,total),finalAnimationTime=Math.max(moveAnimationTime,alignAnimationTime),paddingValueX=getPaddingValue(contextInstance,sizeX),paddingValueY=getPaddingValue(contextInstance,sizeY),paddingX=paddingValueX*wrapperComponent.offsetWidth/100,paddingY=paddingValueY*wrapperComponent.offsetHeight/100,maxTargetX=maxPositionX+paddingX,minTargetX=minPositionX-paddingX,maxTargetY=maxPositionY+paddingY,minTargetY=minPositionY-paddingY,startState=contextInstance.transformState,startTime=(new Date).getTime();handleSetupAnimation(contextInstance,animationType,finalAnimationTime,function(step){var _a=contextInstance.transformState,scale=_a.scale,positionX=_a.positionX,positionY=_a.positionY,animationProgress=((new Date).getTime()-startTime)/alignAnimationTime,alignStep=1-(0,animations[alignmentAnimation.animationType])(Math.min(1,animationProgress)),customStep=1-step,newPositionX=positionX+velocityX*customStep,newPositionY=positionY+velocityY*customStep,currentPositionX=getVelocityPosition(newPositionX,startState.positionX,positionX,lockAxisX,limitToBounds,minPositionX,maxPositionX,minTargetX,maxTargetX,alignStep),currentPositionY=getVelocityPosition(newPositionY,startState.positionY,positionY,lockAxisY,limitToBounds,minPositionY,maxPositionY,minTargetY,maxTargetY,alignStep);positionX===newPositionX&&positionY===newPositionY||contextInstance.setTransformState(scale,currentPositionX,currentPositionY)})}}(contextInstance):handleAlignToBounds(contextInstance)}}function handleZoomToPoint(contextInstance,scale,mouseX,mouseY){var _a=contextInstance.setup,minScale=_a.minScale,maxScale=_a.maxScale,limitToBounds=_a.limitToBounds,newScale=checkZoomBounds(roundNumber(scale,2),minScale,maxScale,0,!1),_b=handleCalculateZoomPositions(contextInstance,mouseX,mouseY,newScale,handleCalculateBounds(contextInstance,newScale),limitToBounds);return{scale:newScale,positionX:_b.x,positionY:_b.y}}function handleAlignToScaleBounds(contextInstance,mousePositionX,mousePositionY){var scale=contextInstance.transformState.scale,wrapperComponent=contextInstance.wrapperComponent,_a=contextInstance.setup,minScale=_a.minScale,limitToBounds=_a.limitToBounds,zoomAnimation=_a.zoomAnimation,disabled=zoomAnimation.disabled,animationTime=zoomAnimation.animationTime,animationType=zoomAnimation.animationType,isDisabled=disabled||scale>=minScale;if((scale>=1||limitToBounds)&&handleAlignToBounds(contextInstance),!isDisabled&&wrapperComponent&&contextInstance.mounted){var targetState=handleZoomToPoint(contextInstance,minScale,mousePositionX||wrapperComponent.offsetWidth/2,mousePositionY||wrapperComponent.offsetHeight/2);targetState&&animate(contextInstance,targetState,animationTime,animationType)}}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __spreadArray(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))}"function"==typeof SuppressedError&&SuppressedError;var initialState_scale=1,initialState_positionX=0,initialState_positionY=0,initialSetup={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},baseClasses_wrapperClass="react-transform-wrapper",baseClasses_contentClass="react-transform-component",createState=function(props){var _a,_b,_c,_d;return{previousScale:null!==(_a=props.initialScale)&&void 0!==_a?_a:initialState_scale,scale:null!==(_b=props.initialScale)&&void 0!==_b?_b:initialState_scale,positionX:null!==(_c=props.initialPositionX)&&void 0!==_c?_c:initialState_positionX,positionY:null!==(_d=props.initialPositionY)&&void 0!==_d?_d:initialState_positionY}},createSetup=function(props){var newSetup=__assign({},initialSetup);return Object.keys(props).forEach(function(key){var validValue=void 0!==props[key];if(void 0!==initialSetup[key]&&validValue){var dataType=Object.prototype.toString.call(initialSetup[key]),isObject="[object Object]"===dataType,isArray="[object Array]"===dataType;newSetup[key]=isObject?__assign(__assign({},initialSetup[key]),props[key]):isArray?__spreadArray(__spreadArray([],initialSetup[key],!0),props[key],!0):props[key]}}),newSetup},handleCalculateButtonZoom=function(contextInstance,delta,step){var scale=contextInstance.transformState.scale,wrapperComponent=contextInstance.wrapperComponent,setup=contextInstance.setup,maxScale=setup.maxScale,minScale=setup.minScale,zoomAnimation=setup.zoomAnimation,smooth=setup.smooth,size=zoomAnimation.size;if(!wrapperComponent)throw new Error("Wrapper is not mounted");var targetScale=smooth?scale*Math.exp(delta*step):scale+delta*step;return checkZoomBounds(roundNumber(targetScale,3),minScale,maxScale,size,!1)};function handleZoomToViewCenter(contextInstance,delta,step,animationTime,animationType){var wrapperComponent=contextInstance.wrapperComponent,_a=contextInstance.transformState,scale=_a.scale,positionX=_a.positionX,positionY=_a.positionY;if(!wrapperComponent)return console.error("No WrapperComponent found");var mouseX=(wrapperComponent.offsetWidth/2-positionX)/scale,mouseY=(wrapperComponent.offsetHeight/2-positionY)/scale,targetState=handleZoomToPoint(contextInstance,handleCalculateButtonZoom(contextInstance,delta,step),mouseX,mouseY);if(!targetState)return console.error("Error during zoom event. New transformation state was not calculated.");animate(contextInstance,targetState,animationTime,animationType)}function resetTransformations(contextInstance,animationTime,animationType,onResetTransformation){var setup=contextInstance.setup,wrapperComponent=contextInstance.wrapperComponent,limitToBounds=setup.limitToBounds,initialTransformation=createState(contextInstance.props),_a=contextInstance.transformState,scale=_a.scale,positionX=_a.positionX,positionY=_a.positionY;if(wrapperComponent){var newBounds=calculateBounds(contextInstance,initialTransformation.scale),boundedPositions=getMouseBoundedPosition(initialTransformation.positionX,initialTransformation.positionY,newBounds,limitToBounds,0,0,wrapperComponent),newState={scale:initialTransformation.scale,positionX:boundedPositions.x,positionY:boundedPositions.y};scale===initialTransformation.scale&&positionX===initialTransformation.positionX&&positionY===initialTransformation.positionY||(null==onResetTransformation||onResetTransformation(),animate(contextInstance,newState,animationTime,animationType))}}var zoomIn=function(contextInstance){return function(step,animationTime,animationType){void 0===step&&(step=.5),void 0===animationTime&&(animationTime=300),void 0===animationType&&(animationType="easeOut"),handleZoomToViewCenter(contextInstance,1,step,animationTime,animationType)}},zoomOut=function(contextInstance){return function(step,animationTime,animationType){void 0===step&&(step=.5),void 0===animationTime&&(animationTime=300),void 0===animationType&&(animationType="easeOut"),handleZoomToViewCenter(contextInstance,-1,step,animationTime,animationType)}},setTransform=function(contextInstance){return function(newPositionX,newPositionY,newScale,animationTime,animationType){void 0===animationTime&&(animationTime=300),void 0===animationType&&(animationType="easeOut");var _a=contextInstance.transformState,positionX=_a.positionX,positionY=_a.positionY,scale=_a.scale,wrapperComponent=contextInstance.wrapperComponent,contentComponent=contextInstance.contentComponent;if(!contextInstance.setup.disabled&&wrapperComponent&&contentComponent){var targetState={positionX:Number.isNaN(newPositionX)?positionX:newPositionX,positionY:Number.isNaN(newPositionY)?positionY:newPositionY,scale:Number.isNaN(newScale)?scale:newScale};animate(contextInstance,targetState,animationTime,animationType)}}},resetTransform=function(contextInstance){return function(animationTime,animationType){void 0===animationTime&&(animationTime=200),void 0===animationType&&(animationType="easeOut"),resetTransformations(contextInstance,animationTime,animationType)}},centerView=function(contextInstance){return function(scale,animationTime,animationType){void 0===animationTime&&(animationTime=200),void 0===animationType&&(animationType="easeOut");var transformState=contextInstance.transformState,wrapperComponent=contextInstance.wrapperComponent,contentComponent=contextInstance.contentComponent;if(wrapperComponent&&contentComponent){var targetState=getCenterPosition(scale||transformState.scale,wrapperComponent,contentComponent);animate(contextInstance,targetState,animationTime,animationType)}}},zoomToElement=function(contextInstance){return function(node,scale,animationTime,animationType){void 0===animationTime&&(animationTime=600),void 0===animationType&&(animationType="easeOut"),handleCancelAnimation(contextInstance);var wrapperComponent=contextInstance.wrapperComponent,target="string"==typeof node?document.getElementById(node):node;if(wrapperComponent&&target&&wrapperComponent.contains(target)){var targetState=function calculateZoomToNode(contextInstance,node,customZoom){var wrapperComponent=contextInstance.wrapperComponent,contentComponent=contextInstance.contentComponent,transformState=contextInstance.transformState,_a=contextInstance.setup,limitToBounds=_a.limitToBounds,minScale=_a.minScale,maxScale=_a.maxScale;if(!wrapperComponent||!contentComponent)return transformState;var wrapperRect=wrapperComponent.getBoundingClientRect(),nodeRect=node.getBoundingClientRect(),nodeOffset=function getOffset(element,wrapper,content,state){var offset=element.getBoundingClientRect(),wrapperOffset=wrapper.getBoundingClientRect(),contentOffset=content.getBoundingClientRect(),xOff=wrapperOffset.x*state.scale,yOff=wrapperOffset.y*state.scale;return{x:(offset.x-contentOffset.x+xOff)/state.scale,y:(offset.y-contentOffset.y+yOff)/state.scale}}(node,wrapperComponent,contentComponent,transformState),nodeLeft=nodeOffset.x,nodeTop=nodeOffset.y,nodeWidth=nodeRect.width/transformState.scale,nodeHeight=nodeRect.height/transformState.scale,scaleX=wrapperComponent.offsetWidth/nodeWidth,scaleY=wrapperComponent.offsetHeight/nodeHeight,newScale=checkZoomBounds(customZoom||Math.min(scaleX,scaleY),minScale,maxScale,0,!1),offsetX=(wrapperRect.width-nodeWidth*newScale)/2,offsetY=(wrapperRect.height-nodeHeight*newScale)/2,_b=getMouseBoundedPosition((wrapperRect.left-nodeLeft)*newScale+offsetX,(wrapperRect.top-nodeTop)*newScale+offsetY,calculateBounds(contextInstance,newScale),limitToBounds,0,0,wrapperComponent);return{positionX:_b.x,positionY:_b.y,scale:newScale}}(contextInstance,target,scale);animate(contextInstance,targetState,animationTime,animationType)}}},getControls=function(contextInstance){return{instance:contextInstance,zoomIn:zoomIn(contextInstance),zoomOut:zoomOut(contextInstance),setTransform:setTransform(contextInstance),resetTransform:resetTransform(contextInstance),centerView:centerView(contextInstance),zoomToElement:zoomToElement(contextInstance)}},getState=function(contextInstance){return{instance:contextInstance,state:contextInstance.transformState}},getContext=function(contextInstance){var ref={};return Object.assign(ref,getState(contextInstance)),Object.assign(ref,getControls(contextInstance)),ref};function makePassiveEventOption(){try{return{get passive(){return!1}}}catch(err){return!1}}var matchPrefix=".".concat(baseClasses_wrapperClass),isExcludedNode=function(node,excluded){return excluded.some(function(exclude){return node.matches("".concat(matchPrefix," ").concat(exclude,", ").concat(matchPrefix," .").concat(exclude,", ").concat(matchPrefix," ").concat(exclude," *, ").concat(matchPrefix," .").concat(exclude," *"))})},cancelTimeout=function(timeout){timeout&&clearTimeout(timeout)},getCenterPosition=function(scale,wrapperComponent,contentComponent){var contentWidth=contentComponent.offsetWidth*scale,contentHeight=contentComponent.offsetHeight*scale;return{scale,positionX:(wrapperComponent.offsetWidth-contentWidth)/2,positionY:(wrapperComponent.offsetHeight-contentHeight)/2}};function getMousePosition(event,contentComponent,scale){var contentRect=contentComponent.getBoundingClientRect(),mouseX=0,mouseY=0;if("clientX"in event)mouseX=(event.clientX-contentRect.left)/scale,mouseY=(event.clientY-contentRect.top)/scale;else{var touch=event.touches[0];mouseX=(touch.clientX-contentRect.left)/scale,mouseY=(touch.clientY-contentRect.top)/scale}return(Number.isNaN(mouseX)||Number.isNaN(mouseY))&&console.error("No mouse or touch offset found"),{x:mouseX,y:mouseY}}var getTouchDistance=function(event){return Math.sqrt(Math.pow(event.touches[0].pageX-event.touches[1].pageX,2)+Math.pow(event.touches[0].pageY-event.touches[1].pageY,2))},handleWheelZoom=function(contextInstance,event){var _a=contextInstance.props,onWheel=_a.onWheel,onZoom=_a.onZoom,contentComponent=contextInstance.contentComponent,setup=contextInstance.setup,scale=contextInstance.transformState.scale,limitToBounds=setup.limitToBounds,centerZoomedOut=setup.centerZoomedOut,zoomAnimation=setup.zoomAnimation,wheel=setup.wheel,disablePadding=setup.disablePadding,smooth=setup.smooth,size=zoomAnimation.size,disabled=zoomAnimation.disabled,step=wheel.step,smoothStep=wheel.smoothStep;if(!contentComponent)throw new Error("Component not mounted");event.preventDefault(),event.stopPropagation();var delta=function getDelta(event,customDelta){var num,defaultValue,deltaY=function(event){return event?event.deltaY<0?1:-1:0}(event);return defaultValue=deltaY,"number"==typeof(num=customDelta)?num:defaultValue}(event,null),newScale=function(contextInstance,delta,step,disable,getTarget){var scale=contextInstance.transformState.scale,wrapperComponent=contextInstance.wrapperComponent,setup=contextInstance.setup,maxScale=setup.maxScale,minScale=setup.minScale,zoomAnimation=setup.zoomAnimation,disablePadding=setup.disablePadding,size=zoomAnimation.size,disabled=zoomAnimation.disabled;if(!wrapperComponent)throw new Error("Wrapper is not mounted");var targetScale=scale+delta*step;if(getTarget)return targetScale;var paddingEnabled=!disable&&!disabled;return checkZoomBounds(roundNumber(targetScale,3),minScale,maxScale,size,paddingEnabled&&!disablePadding)}(contextInstance,delta,smooth?smoothStep*Math.abs(event.deltaY):step,!event.ctrlKey);if(scale!==newScale){var bounds=handleCalculateBounds(contextInstance,newScale),mousePosition=getMousePosition(event,contentComponent,scale),isLimitedToBounds=limitToBounds&&(disabled||0===size||centerZoomedOut||disablePadding),_b=handleCalculateZoomPositions(contextInstance,mousePosition.x,mousePosition.y,newScale,bounds,isLimitedToBounds),x=_b.x,y=_b.y;contextInstance.previousWheelEvent=event,contextInstance.setTransformState(newScale,x,y),handleCallback(getContext(contextInstance),event,onWheel),handleCallback(getContext(contextInstance),event,onZoom)}},handleWheelStop=function(contextInstance,event){var _a=contextInstance.props,onWheelStop=_a.onWheelStop,onZoomStop=_a.onZoomStop;cancelTimeout(contextInstance.wheelAnimationTimer),contextInstance.wheelAnimationTimer=setTimeout(function(){contextInstance.mounted&&(handleAlignToScaleBounds(contextInstance,event.x,event.y),contextInstance.wheelAnimationTimer=null)},100);var hasStoppedZooming=function(contextInstance,event){var previousWheelEvent=contextInstance.previousWheelEvent,scale=contextInstance.transformState.scale,_a=contextInstance.setup,maxScale=_a.maxScale,minScale=_a.minScale;return!!previousWheelEvent&&(scale<maxScale||scale>minScale||Math.sign(previousWheelEvent.deltaY)!==Math.sign(event.deltaY)||previousWheelEvent.deltaY>0&&previousWheelEvent.deltaY<event.deltaY||previousWheelEvent.deltaY<0&&previousWheelEvent.deltaY>event.deltaY||Math.sign(previousWheelEvent.deltaY)!==Math.sign(event.deltaY))}(contextInstance,event);hasStoppedZooming&&(cancelTimeout(contextInstance.wheelStopEventTimer),contextInstance.wheelStopEventTimer=setTimeout(function(){contextInstance.mounted&&(contextInstance.wheelStopEventTimer=null,handleCallback(getContext(contextInstance),event,onWheelStop),handleCallback(getContext(contextInstance),event,onZoomStop))},160))},getTouchCenter=function(event){for(var totalX=0,totalY=0,i=0;i<2;i+=1)totalX+=event.touches[i].clientX,totalY+=event.touches[i].clientY;return{x:totalX/2,y:totalY/2}},handlePinchZoom=function(contextInstance,event){var contentComponent=contextInstance.contentComponent,pinchStartDistance=contextInstance.pinchStartDistance,wrapperComponent=contextInstance.wrapperComponent,scale=contextInstance.transformState.scale,_a=contextInstance.setup,limitToBounds=_a.limitToBounds,centerZoomedOut=_a.centerZoomedOut,zoomAnimation=_a.zoomAnimation,alignmentAnimation=_a.alignmentAnimation,disabled=zoomAnimation.disabled,size=zoomAnimation.size;if(null!==pinchStartDistance&&contentComponent){var midPoint=function(event,scale,contentComponent){var contentRect=contentComponent.getBoundingClientRect(),touches=event.touches,firstPointX=roundNumber(touches[0].clientX-contentRect.left,5),firstPointY=roundNumber(touches[0].clientY-contentRect.top,5);return{x:(firstPointX+roundNumber(touches[1].clientX-contentRect.left,5))/2/scale,y:(firstPointY+roundNumber(touches[1].clientY-contentRect.top,5))/2/scale}}(event,scale,contentComponent);if(Number.isFinite(midPoint.x)&&Number.isFinite(midPoint.y)){var currentDistance=getTouchDistance(event),newScale=function(contextInstance,currentDistance){var pinchStartScale=contextInstance.pinchStartScale,pinchStartDistance=contextInstance.pinchStartDistance,setup=contextInstance.setup,maxScale=setup.maxScale,minScale=setup.minScale,zoomAnimation=setup.zoomAnimation,disablePadding=setup.disablePadding,size=zoomAnimation.size,disabled=zoomAnimation.disabled;if(!pinchStartScale||null===pinchStartDistance||!currentDistance)throw new Error("Pinch touches distance was not provided");return currentDistance<0?contextInstance.transformState.scale:checkZoomBounds(roundNumber(currentDistance/pinchStartDistance*pinchStartScale,2),minScale,maxScale,size,!disabled&&!disablePadding)}(contextInstance,currentDistance),center=getTouchCenter(event),panX=center.x-(contextInstance.pinchLastCenterX||0),panY=center.y-(contextInstance.pinchLastCenterY||0);if(newScale!==scale||0!==panX||0!==panY){contextInstance.pinchLastCenterX=center.x,contextInstance.pinchLastCenterY=center.y;var bounds=handleCalculateBounds(contextInstance,newScale),isLimitedToBounds=limitToBounds&&(disabled||0===size||centerZoomedOut),_b=handleCalculateZoomPositions(contextInstance,midPoint.x,midPoint.y,newScale,bounds,isLimitedToBounds),x=_b.x,y=_b.y;contextInstance.pinchMidpoint=midPoint,contextInstance.lastDistance=currentDistance;var sizeX=alignmentAnimation.sizeX,sizeY=alignmentAnimation.sizeY,_c=getMouseBoundedPosition(x+panX,y+panY,bounds,limitToBounds,getPaddingValue(contextInstance,sizeX),getPaddingValue(contextInstance,sizeY),wrapperComponent),finalX=_c.x,finalY=_c.y;contextInstance.setTransformState(newScale,finalX,finalY)}}}},handleDoubleClickStop=function(contextInstance,event){var onZoomStop=contextInstance.props.onZoomStop,animationTime=contextInstance.setup.doubleClick.animationTime;cancelTimeout(contextInstance.doubleClickStopEventTimer),contextInstance.doubleClickStopEventTimer=setTimeout(function(){contextInstance.doubleClickStopEventTimer=null,handleCallback(getContext(contextInstance),event,onZoomStop)},animationTime)};function handleDoubleClick(contextInstance,event){var setup=contextInstance.setup,doubleClickStopEventTimer=contextInstance.doubleClickStopEventTimer,transformState=contextInstance.transformState,contentComponent=contextInstance.contentComponent,scale=transformState.scale,_a=contextInstance.props,onZoomStart=_a.onZoomStart,onZoom=_a.onZoom,_b=setup.doubleClick,disabled=_b.disabled,mode=_b.mode,step=_b.step,animationTime=_b.animationTime,animationType=_b.animationType;if(!disabled&&!doubleClickStopEventTimer){if("reset"===mode)return function(contextInstance,event){var _a=contextInstance.props,onZoomStart=_a.onZoomStart,onZoom=_a.onZoom,_b=contextInstance.setup.doubleClick,animationTime=_b.animationTime,animationType=_b.animationType;handleCallback(getContext(contextInstance),event,onZoomStart),resetTransformations(contextInstance,animationTime,animationType,function(){return handleCallback(getContext(contextInstance),event,onZoom)}),handleDoubleClickStop(contextInstance,event)}(contextInstance,event);if(!contentComponent)return console.error("No ContentComponent found");var delta=function getDoubleClickScale(mode,scale){return"toggle"===mode?1===scale?1:-1:"zoomOut"===mode?-1:1}(mode,contextInstance.transformState.scale),newScale=handleCalculateButtonZoom(contextInstance,delta,step);if(scale!==newScale){handleCallback(getContext(contextInstance),event,onZoomStart);var mousePosition=getMousePosition(event,contentComponent,scale),targetState=handleZoomToPoint(contextInstance,newScale,mousePosition.x,mousePosition.y);if(!targetState)return console.error("Error during zoom event. New transformation state was not calculated.");handleCallback(getContext(contextInstance),event,onZoom),animate(contextInstance,targetState,animationTime,animationType),handleDoubleClickStop(contextInstance,event)}}}var ZoomPanPinch=function ZoomPanPinch(props){var _this=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){_this.initializeWindowEvents()},this.unmount=function(){_this.cleanupWindowEvents()},this.update=function(newProps){_this.props=newProps,handleCalculateBounds(_this,_this.transformState.scale),_this.setup=createSetup(newProps)},this.initializeWindowEvents=function(){var _a,_b,passive=makePassiveEventOption(),currentDocument=null===(_a=_this.wrapperComponent)||void 0===_a?void 0:_a.ownerDocument,currentWindow=null==currentDocument?void 0:currentDocument.defaultView;null===(_b=_this.wrapperComponent)||void 0===_b||_b.addEventListener("wheel",_this.onWheelPanning,passive),null==currentWindow||currentWindow.addEventListener("mousedown",_this.onPanningStart,passive),null==currentWindow||currentWindow.addEventListener("mousemove",_this.onPanning,passive),null==currentWindow||currentWindow.addEventListener("mouseup",_this.onPanningStop,passive),null==currentDocument||currentDocument.addEventListener("mouseleave",_this.clearPanning,passive),null==currentWindow||currentWindow.addEventListener("keyup",_this.setKeyUnPressed,passive),null==currentWindow||currentWindow.addEventListener("keydown",_this.setKeyPressed,passive)},this.cleanupWindowEvents=function(){var _a,_b,passive=makePassiveEventOption(),currentDocument=null===(_a=_this.wrapperComponent)||void 0===_a?void 0:_a.ownerDocument,currentWindow=null==currentDocument?void 0:currentDocument.defaultView;null==currentWindow||currentWindow.removeEventListener("mousedown",_this.onPanningStart,passive),null==currentWindow||currentWindow.removeEventListener("mousemove",_this.onPanning,passive),null==currentWindow||currentWindow.removeEventListener("mouseup",_this.onPanningStop,passive),null==currentDocument||currentDocument.removeEventListener("mouseleave",_this.clearPanning,passive),null==currentWindow||currentWindow.removeEventListener("keyup",_this.setKeyUnPressed,passive),null==currentWindow||currentWindow.removeEventListener("keydown",_this.setKeyPressed,passive),document.removeEventListener("mouseleave",_this.clearPanning,passive),handleCancelAnimation(_this),null===(_b=_this.observer)||void 0===_b||_b.disconnect()},this.handleInitializeWrapperEvents=function(wrapper){var passive=makePassiveEventOption();wrapper.addEventListener("wheel",_this.onWheelZoom,passive),wrapper.addEventListener("dblclick",_this.onDoubleClick,passive),wrapper.addEventListener("touchstart",_this.onTouchPanningStart,passive),wrapper.addEventListener("touchmove",_this.onTouchPanning,passive),wrapper.addEventListener("touchend",_this.onTouchPanningStop,passive)},this.handleInitialize=function(wrapper,contentComponent){var isCentered=!1,centerOnInit=_this.setup.centerOnInit,hasTarget=function(entries,target){for(var _i=0,entries_1=entries;_i<entries_1.length;_i++)if(entries_1[_i].target===target)return!0;return!1};_this.applyTransformation(),_this.onInitCallbacks.forEach(function(callback){callback(getContext(_this))}),_this.observer=new ResizeObserver(function(entries){if(hasTarget(entries,wrapper)||hasTarget(entries,contentComponent))if(centerOnInit&&!isCentered){var currentWidth=contentComponent.offsetWidth,currentHeight=contentComponent.offsetHeight;(currentWidth>0||currentHeight>0)&&(isCentered=!0,_this.setCenter())}else handleCancelAnimation(_this),handleCalculateBounds(_this,_this.transformState.scale),handleAlignToBounds(_this,0)}),_this.observer.observe(wrapper),_this.observer.observe(contentComponent)},this.onWheelZoom=function(event){if(!_this.setup.disabled){var isAllowed=function(contextInstance,event){var _a=contextInstance.setup.wheel,disabled=_a.disabled,wheelDisabled=_a.wheelDisabled,touchPadDisabled=_a.touchPadDisabled,excluded=_a.excluded,isInitialized=contextInstance.isInitialized,isPanning=contextInstance.isPanning,target=event.target;return!(!isInitialized||isPanning||disabled||!target||wheelDisabled&&!event.ctrlKey||touchPadDisabled&&event.ctrlKey||isExcludedNode(target,excluded))}(_this,event);isAllowed&&_this.isPressingKeys(_this.setup.wheel.activationKeys)&&(function(contextInstance,event){var _a=contextInstance.props,onWheelStart=_a.onWheelStart,onZoomStart=_a.onZoomStart;contextInstance.wheelStopEventTimer||(handleCancelAnimation(contextInstance),handleCallback(getContext(contextInstance),event,onWheelStart),handleCallback(getContext(contextInstance),event,onZoomStart))}(_this,event),handleWheelZoom(_this,event),handleWheelStop(_this,event))}},this.onWheelPanning=function(event){var _a=_this.setup,disabled=_a.disabled,wheel=_a.wheel,panning=_a.panning;if(_this.wrapperComponent&&_this.contentComponent&&!disabled&&wheel.wheelDisabled&&!panning.disabled&&panning.wheelPanning&&!event.ctrlKey){event.preventDefault(),event.stopPropagation();var _b=_this.transformState,positionX=_b.positionX,positionY=_b.positionY,mouseX=positionX-event.deltaX,mouseY=positionY-event.deltaY,newPositionX=panning.lockAxisX?positionX:mouseX,newPositionY=panning.lockAxisY?positionY:mouseY,_c=_this.setup.alignmentAnimation,sizeX=_c.sizeX,sizeY=_c.sizeY,paddingValueX=getPaddingValue(_this,sizeX),paddingValueY=getPaddingValue(_this,sizeY);newPositionX===positionX&&newPositionY===positionY||handleNewPosition(_this,newPositionX,newPositionY,paddingValueX,paddingValueY)}},this.onPanningStart=function(event){var disabled=_this.setup.disabled,onPanningStart=_this.props.onPanningStart;disabled||isPanningStartAllowed(_this,event)&&_this.isPressingKeys(_this.setup.panning.activationKeys)&&(0!==event.button||_this.setup.panning.allowLeftClickPan)&&(1!==event.button||_this.setup.panning.allowMiddleClickPan)&&(2!==event.button||_this.setup.panning.allowRightClickPan)&&(event.preventDefault(),event.stopPropagation(),handleCancelAnimation(_this),handlePanningStart(_this,event),handleCallback(getContext(_this),event,onPanningStart))},this.onPanning=function(event){var disabled=_this.setup.disabled,onPanning=_this.props.onPanning;disabled||isPanningAllowed(_this)&&_this.isPressingKeys(_this.setup.panning.activationKeys)&&(event.preventDefault(),event.stopPropagation(),handlePanning(_this,event.clientX,event.clientY),handleCallback(getContext(_this),event,onPanning))},this.onPanningStop=function(event){var onPanningStop=_this.props.onPanningStop;_this.isPanning&&(handlePanningEnd(_this),handleCallback(getContext(_this),event,onPanningStop))},this.onPinchStart=function(event){var disabled=_this.setup.disabled,_a=_this.props,onPinchingStart=_a.onPinchingStart,onZoomStart=_a.onZoomStart;if(!disabled){var isAllowed=function(contextInstance,event){var _a=contextInstance.setup.pinch,disabled=_a.disabled,excluded=_a.excluded,isInitialized=contextInstance.isInitialized,target=event.target;return!(!isInitialized||disabled||!target||isExcludedNode(target,excluded))}(_this,event);isAllowed&&(function(contextInstance,event){var distance=getTouchDistance(event);contextInstance.pinchStartDistance=distance,contextInstance.lastDistance=distance,contextInstance.pinchStartScale=contextInstance.transformState.scale,contextInstance.isPanning=!1;var center=getTouchCenter(event);contextInstance.pinchLastCenterX=center.x,contextInstance.pinchLastCenterY=center.y,handleCancelAnimation(contextInstance)}(_this,event),handleCancelAnimation(_this),handleCallback(getContext(_this),event,onPinchingStart),handleCallback(getContext(_this),event,onZoomStart))}},this.onPinch=function(event){var disabled=_this.setup.disabled,_a=_this.props,onPinching=_a.onPinching,onZoom=_a.onZoom;if(!disabled){var isAllowed=function(contextInstance){var disabled=contextInstance.setup.pinch.disabled,isInitialized=contextInstance.isInitialized,pinchStartDistance=contextInstance.pinchStartDistance;return!(!isInitialized||disabled||!pinchStartDistance)}(_this);isAllowed&&(event.preventDefault(),event.stopPropagation(),handlePinchZoom(_this,event),handleCallback(getContext(_this),event,onPinching),handleCallback(getContext(_this),event,onZoom))}},this.onPinchStop=function(event){var contextInstance,pinchMidpoint,_a=_this.props,onPinchingStop=_a.onPinchingStop,onZoomStop=_a.onZoomStop;_this.pinchStartScale&&(pinchMidpoint=(contextInstance=_this).pinchMidpoint,contextInstance.velocity=null,contextInstance.lastDistance=null,contextInstance.pinchMidpoint=null,contextInstance.pinchStartScale=null,contextInstance.pinchStartDistance=null,handleAlignToScaleBounds(contextInstance,null==pinchMidpoint?void 0:pinchMidpoint.x,null==pinchMidpoint?void 0:pinchMidpoint.y),handleCallback(getContext(_this),event,onPinchingStop),handleCallback(getContext(_this),event,onZoomStop))},this.onTouchPanningStart=function(event){var disabled=_this.setup.disabled,onPanningStart=_this.props.onPanningStart;if(!disabled&&isPanningStartAllowed(_this,event)&&!(_this.lastTouch&&+new Date-_this.lastTouch<200&&1===event.touches.length)){_this.lastTouch=+new Date,handleCancelAnimation(_this);var touches=event.touches,isPanningAction=1===touches.length,isPinchAction=2===touches.length;isPanningAction&&(handleCancelAnimation(_this),handlePanningStart(_this,event),handleCallback(getContext(_this),event,onPanningStart)),isPinchAction&&_this.onPinchStart(event)}},this.onTouchPanning=function(event){var disabled=_this.setup.disabled,onPanning=_this.props.onPanning;if(_this.isPanning&&1===event.touches.length){if(disabled)return;if(!isPanningAllowed(_this))return;event.preventDefault(),event.stopPropagation();var touch=event.touches[0];handlePanning(_this,touch.clientX,touch.clientY),handleCallback(getContext(_this),event,onPanning)}else event.touches.length>1&&_this.onPinch(event)},this.onTouchPanningStop=function(event){_this.onPanningStop(event),_this.onPinchStop(event)},this.onDoubleClick=function(event){if(!_this.setup.disabled){var isAllowed=function(contextInstance,event){var isInitialized=contextInstance.isInitialized,setup=contextInstance.setup,wrapperComponent=contextInstance.wrapperComponent,_a=setup.doubleClick,disabled=_a.disabled,excluded=_a.excluded,target=event.target,isWrapperChild=null==wrapperComponent?void 0:wrapperComponent.contains(target);return!(!(isInitialized&&target&&isWrapperChild)||disabled||isExcludedNode(target,excluded))}(_this,event);isAllowed&&handleDoubleClick(_this,event)}},this.clearPanning=function(event){_this.isPanning&&_this.onPanningStop(event)},this.setKeyPressed=function(e){_this.pressedKeys[e.key]=!0},this.setKeyUnPressed=function(e){_this.pressedKeys[e.key]=!1},this.isPressingKeys=function(keys){return!keys.length||Boolean(keys.find(function(key){return _this.pressedKeys[key]}))},this.setTransformState=function(scale,positionX,positionY){var onTransformed=_this.props.onTransformed;if(Number.isNaN(scale)||Number.isNaN(positionX)||Number.isNaN(positionY))console.error("Detected NaN set state values");else{scale!==_this.transformState.scale&&(_this.transformState.previousScale=_this.transformState.scale,_this.transformState.scale=scale),_this.transformState.positionX=positionX,_this.transformState.positionY=positionY,_this.applyTransformation();var ctx_1=getContext(_this);_this.onChangeCallbacks.forEach(function(callback){return callback(ctx_1)}),handleCallback(ctx_1,{scale,positionX,positionY},onTransformed)}},this.setCenter=function(){if(_this.wrapperComponent&&_this.contentComponent){var targetState=getCenterPosition(_this.transformState.scale,_this.wrapperComponent,_this.contentComponent);_this.setTransformState(targetState.scale,targetState.positionX,targetState.positionY)}},this.handleTransformStyles=function(x,y,scale){return _this.props.customTransform?_this.props.customTransform(x,y,scale):function(x,y,scale){return"translate(".concat(x,"px, ").concat(y,"px) scale(").concat(scale,")")}(x,y,scale)},this.applyTransformation=function(){if(_this.mounted&&_this.contentComponent){var _a=_this.transformState,scale=_a.scale,positionX=_a.positionX,positionY=_a.positionY,transform=_this.handleTransformStyles(positionX,positionY,scale);_this.contentComponent.style.transform=transform}},this.getContext=function(){return getContext(_this)},this.onChange=function(callback){return _this.onChangeCallbacks.has(callback)||_this.onChangeCallbacks.add(callback),function(){_this.onChangeCallbacks.delete(callback)}},this.onInit=function(callback){return _this.onInitCallbacks.has(callback)||_this.onInitCallbacks.add(callback),function(){_this.onInitCallbacks.delete(callback)}},this.init=function(wrapperComponent,contentComponent){_this.cleanupWindowEvents(),_this.wrapperComponent=wrapperComponent,_this.contentComponent=contentComponent,handleCalculateBounds(_this,_this.transformState.scale),_this.handleInitializeWrapperEvents(wrapperComponent),_this.handleInitialize(wrapperComponent,contentComponent),_this.initializeWindowEvents(),_this.isInitialized=!0;var ctx=getContext(_this);handleCallback(ctx,void 0,_this.props.onInit)},this.props=props,this.setup=createSetup(this.props),this.transformState=createState(this.props)},Context=react__WEBPACK_IMPORTED_MODULE_0__.createContext(null),TransformWrapper=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function(props,ref){var children,ctx,instance=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new ZoomPanPinch(props)).current,content=(children=props.children,ctx=getControls(instance),"function"==typeof children?children(ctx):children);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref,function(){return getControls(instance)},[instance]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){instance.update(props)},[instance,props]),react__WEBPACK_IMPORTED_MODULE_0__.createElement(Context.Provider,{value:instance},content)});react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function(props,ref){var refs,localRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),instance=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Context);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){return instance.onChange(function(ctx){if(localRef.current){localRef.current.style.transform=instance.handleTransformStyles(0,0,1/ctx.instance.transformState.scale)}})},[instance]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",__assign({},props,{ref:(refs=[localRef,ref],function(value){refs.forEach(function(ref){"function"==typeof ref?ref(value):null!=ref&&(ref.current=value)})})}))});var styles_wrapper="transform-component-module_wrapper__SPB86",styles_content="transform-component-module_content__FBWxo";!function styleInject(css,ref){void 0===ref&&(ref={});var insertAt=ref.insertAt;if(css&&"undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css","top"===insertAt&&head.firstChild?head.insertBefore(style,head.firstChild):head.appendChild(style),style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css))}}(".transform-component-module_wrapper__SPB86 {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n  transform: translate3d(0, 0, 0);\n}\n.transform-component-module_content__FBWxo {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__FBWxo img {\n  pointer-events: none;\n}\n");var TransformComponent=function(_a){var children=_a.children,_b=_a.wrapperClass,wrapperClass=void 0===_b?"":_b,_c=_a.contentClass,contentClass=void 0===_c?"":_c,wrapperStyle=_a.wrapperStyle,contentStyle=_a.contentStyle,_d=_a.wrapperProps,wrapperProps=void 0===_d?{}:_d,_e=_a.contentProps,contentProps=void 0===_e?{}:_e,_f=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Context),init=_f.init,cleanupWindowEvents=_f.cleanupWindowEvents,wrapperRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),contentRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function(){var wrapper=wrapperRef.current,content=contentRef.current;return null!==wrapper&&null!==content&&init&&(null==init||init(wrapper,content)),function(){null==cleanupWindowEvents||cleanupWindowEvents()}},[]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",__assign({},wrapperProps,{ref:wrapperRef,className:"".concat(baseClasses_wrapperClass," ").concat(styles_wrapper," ").concat(wrapperClass),style:wrapperStyle}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",__assign({},contentProps,{ref:contentRef,className:"".concat(baseClasses_contentClass," ").concat(styles_content," ").concat(contentClass),style:contentStyle}),children))}}}]);